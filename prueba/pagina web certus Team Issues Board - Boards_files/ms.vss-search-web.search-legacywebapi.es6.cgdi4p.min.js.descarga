"use strict";define("Search/LegacyWebApi",["require","exports","VSS/Platform/Context","VSS/Platform/RestClientBase","VSS/Platform/Util/Serialization"],(function(e,t,r,s,o){var n,i;n=t[i="ContractsSearchSharedLegacy"]={},t[i].TypeInfo={CountResponse:{},EntitySearchResponse:{},EntitySearchResponseWithActivityId:{},ErrorCode:{enumValues:{accountIsBeingReindexed:0,indexingNotStarted:1,invalidRequest:2,prefixWildcardQueryNotSupported:3,multiWordWithCodeFacetNotSupported:4,accountIsBeingOnboarded:5,takeResultValueTrimmedToMaxResultAllowed:7,branchesAreBeingIndexed:8,facetingNotEnabledAtScaleUnit:9,workItemsNotAccessible:10,emptyQueryNotSupported:11,onlyWildcardQueryNotSupported:12,zeroResultsWithWildcard:13,zeroResultsWithFilter:14,zeroResultsWithWildcardAndFilter:15,zeroResultsWithNoWildcardNoFilter:16,partialResultsDueToSearchRequestTimeout:17,phraseQueriesWithCEFacetsNotSupported:18,wildcardQueriesWithCEFacetsNotSupported:19,clearedScrollSearchRequestParam:20}},ErrorData:{},ErrorType:{enumValues:{warning:0,error:1}},RelationFromExactCount:{enumValues:{equals:0,greaterThanEqualTo:1,lessThanEqualTo:2,approximate:3}},SortOrder:{enumValues:{undefined:0,ascending:1,descending:2}},WikiQueryResponse:{},WikiResult:{},WikiResults:{}},t[i].TypeInfo.CountResponse.fields={errors:{isArray:!0,typeInfo:t[i].TypeInfo.ErrorData},relationFromExactCount:{enumType:t[i].TypeInfo.RelationFromExactCount}},t[i].TypeInfo.EntitySearchResponse.fields={errors:{isArray:!0,typeInfo:t[i].TypeInfo.ErrorData}},t[i].TypeInfo.EntitySearchResponseWithActivityId.fields={response:{typeInfo:t[i].TypeInfo.EntitySearchResponse}},t[i].TypeInfo.ErrorData.fields={errorType:{enumType:t[i].TypeInfo.ErrorType}},t[i].TypeInfo.WikiQueryResponse.fields={errors:{isArray:!0,typeInfo:t[i].TypeInfo.ErrorData},results:{typeInfo:t[i].TypeInfo.WikiResults}},t[i].TypeInfo.WikiResult.fields={lastUpdated:{isDate:!0}},t[i].TypeInfo.WikiResults.fields={values:{isArray:!0,typeInfo:t[i].TypeInfo.WikiResult}},function(e){t[e]={},function(e){e[e.Git=0]="Git",e[e.Tfvc=1]="Tfvc",e[e.Custom=2]="Custom"}(t[e].VersionControlType||(t[e].VersionControlType={})),t[e].TypeInfo={CodeQueryResponse:{},CodeResult:{},CodeResults:{},VersionControlType:{enumValues:{git:0,tfvc:1,custom:2}}},t[e].TypeInfo.CodeQueryResponse.fields={errors:{isArray:!0,typeInfo:n.TypeInfo.ErrorData},results:{typeInfo:t[e].TypeInfo.CodeResults}},t[e].TypeInfo.CodeResult.fields={vcType:{enumType:t[e].TypeInfo.VersionControlType}},t[e].TypeInfo.CodeResults.fields={values:{isArray:!0,typeInfo:t[e].TypeInfo.CodeResult}}}("ContractsCode"),function(e){t[e]={},function(e){e[e.String=0]="String",e[e.Integer=1]="Integer",e[e.DateTime=2]="DateTime",e[e.PlainText=3]="PlainText",e[e.Html=4]="Html",e[e.TreePath=5]="TreePath",e[e.History=6]="History",e[e.Double=7]="Double",e[e.Guid=8]="Guid",e[e.Boolean=9]="Boolean",e[e.Identity=10]="Identity"}(t[e].WorkItemFieldType||(t[e].WorkItemFieldType={})),t[e].TypeInfo={WorkItemFieldMetadata:{},WorkItemFieldType:{enumValues:{string:0,integer:1,dateTime:2,plainText:3,html:4,treePath:5,history:6,double:7,guid:8,boolean:9,identity:10}},WorkItemSearchResponse:{}},t[e].TypeInfo.WorkItemFieldMetadata.fields={type:{enumType:t[e].TypeInfo.WorkItemFieldType}},t[e].TypeInfo.WorkItemSearchResponse.fields={errors:{isArray:!0,typeInfo:n.TypeInfo.ErrorData}}}("ContractsWorkItem"),function(e){t.RestClientSearch={};class n extends s.RestClientBase{constructor(e){super(e)}async postAdvancedCodeQuery(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/search/codeAdvancedQueryResults",routeValues:{project:t},body:e,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(o.deserializeVssJsonObject),r=e.headers.get("activityid");return{response:t,activityId:r?r.split(","):[]}}))}async postCodeQuery(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/search/codeQueryResults",routeValues:{project:t},body:e,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(o.deserializeVssJsonObject),r=e.headers.get("activityid");return{response:t,activityId:r?r.split(","):[]}}))}async postWorkItemQuery(e,t){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/search/workItemQueryResults",routeValues:{project:t},body:e,returnRawResponse:!0}).then((async e=>{const t=await e.text().then(o.deserializeVssJsonObject),r=e.headers.get("activityid");return{response:t,activityId:r?r.split(","):[]}}))}async resultsCount(e,t,r){const s={entityType:t};return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"{project}/_apis/search/resultsCount",routeValues:{project:r},queryParams:s,body:e})}async fetchPackageResultsCount(e,t){const r={entityType:t};return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/search/packageResultsCount",queryParams:r,body:e})}async postTenantCodeQuery(e){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/search/tenantCodeQueryResults",body:e})}async postTenantWikiQuery(e){return this.beginRequest({apiVersion:"5.0-preview.1",method:"POST",routeTemplate:"_apis/search/tenantWikiQueryResults",body:e})}}r.RestClients.add("Legacy.ISearchRestClient",{factory:n,options:{serviceInstanceType:"00000010-0000-8888-8000-000000000000"}})}()}),["Contracts/Search.SharedLegacy","Contracts/Code","Contracts/WorkItem","RestClient/Search"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-search-web.search-legacywebapi"}}));