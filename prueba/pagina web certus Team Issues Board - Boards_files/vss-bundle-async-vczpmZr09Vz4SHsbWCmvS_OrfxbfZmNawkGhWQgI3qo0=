if (window.performance && window.performance.mark) { window.performance.mark('startLoadBundleInner-async'); }
// Copyright (C) Microsoft Corporation. All rights reserved.
define("Agile/Scripts/Board/BoardFilterValueProviders",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ParentItemFilterValueProvider=void 0;var i=function(){function n(n){this._dataSource=n}return n.prototype.getItems=function(){return this._dataSource?this._dataSource.getParentItems():[]},n.prototype.getItemsForValues=function(n){return!this._dataSource||!n||n.length===0?[]:this._dataSource.getParentItems().then(function(t){return t.filter(function(t){return n.indexOf(t.key)>=0})})},n.prototype.getListItem=function(n){return{item:{key:n.key,name:n.display,value:n.value}}},n}();t.ParentItemFilterValueProvider=i});

/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(n){var A=this||(0,eval)("this"),w=A.document,R=A.navigator,v=A.jQuery,H=A.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(n){"function"===typeof define&&define.amd?define("knockout",["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(A.ko={})})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);
d=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.pc(a):this.gb(a,c):this.qc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.qd,e=d[r];e.ra||(this.Qb&&this.mb[c]?(d.uc(c,a,this.mb[c]),this.mb[c]=null,--this.Qb):e.I[c]||d.uc(c,a,e.J?{da:a}:d.$c(a)),a.Ja&&a.gd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.L=function(a,c,d){a[c]=d};a.version="3.5.1";a.b("version",
a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var l=b[c].match(q)||[];a.a.D(d.match(q),function(b){a.a.Na(l,b,e)});b[c]=l.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},k={};m[R&&/Firefox\/2/i.test(R.userAgent)?
"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)k[b[c]]=a});var l={propertychange:!0},p=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:n}(),q=/\S+/g,t;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
D:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return n},Pa:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},wc:function(b){var c=[];b&&a.a.D(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,
b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)d.push(b.call(c,a[e],e));return d},jb:function(a,b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},Nb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Na:function(b,c,d){var e=a.a.A(a.a.bc(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,Ab:g?d:c,P:b,Ga:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=
b.call(c,a[e],e,a));return d},Tb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Yb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.oa(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.oa(k):k)}return l},va:function(b,c){a.a.Tb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Xc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],
l=e.parentNode,k=0,f=c.length;k<f;k++)l.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Zc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},Db:function(a){return null===a||a===n?"":a.trim?
a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},vd:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Sb:function(b){return a.a.vd(b,b.ownerDocument.documentElement)},kd:function(b){return!!a.a.Lb(b,a.a.Sb)},R:function(a){return a&&
a.tagName&&a.tagName.toLowerCase()},Ac:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Ac(b),c)},Gc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},B:function(b,c,d){var e=a.a.Ac(d);d=l[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,
k);a.a.K.za(b,function(){b.detachEvent(f,k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else t||(t="function"==typeof v(b).on?"on":"bind"),v(b)[t](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.R(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==
typeof b.dispatchEvent)d=w.createEvent(k[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");else v(b).trigger(c)},f:function(b){return a.O(b)?b():b},bc:function(b){return a.O(b)?b.v():b},Eb:function(b,c,d){var l;c&&("object"===typeof b.classList?
(l=b.classList[d?"add":"remove"],a.a.D(c.match(q),function(a){l.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Bb:function(b,c){var d=a.a.f(c);if(null===d||d===n)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.va(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Ad(b)},Yc:function(a,b){a.name=b;if(7>=p)try{var c=a.name.replace(/[&<>'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name='"+
c+"'/>"),!1)}catch(d){}},Ad:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},wd:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Pd:function(b,c){b=a.a.f(b);c=a.a.f(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Zd:6===p,$d:7===p,W:p,Lc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),
e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},Nd:function(b){return"string"==typeof b&&(b=a.a.Db(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},hc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.f(b),c,d)},Od:function(c,d,e){e=e||{};var l=e.params||{},k=e.includeFields||this.Jc,f=c;if("object"==typeof c&&"form"===a.a.R(c))for(var f=c.action,h=k.length-1;0<=h;h--)for(var g=a.a.Lc(c,k[h]),m=g.length-1;0<=m;m--)l[g[m].name]=g[m].value;d=a.a.f(d);var p=w.createElement("form");p.style.display="none";p.action=f;p.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.hc(a.a.f(d[q])),p.appendChild(c);b(l,function(a,b){var c=w.createElement("input");
c.type="hidden";c.name=a;c.value=b;p.appendChild(c)});w.body.appendChild(p);e.submitter?e.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.D);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.jb);a.b("utils.arrayGetDistinctValues",a.a.wc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.Nb);a.b("utils.arrayRemoveItem",a.a.Pa);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",
a.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Jc);a.b("utils.getFormFields",a.a.Lc);a.b("utils.objectMap",a.a.Ga);a.b("utils.peekObservable",a.a.bc);a.b("utils.postJson",a.a.Od);a.b("utils.parseJson",a.a.Nd);a.b("utils.registerEventHandler",a.a.B);a.b("utils.stringifyJson",a.a.hc);a.b("utils.range",a.a.Pd);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.f);a.b("utils.objectForEach",a.a.P);a.b("utils.addOrRemoveItem",
a.a.Na);a.b("utils.setTextContent",a.a.Bb);a.b("unwrap",a.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return n;f=a[c]="ko"+b++;d[f]=
{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==n))&&(a[b]=c)},Ub:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.K=new function(){function b(b,c){var d=a.a.g.get(b,e);
d===n&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);a.a.g.clear(c);a.a.K.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],l,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=l=b[f]),b[f]!==l)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},yb:function(c,
d){var f=b(c,!1);f&&(a.a.Pa(f,d),0==f.length&&a.a.g.set(c,e,n))},oa:function(b){a.u.G(function(){f[b.nodeType]&&(c(b),g[b.nodeType]&&d(b.getElementsByTagName("*")))});return b},removeNode:function(b){a.oa(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.oa=a.a.K.oa;a.removeNode=a.a.K.removeNode;a.b("cleanNode",a.oa);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.K);a.b("utils.domNodeDisposal.addDisposeCallback",
a.a.K.za);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.K.yb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ua=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var l=e[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;
l.parentNode&&l.parentNode.removeChild(l)}}else{(e=d)||(e=w);var l=e.parentWindow||e.defaultView||A,p=a.a.Db(c).toLowerCase(),q=e.createElement("div"),t;t=(p=p.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&f[p[1]]||b;p=t[0];t="ignored<div>"+t[1]+c+t[2]+"</div>";"function"==typeof l.innerShiv?q.appendChild(l.innerShiv(t)):(g&&e.body.appendChild(q),q.innerHTML=t,g&&q.parentNode.removeChild(q));for(;p--;)q=q.lastChild;e=a.a.la(q.lastChild.childNodes)}return e};a.a.Md=function(b,c){var d=a.a.ua(b,
c);return d.length&&d[0].parentElement||a.a.Yb(d)};a.a.fc=function(b,c){a.a.Tb(b);c=a.a.f(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ua(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ua);a.b("utils.setHtml",a.a.fc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Uc(c.nodeValue);null!=f&&e.push({ud:c,Kd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],
e)}var c={};return{Xb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},bd:function(a,b){var f=c[a];if(f===n)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},cd:function(c,e){var f=
[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].ud,k=[m];e&&a.a.Nb(k,e);a.aa.bd(f[g].Kd,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Uc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Xb);a.b("memoization.unmemoize",a.aa.bd);a.b("memoization.parseMemoText",a.aa.Uc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.cd);a.na=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=
++c){h=f;a.a.Gc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=f}try{d()}catch(p){a.a.Gc(p)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;A.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);
b=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,zb:function(b){f||a.na.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Sd:b}}();a.b("tasks",a.na);a.b("tasks.schedule",a.na.zb);a.b("tasks.runEarly",a.na.Sd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},
c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.ub(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(c){var e,f=!1;return function(){if(!f){a.na.cancel(e);e=a.na.zb(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.ic=function(b,c,d){this.da=b;this.lc=c;this.mc=d;this.Ib=!1;this.fb=this.Jb=null;a.L(this,"dispose",this.s);a.L(this,"disposeWhenNodeIsRemoved",this.l)};a.ic.prototype.s=function(){this.Ib||(this.fb&&a.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};a.ic.prototype.l=function(b){this.Jb=b;a.a.K.za(b,this.fb=this.s.bind(this))};
a.T=function(){a.a.Ab(this,D);D.qb(this)};var D={qb:function(a){a.U={change:[]};a.sc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.ic(e,c?b.bind(c):b,function(){a.a.Pa(e.U[d],f);e.hb&&e.hb(d)});e.Qa&&e.Qa(d);e.U[d]||(e.U[d]=[]);e.U[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.ed||this.U[c].slice(0);try{a.u.xc();for(var e=0,f;f=d[e];++e)f.Ib||f.lc(b)}finally{a.u.end()}}},ob:function(){return this.sc},
Dd:function(a){return this.ob()!==a},Gb:function(){++this.sc},ub:function(b){var c=this,d=a.O(c),e,f,g,h,m;c.gb||(c.gb=c.notifySubscribers,c.notifySubscribers=Z);var k=b(function(){c.Ja=!1;d&&h===c&&(h=c.nc?c.nc():c());var a=f||m&&c.sb(g,h);m=f=e=!1;a&&c.gb(g=h)});c.qc=function(a,b){b&&c.Ja||(m=!b);c.ed=c.U.change.slice(0);c.Ja=e=!0;h=a;k()};c.pc=function(a){e||(g=a,c.gb(a,"beforeChange"))};c.rc=function(){m=!0};c.gd=function(){c.sb(g,c.v(!0))&&(f=!0)}},Wa:function(a){return this.U[a]&&this.U[a].length},
Bd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var c=0;a.a.P(this.U,function(a,b){"dirty"!==a&&(c+=b.length)});return c},sb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.P(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.L(D,"init",D.qb);a.L(D,"subscribe",D.subscribe);a.L(D,"extend",D.extend);a.L(D,"getSubscriptionsCount",D.Bd);a.a.Ba&&a.a.setPrototypeOf(D,
Function.prototype);a.T.fn=D;a.Qc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.T);a.b("isSubscribable",a.Qc);a.S=a.u=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{xc:b,end:c,cc:function(b){if(e){if(!a.Qc(b))throw Error("Only subscribable things can act as dependencies");e.od.call(e.pd,b,b.fd||(b.fd=++f))}},G:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},qa:function(){if(e)return e.o.qa()},
Va:function(){if(e)return e.o.Va()},Ya:function(){if(e)return e.Ya},o:function(){if(e)return e.o}}}();a.b("computedContext",a.S);a.b("computedContext.getDependenciesCount",a.S.qa);a.b("computedContext.getDependencies",a.S.Va);a.b("computedContext.isInitial",a.S.Ya);a.b("computedContext.registerDependency",a.S.cc);a.b("ignoreDependencies",a.Yd=a.u.G);var I=a.a.Da("_latestValue");a.ta=function(b){function c(){if(0<arguments.length)return c.sb(c[I],arguments[0])&&(c.ya(),c[I]=arguments[0],c.xa()),this;
a.u.cc(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.T.fn);a.T.fn.qb(c);a.a.Ab(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,v:function(){return this[I]},xa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},ya:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.T.fn);var G=a.ta.Ma="__ko_proto__";F[G]=a.ta;a.O=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");
return!!b};a.Za=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Nc)};a.b("observable",a.ta);a.b("isObservable",a.O);a.b("isWriteableObservable",a.Za);a.b("isWritableObservable",a.Za);a.b("observable.fn",F);a.L(F,"peek",F.v);a.L(F,"valueHasMutated",F.xa);a.L(F,"valueWillMutate",F.ya);a.Ha=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.ta(b);a.a.Ab(b,
a.Ha.fn);return b.extend({trackArrayChanges:!0})};a.Ha.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.O(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.ya();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.xa();return d},removeAll:function(b){if(b===n){var c=this.v(),d=c.slice(0);this.ya();c.splice(0,c.length);this.xa();return d}return b?this.remove(function(c){return 0<=
a.a.A(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.O(b)?function(a){return a===b}:b;this.ya();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.xa()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ya(),this.v()[d]=c,this.xa())},sorted:function(a){var c=this().slice(0);
return a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ha.fn,a.ta.fn);a.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ha.fn[b]=function(){var a=this.v();this.ya();this.zc(a,b,arguments);var d=a[b].apply(a,arguments);this.xa();return d===a?this:d}});a.a.D(["slice"],function(b){a.Ha.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Pc=function(b){return a.O(b)&&"function"==typeof b.remove&&"function"==
typeof b.push};a.b("observableArray",a.Ha);a.b("isObservableArray",a.Pc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(m){var d=[].concat(b.v()||[]),e;if(b.Wa("arrayChange")){if(!f||1<m)f=a.a.Pb(k,d,b.Ob);e=f}k=d;f=null;m=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,h=b.subscribe(function(){++m},null,"spectate"),k=[].concat(b.v()||[]),f=null,g=b.subscribe(c))}b.Ob={};c&&"object"==typeof c&&a.a.extend(b.Ob,c);b.Ob.sparse=!0;if(!b.zc){var e=!1,f=null,g,h,m=0,
k,l=b.Qa,p=b.hb;b.Qa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.hb=function(a){p&&p.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(g&&g.s(),h&&h.s(),h=g=null,e=!1,k=n)};b.zc=function(b,c,d){function l(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(e&&!m){var k=[],p=b.length,g=d.length,h=0;switch(c){case "push":h=p;case "unshift":for(c=0;c<g;c++)l("added",d[c],h+c);break;case "pop":h=p-1;case "shift":p&&l("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?p+d[0]:
d[0]),p);for(var p=1===g?p:Math.min(c+(d[1]||0),p),g=c+g-2,h=Math.max(p,g),U=[],L=[],n=2;c<h;++c,++n)c<p&&L.push(l("deleted",b[c],c)),c<g&&U.push(l("added",d[n],c));a.a.Kc(L,U);break;default:return}f=k}}}};var r=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}g.ra||
a.u.cc(e);(g.ka||g.J&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:d.read,nb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Rb:null,I:{},V:0,Ic:null};e[r]=g;e.Nc="function"===typeof f;a.a.Ba||a.a.extend(e,a.T.fn);a.T.fn.qb(e);a.a.Ab(e,C);d.pure?(g.wb=!0,g.J=!0,a.a.extend(e,da)):
d.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.jc=!0,g.l.nodeType||(g.l=null));g.J||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.K.za(g.l,g.Rb=function(){e.s()});return e};var C={equalityComparer:K,qa:function(){return this[r].V},Va:function(){var b=[];a.a.P(this[r].I,function(a,d){b[d.Ka]=d.da});return b},Vb:function(b){if(!this[r].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Vb&&a.Vb(b)})},uc:function(a,c,d){if(this[r].wb&&
c===this)throw Error("A 'pure' computed must not be called recursively");this[r].I[a]=d;d.Ka=this[r].V++;d.La=c.ob()},Xa:function(){var a,c,d=this[r].I;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ia&&c.da.Ja||c.da.Dd(c.La)))return!0},Jd:function(){this.Ia&&!this[r].rb&&this.Ia(!1)},ja:function(){var a=this[r];return a.ka||0<a.V},Rd:function(){this.Ja?this[r].ka&&(this[r].sa=!0):this.Hc()},$c:function(a){if(a.Hb){var c=a.subscribe(this.Jd,this,"dirty"),d=a.subscribe(this.Rd,
this);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Hc,this)},Hc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[r].Ic),this[r].Ic=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var c=this[r],d=c.Sa,e=!1;if(!c.rb&&!c.ra){if(c.l&&!a.a.Sb(c.l)||d&&d()){if(!c.jc){this.s();return}}else c.jc=!1;c.rb=!0;try{e=this.zd(b)}finally{c.rb=!1}return e}},zd:function(b){var c=this[r],d=!1,e=c.wb?n:!c.V,d={qd:this,mb:c.I,Qb:c.V};a.u.xc({pd:d,
od:ba,o:this,Ya:e});c.I={};c.V=0;var f=this.yd(c,d);c.V?d=this.sb(c.X,f):(this.s(),d=!0);d&&(c.J?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.J&&b&&this.notifySubscribers(c.X),this.rc&&this.rc());e&&this.notifySubscribers(c.X,"awake");return d},yd:function(b,c){try{var d=b.Wc;return b.nb?d.call(b.nb):d()}finally{a.u.end(),c.Qb&&!b.J&&a.a.P(c.mb,aa),b.sa=b.ka=!1}},v:function(a){var c=this[r];(c.ka&&(a||!c.V)||c.J&&this.Xa())&&this.ha();return c.X},
ub:function(b){a.T.fn.ub.call(this,b);this.nc=function(){this[r].J||(this[r].sa?this.ha():this[r].ka=!1);return this[r].X};this.Ia=function(a){this.pc(this[r].X);this[r].ka=!0;a&&(this[r].sa=!0);this.qc(this,!a)}},s:function(){var b=this[r];!b.J&&b.I&&a.a.P(b.I,function(a,b){b.s&&b.s()});b.l&&b.Rb&&a.a.K.yb(b.l,b.Rb);b.I=n;b.V=0;b.ra=!0;b.sa=!1;b.ka=!1;b.J=!1;b.l=n;b.Sa=n;b.Wc=n;this.Nc||(b.nb=n)}},da={Qa:function(b){var c=this,d=c[r];if(!d.ra&&d.J&&"change"==b){d.J=!1;if(d.sa||c.Xa())d.I=null,d.V=
0,c.ha()&&c.Gb();else{var e=[];a.a.P(d.I,function(a,b){e[b.Ka]=a});a.a.D(e,function(a,b){var e=d.I[a],m=c.$c(e.da);m.Ka=b;m.La=e.La;d.I[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.ra||c.notifySubscribers(d.X,"awake")}},hb:function(b){var c=this[r];c.ra||"change"!=b||this.Wa("change")||(a.a.P(c.I,function(a,b){b.s&&(c.I[a]={da:b.da,Ka:b.Ka,La:b.La},b.s())}),c.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var b=this[r];b.J&&(b.sa||this.Xa())&&this.ha();return a.T.fn.ob.call(this)}},ea={Qa:function(a){"change"!=
a&&"beforeChange"!=a||this.v()}};a.a.Ba&&a.a.setPrototypeOf(C,a.T.fn);var N=a.ta.Ma;C[N]=a.o;a.Oc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Fd=function(b){return a.Oc(b)&&b[r]&&b[r].wb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Oc);a.b("isPureComputed",a.Fd);a.b("computed.fn",C);a.L(C,"peek",C.v);a.L(C,"dispose",C.s);a.L(C,"isActive",C.ja);a.L(C,"getDependenciesCount",C.qa);a.L(C,"getDependencies",C.Va);a.xb=function(b,c){if("function"===typeof b)return a.o(b,
c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.xb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==
n?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.ad=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.O(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ad(b);return a.a.hc(b,c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.a.A(this.keys,
b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:n}}})();a.b("toJS",a.ad);a.b("toJSON",a.toJSON);a.Wd=function(b,c,d){function e(c){var e=a.xb(b,d).extend({ma:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.v());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Wd);(function(){a.w={M:function(b){switch(a.a.R(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?
a.a.g.get(b,a.c.options.$b):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex]):n;default:return b.value}},cb:function(b,c,d){switch(a.a.R(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.c.options.$b,n),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.c.options.$b,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===
typeof c?c:"");break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.w.M(b.options[f]),h==c||""===h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.w);a.b("selectExtensions.readValue",a.w.M);a.b("selectExtensions.writeValue",a.w.cb);a.m=function(){function b(b){b=a.a.Db(b);123===b.charCodeAt(0)&&(b=b.slice(1,
-1));b+="\n,";var c=[],d=b.match(e),p,q=[],h=0;if(1<d.length){for(var x=0,B;B=d[x];++x){var u=B.charCodeAt(0);if(44===u){if(0>=h){c.push(p&&q.length?{key:p,value:q.join("")}:{unknown:p||q.join("")});p=h=0;q=[];continue}}else if(58===u){if(!h&&!p&&1===q.length){p=q.pop();continue}}else if(47===u&&1<B.length&&(47===B.charCodeAt(1)||42===B.charCodeAt(1)))continue;else 47===u&&x&&1<B.length?(u=d[x-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),x=-1,B="/"):40===u||123===u||91===u?++h:
41===u||125===u||93===u?--h:p||q.length||34!==u&&39!==u||(B=B.slice(1,-1));q.push(B)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
h={};return{Ra:[],wa:h,ac:b,vb:function(e,f){function l(b,e){var f;if(!x){var k=a.getBindingHandler(b);if(k&&k.preprocess&&!(e=k.preprocess(e,b,l)))return;if(k=h[b])f=e,0<=a.a.A(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&q.push("'"+("string"==typeof h[b]?h[b]:b)+"':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");p.push("'"+b+"':"+e)}f=f||{};var p=[],q=[],g=f.valueAccessors,x=f.bindingParams,B="string"===typeof e?b(e):e;a.a.D(B,function(a){l(a.key||a.unknown,
a.value)});q.length&&l("_ko_property_writers","{"+q.join(",")+" }");return p.join(",")},Id:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},eb:function(b,c,d,e,f){if(b&&a.O(b))!a.Za(b)||f&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.ac);a.b("expressionRewriting.preProcessBindings",a.m.vb);a.b("expressionRewriting._twoWayBindings",
a.m.wa);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.vb);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,h=1,g=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,k,!0),h--,0===h))return g;g.push(f);b(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?
0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0},k="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Tb(c)},va:function(c,d){if(b(c)){a.h.Ea(c);for(var e=
c.nextSibling,f=0,k=d.length;f<k;f++)e.parentNode.insertBefore(d[f],e)}else a.a.va(c,d)},Vc:function(a,c){var d;b(a)?(d=a.nextSibling,a=a.parentNode):d=a.firstChild;d?c!==d&&a.insertBefore(c,d):a.appendChild(c)},Wb:function(c,d,e){e?(e=e.nextSibling,b(c)&&(c=c.parentNode),e?d!==e&&c.insertBefore(d,e):c.appendChild(d)):a.h.Vc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+
a);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,k))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Cd:b,Vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Sc:function(d){if(m[a.a.R(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var k;k=f.firstChild;var h=null;if(k){do if(h)h.push(k);else if(b(k)){var g=e(k,!0);g?k=
g:h=[k]}else c(k)&&(h=[k]);while(k=k.nextSibling)}if(k=h)for(h=f.nextSibling,g=0;g<k.length;g++)h?d.insertBefore(k[g],h):d.appendChild(k[g])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Wb);a.b("virtualElements.prepend",a.h.Vc);a.b("virtualElements.setDomNodeChildren",a.h.va);(function(){a.ga=function(){this.nd={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=
b.getAttribute("data-bind")||a.j.getComponentNameForNode(b);case 8:return a.h.Cd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.j.tc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.j.tc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Vd(b);default:return null}},
parseBindingsString:function(b,c,d,e){try{var f=this.nd,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,k="with($context){with($data||{}){return{"+a.m.vb(b,e)+"}}}";m=new Function("$context","$element",k);h=f[g]=m}return h(c,d)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+l.message,l;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,z))&&b.N;c&&(b.N=null,c.Tc())}function c(c,d,e){this.node=c;this.yc=
d;this.kb=[];this.H=!1;d.N||a.a.K.za(c,b);e&&e.N&&(e.N.kb.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ga(a.u.G(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ga(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,l=f.preprocessNode;if(l){for(;e=d;)d=a.h.nextSibling(e),l.call(f,e);
d=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),k(b,e)}a.i.ma(c,a.i.H)}function k(b,c){var d=b,e=1===c.nodeType;e&&a.h.Sc(c);if(e||a.ga.instance.nodeHasBindings(c))d=p(c,null,b).bindingContextForDescendants;d&&!u[a.a.R(c)]&&m(d,c)}function l(b){var c=[],d={},e=[];a.a.P(b,function ca(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.a.D(k.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
ca(c)}}),e.length--),c.push({key:f,Mc:k}));d[f]=!0}});return c}function p(b,c,d){var f=a.a.g.Ub(b,z,{}),k=f.hd;if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.hd=!0}k||(f.context=d);f.Zb||(f.Zb={});var g;if(c&&"function"!==typeof c)g=c;else{var p=a.ga.instance,q=p.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):q.call(p,b,d)){if(d[t])d[t]();if(d[B])d[B]()}return g},null,{l:b});g&&m.ja()||(m=null)}var x=d,u;if(g){var J=function(){return a.a.Ga(m?m():
g,e)},r=m?function(a){return function(){return e(m()[a])}}:function(a){return g[a]};J.get=function(a){return g[a]&&e(r(a))};J.has=function(a){return a in g};a.i.H in g&&a.i.subscribe(b,a.i.H,function(){var c=(0,g[a.i.H])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Ec(d[0]))}});a.i.pa in g&&(x=a.i.Cb(b,d),a.i.subscribe(b,a.i.pa,function(){var c=(0,g[a.i.pa])();c&&a.h.firstChild(b)&&c(b)}));f=l(g);a.a.D(f,function(c){var d=c.Mc.init,e=c.Mc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding '"+
f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.u.G(function(){var a=d(b,r(f),J,x.$data,x);if(a&&a.controlsDescendantBindings){if(u!==n)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,r(f),J,x.$data,x)},null,{l:b})}catch(k){throw k.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+k.message,
k;}})}f=u===n;return{shouldBindDescendants:f,bindingContextForDescendants:f&&x}}function q(b,c){return b&&b instanceof a.fa?b:new a.fa(b,n,n,c)}var t=a.a.Da("_subscribable"),x=a.a.Da("_ancestorBindingInfo"),B=a.a.Da("_dataDependency");a.c={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.c[b]};var J={};a.fa=function(b,c,d,e,f){function k(){var b=p?h():h,f=a.a.f(b);c?(a.a.extend(l,c),x in c&&(l[x]=c[x])):(l.$parents=[],l.$root=f,l.ko=a);l[t]=q;g?f=l.$data:(l.$rawData=
b,l.$data=f);d&&(l[d]=f);e&&e(l,c,f);if(c&&c[t]&&!a.S.o().Vb(c[t]))c[t]();m&&(l[B]=m);return l.$data}var l=this,g=b===J,h=g?n:b,p="function"==typeof h&&!a.O(h),q,m=f&&f.dataDependency;f&&f.exportDependencies?k():(q=a.xb(k),q.v(),q.ja()?q.equalityComparer=null:l[t]=n)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.O(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,
this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var z=a.a.g.Z();c.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};c.prototype.sd=function(b){a.a.Pa(this.kb,b);!this.kb.length&&this.H&&this.Cc()};c.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=
null,a.a.K.yb(this.node,b),a.i.ma(this.node,a.i.pa),this.Tc())};a.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(b,c,d,e,f){var k=a.a.g.Ub(b,z,{});k.Fa||(k.Fa=new a.T);f&&f.notifyImmediately&&k.Zb[c]&&a.u.G(d,e,[b]);return k.Fa.subscribe(d,e,c)},ma:function(b,c){var d=a.a.g.get(b,z);if(d&&(d.Zb[c]=!0,d.Fa&&d.Fa.notifySubscribers(b,c),c==a.i.H))if(d.N)d.N.Cc();else if(d.N===n&&d.Fa&&d.Fa.Wa(a.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");
},Cb:function(b,d){var e=a.a.g.Ub(b,z,{});e.N||(e.N=new c(b,e,d[x]));return d[x]==e?d:d.extend(function(a){a[x]=e})}};a.Td=function(b){return(b=a.a.g.get(b,z))&&b.context};a.ib=function(b,c,d){1===b.nodeType&&a.h.Sc(b);return p(b,c,q(d))};a.ld=function(b,c,d){d=q(d);return a.ib(b,g(c,d,b),d)};a.Oa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(q(a),b)};a.vc=function(a,b,c){!v&&A.jQuery&&(v=A.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");
}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(a,c),b)};a.Dc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?n:a.Td(b)};a.Ec=function(b){return(b=a.Dc(b))?b.$data:n};a.b("bindingHandlers",a.c);a.b("bindingEvent",a.i);a.b("bindingEvent.subscribe",a.i.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.i.Cb);a.b("applyBindings",a.vc);a.b("applyBindingsToDescendants",a.Oa);
a.b("applyBindingAccessorsToNode",a.ib);a.b("applyBindingsToNode",a.ld);a.b("contextFor",a.Dc);a.b("dataFor",a.Ec)})();(function(b){function c(c,e){var k=Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,l;k?k.subscribe(e):(k=f[c]=new a.T,k.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Gd:e};delete f[c];l||e?k.notifySubscribers(b):a.na.zb(function(){k.notifySubscribers(b)})}),l=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,
c)}):b(null,null)})}function e(c,d,f,l){l||(l=a.j.loaders.slice(0));var g=l.shift();if(g){var q=g[c];if(q){var t=!1;if(q.apply(g,d.concat(function(a){t?f(null):null!==a?f(a):e(c,d,f,l)}))!==b&&(t=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,l)}else f(null)}var f={},g={};a.j={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Gd?a.u.G(function(){e(f.definition)}):
a.na.zb(function(){e(f.definition)}):c(d,e)},Bc:function(a){delete g[a]},oc:e};a.j.loaders=[];a.b("components",a.j);a.b("components.get",a.j.get);a.b("components.clearCachedDefinition",a.j.Bc)})();(function(){function b(b,c,d,e){function g(){0===--B&&e(h)}var h={},B=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.j.oc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.j.oc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});
else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.R(b)){case "script":return a.a.ua(b.text);case "textarea":return a.a.ua(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return A.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?
T||A.require?(T||A.require)([b.require],function(a){a&&"object"===typeof a&&a.Xd&&a["default"]&&(a=a["default"]);c(a)}):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var h={};a.j.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.j.tb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.j.tb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.j.unregister=function(b){delete h[b];
a.j.Bc(b)};a.j.Fc={getConfig:function(b,c){c(a.j.tb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ua(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,A.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+
c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.j.register);a.b("components.isRegistered",a.j.tb);a.b("components.unregister",a.j.unregister);a.b("components.defaultLoader",a.j.Fc);a.j.loaders.push(a.j.Fc);a.j.dd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ga(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ga(f,
function(c){var e=c.v();return c.ja()?a.o({read:function(){return a.a.f(c())},write:a.Za(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.j.getComponentNameForNode=function(b){var c=a.a.R(b);if(a.j.tb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.j.tc=function(c,e,f,g){if(1===e.nodeType){var h=a.j.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.j.register=function(a){return function(b){return a.apply(this,arguments)}}(a.j.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.j.dd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.Ca(c);a.h.va(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,
b,c):b}var d=0;a.c.component={init:function(e,f,g,h,m){function k(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);q&&q.s();p=l=q=null}var l,p,q,t=a.a.la(a.h.childNodes(e));a.h.Ea(e);a.a.K.za(e,k);a.o(function(){var g=a.a.f(f()),h,u;"string"===typeof g?h=g:(h=a.a.f(g.name),u=a.a.f(g.params));if(!h)throw Error("No component name specified");var n=a.i.Cb(e,m),z=p=++d;a.j.get(h,function(d){if(p===z){k();if(!d)throw Error("Unknown component '"+h+"'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:t});
d=n.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=t}});f&&f.koDescendantsComplete&&(q=a.i.subscribe(e,a.i.pa,f.koDescendantsComplete,f));l=f;a.Oa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.c.attr={update:function(b,c){var d=a.a.f(c())||{};a.a.P(d,function(c,d){d=a.a.f(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===
d||d===n;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,d));"name"===c&&a.a.Yc(b,h?"":d)})}};(function(){a.c.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.S.Ya()&&(e||!m&&!a.S.qa())){var k=a.u.G(c);if(l){var q=p?k.v():k,z=t;t=f;z!==f?e&&(a.a.Na(q,f,!0),a.a.Na(q,z,!1)):a.a.Na(q,f,e);p&&a.Za(k)&&k(q)}else h&&(f===n?f=e:e||(f=n)),a.m.eb(k,
d,"checked",f,!0)}}function f(){var d=a.a.f(c()),e=g();l?(b.checked=0<=a.a.A(d,e),t=e):b.checked=h&&e===n?!!d:g()===d}var g=a.xb(function(){if(d.has("checkedValue"))return a.a.f(d.get("checkedValue"));if(q)return d.has("value")?a.a.f(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var k=c(),l=h&&a.a.f(k)instanceof Array,p=!(l&&k.push&&k.splice),q=m||l,t=l?g():n;m&&!b.name&&a.c.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.B(b,"click",e);a.o(f,null,{l:b});
k=n}}};a.m.wa.checked=!0;a.c.checkedValue={update:function(b,c){b.value=a.a.f(c())}}})();a.c["class"]={update:function(b,c){var d=a.a.Db(a.a.f(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,d,!0)}};a.c.css={update:function(b,c){var d=a.a.f(c());null!==d&&"object"==typeof d?a.a.P(d,function(c,d){d=a.a.f(d);a.a.Eb(b,c,d)}):a.c["class"].update(b,c)}};a.c.enable={update:function(b,c){var d=a.a.f(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.c.disable=
{update:function(b,c){a.c.enable.update(b,function(){return!a.a.f(c())})}};a.c.event={init:function(b,c,d,e,f){var g=c()||{};a.a.P(g,function(g){"string"==typeof g&&a.a.B(b,g,function(b){var k,l=c()[g];if(l){try{var p=a.a.la(arguments);e=f.$data;p.unshift(e);k=l.apply(e,p)}finally{!0!==k&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.c.foreach={Rc:function(b){return function(){var c=b(),d=a.a.bc(c);
if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Ma};a.a.f(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Ma}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.Rc(c))},update:function(b,c,d,e,f){return a.c.template.update(b,a.c.foreach.Rc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=
!0;a.c.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.m.eb(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.B(b,"focus",f);a.a.B(b,"focusin",f);a.a.B(b,"blur",g);a.a.B(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.f(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===
d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.u.G(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.wa.hasfocus=!0;a.c.hasFocus=a.c.hasfocus;a.m.wa.hasFocus="hasfocus";a.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.fc(b,c())}};(function(){function b(b,d,e){a.c[b]={init:function(b,c,h,m,k){var l,p,q={},t,x,n;if(d){m=h.get("as");var u=h.get("noChildContext");n=!(m&&u);q={as:m,noChildContext:u,exportDependencies:n}}x=(t=
"render"==h.get("completeOn"))||h.has(a.i.pa);a.o(function(){var h=a.a.f(c()),m=!e!==!h,u=!p,r;if(n||m!==l){x&&(k=a.i.Cb(b,k));if(m){if(!d||n)q.dataDependency=a.S.o();r=d?k.createChildContext("function"==typeof h?h:c,q):a.S.qa()?k.extend(null,q):k}u&&a.S.qa()&&(p=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.va(b,a.a.Ca(p)),a.Oa(r,b)):(a.h.Ea(b),t||a.i.ma(b,a.i.H));l=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.c.let={init:function(b,
c,d,e,f){c=f.extend(c);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.c.options={init:function(b){if("select"!==a.a.R(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.jb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(x&&l)a.i.ma(b,a.i.H);else if(t.length){var e=
0<=a.a.A(t,a.w.M(d[0]));a.a.Zc(d[0],e);x&&!e&&a.u.G(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,k=a.a.f(c()),l=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,t=[];l||(h?t=a.a.Mb(e(),a.w.M):0<=b.selectedIndex&&t.push(a.w.M(b.options[b.selectedIndex])));k&&("undefined"==typeof k.length&&(k=[k]),q=a.a.jb(k,function(b){return p||b===n||null===b||!a.a.f(b._destroy)}),d.has("optionsCaption")&&(k=a.a.f(d.get("optionsCaption")),null!==
k&&k!==n&&q.unshift(Q)));var x=!1;c.beforeRemove=function(a){b.removeChild(a)};k=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(k=function(b,c){g(0,c);a.u.G(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:n])});a.a.ec(b,q,function(c,e,g){g.length&&(t=!l&&g[0].selected?[a.w.M(g[0])]:[],x=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Bb(e,d.get("optionsCaption")),a.w.cb(e,n)):(g=f(c,d.get("optionsValue"),c),a.w.cb(e,a.a.f(g)),c=f(c,d.get("optionsText"),g),
a.a.Bb(e,c));return[e]},c,k);if(!l){var B;h?B=t.length&&e().length<t.length:B=t.length&&0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex;B&&a.u.G(a.a.Fb,null,[b,"change"])}(l||a.S.Ya())&&a.i.ma(b,a.i.H);a.a.wd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.c.options.$b=a.a.g.Z();a.c.selectedOptions={init:function(b,c,d){function e(){var e=c(),f=[];a.a.D(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.w.M(b))});a.m.eb(e,d,"selectedOptions",
f)}function f(){var d=a.a.f(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.D(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.w.M(b));b.selected!=c&&a.a.Zc(b,c)});b.scrollTop=e}if("select"!=a.a.R(b))throw Error("selectedOptions binding applies only to SELECT elements");var g;a.i.subscribe(b,a.i.H,function(){g?e():(a.a.B(b,"change",e),g=a.o(f,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}};a.m.wa.selectedOptions=!0;a.c.style={update:function(b,c){var d=a.a.f(c()||
{});a.a.P(d,function(c,d){d=a.a.f(d);if(null===d||d===n||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=d+"px")}})}};a.c.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.B(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)}})}};a.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Bb(b,c())}};a.h.ea.text=!0;(function(){if(A&&A.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=A.navigator.userAgent,d,e,f,g,h;(d=A.opera&&A.opera.version&&parseInt(A.opera.version()))||(h=b(c.match(/Edge\/([^ ]+)$/)))||b(c.match(/Chrome\/([^ ]+)/))||(e=b(c.match(/Version\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||
(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),k=a.a.g.Z(),l=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,k))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.B(d,"selectionchange",l));a.a.g.set(b,k,c)};a.c.textInput={init:function(b,c,k){function l(c,d){a.a.B(b,c,d)}function m(){var d=a.a.f(c());if(null===d||d===n)d="";L!==n&&d===L?a.a.setTimeout(m,4):b.value!==d&&(y=!0,b.value=d,y=!1,v=b.value)}function r(){w||(L=b.value,w=a.a.setTimeout(z,
4))}function z(){clearTimeout(w);L=w=n;var d=b.value;v!==d&&(v=d,a.m.eb(c(),k,"textInput",d))}var v=b.value,w,L,A=9==a.a.W?r:z,y=!1;g&&l("keypress",z);11>g&&l("propertychange",function(a){y||"value"!==a.propertyName||A(a)});8==g&&(l("keyup",z),l("keydown",z));p&&(p(b,A),l("dragend",r));(!g||9<=g)&&l("input",A);5>e&&"textarea"===a.a.R(b)?(l("keydown",r),l("paste",r),l("cut",r)):11>d?l("keydown",r):4>f?(l("DOMAutoComplete",z),l("dragdrop",z),l("drop",z)):h&&"number"===b.type&&l("keydown",r);l("change",
z);l("blur",z);a.o(m,null,{l:b})}};a.m.wa.textInput=!0;a.c.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.c.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.c.uniqueName.rd;a.a.Yc(b,d)}}};a.c.uniqueName.rd=0;a.c.using={init:function(b,c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.c.value={init:function(b,c,d){var e=a.a.R(b),f="input"==
e;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=[],h=d.get("valueUpdate"),m=!1,k=null;h&&("string"==typeof h?g=[h]:g=a.a.wc(h),a.a.Pa(g,"change"));var l=function(){k=null;m=!1;var e=c(),f=a.w.M(b);a.m.eb(e,d,"value",f)};!a.a.W||!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.B(b,"propertychange",function(){m=!0}),a.a.B(b,"focus",function(){m=!1}),a.a.B(b,"blur",function(){m&&l()}));a.a.D(g,function(c){var d=l;a.a.Ud(c,"after")&&
(d=function(){k=a.w.M(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.B(b,c,d)});var p;p=f&&"file"==b.type?function(){var d=a.a.f(c());null===d||d===n||""===d?b.value="":a.u.G(l)}:function(){var f=a.a.f(c()),g=a.w.M(b);if(null!==k&&f===k)a.a.setTimeout(p,0);else if(f!==g||g===n)"select"===e?(g=d.get("valueAllowUnset"),a.w.cb(b,f,g),g||f===a.w.M(b)||a.u.G(l)):a.w.cb(b,f)};if("select"===e){var q;a.i.subscribe(b,a.i.H,function(){q?d.get("valueAllowUnset")?p():l():(a.a.B(b,"change",l),q=a.o(p,null,{l:b}))},
null,{notifyImmediately:!0})}else a.a.B(b,"change",l),a.o(p,null,{l:b})}else a.ib(b,{checkedValue:c})},update:function(){}};a.m.wa.value=!0;a.c.visible={update:function(b,c){var d=a.a.f(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.c.hidden={update:function(b,c){a.c.visible.update(b,function(){return!a.a.f(c())})}};(function(b){a.c[b]={init:function(c,d,e,f,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");
a.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.C.F(d)}if(1==b.nodeType||8==b.nodeType)return new a.C.ia(b);throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=
function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.kc=function(){function b(b,c,d,h){b=a.m.ac(b);for(var m=a.m.Ra,k=0;k<b.length;k++){var l=b[k].key;if(Object.prototype.hasOwnProperty.call(m,
l)){var p=m[l];if("function"===typeof p){if(l=p(b[k].value))throw Error(l);}else if(!p)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.vb(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kc.Ld(b,c)},d)},Ld:function(a,f){return a.replace(c,function(a,c,d,e,l){return b(l,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},md:function(b,c){return a.aa.Xb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.ib(m,b,h)})}}}();a.b("__tr_ambtns",a.kc.md);(function(){a.C={};a.C.F=function(b){if(this.F=b){var c=
a.a.R(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.C.F.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[b];var c=arguments[0];"innerHTML"===b?a.a.fc(this.F,c):this.F[b]=c};var b=a.a.g.Z()+"_";a.C.F.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.F,b+c);a.a.g.set(this.F,b+c,arguments[1])};var c=a.a.g.Z();a.C.F.prototype.nodes=function(){var b=this.F;
if(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.lb||(3===this.ab?b.content:4===this.ab?b:n);if(!f||e.jd){var g=this.text();g&&g!==e.bb&&(f=a.a.Md(g,b.ownerDocument),a.a.g.set(b,c,{lb:f,bb:g,jd:!0}))}return f}e=arguments[0];this.ab!==n&&this.text("");a.a.g.set(b,c,{lb:e})};a.C.ia=function(a){this.F=a};a.C.ia.prototype=new a.C.F;a.C.ia.prototype.constructor=a.C.ia;a.C.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.F,c)||{};b.bb===n&&b.lb&&(b.bb=b.lb.innerHTML);return b.bb}a.a.g.set(this.F,
c,{bb:arguments[0]})};a.b("templateSources",a.C);a.b("templateSources.domElement",a.C.F);a.b("templateSources.anonymousTemplate",a.C.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):
(c.push(e,f),a.a.Ua(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.vc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.cd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var n=(b&&d(b)||f||{}).ownerDocument,B=m.templateEngine||g;a.kc.xd(f,B,n);f=B.renderTemplate(f,h,m,n);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(e){case "replaceChildren":a.h.va(b,
f);n=!0;break;case "replaceNode":a.a.Xc(b,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}n&&(c(f,h),m.afterRender&&a.u.G(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.i.ma(b,a.i.H));return f}function f(b,c,d){return a.O(b)?b():"function"===typeof b?b(c,d):b}var g;a.gc=function(b){if(b!=n&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.dc=function(b,c,h,m,t){h=h||{};if((h.templateEngine||g)==
n)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(m){var x=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(m,t,n,g,h);"replaceNode"==t&&(m=g,x=d(m))},null,{Sa:function(){return!x||!a.a.Sb(x)},l:x&&"replaceNode"==t?x.parentNode:x})}return a.aa.Xb(function(d){a.dc(b,c,h,d,"replaceNode")})};a.Qd=function(b,d,g,h,m){function x(b,c){a.u.G(a.a.ec,null,[h,b,u,g,r,c]);a.i.ma(h,a.i.H)}
function r(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:z,noChildContext:g.noChildContext,extend:function(a){a.$index=c;z&&(a[z+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,z=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Pc(d))return a.$(function(){var b=a.a.f(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.jb(b,function(b){return b===n||null===b||
!a.a.f(b._destroy)}));x(b)},null,{l:h});x(d.v());var A=d.subscribe(function(a){x(d(),a)},null,"arrayChange");A.l(h);return A};var h=a.a.g.Z(),m=a.a.g.Z();a.c.template={init:function(b,c){var d=a.a.f(c());if("string"==typeof d||"name"in d)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.O(d))throw Error('The "nodes" option must be a plain, non-observable array.');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Yb(d),a.a.g.set(e,m,!0));(new a.C.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=
a.a.Yb(d),(new a.C.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.f(g);d=!0;e=null;"string"==typeof c?c={}:(g="name"in c?c.name:b,"if"in c&&(d=a.a.f(c["if"])),d&&"ifnot"in c&&(d=!a.a.f(c.ifnot)),d&&!g&&(d=!1));"foreach"in c?e=a.Qd(g,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),
e=a.dc(g,d,c,b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?n:f)}};a.m.Ra.template=function(b){b=a.m.ac(b);return 1==b.length&&b[0].unknown||a.m.Id(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.gc);a.b("renderTemplate",a.dc);a.a.Kc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===
m.value){h.moved=m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Pb=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,k=[],l,p=b.length,q,n=d.length,r=n-p||1,v=p+n+1,u,w,z;for(l=0;l<=p;l++)for(w=u,k.push(u=[]),z=h(n,l+r),q=m(0,l-1);q<=z;q++)u[q]=q?l?b[l-1]===d[q-1]?w[q-1]:h(w[q]||v,u[q-1]||v)+1:q+1:l+1;h=[];m=[];r=[];l=p;for(q=n;l||q;)n=k[l][q]-1,q&&n===k[l][q-1]?m.push(h[h.length]={status:e,value:d[--q],index:q}):l&&n===k[l-1][q]?r.push(h[h.length]={status:f,value:b[--l],index:l}):
(--q,--l,g.sparse||h.push({status:"retained",value:d[q]}));a.a.Kc(r,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Pb);(function(){function b(b,c,d,h,m){var k=[],l=a.$(function(){var l=c(d,m,a.a.Ua(k,b))||[];0<k.length&&(a.a.Xc(k,l),h&&a.u.G(h,null,[d,l,m]));k.length=0;a.a.Nb(k,l)},null,{l:b,Sa:function(){return!a.a.kd(k)}});
return{Y:k,$:l.ja()?l:n}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.ec=function(e,f,g,h,m,k){function l(b){y={Aa:b,pb:a.ta(w++)};v.push(y);r||F.push(y)}function p(b){y=t[b];w!==y.pb.v()&&D.push(y);y.pb(w++);a.a.Ua(y.Y,e);v.push(y)}function q(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.D(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var t=a.a.g.get(e,c),r=!t,v=[],u=0,w=0,z=[],A=[],C=[],D=[],F=[],y,I=0;if(r)a.a.D(f,l);else{if(!k||t&&t._countWaitingForRemove){var E=
a.a.Mb(t,function(a){return a.Aa});k=a.a.Pb(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=k[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)p(u++);H===n&&(y=t[u],y.$&&(y.$.s(),y.$=n),a.a.Ua(y.Y,e).length&&(h.beforeRemove&&(v.push(y),I++,y.Aa===d?y=null:C.push(y)),y&&z.push.apply(z,y.Y)));u++;break;case "added":for(;w<K;)p(u++);H!==n?(A.push(v.length),p(H)):l(G.value)}for(;w<f.length;)p(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);q(h.beforeMove,D);a.a.D(z,
h.beforeRemove?a.oa:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(A.length)for(;(E=A.shift())!=n;){y=v[E];for(M=n;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M)}for(E=0;y=v[E];E++){y.Y||a.a.extend(y,b(e,g,y.Aa,m,y.pb));for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M);!y.Ed&&m&&(m(y.Aa,y.Y,y.pb),y.Ed=!0,M=y.Y[y.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();q(h.beforeRemove,C);for(E=0;E<C.length;++E)C[E].Aa=d;q(h.afterMove,D);
q(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.ec);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ua(b,e)};a.ba.Ma=new a.ba;a.gc(a.ba.Ma);a.b("nativeTemplateEngine",a.ba);(function(){a.$a=function(){var a=this.Hd=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();
this.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.$a.prototype=new a.ca;a.$a.prototype.constructor=a.$a;var b=new a.$a;0<b.Hd&&a.gc(b);a.b("jqueryTmplTemplateEngine",a.$a)})()})})();})();

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/TFS.Host.TfsContext",["require","exports","VSS/VSS","VSS/Context","VSS/Diag","VSS/Common/Contracts/Platform","VSS/Contributions/LocalPageData"],function(n,t,i,r,u,f,e){function l(){h=Date.now()}var h,s,a,o,c;Object.defineProperty(t,"__esModule",{value:!0});t.TfsContext=t.TeamFoundationHostType=t.NavigationContextLevels=t.Configuration=t.setImageTimestamp=void 0;t.setImageTimestamp=l;s=function(){function n(n){this._options=n||{}}return n.prototype.getRootPath=function(){return this._options.rootPath||"/"},n.prototype.getTheme=function(){return this._options.theme||"Default"},n.prototype.getResourcesPath=function(){return this._options.resourcesPath||this.getRootPath()+"_content/"},n.prototype.getResourcesFile=function(n){return this.getResourcesPath()+encodeURIComponent(n)},n.prototype.getTfsStaticRootPath=function(){return this._options.staticRootTfs||"/tfs/_static/tfs/12/"},n.prototype.get3rdPartyStaticRootPath=function(){return this._options.staticRoot3rdParty||"/tfs/_static/3rdParty/"},n.prototype.getThemedFile=function(n){return this.getTfsStaticRootPath()+"App_Themes/"+encodeURIComponent(this.getTheme())+"/"+encodeURIComponent(n)},n.prototype.getWebApiVersion=function(){return this._options.webApiVersion||"1"},n.prototype.getMailSettings=function(){return this._options.mailSettings},n}();t.Configuration=s,function(n){n[n.None=0]="None";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.Collection=4]="Collection";n[n.Project=8]="Project";n[n.Team=16]="Team";n[n.ApplicationAll=15]="ApplicationAll";n[n.All=31]="All"}(a=t.NavigationContextLevels||(t.NavigationContextLevels={})),function(n){n[n.Parent=-1]="Parent";n[n.Unknown=0]="Unknown";n[n.Deployment=1]="Deployment";n[n.Application=2]="Application";n[n.ProjectCollection=4]="ProjectCollection"}(o=t.TeamFoundationHostType||(t.TeamFoundationHostType={}));c=function(){function n(t){n._addedFpsCallback||(n._addedFpsCallback=!0,document.body.addEventListener("legacyFpsComplete",function(){n._defaultTfsContext=undefined}));this.initialize(t)}return n.getContextOrDefault=function(t){var i=r.parseWebContext(t);return i?new n(i):n.getDefault()},n.getDefault=function(){if(!n._defaultTfsContext){var t=r.getDefaultWebContext();if(!t)throw new Error("Default context information is missing.");n.setDefaultContext(t)}return n._defaultTfsContext},n.tryGetDefaultContext=function(){if(typeof n._defaultTfsContext=="undefined"){var t=r.getDefaultWebContext();t?n.setDefaultContext(t):n._defaultTfsContext=null}return n._defaultTfsContext},n.setDefaultContext=function(t){n._previousTfsContext?(n._previousTfsContext.initialize(t),n._defaultTfsContext=n._previousTfsContext):(n._defaultTfsContext=new n(t),n._previousTfsContext=n._defaultTfsContext)},n.prototype.initialize=function(t){this.contextData=t;var i=r.getPageContext();this.navigation={applicationServiceHost:n.createServiceHost(t.account,f.ContextHostType.Application,t,i.webAccessConfiguration.paths.rootPath),area:i.navigation.area,areaPrefix:i.webAccessConfiguration.api.areaPrefix,collection:n.createServiceHost(t.collection,f.ContextHostType.ProjectCollection,t,i.webAccessConfiguration.paths.rootPath),controllerPrefix:i.webAccessConfiguration.api.controllerPrefix,currentAction:i.navigation.currentAction,currentController:i.navigation.currentController,currentParameters:i.navigation.currentParameters,project:null,projectId:null,publicAccessPoint:{authority:t.host.authority,scheme:t.host.scheme,uri:t.account?t.account.uri:t.host.uri},serviceHost:n.createServiceHost(t.host,t.host.hostType,t,i.webAccessConfiguration.paths.rootPath),topMostLevel:i.navigation.topMostLevel,team:null,teamId:null};this.navigation.publicAccessPoint.uri[this.navigation.publicAccessPoint.uri.length-1]!=="/"&&(this.navigation.publicAccessPoint.uri+="/");t.project&&(this.navigation.project=t.project.name,this.navigation.projectId=t.project.id);t.team&&i.navigation.topMostLevel===f.NavigationContextLevels.Team&&(this.navigation.team=t.team.name,this.navigation.teamId=t.team.id);this.configuration=new s({mailSettings:i.webAccessConfiguration.mailSettings,resourcesPath:i.webAccessConfiguration.paths.resourcesPath,rootPath:i.webAccessConfiguration.paths.rootPath,staticRoot3rdParty:i.webAccessConfiguration.paths.staticRoot3rdParty,staticRootTfs:i.webAccessConfiguration.paths.staticRootTfs,theme:i.globalization.theme,webApiVersion:i.webAccessConfiguration.api.webApiVersion});this.isHosted=!!i.webAccessConfiguration.isHosted;this.allowStatsCollection=!!i.diagnostics.allowStatsCollection;this.activityId=i.diagnostics.activityId;this.sessionId=i.diagnostics.sessionId;this.isAADAccount=!!t.host.isAADAccount;this.isSameHost=window.self==window.top;t.user&&(this.currentUser=t.user.name,this.standardAccessMode=!t.user.limitedAccess,this.currentIdentity={displayName:t.user.name,email:t.user.email,id:t.user.id,isActive:!0,isContainer:!1,uniqueName:t.user.uniqueName});t.team&&(this.currentTeam={name:t.team.name,identity:{displayName:t.team.name,id:t.team.id,isActive:!0,isContainer:!0,email:null,uniqueName:null}})},n.createServiceHost=function(n,t,i,r){return n?{hostType:t,name:n.name,instanceId:n.id,uri:n.uri,relVDir:this.trimVirtualPath(n.relativeUri,r),vDir:n.relativeUri}:null},n.trimVirtualPath=function(n,t){if(!n||n.length===0)return n;for(n.toLowerCase().indexOf(t.toLowerCase())===0&&(n=n.substr(t.length));n.length>0&&n[0]==="/";)n=n.substr(1);while(n.length>0&&n[n.length-1]==="/")n=n.substr(0,n.length-1);return n},n.prototype.getSessionId=function(){var t,r,i,u,n;for(t=this.sessionId,r=document.cookie?document.cookie.split("; "):[],i=0,u=r.length;i<u;i++)if(n=r[i].split("="),n&&n.length===2&&n[0]==="Tfs-SessionId"){t=n[1];break}return this.sessionId=t,t},n.prototype.getHostUrl=function(){return this.navigation.publicAccessPoint.scheme+"://"+this.navigation.publicAccessPoint.authority},n.prototype.getServiceHostUrl=function(){return this.navigation.serviceHost.vDir},n.prototype.getPublicActionUrl=function(n,t,i){var r=this._constructActionUrl(n,t,i);return this.getHostUrl()+this.configuration.getRootPath()+r},n.prototype.getActionUrl=function(n,t,i){if(!this.isSameHost)return this.getPublicActionUrl(n,t,i);var r=this._constructActionUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getCollectionActionUrl=function(n,t,i,r){var u=this._getCollectionTfsContext(n);return u.getActionUrl(t,i,r)},n.prototype.getCollectionTfsContext=function(n){var t=$.extend(!0,{},this);return t.navigation.serviceHost=n,t.navigation.collection=n,t.contextData=$.extend(!0,{},t.contextData),t.contextData.host.id=n.instanceId,t.contextData.host.name=n.name,t.contextData.host.uri=n.uri,t.contextData.host.relativeUri=n.vDir,t.contextData.host.hostType=f.ContextHostType.ProjectCollection,t.contextData.collection=t.contextData.host,t},n.prototype._getCollectionTfsContext=function(n){if(this.navigation.serviceHost.hostType===o.ProjectCollection&&this.navigation.serviceHost.name.toLowerCase()===n.toLowerCase())return this;var t={instanceId:"",name:n,hostType:o.ProjectCollection,vDir:"",relVDir:n};return this.getCollectionTfsContext(t)},n.prototype.getPermalinkUrl=function(n,t,i){var r=this._constructPermalinkUrl(n,t,i);return this.configuration.getRootPath()+r},n.prototype.getIdentityImageUrl=function(t,i){var r=e.getSharedData("_identityDetails"),u={area:n._API,project:"",id:t,t:r&&r[t]?r[t].identityImageId:h};return this.getActionUrl("IdentityImage","common",$.extend(u,i))},n.prototype.isEmbedded=function(){return!!this.getClientHost()},n.prototype.getClientHost=function(){return r.getPageContext().webAccessConfiguration.clientHost},n.prototype._constructActionUrl=function(t,r,u){var h=this.navigation,e=[],c,a,v,f,l,w,b,d,s,k,y,p;if(b=h.areaPrefix||"",d=h.controllerPrefix||"",f=$.extend({},u),s=f.area,typeof s=="undefined"&&(s=h.area),delete f.area,c=f.serviceHost,typeof c=="undefined"&&(c=h.serviceHost),c&&(c.relVDir&&e.push(encodeURI(c.relVDir)),c.hostType===o.ProjectCollection&&(k=this._shouldBuildApiUrl(s,f),a=f.project,typeof a=="undefined"&&(a=k?h.projectId:h.project),a&&(e.push(encodeURIComponent(a)),v=f.team,(typeof f.includeTeam=="undefined"||f.includeTeam===null)&&(f.includeTeam=!0),f.includeTeam&&(typeof v=="undefined"&&(v=k?h.teamId:h.team),v&&e.push(encodeURIComponent(v)))))),delete f.serviceHost,delete f.project,delete f.team,delete f.includeTeam,s)if(Array.isArray(s))for(y=s,y.length>0&&e.push(encodeURIComponent(b+y[0])),p=1;p<y.length;p++)e.push(encodeURIComponent(y[p]));else e.push(encodeURIComponent(b+s));return r||(r=f.controller),delete f.controller,t||(t=f.action),delete f.action,l=f.parameters,delete f.parameters,l&&(r||(r=n._DEFAULT_CONTROLLER_NAME),t||(t=n._DEFAULT_ACTION_NAME)),r&&(e.push(encodeURIComponent(d+r)),t&&(e.push(encodeURIComponent(t)),l&&(Array.isArray(l)?e.push.apply(e,$.map(l,encodeURIComponent)):e.push(encodeURIComponent(l))))),(f.includeVersion||s===n._API)&&(f[n._VERSION]=this.configuration.getWebApiVersion()),f.includeLanguage&&i.uiCulture&&(f[n._LANGUAGE]=i.uiCulture),delete f.includeVersion,f.area!==n._API&&this.getClientHost()&&(f[n._CLIENTHOST]=this.getClientHost()),w=$.param(f),e.join("/")+(w?"?"+w:"")},n.prototype._constructPermalinkUrl=function(t,i,r){var s=this.navigation,u=[],f=$.extend({},r),o,h=s.controllerPrefix||"",c=i||f.controller||n._DEFAULT_CONTROLLER_NAME,l=t||f.action||n._DEFAULT_ACTION_NAME,e=f.parameters;return u.push(n._PERMALINK_PREFIX),u.push(encodeURIComponent(h+c)),u.push(encodeURIComponent(l)),delete f.controller,delete f.action,delete f.parameters,e&&(Array.isArray(e)?u.push.apply(u,$.map(e,encodeURIComponent)):u.push(encodeURIComponent(e))),o=$.param(f),u.join("/")+(o?"?"+o:"")},n.prototype._shouldBuildApiUrl=function(t,i){var r;return t&&(r=Array.isArray(t)?t[0]:t),i.useApiUrl||r===n._API&&(typeof i.useApiUrl=="undefined"||i.useApiUrl)},n._DEFAULT_CONTROLLER_NAME="home",n._DEFAULT_ACTION_NAME="index",n._CLIENTHOST="clientHost",n._VERSION="__v",n._LANGUAGE="__loc",n._PERMALINK_PREFIX="_permalink",n._API="api",n.ControlExtensions={initializeEnhancementOptions:function(t,i){return $.extend({},i,{tfsContext:n.getContextOrDefault(t)})}},n}();t.TfsContext=c});

define("VSS/Diag/Services",["require","exports","VSS/Ajax","VSS/Context","VSS/Service"],function(n,t,i,r,u){function s(){var n=r.getPageContext();n&&n.diagnostics.allowStatsCollection&&n.diagnostics.activityId&&u.getLocalService(f).logActivity(n.diagnostics.activityId,window.location.href)}var f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.ActivityStatsCollector=void 0;f=function(){function n(){this._activtyIdHeader="ActivityId";this._progressPendingActions=null;this._progressPendingActionsNewId=0;this._progressPendingActions={};this._activtyStatsCollectionAllowedCallbacks=[]}return n.prototype.initialize=function(){},n.prototype.addActivtyStatsCollectionAllowedCallback=function(n){this._activtyStatsCollectionAllowedCallbacks.push(n)},n.prototype.actionStarted=function(n){if(!this.isCollectingStats())return-1;var t=++this._progressPendingActionsNewId;return this._progressPendingActions[t]=n,t},n.prototype.actionCompleted=function(n,t){var r=null,i,u,f;if(n>-1&&this._allowStatsCollection()&&this.isCollectingStats()&&(i=this._progressPendingActions[n],i)){delete this._progressPendingActions[n];try{u=t.getResponseHeader(this._activtyIdHeader);u&&i.toLowerCase().indexOf("/_apis/stats/activities")===-1&&(r=this.getCurrentPage(),f={actionDate:(new Date).toUTCString(),name:i,id:u,status:t.status,parentId:r?r.id:null},this._saveActivity(f))}catch(e){this.clearStats()}}},n.prototype.logActivity=function(n,t){try{if(this._allowStatsCollection()&&t&&t.toLowerCase().indexOf("_statistics")===-1){var i={actionDate:(new Date).toUTCString(),name:t,id:n};this._saveActivity(i,!0)}}catch(r){this.clearStats()}},n.prototype.getActivityStatistics=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_ID_STORAGE_ITEM);return t?JSON.parse(t):[]}catch(i){return[]}},n.prototype.clearStats=function(){try{window.localStorage.removeItem(n.ACTIVITY_ID_STORAGE_ITEM);window.localStorage.removeItem(n.CURRENT_PAGE)}catch(t){}},n.prototype.collectStats=function(t){try{window.localStorage.setItem(n.ACTIVITY_COLLECTION_STATUS,t.toString())}catch(i){}},n.prototype.getCurrentPage=function(){try{var t=window.localStorage.getItem(n.CURRENT_PAGE);if(t)return JSON.parse(t)}catch(i){}return null},n.prototype.setCurrentPage=function(t){try{window.localStorage.setItem(n.CURRENT_PAGE,JSON.stringify(t))}catch(i){}},n.prototype.isCollectingStats=function(){try{var t=window.localStorage.getItem(n.ACTIVITY_COLLECTION_STATUS);return t?(t=t.toLowerCase(),t==="true"?!0:t==="false"?!1:(window.localStorage.removeItem(n.ACTIVITY_COLLECTION_STATUS),!1)):!1}catch(i){return!1}},n.prototype._saveActivity=function(t,i){if(this.isCollectingStats()&&this._allowStatsCollection()){var r=this.getActivityStatistics();r.push(t);window.localStorage.setItem(n.ACTIVITY_ID_STORAGE_ITEM,JSON.stringify(r));i&&this.setCurrentPage(t)}},n.prototype._allowStatsCollection=function(){for(var t=!0,n=0;n<this._activtyStatsCollectionAllowedCallbacks.length;n++)t=t&&this._activtyStatsCollectionAllowedCallbacks[n]();return t},n.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",n.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",n.CURRENT_PAGE="TFS.CurrentPageActivity",n}();t.ActivityStatsCollector=f;s();u.getLocalService(f).addActivtyStatsCollectionAllowedCallback(function(){var n=r.getPageContext();return!!(n&&n.diagnostics.allowStatsCollection)});e={};o=r.getPageContext();o&&o.diagnostics.allowStatsCollection&&i.addGlobalListener({beforeRequest:function(n,t){var i=u.getLocalService(f).actionStarted(t);e[n]=i},responseReceived:function(n,t,i,r){u.getLocalService(f).actionCompleted(e[n],r);delete e[n]}})});

define("Presentation/Scripts/TFS/TFS.Legacy.Ajax",["require","exports","VSS/Context","VSS/Diag","VSS/Diag/Services","VSS/Performance","VSS/Platform/Context","VSS/Service","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Url","VSS/VSS","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function ft(n,i,f,e,s){var h,a,p,c,y,w,b;if(r.logTracePoint("Ajax.response-received",s.requestId),o.getLocalService(u.ActivityStatsCollector).actionCompleted(rt[s.requestId],f),delete rt[lt],s.onComplete)for(y=0,w=s.onComplete;y<w.length;y++)b=w[y],b(f);if(s.isComplete=!0,delete d[s.requestId],s.options!==null&&s.options!==undefined&&s.options.wait!==null&&s.options.wait!==undefined&&t.endWait(s),i!=="timeout"&&f&&f.status===203&&(h=f.getResponseHeader("X-Tfs-Location"),h)){if(a=h.indexOf("reply_to="),a!==-1){for(p=h.indexOf("&",a),c=h.substring(0,a),p!==-1&&(c+=h.substring(p));c.charAt(c.length-1)==="&";)c=c.substring(0,c.length-1);h=c+"&reply_to="+encodeURIComponent(window.location.href)}window.location.href=h;return}if(e)try{e(n,i,f)}catch(k){r.logTracePoint("Ajax.callback-exception",k);v(k)}r.logTracePoint("Ajax.callback-complete",s.requestId);s.progressActionId&&l.globalProgressIndicator.actionCompleted(s.progressActionId);s.options&&s.options.tracePoint&&r.logTracePoint(s.options.tracePoint)}function y(n,t){return function(i,r,u){ft(i,r,u,t,n)}}function w(n,i,r){return function(u,f,e){ft(null,f,u,function(){var n;if(f==="timeout")v(bt(u,r),i);else if(u.status===0)t.unloadRequested||t.unloading||s.delay(this,2e3,function(){t.unloadRequested||t.unloading||v(vt(u,r),i)});else if(u.status>=12e3&&u.status<13e3)t.unloadRequested||t.unloading||v(vt(u,r),i);else{if(t.unloading&&f==="abort")return;try{n=s.parseMSJSON(u.responseText,!1)}catch(o){}n?v(new ut(n.message,n.type),i):v(wt(u,e||u.statusText||u.status,r),i)}},n)}}function p(n,i,e){var s,h,c,a,v;return s={isComplete:!1,requestId:lt++,options:e},e&&e.wait&&t.startWait(s),c=f.getScenarioManager().addAjaxCallStart(),a=function(t){var i=t&&t.getResponseHeader&&t.getResponseHeader("ActivityId")||"",r=t&&t.getResponseHeader&&t.getResponseHeader("Content-Length")||0;c(n,s&&s.options&&s.options.type||"",i,t&&t.status||-1,Number(r));document.dispatchEvent(new CustomEvent("performance.legacyAjaxCall"))},s.onComplete=[a],h=n+" ("+s.requestId+")",r.logTracePoint("Ajax.request-started",h),v=o.getLocalService(u.ActivityStatsCollector).actionStarted(n),rt[s.requestId]=v,e&&e.showGlobalProgressIndicator===!1||(s.progressActionId=l.globalProgressIndicator.actionStarted(h)),d[s.requestId]=s,s}function b(n,t,i,r){var u=e.getService("IMsalTokenProviderService").getDefaultProvider();c.isExternalUrl(t)||!u?(n.options=$.extend(!0,{},i,n.options),n.xhr=$.ajax(t,n.options)):u.getAuthorizationHeader().then(function(u){u&&(i.headers.Authorization=u);try{n.options=$.extend(!0,{},i,n.options);n.xhr=$.ajax(t,n.options)}catch(f){r&&r(f)}}).catch(function(n){r&&r(n)})}function yt(n){var t=n.options.wait;t.entireWindow||(t.element.css("margin-top",-parseInt(t.target.css("padding-top"),10)),t.element.css("margin-left",-parseInt(t.target.css("padding-left"),10)),t.element.height(t.target.outerHeight()-2),t.element.width(t.target.outerWidth()-2));t.msgElement&&(t.msgElement.css("top",t.element.position().top+(t.element.height()-t.msgElement.height())/2+parseInt(t.element.css("margin-top"),10)),t.msgElement.css("left",t.element.position().left+(t.element.width()-t.msgElement.width())/2+parseInt(t.element.css("margin-left"),10)))}function et(n){var t;return typeof n=="string"&&(n=n.replace(/\u2028/g,"\\u2028")),t=s.parseMSJSON(n,!1),t.hasOwnProperty("__wrappedArray")&&(t=t.__wrappedArray),t}function kt(){t.unloadRequested=!0;s.delay(this,2e3,function(){t.unloadRequested=!1})}function k(n){var t,u,r;return(n&&(t=n.sessionId,u=n.command),t||(r=i.getPageContext(),r&&r.diagnostics&&r.diagnostics.sessionId&&(t=r.diagnostics.sessionId)),t)?u?{"X-TFS-Session":t+","+u}:{"X-TFS-Session":t}:{}}function dt(n,t,i,r,u){var f=p(n,t,u),e={type:"GET",data:t,success:y(f,i),error:w(f,r,n),dataType:"json",traditional:!0,timeout:tt,headers:k(u)};return at.allowArrayResult||(e.converters={"text json":et}),b(f,n,e,r),f}function ot(n){var t,r,i;if(Array.isArray(n))for(t=0;t<n.length;++t)r=n[t],n[t]==null?n[t]="":typeof r=="object"&&ot(r);else if(typeof n=="object")for(i in n)n[i]==null?n[i]="":typeof n[i]=="object"&&ot(n[i])}function pt(n,t,i,r,u,f){var o,e,c,h,l;if(f||(ot(t),t=s.stringifyMSJSON(t),u=u||{},u.contentType="application/json"),o=p(n,t,u),u&&u.timeout&&(tt=u.timeout),e={type:"POST",data:t,success:y(o,i),error:w(o,r,n),dataType:"json",traditional:!0,timeout:tt,headers:k(u)},at.allowArrayResult||(e.converters={"text json":et}),f)for(e.contentType=!1,e.processData=!1,e.data=new FormData,c=Object.keys(t),h=0;h<c.length;h++)l=c[h],e.data.append(l,t[l]);return b(o,n,e,r),o}function gt(n,t,i,r,u){return pt(n,t,i,r,u,!0)}function ni(n,t,i,r,u){var e,f;return t=$.extend(t,{__RequestVerificationToken:ct()}),e=nt(),e&&(t=$.extend(t,{__RequestVerificationToken2:e})),f=p(n,t,u),b(f,n,{type:"POST",data:t,success:y(f,i),error:w(f,r,n),dataType:"html",traditional:!0,cache:!1,headers:k(u)},r),f}function ti(n,t,i,r,u){var f=p(n,t,u);return b(f,n,{type:"GET",data:t,success:y(f,i),error:w(f,r,n),dataType:"html",traditional:!0,cache:!1,headers:k(u)},r),f}function ii(n){var t=p(n&&n.url,n&&n.data,n);return b(t,n&&n.url,{type:"GET",dataType:"jsonp",traditional:!0,success:y(t,n&&n.callback),headers:k(n)},undefined),t}function ct(){return st||(st=$("input[name=__RequestVerificationToken]").val()),st}function nt(){return ht||(ht=$("input[name=__RequestVerificationToken2]").val()),ht}function ri(){var n,t;return n=$("<input />").attr("type","hidden").attr("name","__RequestVerificationToken").val(ct()),t=nt(),t&&n.after($("<input />").attr("type","hidden").attr("name","__RequestVerificationToken2").val(nt())),n}function ui(n){var t=$(n);if(t.find("input[name=__RequestVerificationToken]").length===0)return t.append(ri())}var ut,st,ht;Object.defineProperty(t,"__esModule",{value:!0});t.setAntiForgeryToken=t.getAntiForgeryTokenValue2=t.getAntiForgeryTokenValue=t.getJSONp=t.getHTML=t.postHTML=t.multipartPostMSJSON=t.postMSJSON=t.getMSJSON=t.msJSONFilter=t.beginRequest=t.wrapErrorCallback=t.wrapSuccessCallback=t.endRequest=t.XhrError=t.Exceptions=t.endWait=t.startWait=t.unloadRequested=t.unloading=void 0;t.unloading=!1;t.unloadRequested=!1;var lt=1,tt=3e5,v=l.handleError,d,it,at={allowArrayResult:!1,byPassAntiForgery:!1},rt={},g;(function(n){n.AjaxException="TFS.Core.Ajax.AjaxException";n.AjaxTimeoutException="TFS.Core.Ajax.AjaxTimeoutException";n.NetworkException="TFS.Core.Ajax.NetworkException"})(g=t.Exceptions||(t.Exceptions={}));d={};ut=function(){function n(n,t){this.message=n;this.type=t}return n}();t.XhrError=ut;var wt=function(n,t,i){var r=new Error(h.format(a.AjaxRequestFailedWithStatus,t));return r.name=g.AjaxException,r.response=n.responseText,r.xhr=n,r.source=i,r},bt=function(n,t){var i=new Error(a.AjaxRequestTimedOut);return i.name=g.AjaxTimeoutException,i.status=n.status,i.xhr=n,i.source=t,i},vt=function(n,t){var i=new Error(a.NetworkConnectionUnavailable);return i.name=g.NetworkException,i.status=n.status,i.xhr=n,i.source=t,i};t.endRequest=ft;t.wrapSuccessCallback=y;t.wrapErrorCallback=w;t.beginRequest=p;t.startWait=function(n){n.options.wait.end=function(){var t=n.options.wait;t.element&&n.isComplete&&!t.timeout&&(t.fade!==!1?(t.element.css("cursor","auto"),t.element.fadeOut("fast",function(){t.element.remove();t.element=null}),t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.fadeOut("fast",function(){t.msgElement.remove();t.msgElement=null}))):(t.element.css("cursor","auto"),t.element.remove(),t.element=null,t.msgElement&&(t.msgElement.css("cursor","auto"),t.msgElement.remove(),t.msgElement=null)),$(window).off("resize."+n.requestId))};var t=n.options.wait;t.showDelay||(t.showDelay=250);t.target||(t.entireWindow=!0,t.target=$("body"));t.target.children(".wait-element").hide();t.target.children(".wait-box").hide();t.showDelay!==0?n.showTimer=s.delay(this,t.showDelay,function(){delete n.showTimer;it(n)}):it(n)};t.endWait=function(n){n.options.wait.end();n.showTimer&&(n.showTimer.cancel(),delete n.showTimer)};it=function(n){var i="",r="",t=n.options.wait;t.image&&(i+='<img class="wait-image" src="'+t.image+'" />');t.message&&(i+='<div class="wait-message">'+t.message+"<\/div>");i.length>0&&(t.target.prepend('<div class="wait-box">'+i+"<\/div>"),t.msgElement=t.target.children(".wait-box").first());t.backgroundcolor&&(r+="background-color: "+t.backgroundcolor+";");t.target.prepend('<div class="wait-element" style="'+r+'"><\/div>');t.element=t.target.children(".wait-element").first();yt(n);$(window).on("resize."+n.requestId,function(){yt(n)});t.minLifetime||(t.minLifetime=100);t.timeout=s.delay(this,t.minLifetime,function(){delete t.timeout;t.end()})};t.msJSONFilter=et;$(window).on("beforeunload",kt);$(window).on("unload",function(){t.unloading=!0;$.each(d,function(n,t){if(t.xhr)try{t.xhr.abort()}catch(i){}})});t.getMSJSON=dt;t.postMSJSON=pt;t.multipartPostMSJSON=gt;t.postHTML=ni;t.getHTML=ti;t.getJSONp=ii;t.getAntiForgeryTokenValue=ct;t.getAntiForgeryTokenValue2=nt;t.setAntiForgeryToken=ui});

define("VSS/Common/Contracts/System",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.DayOfWeek=void 0;var i;(function(n){n[n.Sunday=0]="Sunday";n[n.Monday=1]="Monday";n[n.Tuesday=2]="Tuesday";n[n.Wednesday=3]="Wednesday";n[n.Thursday=4]="Thursday";n[n.Friday=5]="Friday";n[n.Saturday=6]="Saturday"})(i=t.DayOfWeek||(t.DayOfWeek={}));t.TypeInfo={DayOfWeek:{enumValues:{sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}}}});

define("TFS/Work/Contracts",["require","exports","VSS/Common/Contracts/System"],function(n,t,i){"use strict";var r,u,f,e,o,s,h,c,l,a,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.TimelineTeamStatusCode=t.TimelineIterationStatusCode=t.TimelineCriteriaStatusCode=t.TimeFrame=t.PlanUserPermissions=t.PlanType=t.IdentityDisplayFormat=t.FieldType=t.BugsBehavior=t.BoardColumnType=t.BoardBadgeColumnOptions=t.BacklogType=void 0,function(n){n[n.Portfolio=0]="Portfolio";n[n.Requirement=1]="Requirement";n[n.Task=2]="Task"}(r=t.BacklogType||(t.BacklogType={})),function(n){n[n.InProgressColumns=0]="InProgressColumns";n[n.AllColumns=1]="AllColumns";n[n.CustomColumns=2]="CustomColumns"}(u=t.BoardBadgeColumnOptions||(t.BoardBadgeColumnOptions={})),function(n){n[n.Incoming=0]="Incoming";n[n.InProgress=1]="InProgress";n[n.Outgoing=2]="Outgoing"}(f=t.BoardColumnType||(t.BoardColumnType={})),function(n){n[n.Off=0]="Off";n[n.AsRequirements=1]="AsRequirements";n[n.AsTasks=2]="AsTasks"}(e=t.BugsBehavior||(t.BugsBehavior={})),function(n){n[n.String=0]="String";n[n.PlainText=1]="PlainText";n[n.Integer=2]="Integer";n[n.DateTime=3]="DateTime";n[n.TreePath=4]="TreePath";n[n.Boolean=5]="Boolean";n[n.Double=6]="Double"}(o=t.FieldType||(t.FieldType={})),function(n){n[n.AvatarOnly=0]="AvatarOnly";n[n.FullName=1]="FullName";n[n.AvatarAndFullName=2]="AvatarAndFullName"}(s=t.IdentityDisplayFormat||(t.IdentityDisplayFormat={})),function(n){n[n.DeliveryTimelineView=0]="DeliveryTimelineView"}(h=t.PlanType||(t.PlanType={})),function(n){n[n.None=0]="None";n[n.View=1]="View";n[n.Edit=2]="Edit";n[n.Delete=4]="Delete";n[n.Manage=8]="Manage";n[n.AllPermissions=15]="AllPermissions"}(c=t.PlanUserPermissions||(t.PlanUserPermissions={})),function(n){n[n.Past=0]="Past";n[n.Current=1]="Current";n[n.Future=2]="Future"}(l=t.TimeFrame||(t.TimeFrame={})),function(n){n[n.OK=0]="OK";n[n.InvalidFilterClause=1]="InvalidFilterClause";n[n.Unknown=2]="Unknown"}(a=t.TimelineCriteriaStatusCode||(t.TimelineCriteriaStatusCode={})),function(n){n[n.OK=0]="OK";n[n.IsOverlapping=1]="IsOverlapping"}(v=t.TimelineIterationStatusCode||(t.TimelineIterationStatusCode={})),function(n){n[n.OK=0]="OK";n[n.DoesntExistOrAccessDenied=1]="DoesntExistOrAccessDenied";n[n.MaxTeamsExceeded=2]="MaxTeamsExceeded";n[n.MaxTeamFieldsExceeded=3]="MaxTeamFieldsExceeded";n[n.BacklogInError=4]="BacklogInError";n[n.MissingTeamFieldValue=5]="MissingTeamFieldValue";n[n.NoIterationsExist=6]="NoIterationsExist"}(y=t.TimelineTeamStatusCode||(t.TimelineTeamStatusCode={}));t.TypeInfo={BacklogConfiguration:{},BacklogLevelConfiguration:{},BacklogType:{enumValues:{portfolio:0,requirement:1,task:2}},Board:{},BoardBadgeColumnOptions:{enumValues:{inProgressColumns:0,allColumns:1,customColumns:2}},BoardColumn:{},BoardColumnType:{enumValues:{incoming:0,inProgress:1,outgoing:2}},BugsBehavior:{enumValues:{off:0,asRequirements:1,asTasks:2}},CapacityContractBase:{},CapacityPatch:{},CardFieldSettings:{},CardSettings:{},CreatePlan:{},DateRange:{},DeliveryViewData:{},DeliveryViewPropertyCollection:{},FieldInfo:{},FieldType:{enumValues:{string:0,plainText:1,integer:2,dateTime:3,treePath:4,boolean:5,double:6}},IdentityDisplayFormat:{enumValues:{avatarOnly:0,fullName:1,avatarAndFullName:2}},Marker:{},Plan:{},PlanMetadata:{},PlanType:{enumValues:{deliveryTimelineView:0}},PlanUserPermissions:{enumValues:{none:0,view:1,edit:2,"delete":4,manage:8,allPermissions:15}},TeamCapacity:{},TeamIterationAttributes:{},TeamMemberCapacity:{},TeamMemberCapacityIdentityRef:{},TeamSetting:{},TeamSettingsDaysOff:{},TeamSettingsDaysOffPatch:{},TeamSettingsIteration:{},TeamSettingsPatch:{},TimeFrame:{enumValues:{past:0,current:1,future:2}},TimelineCriteriaStatus:{},TimelineCriteriaStatusCode:{enumValues:{ok:0,invalidFilterClause:1,unknown:2}},TimelineIterationStatus:{},TimelineIterationStatusCode:{enumValues:{ok:0,isOverlapping:1}},TimelineTeamData:{},TimelineTeamIteration:{},TimelineTeamStatus:{},TimelineTeamStatusCode:{enumValues:{ok:0,doesntExistOrAccessDenied:1,maxTeamsExceeded:2,maxTeamFieldsExceeded:3,backlogInError:4,missingTeamFieldValue:5,noIterationsExist:6}},UpdatePlan:{}};t.TypeInfo.BacklogConfiguration.fields={bugsBehavior:{enumType:t.TypeInfo.BugsBehavior},portfolioBacklogs:{isArray:!0,typeInfo:t.TypeInfo.BacklogLevelConfiguration},requirementBacklog:{typeInfo:t.TypeInfo.BacklogLevelConfiguration},taskBacklog:{typeInfo:t.TypeInfo.BacklogLevelConfiguration}};t.TypeInfo.BacklogLevelConfiguration.fields={type:{enumType:t.TypeInfo.BacklogType}};t.TypeInfo.Board.fields={columns:{isArray:!0,typeInfo:t.TypeInfo.BoardColumn}};t.TypeInfo.BoardColumn.fields={columnType:{enumType:t.TypeInfo.BoardColumnType}};t.TypeInfo.CapacityContractBase.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}};t.TypeInfo.CapacityPatch.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}};t.TypeInfo.CardFieldSettings.fields={additionalFields:{isArray:!0,typeInfo:t.TypeInfo.FieldInfo},assignedToDisplayFormat:{enumType:t.TypeInfo.IdentityDisplayFormat},coreFields:{isArray:!0,typeInfo:t.TypeInfo.FieldInfo}};t.TypeInfo.CardSettings.fields={fields:{typeInfo:t.TypeInfo.CardFieldSettings}};t.TypeInfo.CreatePlan.fields={type:{enumType:t.TypeInfo.PlanType}};t.TypeInfo.DateRange.fields={end:{isDate:!0},start:{isDate:!0}};t.TypeInfo.DeliveryViewData.fields={criteriaStatus:{typeInfo:t.TypeInfo.TimelineCriteriaStatus},endDate:{isDate:!0},startDate:{isDate:!0},teams:{isArray:!0,typeInfo:t.TypeInfo.TimelineTeamData}};t.TypeInfo.DeliveryViewPropertyCollection.fields={cardSettings:{typeInfo:t.TypeInfo.CardSettings},markers:{isArray:!0,typeInfo:t.TypeInfo.Marker}};t.TypeInfo.FieldInfo.fields={fieldType:{enumType:t.TypeInfo.FieldType}};t.TypeInfo.Marker.fields={date:{isDate:!0}};t.TypeInfo.Plan.fields={createdDate:{isDate:!0},lastAccessed:{isDate:!0},modifiedDate:{isDate:!0},type:{enumType:t.TypeInfo.PlanType},userPermissions:{enumType:t.TypeInfo.PlanUserPermissions}};t.TypeInfo.PlanMetadata.fields={modifiedDate:{isDate:!0},userPermissions:{enumType:t.TypeInfo.PlanUserPermissions}};t.TypeInfo.TeamCapacity.fields={teamMembers:{isArray:!0,typeInfo:t.TypeInfo.TeamMemberCapacityIdentityRef}};t.TypeInfo.TeamIterationAttributes.fields={finishDate:{isDate:!0},startDate:{isDate:!0},timeFrame:{enumType:t.TypeInfo.TimeFrame}};t.TypeInfo.TeamMemberCapacity.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}};t.TypeInfo.TeamMemberCapacityIdentityRef.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}};t.TypeInfo.TeamSetting.fields={backlogIteration:{typeInfo:t.TypeInfo.TeamSettingsIteration},bugsBehavior:{enumType:t.TypeInfo.BugsBehavior},defaultIteration:{typeInfo:t.TypeInfo.TeamSettingsIteration},workingDays:{isArray:!0,enumType:i.TypeInfo.DayOfWeek}};t.TypeInfo.TeamSettingsDaysOff.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}};t.TypeInfo.TeamSettingsDaysOffPatch.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}};t.TypeInfo.TeamSettingsIteration.fields={attributes:{typeInfo:t.TypeInfo.TeamIterationAttributes}};t.TypeInfo.TeamSettingsPatch.fields={bugsBehavior:{enumType:t.TypeInfo.BugsBehavior},workingDays:{isArray:!0,enumType:i.TypeInfo.DayOfWeek}};t.TypeInfo.TimelineCriteriaStatus.fields={type:{enumType:t.TypeInfo.TimelineCriteriaStatusCode}};t.TypeInfo.TimelineIterationStatus.fields={type:{enumType:t.TypeInfo.TimelineIterationStatusCode}};t.TypeInfo.TimelineTeamData.fields={iterations:{isArray:!0,typeInfo:t.TypeInfo.TimelineTeamIteration},status:{typeInfo:t.TypeInfo.TimelineTeamStatus}};t.TypeInfo.TimelineTeamIteration.fields={finishDate:{isDate:!0},startDate:{isDate:!0},status:{typeInfo:t.TypeInfo.TimelineIterationStatus}};t.TypeInfo.TimelineTeamStatus.fields={type:{enumType:t.TypeInfo.TimelineTeamStatusCode}};t.TypeInfo.UpdatePlan.fields={type:{enumType:t.TypeInfo.PlanType}}});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();define("TFS/Work/RestClient",["require","exports","TFS/Work/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function lt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&ht[window.VSS.VssSDKRestVersion]?r.getClient(ht[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(y,undefined,undefined,undefined,n)}var e,o,s,l,h,c,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ct,ht;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.WorkHttpClient=t.WorkHttpClient2=t.WorkHttpClient2_1=t.WorkHttpClient2_2=t.WorkHttpClient2_3=t.WorkHttpClient3=t.WorkHttpClient3_1=t.WorkHttpClient3_2=t.WorkHttpClient4=t.WorkHttpClient4_1=t.WorkHttpClient5=t.WorkHttpClient5_1=t.WorkHttpClient5_2=t.WorkHttpClient6=t.WorkHttpClient6_1=t.WorkHttpClient7=t.WorkHttpClient7_1=t.WorkHttpClient7_2=t.CommonMethods7_1To7_2=t.CommonMethods6_1To7_2=t.CommonMethods5_2To7_2=t.CommonMethods5_1To7_2=t.CommonMethods4_1To7_2=t.CommonMethods3To7_2=t.CommonMethods2To7_2=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTeamSettings=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:i.TypeInfo.TeamSettingsPatch,responseType:i.TypeInfo.TeamSetting,routeValues:{project:r,team:u},apiVersion:this.teamsettingsApiVersion,data:n})},t.prototype.getTeamSettings=function(n){var t=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:i.TypeInfo.TeamSetting,routeValues:{project:t,team:r},apiVersion:this.teamsettingsApiVersion})},t.prototype.updateTeamFieldValues=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",routeValues:{project:i,team:r},apiVersion:this.teamfieldvaluesApiVersion,data:n})},t.prototype.getTeamFieldValues=function(n){var t=n.projectId||n.project,i=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",routeValues:{project:t,team:i},apiVersion:this.teamfieldvaluesApiVersion})},t.prototype.updateTeamDaysOff=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",requestType:i.TypeInfo.TeamSettingsDaysOffPatch,responseType:i.TypeInfo.TeamSettingsDaysOff,routeValues:{project:u,team:f,iterationId:r},apiVersion:this.teamdaysoffApiVersion,data:n})},t.prototype.getTeamDaysOff=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",responseType:i.TypeInfo.TeamSettingsDaysOff,routeValues:{project:r,team:u,iterationId:t},apiVersion:this.teamdaysoffApiVersion})},t.prototype.updateBoardRows=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:r,team:u,board:i},apiVersion:this.rowsApiVersion,data:n})},t.prototype.getBoardRows=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:i,team:r,board:t},apiVersion:this.rowsApiVersion})},t.prototype.getProcessConfiguration=function(n){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"f901ba42-86d2-4b0c-89c1-3f86d06daa84",resource:"processconfiguration",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},apiVersion:this.processconfigurationApiVersion})},t.prototype.postTeamIteration=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",requestType:i.TypeInfo.TeamSettingsIteration,responseType:i.TypeInfo.TeamSettingsIteration,routeValues:{project:r,team:u},apiVersion:this.iterationsApiVersion,data:n})},t.prototype.getTeamIterations=function(n,t){var r={$timeframe:t},u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:i.TypeInfo.TeamSettingsIteration,responseIsCollection:!0,routeValues:{project:u,team:f},queryParams:r,apiVersion:this.iterationsApiVersion})},t.prototype.getTeamIteration=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:i.TypeInfo.TeamSettingsIteration,routeValues:{project:r,team:u,id:t},apiVersion:this.iterationsApiVersion})},t.prototype.deleteTeamIteration=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",routeValues:{project:i,team:r,id:t},apiVersion:this.iterationsApiVersion})},t.prototype.updateBoardColumns=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:i.TypeInfo.BoardColumn,responseType:i.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:u,team:f,board:r},apiVersion:this.columnsApiVersion,data:n})},t.prototype.getBoardColumns=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:i.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:r,team:u,board:t},apiVersion:this.columnsApiVersion})},t.prototype.updateBoardChart=function(n,t,i,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",routeValues:{project:u,team:f,board:i,name:r},apiVersion:this.chartsApiVersion,data:n})},t.prototype.getBoardCharts=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseIsCollection:!0,routeValues:{project:i,team:r,board:t},apiVersion:this.chartsApiVersion})},t.prototype.getBoardChart=function(n,t,i){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",routeValues:{project:r,team:u,board:t,name:i},apiVersion:this.chartsApiVersion})},t.prototype.updateBoardCardSettings=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",routeValues:{project:r,team:u,board:i},apiVersion:this.cardsettingsApiVersion,data:n})},t.prototype.getBoardCardSettings=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",routeValues:{project:i,team:r,board:t},apiVersion:this.cardsettingsApiVersion})},t.prototype.updateBoardCardRuleSettings=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",routeValues:{project:r,team:u,board:i},apiVersion:this.cardrulesettingsApiVersion,data:n})},t.prototype.getBoardCardRuleSettings=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",routeValues:{project:i,team:r,board:t},apiVersion:this.cardrulesettingsApiVersion})},t.prototype.setBoardOptions=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:r,team:u,id:i},apiVersion:this.boardsApiVersion,data:n})},t.prototype.getBoards=function(n){var t=n.projectId||n.project,i=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:t,team:i},apiVersion:this.boardsApiVersion})},t.prototype.getBoard=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Board,routeValues:{project:r,team:u,id:t},apiVersion:this.boardsApiVersion})},t.prototype.getRowSuggestedValues=function(n){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bb494cc6-a0f5-4c6c-8dca-ea6912e79eb9",resource:"boardrows",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.boardrowsApiVersion})},t.prototype.getColumnSuggestedValues=function(n){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"eb7ec5a3-1ba3-4fd1-b834-49a5a387e57d",resource:"boardcolumns",routeTemplate:"{project}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.boardcolumnsApiVersion})},t.prototype.getBacklogConfigurations=function(n){var t=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"7799f497-3cb5-4f16-ad4f-5cd06012db64",resource:"backlogconfiguration",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:i.TypeInfo.BacklogConfiguration,routeValues:{project:t,team:r},apiVersion:this.backlogconfigurationApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To7_2=e;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updatePlan=function(n,t,r){return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0b42cb47-cd73-4810-ac90-19c9ba147453",resource:"plans",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.UpdatePlan,responseType:i.TypeInfo.Plan,routeValues:{project:t,id:r},apiVersion:this.plansApiVersion,data:n})},t.prototype.getPlans=function(n){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0b42cb47-cd73-4810-ac90-19c9ba147453",resource:"plans",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Plan,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.plansApiVersion})},t.prototype.getPlan=function(n,t){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0b42cb47-cd73-4810-ac90-19c9ba147453",resource:"plans",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.Plan,routeValues:{project:n,id:t},apiVersion:this.plansApiVersion})},t.prototype.deletePlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"0b42cb47-cd73-4810-ac90-19c9ba147453",resource:"plans",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:n,id:t},apiVersion:this.plansApiVersion})},t.prototype.createPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"work",locationId:"0b42cb47-cd73-4810-ac90-19c9ba147453",resource:"plans",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",requestType:i.TypeInfo.CreatePlan,responseType:i.TypeInfo.Plan,routeValues:{project:t},apiVersion:this.plansApiVersion,data:n})},t.prototype.getDeliveryTimelineData=function(n,t,r,u,f){var e={revision:r,startDate:u,endDate:f};return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bdd0834e-101f-49f0-a6ae-509f384a12b4",resource:"deliverytimeline",routeTemplate:"{project}/_apis/{area}/plans/{id}/{resource}",responseType:i.TypeInfo.DeliveryViewData,routeValues:{project:n,id:t},queryParams:e,apiVersion:this.deliverytimelineApiVersion})},t.prototype.updateBoardUserSettings=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b30d9f58-1891-4b0a-b168-c46408f919b0",resource:"boardusersettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",routeValues:{project:r,team:u,board:i},apiVersion:this.boardusersettingsApiVersion,data:n})},t.prototype.getBoardUserSettings=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b30d9f58-1891-4b0a-b168-c46408f919b0",resource:"boardusersettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",routeValues:{project:i,team:r,board:t},apiVersion:this.boardusersettingsApiVersion})},t.prototype.getBoardMappingParentItems=function(n,t,i){var r={childBacklogContextCategoryRefName:t,workitemIds:i&&i.join(",")},u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"186abea3-5c35-432f-9e28-7a15b4312a0e",resource:"boardparents",routeTemplate:"{project}/{team}/_apis/{area}/boards/{resource}",responseIsCollection:!0,routeValues:{project:u,team:f},queryParams:r,apiVersion:this.boardparentsApiVersion})},t}(e);t.CommonMethods3To7_2=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getIterationWorkItems=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"5b3ef1a6-d3ab-44cd-bafd-c7f45db850fa",resource:"workitems",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",routeValues:{project:i,team:r,iterationId:t},apiVersion:this.workitemsApiVersion})},t.prototype.getBacklogs=function(n){var t=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"a93726f9-7867-4e38-b4f2-0bfafc2f6a94",resource:"backlogs",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.BacklogLevelConfiguration,responseIsCollection:!0,routeValues:{project:t,team:r},apiVersion:this.backlogsApiVersion})},t.prototype.getBacklog=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"a93726f9-7867-4e38-b4f2-0bfafc2f6a94",resource:"backlogs",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.BacklogLevelConfiguration,routeValues:{project:r,team:u,id:t},apiVersion:this.backlogsApiVersion})},t.prototype.getBacklogLevelWorkItems=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"7c468d96-ab1d-4294-a360-92f07e9ccd98",resource:"backlogs",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{backlogId}/workItems",routeValues:{project:i,team:r,backlogId:t},apiVersion:this.backlogsApiVersion_7c468d96})},t}(o);t.CommonMethods4_1To7_2=s;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.reorderIterationWorkItems=function(n,t,i){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"47755db2-d7eb-405a-8c25-675401525fc9",resource:"workitemsorder",routeTemplate:"{project}/{team}/_apis/{area}/iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:i},apiVersion:this.workitemsorderApiVersion,data:n})},t.prototype.reorderBacklogWorkItems=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"1c22b714-e7e4-41b9-85e0-56ee13ef55ed",resource:"workitemsorder",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:i,team:r},apiVersion:this.workitemsorderApiVersion_1c22b714,data:n})},t.prototype.updateTaskboardCardSettings=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"work",locationId:"0d63745f-31f3-4cf3-9056-2a064e567637",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/taskboard/{resource}",routeValues:{project:i,team:r},apiVersion:this.cardsettingsApiVersion_0d63745f,data:n})},t.prototype.updateTaskboardCardRuleSettings=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"work",locationId:"3f84a8d1-1aab-423e-a94b-6dcbdcca511f",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/taskboard/{resource}",routeValues:{project:i,team:r},apiVersion:this.cardrulesettingsApiVersion_3f84a8d1,data:n})},t.prototype.updateCapacityWithIdentityRef=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacityIdentityRef,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:this.capacitiesApiVersion,data:n})},t.prototype.replaceCapacitiesWithIdentityRef=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacityIdentityRef,responseType:i.TypeInfo.TeamMemberCapacityIdentityRef,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:this.capacitiesApiVersion,data:n})},t.prototype.getCapacityWithIdentityRef=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacityIdentityRef,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:this.capacitiesApiVersion})},t.prototype.getBoardBadgeData=function(n,t,i,r){var u={columnOptions:i,columns:r&&r.join(",")},f=n.projectId||n.project,e=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0120b002-ab6c-4ca0-98cf-a8d7492f865c",resource:"boardbadge",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",routeValues:{project:f,team:e,id:t},queryParams:u,apiVersion:this.boardbadgeApiVersion})},t.prototype.getBoardBadge=function(n,t,i,r){var u={columnOptions:i,columns:r&&r.join(",")},f=n.projectId||n.project,e=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0120b002-ab6c-4ca0-98cf-a8d7492f865c",resource:"boardbadge",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",routeValues:{project:f,team:e,id:t},queryParams:u,apiVersion:this.boardbadgeApiVersion})},t}(s);t.CommonMethods5_1To7_2=l;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItemColumn=function(n,t,i,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"work",locationId:"1be23c36-8872-4abc-b57d-402cd6c669d9",resource:"taskboardWorkItems",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{iterationId}/{workItemId}",routeValues:{project:u,team:f,iterationId:i,workItemId:r},apiVersion:this.taskboardWorkItemsApiVersion,data:n})},t.prototype.getWorkItemColumns=function(n,t){var i=n.projectId||n.project,r=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"1be23c36-8872-4abc-b57d-402cd6c669d9",resource:"taskboardWorkItems",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{iterationId}/{workItemId}",responseIsCollection:!0,routeValues:{project:i,team:r,iterationId:t},apiVersion:this.taskboardWorkItemsApiVersion})},t.prototype.updateColumns=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c6815dbe-8e7e-4ffe-9a79-e83ee712aa92",resource:"taskboardColumns",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",routeValues:{project:i,team:r},apiVersion:this.taskboardColumnsApiVersion,data:n})},t.prototype.getColumns=function(n){var t=n.projectId||n.project,i=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c6815dbe-8e7e-4ffe-9a79-e83ee712aa92",resource:"taskboardColumns",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",routeValues:{project:t,team:i},apiVersion:this.taskboardColumnsApiVersion})},t}(l);t.CommonMethods5_2To7_2=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTotalIterationCapacities=function(n,t){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"1e385ce0-396b-4273-8171-d64562c18d37",resource:"iterationcapacities",routeTemplate:"{project}/_apis/{area}/iterations/{iterationId}/{resource}",routeValues:{project:n,iterationId:t},apiVersion:this.iterationcapacitiesApiVersion})},t.prototype.getCapacitiesWithIdentityRefAndTotals=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamCapacity,routeValues:{project:r,team:u,iterationId:t},apiVersion:this.capacitiesApiVersion})},t}(h);t.CommonMethods6_1To7_2=c;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateAutomationRule=function(n,t){var i=t.projectId||t.project,r=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"work",locationId:"2882c15d-0cb3-43b5-8fb7-db62e09a79db",resource:"automationrules",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",routeValues:{project:i,team:r},apiVersion:this.automationrulesApiVersion,data:n})},t}(c);t.CommonMethods7_1To7_2=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationcapacitiesApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.taskboardColumnsApiVersion=r.taskboardWorkItemsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="7.2-preview.1",r.automationrulesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f="7.2-preview.2",r.capacitiesApiVersion="7.2-preview.3",r}return __extends(t,n),t}(a);t.WorkHttpClient7_2=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.automationrulesApiVersion=r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.capacitiesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationcapacitiesApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.taskboardColumnsApiVersion=r.taskboardWorkItemsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="7.1",r}return __extends(t,n),t}(a);t.WorkHttpClient7_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.capacitiesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationcapacitiesApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.taskboardColumnsApiVersion=r.taskboardWorkItemsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="7.0",r}return __extends(t,n),t}(c);t.WorkHttpClient7=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.capacitiesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationcapacitiesApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.taskboardColumnsApiVersion=r.taskboardWorkItemsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="6.1",r}return __extends(t,n),t}(c);t.WorkHttpClient6_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.capacitiesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.taskboardColumnsApiVersion=r.taskboardWorkItemsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="6.0",r}return __extends(t,n),t.prototype.getCapacitiesWithIdentityRef=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacityIdentityRef,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"6.0"})},t}(h);t.WorkHttpClient6=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.capacitiesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.taskboardColumnsApiVersion=r.taskboardWorkItemsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="5.2",r}return __extends(t,n),t.prototype.getCapacitiesWithIdentityRef=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacityIdentityRef,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"5.2"})},t}(h);t.WorkHttpClient5_2=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardbadgeApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.capacitiesApiVersion=r.cardrulesettingsApiVersion=r.cardrulesettingsApiVersion_3f84a8d1=r.cardsettingsApiVersion=r.cardsettingsApiVersion_0d63745f=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion=r.workitemsorderApiVersion=r.workitemsorderApiVersion_1c22b714="5.1",r}return __extends(t,n),t.prototype.getCapacitiesWithIdentityRef=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacityIdentityRef,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"5.1"})},t}(l);t.WorkHttpClient5_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion="5.0",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"5.0"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"5.0"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"5.0",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"5.0",data:n})},t}(s);t.WorkHttpClient5=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.backlogsApiVersion=r.backlogsApiVersion_7c468d96=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion=r.workitemsApiVersion="4.1",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"4.1"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"4.1"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"4.1",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"4.1",data:n})},t}(s);t.WorkHttpClient4_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="4.0",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"4.0"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"4.0"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"4.0",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"4.0",data:n})},t}(o);t.WorkHttpClient4=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="3.2",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"3.2"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"3.2"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"3.2",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"3.2",data:n})},t}(o);t.WorkHttpClient3_2=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="3.1",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"3.1"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"3.1"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"3.1",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"3.1",data:n})},t}(o);t.WorkHttpClient3_1=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardparentsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.boardusersettingsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.deliverytimelineApiVersion=r.iterationsApiVersion=r.plansApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="3.0",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"3.0"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"3.0"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"3.0",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"3.0",data:n})},t}(o);t.WorkHttpClient3=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.iterationsApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="2.3",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"2.3"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"2.3"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"2.3",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"2.3",data:n})},t}(e);t.WorkHttpClient2_3=ft;et=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.iterationsApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="2.2",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"2.2"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"2.2"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"2.2",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"2.2",data:n})},t}(e);t.WorkHttpClient2_2=et;ot=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.iterationsApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="2.1",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"2.1"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"2.1"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"2.1",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"2.1",data:n})},t}(e);t.WorkHttpClient2_1=ot;st=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.backlogconfigurationApiVersion=r.boardcolumnsApiVersion=r.boardrowsApiVersion=r.boardsApiVersion=r.cardrulesettingsApiVersion=r.cardsettingsApiVersion=r.chartsApiVersion=r.columnsApiVersion=r.iterationsApiVersion=r.processconfigurationApiVersion=r.rowsApiVersion=r.teamdaysoffApiVersion=r.teamfieldvaluesApiVersion=r.teamsettingsApiVersion="2.0",r}return __extends(t,n),t.prototype.getCapacities=function(n,t){var r=n.projectId||n.project,u=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:r,team:u,iterationId:t},apiVersion:"2.0"})},t.prototype.getCapacity=function(n,t,r){var u=n.projectId||n.project,f=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:u,team:f,iterationId:t,teamMemberId:r},apiVersion:"2.0"})},t.prototype.replaceCapacities=function(n,t,r){var u=t.projectId||t.project,f=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.TeamMemberCapacity,responseType:i.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:u,team:f,iterationId:r},apiVersion:"2.0",data:n})},t.prototype.updateCapacity=function(n,t,r,u){var f=t.projectId||t.project,e=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:i.TypeInfo.CapacityPatch,responseType:i.TypeInfo.TeamMemberCapacity,routeValues:{project:f,team:e,iterationId:r,teamMemberId:u},apiVersion:"2.0",data:n})},t}(e);t.WorkHttpClient2=st;ct=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(v);t.WorkHttpClient=ct;ht={"7.2":v,"7.1":y,"7.0":p,"6.1":w,"6.0":b,"5.2":k,"5.1":d,"5.0":g,"4.1":nt,"4.0":tt,"3.2":it,"3.1":rt,"3.0":ut,"2.3":ft,"2.2":et,"2.1":ot,"2.0":st};t.getClient=lt});

var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("Agile/Scripts/Common/ReorderHelper",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Utils/Core","TFS/Work/RestClient","VSS/Service","VSS/FeatureAvailability/Services"],function(n,t,i,r,u,f,e,o){function h(n,t,f,e){if(o.FeatureAvailabilityService.isFeatureEnabled("WebAccess.Agile.Backlog.ReorderWorkItemsRest",!1))s(n,t).then(f,e);else{var h=i.TfsContext.getDefault().getActionUrl("Reorder","ReorderWorkItems",{area:"api",teamId:n});r.postMSJSON(h,{operations:u.stringifyMSJSON(t)},f,e)}}function c(n,t,f,e,h){if(o.FeatureAvailabilityService.isFeatureEnabled("WebAccess.Agile.Backlog.ReorderWorkItemsRest",!1))s(n,t,h).then(f,e);else{var c=i.TfsContext.getDefault().getActionUrl("Reorder","ReorderWorkItems",{area:"api",teamId:n});r.postMSJSON(c,{operations:u.stringifyMSJSON(t)},f,e)}}function s(n,t,r){return __awaiter(this,void 0,void 0,function(){var h,p,c,a,u,o,v,w,y,s;return __generator(this,function(b){switch(b.label){case 0:h=i.TfsContext.getDefault();p=new e.VssConnection(h.contextData);c=p.getHttpClient(f.WorkHttpClient);a={projectId:h.contextData.project.id,teamId:n};u={success:!0,updatedWorkItemIds:[],updatedWorkItemOrders:[]};o=0;v=t;b.label=1;case 1:return(o<v.length)?(w=v[o],y=l(w),s=void 0,!r)?[3,3]:[4,c.reorderIterationWorkItems(y,a,r)]:[3,7];case 2:return s=b.sent(),[3,5];case 3:return[4,c.reorderBacklogWorkItems(y,a)];case 4:s=b.sent();b.label=5;case 5:s.forEach(function(n){u.updatedWorkItemIds.push(n.id);u.updatedWorkItemOrders.push(n.order)});b.label=6;case 6:return o++,[3,1];case 7:return[2,u]}})})}function l(n){return{ids:n.Ids,nextId:n.NextId,parentId:n.ParentId,previousId:n.PreviousId,iterationPath:n.IterationPath}}function a(n,t){return new Promise(function(i,r){h(n,t,i,r)})}Object.defineProperty(t,"__esModule",{value:!0});t.reorderWorkItemsAsync=t.reorderWorkItemsHelper=t.reorderIterationWorkItems=t.reorderProductBackLogWorkItems=void 0;t.reorderProductBackLogWorkItems=h;t.reorderIterationWorkItems=c;t.reorderWorkItemsHelper=s;t.reorderWorkItemsAsync=a});

define("Agile/Scripts/Generated/HubConstants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemsConstants=t.TeamPanelConstants=t.SprintsHubStorageConstants=t.SprintsHubServerConstants=t.SprintsHubRoutingConstants=t.SprintsHubConstants=t.SprintsHubBackCompatRoutingConstants=t.RightPanelExtensionIds=t.FavoriteConstants=t.DirectoryConstants=t.BoardsHubServerConstants=t.BoardsHubRoutingConstants=t.BoardsHubConstants=t.BacklogsHubConstants=t.BacklogConstants=t.AgileRouteParameters=t.AgileQueryParameters=t.AgileHubServerConstants=t.AgileHubContributionIds=void 0,function(n){n.BacklogConfiguration_DataProvider="ms.vss-work-web.agile-backlog-configuration-data-provider";n.TeamSetting_DataProvider="ms.vss-work-web.team-wit-settings-data-provider";n.Settings_Route="ms.vss-admin-web.project-admin-hub-route"}(i=t.AgileHubContributionIds||(t.AgileHubContributionIds={})),function(n){n.FilterRegistryKeyFormat="{0}/{1}/Filter";n.HelpLinkPlanAnIteration="https://go.microsoft.com/fwlink/?LinkId=2046708";n.TeamMRUKey="Agile/Team"}(r=t.AgileHubServerConstants||(t.AgileHubServerConstants={})),function(n){n.TeamId="teamid";n.Level="level"}(u=t.AgileQueryParameters||(t.AgileQueryParameters={})),function(n){n.Name="name";n.Project="project";n.Pivot="pivot";n.Iteration="iteration";n.TeamName="teamName";n.BacklogLevel="backlogLevel";n.Report="report";n.Id="id";n.ViewName="viewname"}(f=t.AgileRouteParameters||(t.AgileRouteParameters={})),function(n){n.SprintForecastVelocity="AgileBacklog.SprintForecastVelocity";n.DefaultSprintForecastVelocity=10;n.ShowForecastFilter="AgileBacklog.ShowForecastFilter";n.ActionNameIteration="Iteration";n.NumberOfIterationsInVelocity=5;n.ShowInProgressFilter="AgileBacklog.ShowInProgressFilter";n.ShowCompletedChildItemsFilter="AgileBacklog.ShowCompletedChildItemsFilter";n.ParentColumnRefName="System.Backlog.Parent"}(e=t.BacklogConstants||(t.BacklogConstants={})),function(n){n.HUB_NAME="Backlogs";n.BacklogPivot="backlog";n.AnalyticsPivot="analytics";n.InProgressParameter="inProgress";n.CompletedChildItemsParameter="completedChildItems";n.InProgressSetting="Agile/BacklogsHub/InProgressFilter";n.CompletedChildItemsSetting="Agile/BacklogsHub/CompletedChildItemsFilter";n.ShowParentsQueryParameter="showParents";n.RightPaneQueryParameter="rightPane";n.ShowParentsSetting="Agile/BacklogsHub/ShowParentsFilter";n.ForecastingParameter="forecasting";n.ForecastingSetting="Agile/BacklogsHub/Forecasting";n.PaneParameter="pane";n.PaneSetting="Agile/BacklogsHub/Pane";n.MruBacklogKey="Agile/BacklogsHub/BacklogId";n.HUB_CONTRIBUTION_ID="ms.vss-work-web.backlogs-hub";n.PRODUCTBACKLOG_DATAPROVIDER_ID="ms.vss-work-web.backlogs-hub-backlog-data-provider";n.HEADER_DATAPROVIDER_ID="ms.vss-work-web.backlogs-hub-content-header-data-provider";n.ContentRouteContributionId="ms.vss-work-web.backlogs-content-route";n.DirectoryRouteContributionId="ms.vss-work-web.backlogs-directory-route";n.LegacyBacklogsHubContributionRouteId="ms.vss-work-web.agile-route";n.DirectoryViewName="directory";n.WorkItemIds="workItemIds";n.ColumnOptionsFormat="Agile/BacklogsHub/ColumnOptions/{0}";n.CFDReportName="cfd";n.VelocityReportName="velocity"}(o=t.BacklogsHubConstants||(t.BacklogsHubConstants={})),function(n){n.HUB_NAME="Boards";n.HUB_CONTRIBUTION_ID="ms.vss-work-web.boards-hub";n.TEAM_BOARD_CONTENT_ROUTE_CONTRIBUTION_ID="ms.vss-work-web.team-board-content-route";n.EMBEDDED_ROUTE_CONTRIBUTION_ID="ms.vss-work-web.microsoft-teams-board-tab-content-route";n.DIRECTORY_ROUTE_CONTRIBUTION_ID="ms.vss-work-web.boards-directory-route";n.TEAM_BOARD_CONTENT_HEADER_DATAPROVIDER_ID="ms.vss-work-web.team-board-content-header-data-provider";n.TEAM_BOARD_CONTENT_DATAPROVIDER_ID="ms.vss-work-web.team-board-content-data-provider";n.HubCategoryReferenceName="hubCategoryReferenceName";n.WorkItemIds="workItemIds";n.MruBacklogKey="Agile/BoardsHub/BacklogId"}(s=t.BoardsHubConstants||(t.BoardsHubConstants={})),function(n){n.AllPivot="all";n.MinePivot="mine";n.BoardPivot="board";n.AnalyticsPivot="analytics";n.DirectoryViewName="directory"}(h=t.BoardsHubRoutingConstants||(t.BoardsHubRoutingConstants={})),function(n){n.ContentContributionRouteId="ms.vss-work-web.team-board-content-route";n.DirectoryContributionRouteId="ms.vss-work-web.boards-directory-route";n.EmbeddedContentContributionRouteId="ms.vss-work-web.microsoft-teams-board-tab-content-route";n.EmbeddedQueryParameter="embedded"}(c=t.BoardsHubServerConstants||(t.BoardsHubServerConstants={})),function(n){n.KeywordFilterItemKey="DirectoryFilter-Keyword";n.TeamFilterItemKey="DirectoryFilter-Team"}(l=t.DirectoryConstants||(t.DirectoryConstants={})),function(n){n.TeamName="TeamName"}(a=t.FavoriteConstants||(t.FavoriteConstants={})),function(n){n.PortfolioBacklog="ms.vss-work-web.portfolio-backlog-toolpane";n.RequirementBacklog="ms.vss-work-web.requirement-backlog-toolpane";n.IterationBacklog="ms.vss-work-web.iteration-backlog-toolpane"}(v=t.RightPanelExtensionIds||(t.RightPanelExtensionIds={})),function(n){n.SprintBacklogPivot="iteration"}(y=t.SprintsHubBackCompatRoutingConstants||(t.SprintsHubBackCompatRoutingConstants={})),function(n){n.HUB_NAME="Sprints";n.HUB_CONTRIBUTION_ID="ms.vss-work-web.sprints-hub";n.RIGHT_PANEL_DEFAULT_SIZE_PX=420;n.ContentPivotSetting="Agile/SprintsHub/Navigation/ContentPivot";n.DirectoryPivotSetting="Agile/SprintsHub/Navigation/DirectoryPivot";n.IterationSetting="Agile/SprintsHub/Navigation/Iteration";n.PivotSettings="Agile/SprintsHub/Navigation/PivotSettings";n.PeopleSwitcher="people-switcher";n.ColumnOptions="Agile/SprintsHub/IterationBacklogColumnOptions"}(p=t.SprintsHubConstants||(t.SprintsHubConstants={})),function(n){n.AllPivot="all";n.MinePivot="mine";n.NewPivot="new";n.TaskboardPivot="taskboard";n.SprintBacklogPivot="backlog";n.CapacityPivot="capacity";n.AnalyticsPivot="analytics";n.DirectoryViewName="directory"}(w=t.SprintsHubRoutingConstants||(t.SprintsHubRoutingConstants={})),function(n){n.ContributionRouteId="ms.vss-work-web.sprints-content-route";n.TeamAgnosticContributionRouteId="ms.vss-work-web.sprints-route";n.DirectoryContributionRouteId="ms.vss-work-web.sprints-directory-route";n.SprintsHubNavigationSettings="Agile/SprintsHub/NavigationSettings"}(b=t.SprintsHubServerConstants||(t.SprintsHubServerConstants={})),function(n){n.AgileBoardFilter="AgileBoardFilter.";n.Group="group"}(k=t.SprintsHubStorageConstants||(t.SprintsHubStorageConstants={})),function(n){n.TeamId="teamId";n.ProjectId="projectId";n.TeamName="teamName";n.ProjectName="projectName"}(d=t.TeamPanelConstants||(t.TeamPanelConstants={})),function(n){n.WorkItemsFormContributionId="ms.vss-work-web.work-items-form-route-with-id";n.WorkItemFormRouteIdParam="id"}(g=t.WorkItemsConstants||(t.WorkItemsConstants={}))});

define("Presentation/Scripts/TFS/TFS.Service",["require","exports","VSS/Service","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Context","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.TfsService=void 0;var e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.tfsConnection=t},t.prototype.getTfsContext=function(){if(!this._tfsContext){var n=this.getWebContext();this._tfsContext=n===u.getDefaultWebContext()?r.TfsContext.getDefault():new r.TfsContext(n)}return this._tfsContext},t.prototype.getCurrentServiceHost=function(){var n=this.getTfsContext(),t=this.getConnection().getHostType();return t===f.ContextHostType.ProjectCollection?n.navigation.collection:t===f.ContextHostType.Application?n.navigation.applicationServiceHost:n.navigation.serviceHost},t}(i.VssService);t.TfsService=e});

define("Presentation/Scripts/TFS/TFS.WebSettingsService",["require","exports","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Diag"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.WebSettingsService=t.WebSettingsScope=void 0,function(n){n[n.User=1]="User";n[n.UserAndTeam=3]="UserAndTeam";n[n.Project=4]="Project";n[n.ProjectAndUser=5]="ProjectAndUser";n[n.Collection=6]="Collection";n[n.Root=7]="Root"}(f=t.WebSettingsScope||(t.WebSettingsScope={}));e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.canAccessTeamSettings=function(){var n=this.getTfsContext();return Boolean(n.currentTeam)},t.prototype.beginWriteSetting=function(n,t,i,u,e,o){var s;return typeof t=="boolean"?s="setBoolean":typeof t=="number"?(t=Math.floor(t),s="setInteger"):(s="setString",typeof t=="undefined"?t=null:t!==null&&typeof t!="string"&&(t=$.param(t))),typeof i=="undefined"&&(i=f.User),r.postMSJSON(this._getApiLocation(s,this._getContext(i)),{path:n,value:t,scope:i},u,e,o)},t.prototype.beginReadSetting=function(n,t,i,u,e){return typeof t=="undefined"&&(t=f.User),r.getMSJSON(this._getApiLocation("readSetting",this._getContext(t)),{path:n,scope:t},i,u,e)},t.prototype.writeLocalSetting=function(n,t,i,r){var f=this._getScopedKey(n,i);if(f)try{window.localStorage.setItem(f,t)}catch(e){if(r)throw e;else u.logWarning("Local storage write failed."),u.logWarning(e)}},t.prototype.readLocalSetting=function(n,t,i){var r=this._getScopedKey(n,t);if(r)try{return window.localStorage.getItem(r)}catch(f){if(i)throw f;else u.logWarning("Local storage read failed."),u.logWarning(f)}return null},t.prototype.removeLocalSetting=function(n,t,i){var r=this._getScopedKey(n,t);if(r)try{window.localStorage.removeItem(r)}catch(f){if(i)throw f;else u.logWarning("Local storage removal failed."),u.logWarning(f)}return null},t.prototype._getScopedKey=function(n,t){var i=this.getTfsContext(),r=i.currentIdentity?i.currentIdentity.id:null,s=i.currentTeam?i.currentTeam.identity.id:null,o,e;switch(t){case f.User:return r+n;case f.UserAndTeam:return r+"/"+s+n;case f.Project:return e=i.navigation?i.navigation.projectId:null,o=i.navigation?i.navigation.collection.instanceId:null,o+"/"+e+n;case f.ProjectAndUser:return e=i.navigation?i.navigation.projectId:null,e+"/"+r+n;default:return null}},t.prototype._getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n,"webSettings",{area:"api",team:t.team,project:t.project,serviceHost:this.getCurrentServiceHost()})},t.prototype._getContext=function(n){return n===f.User||n===f.Collection||n===f.Root?{team:"",project:""}:n===f.Project?{team:"",project:this.getTfsContext().contextData.project.id}:{team:this.getTfsContext().currentTeam.identity.id}},t}(i.TfsService);t.WebSettingsService=e});

define("VSS/Artifacts/Constants",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.ToolNames=t.ArtifactTypeNames=void 0,function(n){n.TcmResult="TcmResult";n.TcmResultAttachment="TcmResultAttachment";n.TcmTest="TcmTest";n.Build="Build";n.VersionedItem="VersionedItem";n.LatestItemVersion="LatestItemVersion";n.Changeset="Changeset";n.Shelveset="Shelveset";n.WorkItem="WorkItem";n.Storyboard="Storyboard";n.Commit="Commit";n.CodeReviewId="CodeReviewId";n.CodeReviewSdkId="ReviewId";n.PullRequestId="PullRequestId";n.ProjectDownloadProject="Project";n.Ref="Ref";n.WikiPage="WikiPage";n.PullRequest="PullRequest";n.Issue="Issue"}(i=t.ArtifactTypeNames||(t.ArtifactTypeNames={})),function(n){n.VersionControl="VersionControl";n.WorkItemTracking="WorkItemTracking";n.RemoteWorkItemTracking="RemoteWorkItemTracking";n.TeamBuild="Build";n.TestManagement="TestManagement";n.Requirements="Requirements";n.Hyperlink="Hyperlink";n.Legacy="Legacy";n.CodeSense="CodeSense";n.Git="Git";n.CodeReview="CodeReview";n.ProjectDownload="ProjectDownload";n.Wiki="Wiki";n.GitHub="GitHub"}(r=t.ToolNames||(t.ToolNames={}))});

define("VSS/Artifacts/Services",["require","exports","VSS/Context","VSS/Diag","VSS/Events/Action","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Url","VSS/Utils/String","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h){function v(n){return n.toLowerCase()}function p(n){for(var i={},u,r,t=0,f=n.length;t<f;t++)u=l.decodeUri(n[t]),r=v(u.tool),i[r]||(i[r]=[]),i[r].push(u);return i}var c,l,y,a;Object.defineProperty(t,"__esModule",{value:!0});t.ClientLinking=t.LinkingUtilities=t.Artifact=void 0;c=function(){function n(n){this._data=n;this._data.uri||(this._data.uri=l.encodeUri({tool:this.getTool(),type:this.getType(),id:this.getId()}))}return n._execute=function(n,t){var i=n.getUrl(t);i?u.getService().performAction(u.CommonActions.ACTION_WINDOW_OPEN,{url:i,target:"_blank"}):alert(s.format(f.UnknownArtifactType,n.getType()))},n.prototype.getUri=function(){return this._data.uri},n.prototype.getTool=function(){return this._data.tool},n.prototype.getType=function(){return this._data.type},n.prototype.getId=function(){return this._data.id},n.prototype.getTitle=function(){return this.getUri()},n.prototype.setError=function(n){this._error=n},n.prototype.getError=function(){return this._error},n.prototype.execute=function(t){return u.getService().performAction(n.ACTION_ARTIFACT_EXECUTE,{artifact:this,webContext:t})},n.prototype.getUrl=function(){return null},n.ACTION_ARTIFACT_EXECUTE="artifact-execute",n}();t.Artifact=c;u.getService().registerActionWorker(c.ACTION_ARTIFACT_EXECUTE,function(n){return c._execute(n.artifact,n.webContext)});l=function(){function n(){}return n.encodeUri=function(t){return n.VSTFS+[encodeURIComponent(t.tool),encodeURIComponent(t.type),encodeURIComponent(t.id)].join(n.URI_SEPARATOR)},n.decodeUri=function(t){var u,i;if(t.length>n.VSTFS.length&&(u=t.substr(0,n.VSTFS.length).toLowerCase(),u===n.VSTFS&&(i=t.substr(n.VSTFS.length).split(n.URI_SEPARATOR),i.length>=3))){var e=i[0],o=i[1],h=i.slice(2).join("/");return{uri:t,tool:n.legacyDecodeURIComponent(e),type:n.legacyDecodeURIComponent(o),id:n.legacyDecodeURIComponent(h)}}throw new Error(s.format(f.InvalidArtifactUri,t));},n.legacyDecodeURIComponent=function(n){var t;return t=n.replace(/\+/g," "),decodeURIComponent(t)},n.VSTFS="vstfs:///",n.URI_SEPARATOR="/",n}();t.LinkingUtilities=l;y={};a=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.registerArtifactResolver=function(n,t){y[v(n)]=t},t.getArtifactResolver=function(n){return y[v(n)]},t.prototype.beginResolveArtifacts=function(n,i,r){function l(n,t){for(var f=[],r,i=0,u=n.length;i<u;i++)r=new c(n[i]),t&&r.setError(t),f.push(r);return f}function e(){u.resolving===0&&(r(u.results),u.resolving-=1)}function f(n,t){u.resolving-=1;u.results=u.results.concat(n.success?n.artifacts:l(t,n.error));e()}function a(n,i){var r=t.getArtifactResolver(n);return r?(r(i,h,function(n){f(n,i)},function(n){f({success:!1,error:n},i)}),!0):!1}var s=this.getWebContext(),h=$.extend({webContext:s},i),u={results:[],resolving:0},o=p(n);$.each(o,function(){u.resolving+=1});$.each(o,function(n,t){a(n,t)||f({success:!1,error:new Error("NoResolver")},t)});e()},t.MODE_TRANSLATEURL="translateURL",t}(e.VssService);t.ClientLinking=a;o.getTranslatorService().registerUrlTranslator(function(n,t,r,u,f){var o;n&&s.startsWith(n,l.VSTFS,s.ignoreCaseComparer)?(o=t&&t.webContext||i.getDefaultWebContext(),e.getCollectionService(a,o).beginResolveArtifacts([n],{mode:a.MODE_TRANSLATEURL},function(n){n&&n.length===1&&!n[0].getError()?r(n[0].getUrl(o)):f()},u)):f()});h.tfsModuleLoaded("VSS.OM.Artifacts",t)});

define("Build.Common/Scripts/Registration.Artifacts",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});r.ClientLinking.registerArtifactResolver(i.ToolNames.TeamBuild,function(n,t,i,r){u.using(["Build.Common/Scripts/BuildArtifacts"],function(u){u.BuildArtifactResolver.beginResolve(n,t,i,r)})});u.tfsModuleLoaded("Registration.Artifacts",t)});

define("Requirements/Scripts/TFS.Requirements.Setup",["require","exports","VSS/VSS","VSS/Artifacts/Constants","VSS/Artifacts/Services"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});u.ClientLinking.registerArtifactResolver(r.ToolNames.Requirements,function(n,t,r,u){i.using(["Requirements/Scripts/TFS.Requirements.Utils"],function(i){i.RequirementsArtifactHandler.beginResolve(n,t,r,u)})});i.tfsModuleLoaded("TFS.Requirements.Setup",t)});

define("TestManagement/Scripts/TFS.TestManagement.Setup",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/VSS"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});r.ClientLinking.registerArtifactResolver(i.ToolNames.TestManagement,function(n,t,i,r){u.using(["TestManagement/Scripts/TFS.TestManagement.TestManagementHandler"],function(u){u.TestManagementArtifactHandler.beginResolve(n,t,i,r)})});u.tfsModuleLoaded("TFS.TestManagement.Setup",t)});

define("Presentation/Scripts/TFS/TFS.ArtifactPlugins",["require","exports","q","VSS/Diag"],function(n,t,i,r){function e(n,t){n=n.toLowerCase();u[n]=t}function s(){return u}function h(n,t){var i;n=n.toLowerCase();i=u[n];i?i(t):t(null)}function c(n){var t=i.defer();return h(n,function(i){i?t.resolve(i):t.reject("Could not create plug-in of type "+n)}),t.promise}function l(n){return f(n.tool,n.type)}function f(n,t){return(n+"/"+t).toLowerCase()}function a(n){return f(n.tool,n.type)}var o,u;Object.defineProperty(t,"__esModule",{value:!0});t.combineArtifactType=t.combineToolAndType=t.combineArtifactToolAndType=t.beginGetArtifactPlugin=t.getGlobalArtifactPlugins=t.registerArtifactPluginAsync=t.ArtifactIconType=void 0,function(n){n[n.icon=0]="icon";n[n.colorBar=1]="colorBar";n[n.colorCircle=2]="colorCircle"}(o=t.ArtifactIconType||(t.ArtifactIconType={}));u={};t.registerArtifactPluginAsync=e;t.getGlobalArtifactPlugins=s;t.beginGetArtifactPlugin=c;t.combineArtifactToolAndType=l;t.combineToolAndType=f;t.combineArtifactType=a});

define("VersionControl/Scripts/TFS.VersionControl.Registration.Artifacts",["require","exports","VSS/VSS","VSS/Artifacts/Constants","VSS/Artifacts/Services","Presentation/Scripts/TFS/TFS.ArtifactPlugins"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});u.ClientLinking.registerArtifactResolver(r.ToolNames.VersionControl,function(n,t,r,u){i.using(["VersionControl/Scripts/TFS.VersionControl"],function(i){i.VersionControlArtifactHandler.beginResolve(n,t,r,u)})});u.ClientLinking.registerArtifactResolver(r.ToolNames.Git,function(n,t,r,u){i.using(["VersionControl/Scripts/TFS.VersionControl"],function(i){i.GitArtifactHandler.beginResolve(n,t,r,u)})});f.registerArtifactPluginAsync("git",function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.RelatedArtifacts"],function(t){n(t.VCArtifactPlugin)})});i.tfsModuleLoaded("TFS.VersionControl.Registration.Artifacts",t)});

define("Presentation/Scripts/TFS/TFS.OM.Common",["require","exports","VSS/VSS","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Diag","VSS/Service","VSS/Events/Action","VSS/Context","VSS/Common/Contracts/Platform"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function k(n){var t=new Error(u.format("Favorite item '{0}' already exist.",n));return t.name=b.FavoriteItemAlreadyExist,t}function it(n,t,i){var r;return r={area:"api"},t=t||n.navigation.topMostLevel,r.team=i,t>=o.NavigationContextLevels.Application&&(t<o.NavigationContextLevels.Team&&(r.ignoreDefaultTeam=!0,r.team=""),t<o.NavigationContextLevels.Project&&(r.project=""),t<o.NavigationContextLevels.Collection&&(r.serviceHost="")),r}var b,d,g,nt,p,w,tt,rt,et,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.AlmUriManager=t.AlmUriBuilder=t.ContextUtils=t.FavoriteStore=t.FavoriteFolder=t.FavoriteItem=t.ProjectCollection=t.Deployment=t.Application=void 0,function(n){n.FavoriteItemAlreadyExist="VSS.Service.FavoriteItemAlreadyExist"}(b||(b={}));d=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:v.getDefaultWebContext();return l.VssConnection.getConnection(t,y.ContextHostType.Application)},n.getDefaultConnection=function(){return l.VssConnection.getConnection(v.getDefaultWebContext(),y.ContextHostType.Application)},n}();t.Application=d;g=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:v.getDefaultWebContext();return l.VssConnection.getConnection(t,y.ContextHostType.Deployment)},n.getDefaultConnection=function(){return l.VssConnection.getConnection(v.getDefaultWebContext(),y.ContextHostType.Deployment)},n}();t.Deployment=g;nt=function(){function n(){}return n.getConnection=function(n){var t=n?n.contextData:v.getDefaultWebContext();return l.VssConnection.getConnection(t,y.ContextHostType.ProjectCollection)},n.getDefaultConnection=function(){return l.VssConnection.getConnection(v.getDefaultWebContext(),y.ContextHostType.ProjectCollection)},n}();t.ProjectCollection=nt;p=function(){function n(n,t){this.favStore=n;t&&(this.id=t.id,this.name=t.name,this.parentId=t.parentId,this.type=t.type,this.data=t.data,this.artifactIsDeleted=t.artifactIsDeleted)}return n.prototype.path=function(n){return e.calculateTreePath.call(this,n,"/","name","root")},n.prototype.beginRename=function(n,t,r){var u=this,f;this.parent&&this.parent.findChildItem(n,this.type,this.data)?i.handleError(k(n),r,this):(f=$.extend({},this),f.name=n,this.favStore.beginUpdateItems([f],function(){u.name=n;$(window).trigger("favorite-item-renamed",u);typeof t=="function"&&t.call(u,u)},r))},n.prototype.beginDelete=function(n,t,i){this.favStore.beginDeleteItems([this],n,t,i)},n.prototype.onDelete=function(n,t){!t&&this.parent&&this.parent.remove(this);delete this.favStore.all[this.id];n&&$(window).trigger("favorite-item-removed",this)},n.FAVITEM_TYPE_WIT_QUERYITEM="Microsoft.TeamFoundation.WorkItemTracking.QueryItem",n.FAVITEM_TYPE_WIT_QUERYCHART="Microsoft.TeamFoundation.WorkItemTracking.QueryChart",n.FAVITEM_TYPE_VC_PATH="Microsoft.TeamFoundation.VersionControl.Path",n.FAVITEM_TYPE_GIT_REPOSITORY="Microsoft.TeamFoundation.Git.Repository",n.FAVITEM_TYPE_GIT_REPOSITORY_FORK="Microsoft.TeamFoundation.Git.Repository.Fork",n.FAVITEM_TYPE_TFVC_REPOSITORY="Microsoft.TeamFoundation.Tfvc.Repository",n.FAVITEM_TYPE_BUILD_DEFINITION="Microsoft.TeamFoundation.Build.Definition",n.FAVITEM_TYPE_TESTMANAGEMENT_CHART="Microsoft.Teamfoundation.TestManagement.Charts",n.FAVITEM_TYPE_PROJECT="Microsoft.TeamFoundation.Classification.TeamProject",n.FAVITEM_TYPE_TEAM="Microsoft.TeamFoundation.Teams.Team",n.FAVITEM_TYPE_TEST_PLAN="Microsoft.TeamFoundation.TestManagement.Plan",n}();t.FavoriteItem=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.children=[],r}return __extends(t,n),t.prototype.add=function(n,t){this.children.push(n);n.parent=this;t!==!0&&this.children.sort(function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)})},t.prototype.remove=function(n){f.remove(this.children,n)},t.prototype.clear=function(){this.children=[]},t.prototype.findByPath=function(n){return e.findTreeNode.call(this,n,"/",u.localeIgnoreCaseComparer,"name")},t.prototype.findByData=function(n){for(var i,t=0,r=this.children.length;t<r;t++)if(i=this.children[t],i.data===n)return i;return null},t.prototype.beginCreateNewFolder=function(n,t,i){this.beginCreateNewItem(n,null,null,t,i)},t.prototype.beginCreateNewItem=function(n,r,u,f,e,o){var s,h=this,c;(o===null||o===undefined)&&(o=!0);this.findChildItem(n,r,u)?i.handleError(k(n),e,this):(c={id:undefined,parentId:this.id,name:n,type:r,data:u},s=r?new p(this.favStore,c):new t(this.favStore,c),this.favStore.beginUpdateItems([s],function(){h.add(s);h.favStore.all[s.id]=s;o&&$(window).trigger("favorite-item-created",s);typeof f=="function"&&f.call(h,s)},e))},t.prototype.onDelete=function(t,i){$.each(this.children,function(n,t){t.onDelete(!1,!0)});n.prototype.onDelete.call(this,t,i)},t.prototype.findChildItem=function(n,t,i){for(var r,f=0,e=this.children.length;f<e;f++)if(r=this.children[f],u.localeIgnoreCaseComparer(n,r.name)===0&&r.type===t&&r.data===i)return r;return null},t}(p);t.FavoriteFolder=w;tt={};rt=function(n){function t(t,i,r,u,f,e){var o=n.call(this,null,{id:f,name:e})||this;return o.root=!0,o.favStore=o,o._tfsContext=t,o._routeData=i,o._identity=r,o._scope=u,o.all={},o}return __extends(t,n),t.computeStoreKey=function(n,t,i,r){return n.getActionUrl("list","favorites",$.extend({},r,{identityId:t,scope:i}))},t.createFavoriteStore=function(n,i,r,u,f){var e,o;return r===null&&(r=undefined),e=it(n,i,r),o=t.computeStoreKey(n,r,u,e),new t(n,e,r,u,o,f)},t.beginGetFavoriteStore=function(n,r,u,f,e,o,s,h){var c,l;o?(c=t.createFavoriteStore(n,r,u,f,e),c.beginRefresh(function(){s(c)},h)):(l=t.computeStoreKey(n,u,f,it(n,r,u)),i.queueRequest(this,tt,l,s,h,function(i,o){var s=t.createFavoriteStore(n,r,u,f,e);s.beginRefresh(function(){i(s)},o)}))},t.getFavoriteStore=function(n,i,r,u,f){return t.createFavoriteStore(n,i,r,u,f)},t.prototype.beginRefresh=function(n,t){var i,r=this;i=this._tfsContext.getActionUrl("list","favorites",this._routeData);h.getMSJSON(i,{identityId:this._identity,scope:this._scope},function(t){r._populateItems(t);typeof n=="function"&&n.call(r)},t)},t.prototype.beginDeleteItems=function(n,t,i,r){var e=this,u,f;(r===null||r===undefined)&&(r=!0);n&&n.length&&(f=this._tfsContext.getActionUrl("delete","favorites",this._routeData),u=$.map(n,function(n){return n.id}),h.postMSJSON(f,{identityId:this._identity,scope:this._scope,favItemIds:u},function(){$.each(n,function(n,t){t.onDelete(r)});typeof t=="function"&&t.call(e,n)},i))},t.prototype.beginUpdateItems=function(n,t,i){var u=this,f,e;n&&n.length&&(e=this._tfsContext.getActionUrl("update","favorites",this._routeData),f=$.map(n,function(n){return r.stringifyMSJSON({id:n.id,parentId:n.parentId===u.id?undefined:n.parentId,name:n.name,type:n.type,data:n.data,artifactIsDeleted:n.artifactIsDeleted})}),h.postMSJSON(e,{identityId:this._identity,scope:this._scope,favItemJsons:f},function(i){$.each(i,function(t,i){n[i.index].id=i.id});typeof t=="function"&&t.call(u,n)},i))},t.prototype._populateItems=function(n){var t={},r,i,f,e=this;this.clear();n&&(n.sort(function(n,t){return u.localeIgnoreCaseComparer(n.name,t.name)}),$.each(n,function(n,i){var r;r=i.type?new p(e,i):new w(e,i);t[r.id]=r}));for(r in t)t.hasOwnProperty(r)&&(i=t[r],f=t[i.parentId],f?f.add(i,!0):this.add(i,!0));this.all=t},t.FAVORITE_STORE_SCOPE_FAVORITE_QUERIES="WorkItemTracking.Queries",t.FAVORITE_STORE_SCOPE_FAVORITE_BUILD_DEFINITIONS="Build.Definitions",t.FAVORITE_STORE_SCOPE_FAVORITE_PATHS="VersionControl.Paths",t.FAVORITE_STORE_SCOPE_FAVORITE_PROJECTS="Classification.TeamProjects",t.FAVORITE_STORE_SCOPE_FAVORITE_TEAMS="Team.Teams",t.FAVORITE_STORE_SCOPE_FAVORITE_VC_REPOSITORIES="VersionControl.Repositories",t.FAVORITE_STORE_SCOPE_FAVORITE_TEST_PLAN="TestManagement.Plans",t}(w);t.FavoriteStore=rt,function(n){function t(n,t,i,r){var u=o.TfsContext.getDefault();t=n+t;l.getCollectionService(s.WebSettingsService).beginWriteSetting("/"+t,i,s.WebSettingsScope.User,r)}function i(n,i,r,u){t(n,i,r,u)}function r(n,i,r,u){t(n,i,r,u)}function u(n,i,r,u){t(n,i,r,u)}n.saveTeamUserStringSetting=i;n.saveTeamUserNumberSetting=r;n.saveTeamUserBoolSetting=u}(et=t.ContextUtils||(t.ContextUtils={}));ut=function(){function n(){}return n._combineUri=function(t,i){return n._ensureUriReadyForAppend(t)+i},n._ensureUriReadyForAppend=function(n){return n.lastIndexOf("/")===n.length-1?n:n+"/"},n.browserRequiresParamEncoding=function(){return e.BrowserCheckUtils.isMsie()&&parseInt(e.BrowserCheckUtils.getVersion(),10)<10},n.beginBuildUri=function(t,i,r,u,f,e){u;var a=n.ALM_SCHEME+t+"/"+i,s,l,v=n.browserRequiresParamEncoding();u=u||[];r&&(s=o.TfsContext.getDefault(),u.splice(0,0,{name:n.COLLECTION_PARAM_NAME,value:s.navigation.collection.uri}));l=n.buildQueryParameterString(u);v?h.getMSJSON(s.getActionUrl("Base64EncodeValue","common",{area:"api"}),{value:n.buildQueryParameterString(u,v)},function(t){f.call(this,a+l+"&"+n.ENCODED_PARAM_NAME+"="+t)},e):f.call(this,a+l)},n.buildFeedbackClientUri=function(t){var i,u=[],r=o.TfsContext.getDefault();return i=r.navigation.publicAccessPoint.scheme==="https"?n.MFBCLIENTS_SCHEME:n.MFBCLIENT_SCHEME,i+=r.navigation.publicAccessPoint.authority+r.navigation.collection.vDir,i+=n.PROJECT_PARAM_NAME+":"+r.navigation.project,u.push({name:n.FEEDBACK_REQUEST_IDS_PARAM_NAME,value:t.join(",")}),i+n.buildQueryParameterString(u)},n.buildQueryParameterString=function(n,t){var i="",r;return $.each(n,function(u){r=n[u];i+=u===0?"?":"&";i+=encodeURIComponent(r.name)+"=";i+=t||r.doNotEncode?r.value:encodeURIComponent(r.value)}),i},n.ALM_SCHEME="tfs://",n.COLLECTION_PARAM_NAME="cn",n.PROJECT_PARAM_NAME="p",n.WORK_ITEM_ID_PARAM_NAME="wid",n.MFBCLIENT_SCHEME="mfbclient://",n.MFBCLIENTS_SCHEME="mfbclients://",n.FEEDBACK_REQUEST_IDS_PARAM_NAME="rid",n.ENCODED_PARAM_NAME="__params",n}();t.AlmUriBuilder=ut;ft=function(){function n(){}return n.launchUri=function(n){var t=e.BrowserCheckUtils.isMsie()&&parseInt(e.BrowserCheckUtils.getVersion(),10)>=10;t||window.navigate?a.getService().performAction(a.CommonActions.ACTION_WINDOW_NAVIGATE,{url:n}):a.getService().performAction(a.CommonActions.ACTION_WINDOW_OPEN,{url:n,target:"_blank"})},n}();t.AlmUriManager=ft;i.tfsModuleLoaded("TFS.OM.Common",t)});

define("Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Models",["require","exports","VSS/Utils/String","VSS/Utils/Array"],function(n,t,i,r){var f,e,u;Object.defineProperty(t,"__esModule",{value:!0});t.BacklogConfiguration=t.BacklogFieldTypes=t.WorkItemStateCategory=void 0,function(n){n[n.Proposed=1e3]="Proposed";n[n.InProgress=2e3]="InProgress";n[n.Resolved=3e3]="Resolved";n[n.Completed=4e3]="Completed";n[n.Removed=5e3]="Removed"}(f=t.WorkItemStateCategory||(t.WorkItemStateCategory={})),function(n){n[n.Effort=1]="Effort";n[n.Order=2]="Order";n[n.RemainingWork=3]="RemainingWork";n[n.Team=4]="Team";n[n.Activity=5]="Activity";n[n.Requestor=6]="Requestor";n[n.ApplicationType=7]="ApplicationType";n[n.ApplicationStartInformation=8]="ApplicationStartInformation";n[n.ApplicationLaunchInstructions=9]="ApplicationLaunchInstructions";n[n.FeedbackNotes=10]="FeedbackNotes";n[n.ClosedDate=11]="ClosedDate"}(e=t.BacklogFieldTypes||(t.BacklogFieldTypes={}));u=function(){function n(n,t,i,r,u,f,e,o,s){this.projectId=n;this.workItemTypeMappedStates=t;this.backlogFields=i;this.taskBacklog=r;this.requirementBacklog=u;this.portfolioBacklogs=f;this.hiddenBacklogs=e;this.teamId=o;this.isBugsBehaviorConfigValid=s}return n.prototype.getAllBacklogLevels=function(){if(!this._allBacklogs){this._allBacklogs=[];var n=this.portfolioBacklogs||[],t=this.requirementBacklog?[this.requirementBacklog]:[],i=this.taskBacklog?[this.taskBacklog]:[];this._allBacklogs=n.concat(t).concat(i);this._allBacklogs=this._allBacklogs.sort(function(n,t){return t.rank-n.rank})}return this._allBacklogs.slice()},n.prototype.getAllProductBacklogLevels=function(){var n=this;return this.getAllBacklogLevels().filter(function(t){return i.ignoreCaseComparer(t.id,n.taskBacklog.id)!==0})},n.prototype.getVisibleProductBacklogLevels=function(){var n=this;return this.getAllProductBacklogLevels().filter(function(t){return n.isBacklogLevelVisible(t.id)})},n.prototype.isBacklogLevelVisible=function(n){return!r.contains(this.hiddenBacklogs,n,i.ignoreCaseComparer)},n.prototype.isRootLevelBacklog=function(n){var t=this.getAllBacklogLevels()[0];return i.equals(t.id,n,!0)},n.prototype.getBacklogByDisplayName=function(n){for(var u,t=0,r=this.getAllBacklogLevels();t<r.length;t++)if(u=r[t],i.equals(u.name,n,!0))return u;return null},n.prototype.getBacklogByWorkItemTypeName=function(n){for(var f,t=0,u=this.getAllBacklogLevels();t<u.length;t++)if(f=u[t],r.contains(f.workItemTypes,n,i.ignoreCaseComparer))return f;return null},n.prototype.getWorkItemStatesForStateCategory=function(n,t){var h=[],r,e,u,f,o,s;if(this.workItemTypeMappedStates)for(r=0,e=this.workItemTypeMappedStates;r<e.length;r++)if(u=e[r],i.equals(u.workItemTypeName,n,!0))for(f=0,o=Object.keys(u.states);f<o.length;f++)s=o[f],u.states[s]===t&&h.push(s);return h.slice()},n.prototype.getWorkItemStateCategory=function(n,t){var r,e,u,f,o,s;if(this.workItemTypeMappedStates)for(r=0,e=this.workItemTypeMappedStates;r<e.length;r++)if(u=e[r],i.equals(u.workItemTypeName,n,!0))for(f=0,o=Object.keys(u.states);f<o.length;f++)if(s=o[f],i.equals(s,t,!0))return u.states[s];return null},n.prototype.getStatesForWorkItems=function(n){var f=[],t,e,u;if(this.workItemTypeMappedStates)for(t=0,e=this.workItemTypeMappedStates;t<e.length;t++)u=e[t],u.states&&r.contains(n,u.workItemTypeName,i.ignoreCaseComparer)&&f.push.apply(f,Object.keys(u.states));return r.unique(f,i.ignoreCaseComparer)},n.prototype.isWorkItemTypeInRequirementBacklog=function(n){var t=this.requirementBacklog;return t&&t.workItemTypes?r.contains(t.workItemTypes,n,i.ignoreCaseComparer):!1},n.prototype.isWorkItemTypeInTaskBacklog=function(n){if(this.isWorkItemTypeInRequirementBacklog(n))return!0;var t=this.taskBacklog;return t&&t.workItemTypes?r.contains(t.workItemTypes,n,i.ignoreCaseComparer):!1},n.BACKLOG_LEVEL_DEFAULT_COLOR="#00FFCC",n}();t.BacklogConfiguration=u});

define("Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service",["require","exports","q","VSS/Service","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Service","TFS/Work/RestClient","VSS/Contributions/Services","VSS/Error","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Models","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.BacklogConfigurationService=t.BacklogFieldTypes=t.BacklogConfiguration=t.WorkItemStateCategory=void 0;Object.defineProperty(t,"BacklogConfiguration",{enumerable:!0,get:function(){return c.BacklogConfiguration}});Object.defineProperty(t,"WorkItemStateCategory",{enumerable:!0,get:function(){return c.WorkItemStateCategory}});Object.defineProperty(t,"BacklogFieldTypes",{enumerable:!0,get:function(){return c.BacklogFieldTypes}});var a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getService=function(n){return n||(n=u.TfsContext.getDefault()),f.ProjectCollection.getConnection(n).getService(t)},t.getBacklogConfiguration=function(n,i){n=n||u.TfsContext.getDefault();var r=t.getService(n);return r._getBacklogConfiguration(i)},t.getBacklogFieldName=function(n){var i=t.getBacklogConfiguration();return i?i.backlogFields.typeFields[n]:null},t.beginGetBacklogConfiguration=function(n,i){i=i||u.TfsContext.getDefault();var r=t.getService(i);return r._beginGetBacklogConfiguration(n)},t.prototype._getBacklogConfiguration=function(n){return this._backlogConfiguration&&(!n||l.equals(this._backlogConfiguration.teamId,n,!0))||this._getFromDataProvider(n),this._backlogConfiguration},t.prototype._beginGetBacklogConfiguration=function(n){var t=this,u=this._getBacklogConfiguration(n),f,r;return u&&l.equals(u.teamId,n,!0)?i(u):(f=this.tfsConnection.getHttpClient(o.WorkHttpClient),r={projectId:this.getTfsContext().contextData.project.id,teamId:n},f.getBacklogConfigurations(r).then(function(n){var i=t._updateWorkItemTypeStateValuesToEnums(n),u=n.portfolioBacklogs.map(function(n){return t._processBacklogLevelConfiguration(n)});return t._backlogConfiguration=new c.BacklogConfiguration(r.projectId,i,t._mapFieldTypes(n.backlogFields),t._processBacklogLevelConfiguration(n.taskBacklog),t._processBacklogLevelConfiguration(n.requirementBacklog),u,n.hiddenBacklogs,r.teamId,n.isBugsBehaviorConfigured),t._backlogConfiguration},function(n){h.publishErrorToTelemetry(n);throw n;}))},t.prototype._processBacklogLevelConfiguration=function(n){var i=[],t;return n.workItemTypes&&n.workItemTypes.length>0&&(i=n.workItemTypes.slice().map(function(n){return n.name})),t=[],n.columnFields&&n.columnFields.length>0&&(t=n.columnFields.slice().map(function(n){return{columnFieldReference:n.columnFieldReference.referenceName,width:n.width}})),{addPanelFields:n.addPanelFields.slice().map(function(n){return n.referenceName}),color:n.color,columnFields:t,defaultWorkItemType:n.defaultWorkItemType?n.defaultWorkItemType.name:null,id:n.id,name:n.name,rank:n.rank,workItemCountLimit:n.workItemCountLimit,workItemTypes:i}},t.prototype._getStateCategoryEnumValue=function(n){switch(n.toLowerCase()){case"proposed":return c.WorkItemStateCategory.Proposed;case"inprogress":return c.WorkItemStateCategory.InProgress;case"resolved":return c.WorkItemStateCategory.Resolved;case"completed":return c.WorkItemStateCategory.Completed;case"removed":return c.WorkItemStateCategory.Removed}return null},t.prototype._getFromDataProvider=function(n){var i=r.getService(s.WebPageDataService),t=i.getPageData("ms.vss-work-web.agile-backlog-configuration-data-provider");if(t){if(n&&!l.equals(t.teamId,n,!0))throw new Error("The provided team id does not match that of the data provider");return this._backlogConfiguration=new c.BacklogConfiguration(t.projectId,this._updateWorkItemTypeStateValuesToEnums(t),this._mapFieldTypes(t.backlogFields),t.taskBacklog,t.requirementBacklog,t.portfolioBacklogs,t.hiddenBacklogs,t.teamId,t.isBugsBehaviorConfigValid),this._backlogConfiguration}},t.prototype._updateWorkItemTypeStateValuesToEnums=function(n){for(var t,u,i,f=[],r=0,e=n.workItemTypeMappedStates;r<e.length;r++){t=e[r];u={};for(i in t.states)u[i]=typeof t.states[i]=="number"?t.states[i]:this._getStateCategoryEnumValue(t.states[i]);f.push({workItemTypeName:t.workItemTypeName,states:u})}return f},t.prototype._mapFieldTypes=function(n){var i={typeFields:[]};for(var t in n.typeFields)isNaN(Number(t))?i.typeFields[c.BacklogFieldTypes[t]]=n.typeFields[t]:i.typeFields[t]=n.typeFields[t];return i},t}(e.TfsService);t.BacklogConfigurationService=a});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace",["require","exports","VSS/Context","VSS/ClientTrace/Services","VSS/ClientTrace/Contracts"],function(n,t,i,r,u){function f(n,t,f,e){var o=i.getPageContext(),s=window.navigator.userAgent,h=o&&o.diagnostics&&o.diagnostics.sessionId||"",c={userAgent:s,sessionId:h},l={area:n,component:t,feature:f,exceptionType:null,level:u.Level.Info,message:e,method:null,properties:c};r.trace(l)}Object.defineProperty(t,"__esModule",{value:!0});t.traceMessage=void 0;t.traceMessage=f});

define("VSS/Flux/Store",["require","exports","VSS/Events/Handlers"],function(n,t,i){var r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.RemoteStore=t.DefaultStore=t.Store=void 0;r=function(){function n(){this._changedHandlers=new i.EventHandlerList;this._namedEventCollection=new i.NamedEventCollection}return n.prototype.addChangedListener=function(n){this._changedHandlers.subscribe(n)},n.prototype.removeChangedListener=function(n){this._changedHandlers.unsubscribe(n)},n.prototype.emitChanged=function(){this._changedHandlers.invokeHandlers(this)},n.prototype.emit=function(n,t,i){this._namedEventCollection.invokeHandlers(n,t,i)},n.prototype.addListener=function(n,t){this._namedEventCollection.subscribe(n,t)},n.prototype.removeListener=function(n,t){this._namedEventCollection.unsubscribe(n,t)},n}();t.Store=r;u=function(n){function t(){var t=__construct(this,n,[]),i,r;for(i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return r=t.getAction(),r!==null&&r.addListener(t.onChange,t),t}return __extends(t,n),t.prototype.getAction=function(){return null},t.prototype.onChange=function(n){this._value=n;this.emitChanged()},t.prototype.getValue=function(){return this._value},t}(r);t.DefaultStore=u;f=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._loading=!0,t._error=null,t}return __extends(t,n),t.prototype.isLoading=function(){return this._loading},t.prototype.hasError=function(){return this._error!==null},t.prototype.getError=function(){return this._error},t.prototype.onError=function(n){this._error=n;this.emitChanged()},t}(r);t.RemoteStore=f});

define("VSS/Flux/Action",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.Action=void 0;var i="DEFAULT_SCOPE",r=function(){function n(n){n===void 0&&(n=i);this._listeners=[];this._scope=n}return n.prototype.invoke=function(t){if(n.executingScopes[this._scope])throw new Error("Cannot invoke an action with scope ".concat(this._scope," from inside another action with the same scope"));n.executingScopes[this._scope]=!0;try{this._listeners.forEach(function(n){n&&n(t)})}finally{delete n.executingScopes[this._scope]}},n.prototype.addListener=function(n,t){var i=t?n.bind(t):n;return this._listeners.push(i),i},n.prototype.removeListener=function(n){var t=this._listeners.indexOf(n);t>=0&&this._listeners.splice(t,1)},n.executingScopes={},n}();t.Action=r});

define("VSS/Settings/RestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r){"use strict";function g(n){return window.VSS&&window.VSS.VssSDKRestVersion&&k[window.VSS.VssSDKRestVersion]?i.getClient(k[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):i.getClient(e,undefined,undefined,undefined,n)}var u,f,e,o,s,h,c,l,a,v,y,p,w,b,d,k;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.SettingsHttpClient=t.SettingsHttpClient3=t.SettingsHttpClient3_1=t.SettingsHttpClient3_2=t.SettingsHttpClient4=t.SettingsHttpClient4_1=t.SettingsHttpClient5=t.SettingsHttpClient5_1=t.SettingsHttpClient5_2=t.SettingsHttpClient6=t.SettingsHttpClient6_1=t.SettingsHttpClient7=t.SettingsHttpClient7_1=t.SettingsHttpClient7_2=t.CommonMethods3To7_2=void 0;u=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",routeValues:{userScope:t,scopeName:i,scopeValue:r},apiVersion:this.entriesApiVersion,data:n})},t.prototype.removeEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",routeValues:{userScope:n,scopeName:t,scopeValue:i,key:r},apiVersion:this.entriesApiVersion})},t.prototype.getEntriesForScope=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Settings",locationId:"4cbaafaf-e8af-4570-98d1-79ee99c56327",resource:"Entries",routeTemplate:"_apis/{area}/{scopeName}/{scopeValue}/{resource}/{userScope}/{*key}",responseIsCollection:!0,routeValues:{userScope:n,scopeName:t,scopeValue:i,key:r},apiVersion:this.entriesApiVersion})},t.prototype.setEntries=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",routeValues:{userScope:t},apiVersion:this.entriesApiVersion_cd006711,data:n})},t.prototype.removeEntries=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",routeValues:{userScope:n,key:t},apiVersion:this.entriesApiVersion_cd006711})},t.prototype.getEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Settings",locationId:"cd006711-163d-4cd4-a597-b05bad2556ff",resource:"Entries",routeTemplate:"_apis/{area}/{resource}/{userScope}/{*key}",responseIsCollection:!0,routeValues:{userScope:n,key:t},apiVersion:this.entriesApiVersion_cd006711})},t}(r.VssHttpClient);t.CommonMethods3To7_2=u;f=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="7.2-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient7_2=f;e=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="7.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient7_1=e;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="7.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient7=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="6.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient6_1=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="6.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient6=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="5.2-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient5_2=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="5.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient5_1=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="5.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient5=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="4.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient4_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="4.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient4=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="3.2-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient3_2=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="3.1-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient3_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.entriesApiVersion=r.entriesApiVersion_cd006711="3.0-preview.1",r}return __extends(t,n),t}(u);t.SettingsHttpClient3=b;d=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(f);t.SettingsHttpClient=d;k={"7.2":f,"7.1":e,"7.0":o,"6.1":s,"6.0":h,"5.2":c,"5.1":l,"5.0":a,"4.1":v,"4.0":y,"3.2":p,"3.1":w,"3.0":b};t.getClient=g});

define("VSS/Settings/Services",["require","exports","q","VSS/Contributions/LocalPageData","VSS/Service","VSS/Settings/RestClient","VSS/User/Services"],function(n,t,i,r,u,f,e){function c(n){return u.VssConnection.getConnection(n).getService(h)}Object.defineProperty(t,"__esModule",{value:!0});t.getService=void 0;var s=i({value:{},count:0}),o=i(),h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),Object.defineProperty(t.prototype,"httpClient",{get:function(){return this._httpClient||(this._httpClient=u.getClient(f.SettingsHttpClient)),this._httpClient},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canCallSettingsEndpoint",{get:function(){return this._claimsService||(this._claimsService=e.getService()),this._claimsService.hasClaim(e.UserClaims.Member)},enumerable:!1,configurable:!0}),t.prototype.getEntry=function(n,t,i,u){var h,c,l,f,e,v,y,a,o,s;if(!this.canCallSettingsEndpoint)return undefined;if(h=r.getSharedData("_settings"),h&&(c=this.userScopeToString(t),i&&(c+=";"+i+";"+(u||"")),l=h[c],l))for(f=n.split("/"),e=0,v=f.length;e<v;e++)if(y=f.slice(0,e+1).join("/"),a=l[y],a){for(o=a,s=e+1;s<f.length&&o;s++)o=o[f[s]];return o}return undefined},t.prototype.getEntriesAsync=function(n,t,i,r){return this.canCallSettingsEndpoint?i?this.httpClient.getEntriesForScope(this.userScopeToString(t),i,r,n):this.httpClient.getEntries(this.userScopeToString(t),n):s},t.prototype.setEntries=function(n,t,i,r){return this.canCallSettingsEndpoint?i?this.httpClient.setEntriesForScope(n,this.userScopeToString(t),i,r):this.httpClient.setEntries(n,this.userScopeToString(t)):o},t.prototype.removeEntries=function(n,t,i,r){return this.canCallSettingsEndpoint?i?this.httpClient.removeEntriesForScope(this.userScopeToString(t),i,r,n):this.httpClient.removeEntries(this.userScopeToString(t),n):o},t.prototype.userScopeToString=function(n){return n===1?"host":"me"},t}(u.VssService);t.getService=c});

define("VSSPreview/Utilities/PromiseUtils",["require","exports"],function(n,t){function r(n,t,i){return new Promise(function(r,u){var f=setTimeout(function(){u(i==null?"Timed out after ".concat(t," ms."):i)},t);n.then(function(n){r(n);clearTimeout(f)},function(n){u(n);clearTimeout(f)})})}function i(n){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2,new Promise(function(t){setTimeout(t,n)})]})})}function u(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,Promise.all([n,i(t)])];case 1:return[2,r.sent()[0]]}})})}function f(n){var t=new Array(n.length);return new Promise(function(i){for(var u=0,f=function(r){var f=n[r];f.then(function(n){t[r]={state:"fulfilled",value:n}},function(n){t[r]={state:"rejected",reason:n}}).then(function(){++u===n.length&&i(t)})},r=0;r<n.length;++r)f(r)})}function e(n){return n instanceof Promise?n:new Promise(function(t,i){n.then(t,i)})}function o(){var n,t,i=new Promise(function(i,r){n=i;t=r});return{resolve:n,reject:t,promise:i}}Object.defineProperty(t,"__esModule",{value:!0});t.defer=t.toNativePromise=t.allSettled=t.delay=t.wait=t.timeout=void 0;t.timeout=r;t.wait=i;t.delay=u;t.allSettled=f;t.toNativePromise=e;t.defer=o});

define("WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruSettingsUtils",["require","exports","VSS/Settings/Services","VSS/Utils/Array","VSSPreview/Utilities/PromiseUtils"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationFieldsMruSettingsUtils=void 0,function(n){n.SettingsKey="ClassificationFieldsMru";n.AreaPathMruKey="AreaPath";n.IterationPathMruKey="IterationPath";n.MruLength=5}(f||(f={}));e=function(){function n(){this._settingsService=i.getService()}return n.prototype.readMru=function(n){return u.toNativePromise(this._settingsService.getEntriesAsync(f.SettingsKey,0,"project",n))},n.prototype.parseMru=function(n,t){return{projectId:n,areaPathMru:t&&t.value&&t.value[f.AreaPathMruKey]||[],iterationPathMru:t&&t.value&&t.value[f.IterationPathMruKey]||[]}},n.prototype.getMru=function(n){var t=this;return this.readMru(n).then(function(i){return t.parseMru(n,i)})},n.prototype.updateAreaPathMru=function(n,t){var i=this;return this.getMru(n).then(function(r){var e=i._buildNewMru(r.areaPathMru,t),o={};return o["".concat(f.SettingsKey,"/").concat(f.AreaPathMruKey)]=e,u.toNativePromise(i._settingsService.setEntries(o,0,"project",n).then(function(){return e}))})},n.prototype.updateIterationPathMru=function(n,t){var i=this;return this.getMru(n).then(function(r){var e=i._buildNewMru(r.iterationPathMru,t),o={};return o["".concat(f.SettingsKey,"/").concat(f.IterationPathMruKey)]=e,u.toNativePromise(i._settingsService.setEntries(o,0,"project",n).then(function(){return e}))})},n.prototype._buildNewMru=function(n,t){if(!t||t.length===0)return n;var u=r.unique(t),e=r.subtract(n,u),i=u.concat(e);return i.splice(f.MruLength,i.length-f.MruLength),i},n}();t.ClassificationFieldsMruSettingsUtils=e});

define("WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruActionsCreator",["require","exports","VSS/Error","VSS/Flux/Action","WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruSettingsUtils"],function(n,t,i,r,u){var f,e;Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationFieldsMruActionsCreator=t.ActionsHub=void 0;f=function(){function n(){this.InitializeClassificationFieldsMru=new r.Action;this.SetAreaPathMru=new r.Action;this.SetIterationPathMru=new r.Action}return n}();t.ActionsHub=f;e=function(){function n(n,t){this._actionsHub=n;this._classificationFieldsMruDataProvider=t;this._mruSettingsUtils=new u.ClassificationFieldsMruSettingsUtils}return n.prototype.initializeClassificationFieldsMru=function(n){var t=this;this._classificationFieldsMruDataProvider.isLoaded(n)?this._actionsHub.InitializeClassificationFieldsMru.invoke(null):this._classificationFieldsMruDataProvider.isLoading(n)||(this._classificationFieldsMruDataProvider.setLoading(n,!0),this._mruSettingsUtils.readMru(n).then(function(i){t._classificationFieldsMruDataProvider.setLoading(n,!1);var r=t._mruSettingsUtils.parseMru(n,i);t._actionsHub.InitializeClassificationFieldsMru.invoke(r)},this._logError))},n.prototype.addToAreaPathMru=function(n,t){var i=this;this._mruSettingsUtils.updateAreaPathMru(n,t).then(function(t){i._actionsHub.SetAreaPathMru.invoke({projectId:n,values:t})},this._logError)},n.prototype.addToIterationPathMru=function(n,t){var i=this;this._mruSettingsUtils.updateIterationPathMru(n,t).then(function(t){i._actionsHub.SetIterationPathMru.invoke({projectId:n,values:t})},this._logError)},n.prototype._logError=function(n){i.publishErrorToTelemetry(n)},n}();t.ClassificationFieldsMruActionsCreator=e});

define("WorkItemTracking/Scripts/MruClassificationPicker/Stores/ClassificationFieldsMruStore",["require","exports","VSS/Flux/Store","WorkItemTracking/Scripts/MruClassificationPicker/Actions/ClassificationFieldsMruActionsCreator"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationFieldsMruStore=void 0;var u=function(n){function t(t){var i=__construct(this,n,[]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._items={},i._isLoadingMap={},t.InitializeClassificationFieldsMru.addListener(function(n){n&&(i._items[n.projectId.toLowerCase()]=n,i.emitChanged())}),t.SetAreaPathMru.addListener(function(n){i.isLoaded(n.projectId)&&n.values&&(i._items[n.projectId.toLowerCase()].areaPathMru=n.values);i.emitChanged()}),t.SetIterationPathMru.addListener(function(n){i.isLoaded(n.projectId)&&n.values&&(i._items[n.projectId.toLowerCase()].iterationPathMru=n.values);i.emitChanged()}),i}return __extends(t,n),t.getDefaultFluxContext=function(){if(!this._defaultFluxContext){var n=new r.ActionsHub,i=new t(n),u=new r.ClassificationFieldsMruActionsCreator(n,i);this._defaultFluxContext={store:i,actionsCreator:u}}return this._defaultFluxContext},t.prototype.setLoading=function(n,t){this._isLoadingMap[n.toLowerCase()]=t},t.prototype.isLoading=function(n){return this._isLoadingMap[n.toLowerCase()]},t.prototype.isLoaded=function(n){return this._items[n.toLowerCase()]!=null},t.prototype.getAreaPathMru=function(n){return this.isLoaded(n)?this._items[n.toLowerCase()].areaPathMru:null},t.prototype.getIterationPathMru=function(n){return this.isLoaded(n)?this._items[n.toLowerCase()].iterationPathMru:null},t}(i.Store);t.ClassificationFieldsMruStore=u});

define("WorkItemTracking/Scripts/OM/WorkItemConstants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.CoreLinkTypes=t.LinkTypeName=t.WorkItemPaneMode=t.PageSizes=t.BugWITFieldReferenceNames=t.WorkItemUpdateResultState=t.RelatedDataKeys=t.Actions=t.WorkItemCategoryConstants=t.FieldFlags=t.FieldUsages=t.RuleEvaluatorExecutionPhase=t.FieldStatusFlags=t.FieldStatus=t.Exceptions=t.WorkItemChangeType=t.ServerDefaultValueType=t.ExtensionConstants=void 0,function(n){n.LayoutUserSettingsProvider="ms.vss-work-web.work-item-layout-user-settings-data-provider";n.UnfollowsDataProvider="ms.vss-work-web.work-item-unfollows-data-provider"}(i=t.ExtensionConstants||(t.ExtensionConstants={})),function(n){n[n.None=0]="None";n[n.ServerDateTime=1]="ServerDateTime";n[n.CallerIdentity=2]="CallerIdentity";n[n.RandomGuid=3]="RandomGuid"}(r=t.ServerDefaultValueType||(t.ServerDefaultValueType={})),function(n){n.FieldChange="field-change";n.FieldAllowedValuesChange="field-allowed-values-change";n.PreSave="pre-save";n.Saving="saving";n.SaveCompleted="save-completed";n.Validating="validating";n.ValidationCompleted="validation-completed";n.Saved="saved";n.Opened="opened";n.Created="created";n.Refresh="refresh";n.Reset="reset";n.ErrorChanged="error-changed";n.Discarded="discarded";n.Deleted="deleted";n.ProjectChanging="project-changing";n.ProjectChanged="project-changed";n.TypeChanging="type-changing";n.TypeChanged="type-changed";n.WorkItemLinkChangedOutside="workitem-link-updated-outside"}(u=t.WorkItemChangeType||(t.WorkItemChangeType={})),function(n){n.OperationCanceledException="VSS.WorkItemTracking.OperationCanceledException";n.WorkItemBulkSaveException="VSS.WorkItemTracking.WorkItemBulkSaveException";n.ProjectDoesNotExistException="VSS.WorkItemTracking.ProjectDoesNotExistException";n.FieldDoesNotExistException="VSS.WorkItemTracking.FieldDoesNotExistException";n.LinkTypeEndDoesNotExistException="VSS.WorkItemTracking.LinkTypeEndDoesNotExistException";n.LinkTypeDoesNotExistException="VSS.WorkItemTracking.LinkTypeDoesNotExistException";n.WorkItemSaveFailedDueToInvalidStatusException="VSS.WorkItemTracking.WorkItemSaveFailedDueToInvalidStatusException";n.InvalidQuerySyntaxException="VSS.WorkItemTracking.InvalidQuerySyntaxException";n.InvalidQueryFilterRowException="VSS.WorkItemTracking.InvalidQueryFilterRowException";n.QueryItemAlreadyExistException="VSS.WorkItemTracking.QueryItemAlreadyExistException";n.QueryFolderDoesNotExistException="VSS.WorkItemTracking.QueryFolderDoesNotExistException";n.InvalidOperationException="System.InvalidOperationException"}(f=t.Exceptions||(t.Exceptions={})),function(n){n[n.Valid=0]="Valid";n[n.InvalidEmpty=1]="InvalidEmpty";n[n.InvalidNotEmpty=2]="InvalidNotEmpty";n[n.InvalidFormat=3]="InvalidFormat";n[n.InvalidListValue=4]="InvalidListValue";n[n.InvalidOldValue=5]="InvalidOldValue";n[n.InvalidNotOldValue=6]="InvalidNotOldValue";n[n.InvalidEmptyOrOldValue=7]="InvalidEmptyOrOldValue";n[n.InvalidNotEmptyOrOldValue=8]="InvalidNotEmptyOrOldValue";n[n.InvalidValueInOtherField=9]="InvalidValueInOtherField";n[n.InvalidValueNotInOtherField=10]="InvalidValueNotInOtherField";n[n.InvalidDate=11]="InvalidDate";n[n.InvalidTooLong=12]="InvalidTooLong";n[n.InvalidType=13]="InvalidType";n[n.InvalidComputedField=14]="InvalidComputedField";n[n.InvalidPath=15]="InvalidPath";n[n.InvalidCharacters=16]="InvalidCharacters";n[n.InvalidIdentity=17]="InvalidIdentity";n[n.InvalidUnknown=18]="InvalidUnknown"}(e=t.FieldStatus||(t.FieldStatus={})),function(n){n[n.None=0]="None";n[n.AllowsOldValue=64]="AllowsOldValue";n[n.HasFormats=16]="HasFormats";n[n.HasValues=4]="HasValues";n[n.InvalidCharacters=131072]="InvalidCharacters";n[n.InvalidComputedField=536870912]="InvalidComputedField";n[n.InvalidDate=8192]="InvalidDate";n[n.InvalidEmpty=524288]="InvalidEmpty";n[n.InvalidEmptyOrOldValue=33554432]="InvalidEmptyOrOldValue";n[n.InvalidFormat=2097152]="InvalidFormat";n[n.InvalidID=16384]="InvalidID";n[n.InvalidListValue=4194304]="InvalidListValue";n[n.InvalidMask=2147479552]="InvalidMask";n[n.InvalidNotEmpty=1048576]="InvalidNotEmpty";n[n.InvalidNotEmptyOrOldValue=67108864]="InvalidNotEmptyOrOldValue";n[n.InvalidNotOldValue=16777216]="InvalidNotOldValue";n[n.InvalidOldValue=8388608]="InvalidOldValue";n[n.InvalidPath=32768]="InvalidPath";n[n.InvalidRule=262144]="InvalidRule";n[n.InvalidTooLong=65536]="InvalidTooLong";n[n.InvalidType=4096]="InvalidType";n[n.InvalidValueInOtherField=134217728]="InvalidValueInOtherField";n[n.InvalidValueNotInOtherField=268435456]="InvalidValueNotInOtherField";n[n.LimitedToFormats=32]="LimitedToFormats";n[n.LimitedToValues=8]="LimitedToValues";n[n.ReadOnly=2]="ReadOnly";n[n.Required=1]="Required";n[n.SetByRule=128]="SetByRule";n[n.SetByDefaultRule=256]="SetByDefaultRule";n[n.SetByComputedRule=512]="SetByComputedRule";n[n.InvalidIdentityField=1073741824]="InvalidIdentityField"}(o=t.FieldStatusFlags||(t.FieldStatusFlags={})),function(n){n[n.DefaultRules=1]="DefaultRules";n[n.CopyRules=2]="CopyRules";n[n.OtherRules=3]="OtherRules"}(s=t.RuleEvaluatorExecutionPhase||(t.RuleEvaluatorExecutionPhase={})),function(n){n[n.None=0]="None";n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink";n[n.Tree=4]="Tree";n[n.WorkItemTypeExtension=8]="WorkItemTypeExtension"}(h=t.FieldUsages||(t.FieldUsages={})),function(n){n[n.None=0]="None";n[n.Sortable=1]="Sortable";n[n.Computed=2]="Computed";n[n.Editable=4]="Editable";n[n.Ignored=8]="Ignored";n[n.Queryable=16]="Queryable";n[n.Reportable=32]="Reportable";n[n.PersonField=64]="PersonField";n[n.Cloneable=128]="Cloneable";n[n.LongText=256]="LongText";n[n.SupportsTextQuery=512]="SupportsTextQuery"}(c=t.FieldFlags||(t.FieldFlags={})),function(n){n.HIDDEN="Microsoft.HiddenCategory";n.TEST_CASE="Microsoft.TestCaseCategory";n.TEST_PLAN="Microsoft.TestPlanCategory";n.TEST_SUITE="Microsoft.TestSuiteCategory";n.TEST_SHAREDSTEP="Microsoft.SharedStepCategory";n.TEST_SHAREDPARAMETER="Microsoft.SharedParameterCategory"}(l=t.WorkItemCategoryConstants||(t.WorkItemCategoryConstants={})),function(n){n.NEW_PROJECT_DATA="new-project-data";n.DISCUSSION_ADDED="discussion-added";n.DISCUSSION_DELETED="discussion-deleted";n.DISCUSSION_UPDATED="discussion-updated";n.RESET_DISCUSSION="reset-discussion";n.RESET_HISTORY="reset-history";n.DISCUSSION_EDIT_DIRTY_CHANGED="discussion-dirty-changed";n.DISCUSSION_COMMENT_UPDATED="discussion-comment-updated";n.WORKITEM_DELETED="workitem-deleted";n.WORKITEM_RESTORED="workitem-restored";n.WORKITEM_DESTROYED="workitem-destroyed";n.WORKITEM_DISCARDED="workitem-discarded";n.WORKITEM_ID_UPDATED="workitem-id-updated";n.WORKITEM_COPIED="workitem-copied"}(a=t.Actions||(t.Actions={})),function(n){n.HISTORY_OUTDATED="history-outdated";n.WORKITEM_MANAGER_KEY="workitem-manager"}(v=t.RelatedDataKeys||(t.RelatedDataKeys={})),function(n){n.NoResult="NoResult";n.Error="Error";n.Success="Success"}(y=t.WorkItemUpdateResultState||(t.WorkItemUpdateResultState={})),function(n){n.ReproSteps="Microsoft.VSTS.TCM.ReproSteps"}(p=t.BugWITFieldReferenceNames||(t.BugWITFieldReferenceNames={})),function(n){n.QUERY=200;n.SAVE=200}(w=t.PageSizes||(t.PageSizes={})),function(n){n.Off="off";n.Right="right";n.Bottom="bottom"}(b=t.WorkItemPaneMode||(t.WorkItemPaneMode={})),function(n){n.Child_Link_Name="System.LinkTypes.Hierarchy-Forward";n.Parent_Link_Name="System.LinkTypes.Hierarchy-Reverse";n.Related_Link_Name="System.LinkTypes.Related-Forward"}(k=t.LinkTypeName||(t.LinkTypeName={})),function(n){n[n.Related=1]="Related";n[n.Parent=-2]="Parent";n[n.Child=2]="Child";n[n.Predecessor=-3]="Predecessor";n[n.Successor=3]="Successor"}(d=t.CoreLinkTypes||(t.CoreLinkTypes={}))});

define("Presentation/Scripts/TFS/FeatureRef/CSSNodeEvents",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.CSSNodesInvalidated=void 0;t.CSSNodesInvalidated="CSSNode/Invalidated"});

define("Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TfsSettingsScopeNames=t.TeamProjectCapabilitiesConstants=t.ProjectVisibilityConstants=t.ProjectState=t.Messages=t.LicenseFeatureIds=t.HubsConstants=t.FeatureMode=t.FeatureAvailabilityFlags=t.CoreConstants=void 0,function(n){n.AreaIdGuid="79134c72-4a58-4b42-976c-04e7115f32bf";n.ProjectCollectionsLocationId="8031090f-ef1d-4af6-85fc-698cd75d42bf";n.ProjectsLocationId="603fe2ac-9723-48b9-88ad-09305aa6c6e1";n.ProcessLocationId="93878975-88c5-4e6a-8abb-7ddd77a8a7d8";n.ProjectHistoryLocationId="6488a877-4749-4954-82ea-7340d36be9f2";n.ProjectAvatarLocationId="54b2a2a0-859b-4d05-827c-ec4c862f641a";n.TeamsLocationId="d30a3dd1-f8ba-442a-b86a-bd0c0c383e59";n.CollectionTeamsLocationId="7a4d9ee9-3433-4347-b47a-7a80f1cf307e";n.TeamMembersLocationId="294c494c-2600-4d7e-b76c-3dd50c3c95be";n.ConnectedServicesId="b4f70219-e18b-42c5-abe3-98b07d35525e";n.ProxyId="ec1f4311-f2b4-4c15-b2b8-8990b80d2908";n.PropertiesLocationId="4976a71a-4487-49aa-8aab-a1eda469037a";n.ProjectsPropertiesLocationId="0a3ffdfc-fe94-47a6-bb27-79bf3f762eac";n.AreaId="79134C72-4A58-4B42-976C-04E7115F32BF";n.AreaName="core";n.ProcessAreaName="process";n.ApiString="_apis";n.JsonPatchMediaType="application/json-patch+json";n.ProcessResource="processes";n.ProjectsResource="projects";n.ProjectHistoryResource="projectHistory";n.ProjectAvatarResource="avatar";n.ProjectCollectionsResource="projectCollections";n.TeamsResource="teams";n.TeamMembersResource="members";n.ConnectedServicesResource="connectedServices";n.ProxyResource="proxies";n.ProxyAuthorizationResource="proxyauthorization";n.PropertiesResource="properties";n.ProjectsPropertiesResource="projectsproperties";n.ProjectCollectionsRouteName="ProjectCollections";n.ProjectsRouteName="Projects";n.ProjectHistoryRouteName="ProjectHistory";n.ProjectAvatarRouteName="ProjectAvatar";n.ProcessesRouteName="Processes";n.TeamsRouteName="Teams";n.CollectionTeamsRouteName="CollectionTeams";n.TeamMembersRouteName="TeamMembers";n.ConnectedServicesRouteName="ConnectedServices";n.ProxyRouteName="Proxies";n.PropertiesRouteName="Properties";n.ProjectsPropertiesRouteName="ProjectsProperties";n.TeamsLocationIdString="D30A3DD1-F8BA-442A-B86A-BD0C0C383E59";n.CollectionTeamsLocationIdString="7A4D9EE9-3433-4347-B47A-7A80F1CF307E"}(i=t.CoreConstants||(t.CoreConstants={})),function(n){n.DisablePageSizeForRequirements="WebAccess.TestManagement.DisablePageSizeForRequirements";n.WebAccessDashboardsNewExperienceToggle="WebAccess.Dashboards.NewExperience.Toggle";n.WebAccessDisableTypeAhead="WebAccess.Profile.DisableTypeAhead";n.WebAccessDisableRecommendationService="WebAccess.DisableRecommendationService";n.RecommendationServiceUseAex="VisualStudio.Recommendation.UseAex";n.WebAccessQuickStart="WebAccess.QuickStart";n.WebAccessQuickStartJumpStart="WebAccess.QuickStart.JumpStart";n.WebAccessQuickStartJumpStartForExistingProjects="WebAccess.QuickStart.JumpStartForExistingProjects";n.WebAccessQuickStartKanban="WebAccess.QuickStart.Kanban";n.WebAccessQuickStartKanbanForExistingProjects="WebAccess.QuickStart.KanbanForExistingProjects";n.WebAccessQuickStartScrum="WebAccess.QuickStart.Scrum";n.WebAccessQuickStartMembers="WebAccess.QuickStart.Members";n.WebAccessQuickStartCodeSearchPromotion="WebAccess.QuickStart.CodeSearchPromotion";n.WebAccessQuickStartCodeSearchFileViewerCapabilities="WebAccess.QuickStart.CodeSearchFileViewerCapabilities";n.WebAccessQuickStartCodeSearchFeature="WebAccess.QuickStart.CodeSearchFeature";n.WebAccessSendASmileNavbar="WebAccess.SendASmile.Navbar";n.WebAccessSendASmileNewBehavior="WebAccess.SendASmile.NewBehavior";n.WebAccessAccountShowGettingStartedVideo="WebAccess.Account.GettingStartedVideo";n.WebAccessAccountShowGettingStartedVideoIframe="WebAccess.Account.GettingStartedVideoIframe";n.WebAccessAccountSoftDelete="WebAccess.Account.AccountSoftDelete";n.WebAccessAccountRegion="WebAccess.Account.AccountRegion";n.WebAccessServicePreviewBuild="WebAccess.Service.Preview.Build";n.WebAccessServicePreviewTest="WebAccess.Service.Preview.Test";n.WebAccessExtensions="WebAccess.Extensions";n.WebAccessExtensionsDeployment="WebAccess.Extensions.Deployment";n.WebAccessExtensionsApplication="WebAccess.Extensions.Application";n.WebAccessExtensionsProjectCollection="WebAccess.Extensions.ProjectCollection";n.WebAccessExtensionsPersonal="WebAccess.Extensions.Personal";n.WebAccessVersionControlShowSelectedBranchAdminView="WebAccess.VersionControl.ShowSelectedBranchAdminView";n.WebAccessServiceMetricsAnalytics="WebAccess.Service.MetricsAnalytics";n.WebAccessTrialModeNotification="WebAccess.TrialModeNotification";n.WebAccessEarlyAdopterNotification="WebAccess.EarlyAdopterNotification";n.WebAccessAllowEarlyAdopterAfterExpiration="WebAccess.AllowEarlyAdopterAfterExpiration";n.WebAccessAllowFpsFromScalarWidgets="WebAccess.Widgets.ScalarWidgetsFps.Enable";n.ReportingAnalyticsVisualMenu="WebAccess.Reporting.AnalyticsVisualMenu";n.ReportingBuildTestVisualExamples="WebAccess.Reporting.BuildTestVisualExamples";n.ServiceHooksTfsPublisher="ServiceHooks.TfsHooksPublisher";n.ServiceHooksGeneralAvailability="ServiceHooks.GeneralAvailability";n.OpenPlatformAnnouncement="OpenPlatform.Announcement";n.EnableAddAadUserWarning="WebAccess.EnableAddAadUserWarning";n.WebAccessAccountAadInformationNotification="WebAccess.AccountAadInformationNotification";n.WebAccessWelcomeHub="WebAccess.WelcomeHub";n.WebAccessProjectWelcomeHub="WebAccess.ProjectWelcome";n.WebAccessVersionControlGitPullRequestsWITIntegration="WebAccess.VersionControl.GitPullRequestsWITIntegration";n.WebAccessVersionControlGitReduceBranchComparisonDefaultCount="WebAccess.VersionControl.GitReduceBranchComparisonDefaultCount";n.WebAccessVersionControlGitSecretsScanning="WebAccess.VersionControl.GitSecretsScanning";n.GitPushNewPushPolicies="Git.Push.NewPushPolicies";n.GitPushCommitAuthorPushPolicy="Git.Push.CommitAuthorPushPolicy";n.GitProtectedRepos="Git.ProtectedRepos";n.VisualStudioServicesPersistedNotification="VisualStudio.Services.PersistedNotification";n.ELSVSOIntegrationAnnouncement="ELS.VSO.IntegrationAnnouncement";n.BasicUserLimitedPortfolioAccessNotificationId="16676E24-8F6A-4EAA-9A9D-FCDF57E8BC8A";n.LoadTestFeatureFlag="ELS.VSO.LoadTesting";n.LoadTestEmailEnableFlag="ELS.VSO.EmailEnable";n.LoadTestUltimateEnableFlag="ELS.VSO.UltimateEnable";n.LoadTestGeoEnableFlag="ELS.VSO.GeoEnable";n.LoadTestFeatureEnableForNonUltimateFlag="ELS.VSO.LoadTestEnableForNonUltimate";n.LoadTestAverageResponseTimeThresholdValue="ELS.VSO.AverageResponseTimeThresholdValue";n.WebAccessSearchEnableNewRoute="WebAccess.Search.EnableNewRoute";n.WebAccessSearchShell="WebAccess.SearchShell";n.WebAccessSearchProject="WebAccess.Search.Project";n.WebAccessSearchWorkItemEnableListView="WebAccess.Search.WorkItem.EnableListView";n.WebAccessSearchWorkItem="WebAccess.Search.WorkItem";n.WebAccessSearchWorkItemClientSort="WebAccess.Search.WorkItem.ClientSort";n.WebAccessSearchWorkItemServerSort="WebAccess.Search.WorkItem.ServerSort";n.WebAccessSearchCodeServerSort="WebAccess.Search.Code.ServerSort";n.WebAccessSearchCodeClientSort="WebAccess.Search.Code.ClientSort";n.WebAccessSearchWikiConditionalFaultin="WebAccess.Search.Wiki.ConditionalFaultin";n.WebAccessSearchWorkItemConditionalFaultin="WebAccess.Search.WorkItem.ConditionalFaultin";n.WebAccessSearchWorkItemFeatureToggle="WebAccess.Search.WorkItem.Feature.Toggle";n.WebAccessSearchWorkItemFeatureDefault="WebAccess.Search.WorkItem.Feature.Default";n.WebAccessSearchCustomVC="WebAccess.Search.CustomVC";n.WebAccessSearchMultiAccount="WebAccess.Search.MultiAccount";n.WebAccessSearchMultiBranch="WebAccess.Search.MultiBranch";n.WebAccessSearchMultiBranchConfigurationUX="WebAccess.Search.MultiBranchConfigurationUX";n.WebAccessSearchUseContentHash="WebAccess.Search.UseContentHash";n.WebAccessSearchWorkItemWelcomeBanner="WebAccess.Search.WorkItem.WelcomeBanner";n.WebAccessVersionControlEditing="WebAccess.VersionControl.Editing";n.WebAccessVersionControlWikiLinkTransformation="WebAccess.VersionControl.WikiLinkTransformation";n.VersionControlAllowCreateReadMe="VisualStudio.VersionControl.AllowCreateReadMe";n.SourceControlPullRequestsAttachments="SourceControl.GitPullRequests.Attachments";n.WebAccessVersionControlPullRequestsCommentFeedback="WebAccess.VersionControl.PullRequests.CommentFeedback";n.WebAccessVersionControlPullRequestsDiscussionCollapseWidget="WebAccess.VersionControl.PullRequests.DiscussionCollapseWidget";n.WebAccessVersionControlPullRequestsDiscussionCommentLikes="WebAccess.VersionControl.PullRequests.DiscussionCommentLikes";n.WebAccessVersionControlPullRequestsAutoComplete="WebAccess.VersionControl.PullRequests.AutoComplete";n.WebAccessVersionControlPullRequestsFollows="WebAccess.VersionControl.PullRequests.Follows";n.WebAccessVersionControlPullRequestsCommitsTabReplaced="WebAccess.VersionControl.PullRequest.CommitsTabReplaced";n.WebAccessVersionControlPolicyAutomaticReviewersMinimumCount="WebAccess.VersionControl.Policy.AutomaticReviewers.MinimumCount";n.WebAccessVersionControlContributions="WebAccess.VersionControl.Contributions";n.WebAccessVersionControlIncludeForcePushDetails="WebAccess.VersionControl.Pushes.IncludeForcePushDetails";n.WebAccessVersionControlGitPushersExclusionFilter="WebAccess.VersionControl.GitPushersExclusionFilter";n.WebAccessVersionControlExplorerVanityBadges="WebAccess.VersionControl.ExplorerVanityBadges";n.WebAccessVersionControlGitCredentialManagerAvailable="WebAccess.VersionControl.GitCredentialManagerAvailable";n.WebAccessVersionControlDisableAlternateAuthInGitGettingStarted="WebAccess.VersionControl.DisableAlternateAuthInGitGettingStarted";n.WebAccessVersionControlNewBranches="WebAccess.VersionControl.NewBranches";n.WebAccessVersionControlStaleBranches="WebAccess.VersionControl.StaleBranches";n.WebAccessVersionControlDisableCommitItemCache="WebAccess.VersionControl.DisableCommitItemCache";n.ChartingHistorical="Charting.Historical";n.ChartingAggregation="Charting.Aggregation";n.WebAccessBuildCIWorkflowVariableGroups="WebAccess.Build.CIWorkflow.VariableGroups";n.MarketplaceExtensionSupport="WebAccess.Build.CIWorkflow.MarketplaceExtensionSupport";n.EnableIdentityNavigation="VisualStudio.Services.Framework.EnableIdentityNavigation";n.WebAccessBuildCIWorkflowYaml="WebAccess.Build.CIWorkflow.Yaml";n.WebAccessBuildDiagnosticLogs="WebAccess.Build.DiagnosticLog";n.WebAccessBuildCIWorkflowBuildCompletion="WebAccess.Build.CIWorkflow.BuildCompletion";n.WebAccessBuildCIWorkflowAgentDefinition="WebAccess.Build.CIWorkflow.AgentDefinition";n.WebAccessCIWorkflowEditableControlsWithoutPermission="WebAccess.CIWorkflow.EditableControlsWithoutPermission";n.WebAccessCIWorkflowShallowCloneOnByDefault="WebAccess.Build.CIWorkflow.ShallowCloneOnByDefault";n.BuildXaml="Build.Xaml";n.WebAccessBuildvNextGitHubRepository="WebAccess.BuildvNext.GitHubRepository";n.WebAccessBuildvNextSvnRepository="WebAccess.BuildvNext.SvnRepository";n.WebAccessBuildPhaseDependencies="WebAccess.Build2.PhaseDependencies";n.BuildvNextRetentionPolicy="Build.BuildvNext.RetentionPolicy";n.GitHubDiscoverYamlDefinition="Build2.GitHubDiscoverYamlDefinition";n.GitHubMarketplaceApp="Build2.GitHubMarketplaceApp";n.GitHubRequireCommentsForNonTeamAndNonContributors="Build2.GitHubRequireCommentsForNonTeamAndNonContributors";n.AllowCentralizedPipelineControls="Build2.AllowCentralizedPipelineControls";n.Build2BatchRealtimeUpdates="Build2.BatchRealtimeUpdates";n.Build2AllowOutOfScopeRepository="Build2.AllowOutOfScopeRepository";n.Build2FetchTagsOffByDefault="Build2.FetchTagsOffByDefault";n.WebAccessBuild2ShowYamlView="WebAccess.Build2.ShowYamlView";n.WebAccessSearchCORS="WebAccess.SearchCORS";n.WebAccessSearchPrefetchFirstSearch="WebAccess.Search.PrefetchFirstSearch";n.UseUserDetailsArea="VisualStudio.Services.Identity.UseUserDetailArea";n.ReleaseManagementReleasesHub="WebAccess.ReleaseManagement.ReleasesHub";n.ReleaseManagementCDOptInToggle="WebAccess.ReleaseManagement.NewCDWorkflowOptInToggle";n.ReleaseManagementCDOptInDefault="WebAccess.ReleaseManagement.NewCDWorkflowOptInDefault";n.ReleaseManagementNewCDReleaseViewOptInToggle="WebAccess.ReleaseManagement.NewCDReleaseViewOptInToggle";n.ReleaseManagementNewCDReleaseViewOptInDefault="WebAccess.ReleaseManagement.NewCDReleaseViewOptInDefault";n.ReleaseManagementUseDataProviderForSetupRelease="WebAccess.ReleaseManagement.UseDataProviderForSetupRelease";n.WebAccessAgileBacklogForecastOnDemand="WebAccess.Agile.Backlog.ForecastOnDemand";n.WebAccessAgileTaskboardDelayloadStateTransitions="WebAccess.Agile.Taskboard.DelayloadStateTransitions";n.WebAccessAgileTaskboardExpandCollapseAll="WebAccess.Agile.Taskboard.ExpandCollapseAll";n.WebAccessAgileTaskboardPeopleSwitcher="WebAccess.Agile.Taskboard.PeopleSwitcher";n.WebAccessAgileTaskboardDisableCustomColumns="WebAccess.Agile.Taskboard.DisableCustomColumn";n.WebAccessAgileTaskboardDisableLiveUpdates="WebAccess.Agile.Taskboard.DisableLiveUpdates";n.WebAccessAgileTaskboardLiveUpdatesDisableThrottling="WebAccess.Agile.Taskboard.LiveUpdates.DisableThrottling";n.AgileServerTeamServiceAADGroupsBlockExpansion="Agile.Server.TeamService.AADGroupsBlockExpansion";n.WebAccessVSTSBranding="WebAccess.VSTSBranding";n.WebAccessAgileBehaviorProvisioningRESTAPI="WebAccess.Agile.BehaviorProvisioningRESTAPI";n.BacklogsOfficeFabricContextMenu="WebAccess.Agile.Backlog.OfficeFabContextMenu";n.BacklogsChangeParentContextMenu="WebAccess.Agile.Backlog.ChangeParentMenuItem";n.WebAccessWorkItemTrackingIndexedDBCaching="WebAccess.WorkItemTracking.IndexedDBCaching";n.WebAccessVersionControlPullRequestsNoDefaultTitle="WebAccess.VersionControl.PullRequests.NoDefaultTitle";n.WebAccessVersionControlPullRequestsLabels="WebAccess.VersionControl.PullRequests.Labels";n.WebAccessVersionControlPullRequestsMentions="WebAccess.VersionControl.PullRequests.Mentions";n.WebAccessVersionControlPullRequestListHideGroupReviewers="WebAccess.VersionControl.PullRequestList.HideGroupReviewers";n.WebAccessDiscussionRendererHTMLRenderer="WebAccess.VersionControl.DiscussionRenderer.HTMLRendering";n.WebAccessVersionControlEnablePermissions="WebAccess.VersionControl.EnablePermissions";n.WebAccessVersionControlDisableWITValidationWarning="WebAccess.VersionControl.DisableWITValidationWarning";n.WebAccessVersionControlFilesMoreBlame="WebAccess.VersionControl.Files.MoreBlame";n.WebAccessVersionControlContributedEmptyRepository="WebAccess.VersionControl.ContributedEmptyRepository";n.WebAccessWorkItemTrackingAddLinksByToolType="WebAccess.WorkItemTracking.AddLinksByToolType";n.WebAccessVersionControlPullRequestsTemplates="WebAccess.VersionControl.PullRequests.Templates";n.WebAccessVersionControlPullRequestsViewedStatus="WebAccess.VersionControl.PullRequests.ViewedStatus";n.WebAccessWorkItemTrackingDisableCommentCount="WebAccess.WorkItemTracking.WorkItemsHub.DisableCommentCount";n.ShareEndpointsAcrossProjects="WebAccess.ServiceEndpoints.ShareAcrossProjects";n.AzureSubscriptionBasedDockerRegistry="ServiceEndpoints.AzureSubscriptionBasedDockerRegistry";n.WebAccessWorkItemTrackingEnableCSVExport="WebAccess.WorkItemTracking.EnableCSVExport";n.WebAccessWorkItemTrackingEnableCSVImport="WebAccess.WorkItemTracking.EnableCSVImport";n.DisableWebAccessServerKanbanLogs="WebAccess.Server.DisableKanbanLogs";n.EnableNewUIForKubernetesEndpoint="ServiceEndpoints.EnableNewUIForKubernetesEndpoint";n.EnableNewUIForAzureRMEndpoint="ServiceEndpoints.EnableNewUIForAzureRMEndpoint";n.EnableSovereignSupportInKubernetesEndpoint="ServiceEndpoints.EnableSovereignSupport";n.BitbucketAzurePipelinesOAuthClient="Build2.BitbucketAzurePipelinesOAuthClient";n.BitbucketAzurePipelinesBackupOAuthClient="Build2.BitbucketAzurePipelinesBackupOAuthClient";n.GetWorkItemHistoryFieldValue="WebAccess.WorkItemTracking.GetWorkItemHistoryFieldValue";n.TypeScriptRuleEngineStateTransitionFilteringDisabled="WebAccess.WorkItemTracking.TypeScriptRuleEngineStateTransitionFilteringDisabled";n.AllowWasEverForComputed="WebAccess.WorkItemTracking.AllowWasEverForComputed";n.DisableWorkItemTypesSplittedLoading="WebAccess.WorkItemTracking.DisableWorkItemTypesSplittedLoading";n.SourceControlGitPullRequestsMergeStrategyRebase="SourceControl.GitPullRequests.MergeStrategy.Rebase";n.GitCommitMessageWITTransition="VisualStudio.Mentions.GitCommitMessageWITTransition";n.WebAccessSkypeTeamsTabConfiguration="WebAccess.SkypeTeams.TabConfiguration";n.WebAccessScaledAgilePlansDeliveryTimelineDelayedDragDropCard="WebAccess.ScaledAgile.Plans.DeliveryTimeline.DelayedDragDropCard";n.WebAccessScaledAgilePlansDeliveryTimelineIsCardMovementAnimated="WebAccess.ScaledAgile.Plans.DeliveryTimeline.IsCardMovementAnimated";n.WebAccessAgileKanbanFlatQuery="WebAccess.Agile.Kanban.FlatQuery";n.WebAccessAgileKanbanBoardAutoRefreshThrottling="WebAccess.Agile.KanbanBoard.AutoRefresh.Throttling";n.WebAccessAgileCardAnnotations="WebAccess.Agile.Card.Annotations";n.WebAccessAgileCardRollup="WebAccess.Agile.Card.Rollup";n.WebAccessAgileIncreaseDefaultFilterPageSize="WebAccess.Agile.KanbanBoard.IncreaseDefaultFilterPageSize";n.UseTokenFiltering="WebAccess.WorkItemTracking.UseTokenFiltering";n.DisableLinkFiltersFix="WebAccess.Agile.DisableLinkFiltersFix";n.WebAccessAgileUseBehaviorsForBacklogLevels="WebAccess.Agile.UseBehaviorsForBacklogLevels";n.WebAccessAgileBacklogOneClickOpen="WebAccess.Agile.Backlog.OneClickOpen";n.WebAccessAgileBacklogEnableRollupColumns="WebAccess.Agile.Backlog.EnableRollupColumns";n.WebAccessAccessibilityMonitor="WebAccess.AccessibilityMonitor";n.WebAccessAgileBacklogSafeguardPerformanceSampling="WebAccess.Agile.Backlog.Safeguard.PerformanceSampling";n.TeamServiceSafeguardBlockCreateTeamAndAdminOperations="TeamService.Safeguard.BlockCreateTeamAndAdminOperations";n.TeamConfigurationServiceLimitTeamAreaPathsAndIterations="TeamConfigurationService.SaveTeamFields.LimitAllowedTeamAreaPathsAndIterations";n.CodeAnalysisAdornmentProvider="WebAccess.VersionControl.CodeAnalysisAdornmentProvider";n.WebAccessProcessUpload="WebAccess.Process.ProcessUpload";n.WebAccessXmlTemplateProcess="WebAccess.Process.XmlTemplateProcess";n.WorkItemTrackingCloneHostedXmlToInheritedDisabled="WorkItemTracking.Server.CloneHostedXmlToInheritedDisabled";n.WorkItemTrackingNewFormMoreSpaceInHeader="WebAccess.WorkItemTracking.NewForm.MoreSpaceInHeader";n.WorkItemTrackingMove="WorkItemTracking.Server.MoveWorkItems";n.InvalidateClientTagCacheOnWorkItemSave="WebAccess.WorkItemTracking.InvalidateClientTagCacheOnWorkItemSave";n.WebAccessWorkItemTrackingFindWiUseFavorites="WebAccess.WorkItemTracking.FindWorkItemUseFavorites";n.ShowTeamProfileCard="WebAccess.ShowTeamProfileCard";n.TeamAgnosticWorkItemTemplates="WebAccess.WorkItemTracking.TeamAgnosticWorkItemTemplates";n.WorkItemTemplatesLegacyUrl="WebAccess.WorkItemTracking.WorkItemTemplates.LegacyUrl";n.DisableWorkItemTrackingStateColors="WebAccess.WorkItemTracking.Safeguard.DisableWorkItemStateColors";n.WorkItemTrackingChangeWorkItemType="WorkItemTracking.Server.ChangeWorkItemType";n.DisableSendMailDataProvider="WorkItemTracking.Server.DisableSendMailDataProvider";n.AllowEmailingInvitedUsers="WorkItemTracking.Server.AllowEmailingInvitedUsers";n.DisableWorkItemColorDataProvider="WorkItemTracking.Server.DisableWorkItemColorDataProvider";n.EnableWebAccessBoardsService="WorkItemTracking.Server.EnableWebAccessBoardsService";n.EnableUIWithBoardsService="WorkItemTracking.Server.EnableUIWithBoardsService";n.DisableWorkItemStoreDataProviders="WorkItemTracking.Server.DisableWorkItemStoreDataProviders";n.ProjectChangeProcessDisabled="WorkItemTracking.Server.ProjectChangeProcessDisabled";n.CloneProcessCustomWITStatesNewMergeDisabled="WorkItemTracking.Server.CloneProcessCustomWITStatesNewMergeDisabled";n.EnableClassificationNodeRestClients="WorkItemTracking.Server.EnableClassificationNodeRestClients";n.EnableLiveReloadForWorkItemLinks="WebAccess.WorkItemTracking.EnableLiveReloadForWorkItemLinks";n.AllowMVCDownloadAttachment="WorkItemTracking.Server.AllowMVCDownloadAttachment";n.IgnoreActiveWorkItemTypesInBacklogsHubContentService="WorkItemTracking.Server.IgnoreActiveWorkItemTypesInBacklogsHubContentService";n.WebAccessWorkItemTrackingHistoryViewExtension="WebAccess.WorkItemTracking.HistoryViewExtension";n.WebAccessWorkItemTrackingEnableLinksOfDeletedAttachments="WebAccess.WorkItemTracking.EnableLinksOfDeletedAttachments";n.WebAccessWidgetsUseAnalyticsAgileChartingClient="WebAccess.Widgets.UseAnalyticsAgileChartingClient";n.WebAccessBuildvNextEmailBuildSummary="WebAccess.BuildvNext.EmailBuildSummary";n.WebAccessVersionControlQuickActions="WebAccess.VersionControl.QuickActions";n.WebaccessProcessHierarchy="WebAccess.Process.Hierarchy";n.WebaccessProcessSecurityPanel="WebAccess.Process.SecurityPanel.Enable";n.WebAccessServicePrincipal="WebAccess.ServicePrincipal";n.WebAccessHideServicePrincipal="WebAccess.HideServicePrincipal";n.WebAccessAutoCreateServicePrincipal="WebAccess.AutoCreateServicePrincipal";n.WebAccessAutoCreateServicePrincipalAcrossTenants="WebAccess.AutoCreateServicePrincipalAcrossTenants";n.WebAccessAutoCreateOAuthBasedServicePrincipalAcrossTenants="WebAccess.AutoCreateOAuthBasedServicePrincipalAcrossTenants";n.WebAccessAutoCreateServicePrincipalCompleteCallbackByAuthcode="WebAccess.AutoCreateServicePrincipalCompleteCallbackByAuthcode";n.WebAccessEnableNationalCloudForServicePrincipal="WebAccess.EnableNationalCloudForServicePrincipal";n.WebAccessEnableAzureStackForServicePrincipal="WebAccess.EnableAzureStackForServicePrincipal";n.WebAccessEnableResourceGroupScopedServicePrincipal="WebAccess.EnableResourceGroupScopedServicePrincipal";n.WebAccessSignalRSeparateAppPool="WebAccess.SignalR.AppPool";n.WebAccessSignalRDisablePing="WebAccess.SignalR.DisablePing";n.WebAccessWorkItemTrackingFormSignalR="WebAccess.WorkItemTracking.Form.SignalR.Enabled";n.AadGroupsAdminUi="VisualStudio.Services.AadGroupsAdminUi";n.MinControlNewAddDialog="VisualStudio.Services.Web.MinControlNewAddDialog";n.DoNotPopulateIdentityGrid="VisualStudio.Services.Web.DoNotPopulateIdentityGrid";n.CollectionAdminWebUi="VisualStudio.Services.Web.CollectionAdmin.UserExperience";n.OrgAdminWebUi="VisualStudio.Services.Web.OrgAdmin.UserExperience";n.TriPassPercentageCalculation="TestManagement.Server.TriPassPercentageCalculation";n.TriShowTestRunSummaryInContext="TestManagement.Server.TriShowTestRunSummaryInContext";n.TriTrendChartsForRM="TestManagement.Server.TriTrendChartsForRM";n.BuildSummaryCodeCoverage="TestManagement.Server.BuildSummaryCodeCoverage";n.ModuleDetailsUIForDotCoverage="TestManagement.Server.ModuleDetailsUIForDotCoverage";n.BuildSummaryCodeCoverageCharts="TestManagement.Server.BuildSummaryCodeCoverageCharts";n.FileContainerServiceBrowseItems="VisualStudio.FileContainerService.BrowseItems";n.TriReportCustomization="TestManagement.Server.TRIReportCustomization";n.ShowNotImpactedInTestResults="TestImpact.Server.ShowNotImpactedInTestResults";n.TriQuickStartTraceability="TestManagement.Server.TriQuickStartTraceability";n.TCMUseNewIdentityPicker="WebAccess.TestManagement.UseNewIdentityPicker";n.IdentityPickerClientPerformance="VisualStudio.Services.IdentityPicker.ClientPerformance";n.SSHPublicKeys="WebAccess.SshUI";n.WebAccessTCMTestPlanLiteHub="WebAccess.TestManagement.TestPlanLiteHub";n.WebAccessTCMMineTestPlanSkinnyProvider="WebAccess.TestManagement.MineTestPlanSkinnyProvider";n.WebAccessTCMAllTestPlanSkinnyProvider="WebAccess.TestManagement.AllTestPlanSkinnyProvider";n.WebAccessTCMAdvTestExtPermissionsProvider="WebAccess.TestManagement.AdvTestExtPermissionsProvider";n.WebAccessTCMManageTestPlansHubLWP="WebAccess.TestManagement.ManageTestPlansHubLWP";n.AddToExistingBugResultSummaryPage="WebAccess.TestManagement.AddToExistingBugResultSummaryPage";n.WebAccessUseNonWiqlPointCountQuery="WebAccess.TestManagement.UseNonWiqlPointCountQuery";n.WebAccessShowDTROptionForTestRunner="WebAccess.TestManagement.ShowDTROptionForTestRunner";n.WebAccessTCMEnableXtForEdge="WebAccess.TestManagement.EnableEdgeXt";n.GatedCheckInTrigger="Build2.GatedCheckInTrigger";n.MaxConcurrentBuildsPerBranchFeature="Build2.MaxConcurrentBuildsPerBranch";n.FilePathArtifactsAndSymbolsDeleteFeature="Build2.Retention.FilePathArtifactsAndSymbolsDelete";n.BuildAllDefinitionsTab="WebAccess.Build.Definitions.All";n.WebAccessAddInlineTest="WebAccess.TestManagement.InlineTest";n.ExcludeJQueryUI="VisualStudio.Services.Contributions.ExcludeCompleteJQueryUI";n.WebAccessTestManagementPointCountFeatureDisabled="WebAccess.TestManagement.PointCountFeature";n.WebAccessTestManagementEnableDesktopScreenShot="WebAccess.TestManagement.EnableDesktopScreenShot";n.WebAccessTestManagementEnableAudioWithVideo="WebAccess.TestManagement.EnableAudioWithVideo";n.WebAccessTestManagementRenderMarkDownComment="WebAccess.TestManagement.RenderMarkDownComment";n.WebAccessTestManagementUpdateRunComment="WebAccess.TestManagement.UpdateRunComment";n.WebAccessTestManagementReactBasedRunWithOptionsDialog="WebAccess.TestManagement.ReactBasedRunWithOptions";n.LogStoreAttachments="WebAccess.TestManagement.LogStore";n.WebAccessTestManagementAttachmentsGridView="WebAccess.TestManagement.AttachmentsGridView";n.WebAccessTestManagementBugsGridView="WebAccess.TestManagement.BugsGridView";n.WebAccessTestManagementLinkedItemsGridView="WebAccess.TestManagement.LinkedItemsGridView";n.WebAccessTestManagementRequirementsGridView="WebAccess.TestManagement.RequirementsGridView";n.WebAccessTestManagementFiltersForRerun="WebAccess.TestManagement.FiltersForRerun";n.WebAccessTestManagementLinkedStackTrace="WebAccess.TestManagement.LinkedStackTrace";n.TriTestResultsSearchAndFilter="WebAccess.TestManagement.TestResultsSearchAndFilter";n.AnalyticsTestResultsFilters="WebAccess.TestManagement.Analytics.TestResultsFilters";n.AnalyticsRouteAPIsToTestResultDaily="WebAccess.TestManagement.Analytics.RouteAPIsToTestResultDaily";n.AnalyticsSwitchToTestSKContextFilter="WebAccess.TestManagement.Analytics.SwitchToTestSKContextFilter";n.AnalyticsGroupByAndFilterOnTestSK="WebAccess.TestManagement.Analytics.GroupByAndFilterOnTestSK";n.TestAnalyticsRemoveReleaseEntities="WebAccess.Test.Analytics.RemoveReleaseEntities";n.PipelineAnalyticsRenameBuildEntities="WebAccess.Pipeline.Analytics.RenameBuildEntities";n.TriReportingAbortedRuns="TestManagement.Server.ReportingAbortedRuns";n.TriInProgress="TestManagement.Server.ReportingInProgressRuns";n.TriSignalRIntegration="TestManagement.Server.SignalRReportingRuns";n.PublishOnTcmService="TestManagement.Server.EnablePublishOnTcmService";n.UseOnlyLongPolling="WebAccess.TestManagement.UseOnlyLongPolling";n.QueryFromTcmService="WebAccess.TestManagement.QueryFromTcmService";n.LWPTestTab="WebAccess.TestManagement.TestTabInNewWebPlatform";n.WebAccessTestManagementInProgressRunsInInProgressDefaultView="WebAccess.TestManagement.ShowInProgressRunsInInProgressDefaultView";n.WebAccessTestManagementHierarchicalViewForResults="WebAccess.TestManagement.HierarchicalViewForResults";n.WebAccessTestManagementShowSummaryForNotImpactedTests="WebAccess.TestManagement.ShowSummaryForNotImpactedTests";n.TcmChartWidget="WebAccess.Widgets.TcmChartWidget";n.WebAccessTestManagementAddRefLinksToRequirement="TestManagement.Server.AddTestCaseRefLinksToRequirement";n.WebAccessTestManagementTestTabExtensionBuild="WebAccess.TestManagement.TestTabExtension.Build";n.WebAccessTestManagementTestTabInNewWebPlatform="WebAccess.TestManagement.TestTabInNewWebPlatform";n.UpdateTestersOnSuiteUpdate="TestManagement.Server.SuitesApiIncludeTesters";n.WebAccessTestManagementNewTestPlanExperienceToggle="WebAccess.TestManagement.NewTestPlanExperience.Toggle";n.IsSingletonTestPointGridToolbarInstanceEnabled="WebAccess.TestManagement.SingletonTestPointGridToolbarInstance";n.ShouldEnableFilterInInProgress="TestManagement.Server.ShouldEnableFilterInInProgress";n.AnalyticsHubForManualTest="WebAccess.TestManagement.EnableNewAnalyticsHubForManualTest";n.DisableAutoRefreshOfEntryPointTextForAnalyticsHubForManualTest="WebAccess.TestManagement.DisableAutoRefreshOfEntryPointTextForAnalyticsHubForManualTest";n.GalleryPromotion="Gallery.NewFeature.GalleryPromotion";n.AdminWorkHubDisplayAreaOwners="Admin.WorkHub.DisplayAreaOwners";n.BuildHostedImage="WebAccess.Build.HostedImageSelection";n.NewCIWorkflowOptIn="WebAccess.Build.NewCIWorkflowOptIn";n.NewCIWorkflowOptInDefault="WebAccess.Build.NewCIWorkflowOptInDefault";n.NewCIWorkflowOptInToggle="WebAccess.Build.NewCIWorkflowOptInToggle";n.TaskOutputVariables="DistributedTask.TaskOutputVariables";n.TaskValidateOutputVariables="DistributedTask.TaskValidateOutputVariables";n.BuildAndReleaseResourceLimits="WebAccess.BuildAndRelease.ResourceLimits";n.LimitHostedMaxParallelism="DistributedTask.LimitHostedMaxParallelism";n.PipelineBillingModel2SelfHostedInfiniteResourceLimits="DistributedTask.PipelineBillingModel2.SelfHosted.InfiniteResourceLimits";n.PipelineBillingModel2="DistributedTask.PipelineBillingModel2";n.PipelineBillingModel2PublicProjects="DistributedTask.PipelineBillingModel2.PublicProjects";n.OldTaskGroupHub="WebAccess.DistributedTask.EnableOldTaskGroupHub";n.SwitchToQueueAdminHubExtension="WebAccess.DistributedTask.Queue.Extension";n.DistributedTaskKSB="Webaccess.DistributedTask.KSB";n.ServiceEndpointInlineSPNDescriptor="DistributedTask.TaskEditor.ServiceEndpointInlineSPNDescriptor";n.DistributedTaskTaskPreview="DistributedTask.TaskPreview";n.DistributedTaskViewYamlHasMoved="DistributedTask.ViewYamlHasMoved";n.WebAccessVersionControlCherryPick="WebAccess.VersionControl.CherryPick";n.SourceControlCherryPick="SourceControl.CherryPick";n.SourceControlRevert="SourceControl.Revert";n.SourceControlGitPullRequestsConflicts="SourceControl.GitPullRequests.Conflicts";n.SourceControlGitCherryPickConflicts="SourceControl.GitCherryPick.Conflicts";n.SourceControlGitRevertConflicts="SourceControl.GitRevert.Conflicts";n.SourceControlGitPullRequestsRetarget="SourceControl.GitPullRequests.Retarget";n.SourceControlGitPullRequestsSelectiveAutoComplete="SourceControl.GitPullRequests.SelectiveAutoComplete";n.SourceControlGitPullRequestsEnforceAdHocRequiredReviewers="SourceControl.GitPullRequests.EnforceAdHocRequiredReviewers";n.SourceControlGitPullRequestsAutoCompleteLegacyNonBlockingBehavior="SourceControl.GitPullRequests.AutoCompleteLegacyNonBlockingBehavior";n.WebAccessVersionControlConflictsDisplay="WebAccess.VersionControl.ConflictsDisplay";n.WebAccessNotificationsUI="Notifications.Web.NotificationsUI";n.NotificationsWebTileStatistic="Notifications.Web.TileStatistic";n.UsersAndRoomsHubs="WebAccess.ContributedHeader.UsersAndRoomsHubs";n.NewAccountLandingPageFavoriteDiscovery="WebAccess.Account.NewLandingPage.FavoriteDiscovery";n.NewUserHub="VisualStudio.UserManagement.Web.UserHub";n.WebAccessMyExperiencesNewProjectCreation="WebAccess.MyExperiences.NewProjectCreation";n.WebAccessMyExperiencesOrgAccountSelector="WebAccess.MyExperiences.OrgAccountSelector";n.WebAccessSearchSearchThisOrganization="WebAccess.Search.SearchThisOrganization";n.WebAccessNewEmptyRepoPage="WebAccess.VersionControl.NewEmptyRepoPage";n.QuickStartXTPromotion2="TestManagement.QuickStart.XTPromotion2";n.MyWorkShowRecentActivity="WebAccess.MyWork.ShowRecentActivity";n.MyWorkShowMentioned="WebAccess.MyWork.ShowMentioned";n.NewProjectOVerviewPageBuildReleaseMetrics="WebAccess.Project.NewOverviewPage.BuildReleaseMetrics";n.NewProjectOverviewPageLikes="WebAccess.Project.NewOverviewPage.Likes";n.NewProjectOverviewUseIsAnyServiceInitializedData="WebAccess.Project.Verticals.OverviewPage.UseIsAnyServiceInitializedData";n.ProcessSettingsValidatorAllowCustomTeamField="Agile.ProcessSettingsValidator.AllowCustomTeamField";n.WebAccessWikiImmersive="WebAccess.Wiki.Immersive";n.WebAccessWikiPageViewStats="WebAccess.Wiki.PageViewStats";n.WebAccessWikiProductDocumentation="WebAccess.Wiki.ProductDocumentation";n.WebAccessWikiUnpublishCodeWiki="WebAccess.Wiki.UnpublishCodeWiki";n.WebAccessWikiHandleBrokenLinks="WebAccess.WikiHandleBrokenLinks";n.WebAccessWikiTemplateSupport="WebAccess.Wiki.TemplateSupport";n.WebAccessWikiRichCodeWikiEditing="WebAccess.Wiki.RichCodeWikiEditing";n.WebAccessWikiRenameWiki="WebAccess.Wiki.RenameWiki";n.WikiTemplateEditing="Wiki.EnableTemplateEditing";n.WikiWebEnableNewMermaidSupportedDiagram="Wiki.Web.EnableNewMermaidSupportedDiagram";n.WebAccessWikiEnableFuzzySearch="WebAccess.Wiki.EnableFuzzySearch";n.WebAccessWikiDetailedFilterTelemetry="WebAccess.Wiki.DetailedFilterTelemetry";n.CleanupDeleteBoardsForDeletedBacklogLevels="Agile.Cleanup.DeleteBoardsForDeletedBacklogLevels";n.WebAccessProjectTags="WebAccess.Project.Tags";n.WebAccessProjectLanguages="WebAccess.Project.Languages";n.WebAccessAgileDoneColumnSortNullsLast="WebAccess.Agile.DoneColumnSortNullsLast";n.UserManagementProjectDialog="VisualStudio.UserManagement.ProjectInviteDialog";n.AnalyticsRichWorkFieldFiltering="WebAccess.Widgets.AnalyticsRichWorkFieldFiltering";n.PATPaginationAndFiltering="VisualStudio.Services.Identity.PATPaginationAndFiltering";n.UseNotificationPipelineForMentions="VisualStudio.Mentions.UseNotificationPipeline";n.AllowGroupMentions="VisualStudio.Mentions.AllowGroupMentions";n.MaterializeAadGroupsInMentions="VisualStudio.Mentions.MaterializeAadGroupsInMentions";n.UseStorageKeyInMentions="VisualStudio.Mentions.UseStorageKeyInMentions";n.HideTypeAndTitleInWorkItemMentions="VisualStudio.Mentions.HideTypeAndTitleInWorkItemMentions";n.GroupLicensingRule="VisualStudio.Services.GroupLicensingRule";n.AnonymousAccessFeatureName="VisualStudio.Services.Identity.AnonymousAccess";n.WebAccessDashboardsUseFpsNavigation="WebAccess.Dashboards.UseFpsForSwitchingDashboards.Enable";n.WebAccessDashboardsMonitorResourceUtilizationHeaders="WebAccess.Dashboards.MonitorResourceUtilizationHeaders";n.WebAccessDashboardsSuppressAutoRefreshOnHighResourceUtilization="WebAccess.Dashboards.SuppressAutoRefreshOnHighResourceUtilization";n.WebAccessDashboardsSecurityDialog="WebAccess.Dashboards.SecurityDialog";n.WebAccessAllowFpsWidgets="WebAccess.Widgets.AllowFpsWidgets";n.UseNewBranding="VisualStudio.Services.WebPlatform.UseNewBranding";n.NetPromoterSurveyAnonymousAccess="WebAccess.Survey.NetPromoter.AnonymousAccess";n.ATREnableIALAndVideo="WebAccess.TestManagement.ATREnableIALAndVideo";n.ATREnableVideoWithAudio="WebAccess.TestManagement.ATREnableVideoWithAudio";n.GitHubLinkification="WorkItemTracking.Server.GitHubLinkification";n.ShareVariableGroups="WebAccess.DistributedTask.ShareVariableGroups";n.EnableChecksScalabilityResourceIssues="Pipelines.Checks.EnableChecksScalabilityResourceIssues";n.ResourceAuthorizationforVGEndpoint="WebAccess.DistributedTask.ResourceAuthorization.VGEndpoint";n.WebAccessWorkItemTrackingFormRoosterEnable="WebAccess.WorkItemTracking.Form.Rooster.Enable";n.WebAccessWorkItemTrackingFormCommentServiceEditAndDeleteEnable="WorkItemTracking.Server.CommentService.EnableEditAndDelete.F4";n.WebAccessWorkItemTrackingEnableCommentReactions="WorkItemTracking.Server.CommentService.EnableCommentReactions";n.WebAccessEnableCommentReactionsNotifications="Comments.Server.EnableCommentReactionsNotifications";n.WebAccessWorkItemTrackingDisableTagsMRU="WebAccess.WorkItemTracking.DisableTagsMRU";n.ResourceAuthorizationExperience="WebAccess.DistributedTask.ResourceAuthorizationExperience";n.QueryMyWorkByExcludingDoneStates="WorkItemTracking.Server.QueryMyWorkByExcludingDoneStates";n.AnalyticsDashboardShadowTesting="WebAccess.Dashboards.AnalyticsShadowTesting";n.PipelinesSimplifiedRetention="Pipelines.SimplifiedRetention";n.PipelinesExtendedRetention="Pipelines.ExtendedRetention";n.EnableCustomFollows="WebAccess.WorkItemTracking.EnableCustomFollows";n.WebAccessWorkItemTrackingHtmlFieldsMentionsEnable="WebAccess.WorkItemTracking.EnableHtmlFieldsMentions";n.UseProdAzureResources="VisualStudio.Services.UseProdAzureResourcesOnDevFabric";n.NewServiceConnectionUI="ms.vss-distributedtask-web.new-serviceconnections-ui";n.EnableBranchesMenuSecurityDialog="WebAccess.VersionControl.Branches.SecurityDialog";n.EnableExtensionFilterMethodUsageTelemetry="WebAccess.WorkItemTracking.EnableExtensionFilterMethodUsageTelemetry";n.EnableAreaIterationPathSecurityDialog="WebAccess.Agile.Admin.SecurityDialog";n.EnableDetailedMyWorkItemsList="WebAccess.MyExperiences.MyWorkItems";n.EnableRepositoriesSecurityView="WebAccess.VersionControl.Repositories.SecurityView";n.DashboardsTeamAgnostic="WebAccess.Dashboards.TeamAgnosticDashboards";n.EnableNewSignalrRAppPool="WebAccess.SignalR.AppPool";n.EnableBlockingLastPusherVote="SourceControl.Policy.LastPusherCannotBeApprover";n.EnableSourceControlPolicyLastIterationApproved="SourceControl.Policy.LastIterationApproved";n.DisableRelatedWorkItemSuggestions="WebAccess.WorkItemTracking.DisableRelatedWorkItemSuggestions";n.DisableRichTextWorkItemPrefetch="WebAccess.WorkItemTracking.DisableRichTextWorkItemPrefetch";n.DisableAssigneesOnChildItems="WorkItemTracking.Server.DisableAssigneesOnChildItems";n.ServerSideFilteringByKeywordDisabled="WebAccess.WorkItemTracking.ServerSideFilteringByKeywordDisabled";n.MarkdownDiscussionEnabled="WebAccess.WorkItemTracking.Form.MarkdownDiscussionEnabled";n.EnableNewCommentsStorage="WorkItemTracking.Server.CommentService.LegacyCommentsApiOnNewStorage";n.EnableGetTestFailureTypeFromTcm="WebAccess.TestManagement.EnableGetTestFailureTypeFromTcm";n.GetBuildCodeCoverageReadOnlyEnabled="WebAccess.TestManagement.GetBuildCodeCoverage.EnableSqlReadReplica";n.GetCodeCoverageSummaryReadOnlyEnabled="WebAccess.TestManagement.GetCodeCoverageSummary.EnableSqlReadReplica";n.GetQueryTestHistoryReadOnlyEnabled="WebAccess.TestManagement.QueryTestHistory.EnableSqlReadReplica";n.ServicePrincipalsAllowed="WebAccess.WorkItemTracking.ServicePrincipalsAllowed";n.ProjectLimitAreaPathsEnabled="WorkItemTracking.Server.ProjectLimitAreaPaths";n.ProjectLimitIterationPathsEnabled="WorkItemTracking.Server.ProjectLimitIterationPaths"}(r=t.FeatureAvailabilityFlags||(t.FeatureAvailabilityFlags={})),function(n){n[n.Off=0]="Off";n[n.Advertising=1]="Advertising";n[n.Trial=2]="Trial";n[n.Licensed=3]="Licensed"}(u=t.FeatureMode||(t.FeatureMode={})),function(n){n.MruHubPath="/WebAccess/MRU/Hub";n.MruCookieName="StickyHub";n.EmitHubMruViewDataKey="TFS-EmitHubMru"}(f=t.HubsConstants||(t.HubsConstants={})),function(n){n.Admin="65AC9DB3-BB0A-42fe-B584-A690FB0D817B";n.AdvancedBacklogManagement="CEDD6BE8-B717-4a0a-8BFD-C4E9B4CAA071";n.AdvancedHomePage="509B6940-9948-47e6-A392-99E0CA873F65";n.AdvancedPortfolioBacklogManagement="F1026762-C08D-4de3-9C17-7587296F3CFE";n.AgileBoards="181DDF83-AFAF-4982-97D9-870AE96BB8D3";n.BacklogManagement="EC7545A3-E5DB-40E8-B0D0-F64DF7619BBA";n.Build="D8BE799B-2716-4c4b-A939-E97C46A28CAA";n.ChartAuthoring="F01E607A-F55C-4038-8F4B-7956712DEA22";n.ChartViewing="A510D786-5E4B-432F-8C31-F9D7B42CF17E";n.Code="2FF0A29B-5679-44f6-8FAD-F5968AE3E32E";n.Feedback="BB000720-4CF7-466A-BA47-1AB40B7A8DFB";n.PortfolioBacklogManagement="68DFF179-850A-4F20-A489-E6BD6E6A17EC";n.ReleaseManagementStakeholder="F2CB3207-42D8-42CA-81F3-43F9C5182AF7";n.ReleaseManagement="321CEBB8-72F6-40E6-836D-47580566CCF4";n.Standard="D91355E2-2A55-4CBE-9636-4D73F70FBA7C";n.TestManagementForBasicUsers="2BAEE8C9-BB36-4DE1-B991-3C1B6B5CB2B5";n.TestManagementForExpressSku="2DD84BB6-7821-4FDE-85BA-A6CC4AB1B7E9";n.TestManagement="8D00EEB7-D5AD-4141-B601-FBB500F264BA";n.ViewMyWorkItems="4F5D9D44-EC3F-4AF1-921A-DEE2147C54DC"}(e=t.LicenseFeatureIds||(t.LicenseFeatureIds={})),function(n){n.DismissNotificationRegistryPath="/notification/dismiss/"}(o=t.Messages||(t.Messages={})),function(n){n[n.Deleting=2]="Deleting";n[n.New=0]="New";n[n.WellFormed=1]="WellFormed";n[n.CreatePending=3]="CreatePending";n[n.All=-1]="All";n[n.Unchanged=-2]="Unchanged";n[n.Deleted=4]="Deleted"}(s=t.ProjectState||(t.ProjectState={})),function(n){n.EveryoneInTenant="EveryoneInTenant";n.TeamMembers="TeamMembers";n.Everyone="Everyone"}(h=t.ProjectVisibilityConstants||(t.ProjectVisibilityConstants={})),function(n){n.FeaturesCapabilityName="features";n.FeaturesEnabled="featuresEnabled";n.VersionControlCapabilityName="versioncontrol";n.VersionControlCapabilityAttributeName="sourceControlType";n.VersionControlGitEnabledAttributeName="gitEnabled";n.VersionControlTfvcEnabledAttributeName="tfvcEnabled";n.ProcessTemplateCapabilityName="processTemplate";n.ProcessTemplateCapabilityTemplateNameAttributeName="templateName";n.ProcessTemplateCapabilityTemplateTypeIdAttributeName="templateTypeId"}(c=t.TeamProjectCapabilitiesConstants||(t.TeamProjectCapabilitiesConstants={})),function(n){n.Project="Project";n.Team="Team";n.WebTeam="WebTeam";n.Repository="Repository"}(l=t.TfsSettingsScopeNames||(t.TfsSettingsScopeNames={}))});

define("Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants",["require","exports"],function(n,t){var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTypeIcons=t.WorkItemTrackingMetadataCacheConstants=t.WorkItemSettingsConstants=t.WorkItemLinkConstants=t.WorkItemFormExtensionsConstants=t.WorkItemFormContributionProperties=t.WorkItemFeatureStateConstants=t.WITCommonConstants=t.WellKnownControlNames=t.UnfollowResultStatus=t.QueryResultFormat=t.QueriesConstants=t.OobFieldRefNames=t.FormLayoutType=t.FollowsConstants=t.FieldType=t.DalFields=t.CoreLinkTypeReferenceNames=t.CoreFieldRefNames=t.CoreField=t.CacheStatus=void 0,function(n){n[n.UpToDate=0]="UpToDate";n[n.NewData=1]="NewData";n[n.StaleData=2]="StaleData"}(i=t.CacheStatus||(t.CacheStatus={})),function(n){n[n.Id=-3]="Id";n[n.Rev=8]="Rev";n[n.Title=1]="Title";n[n.Description=52]="Description";n[n.WorkItemType=25]="WorkItemType";n[n.TeamProject=-42]="TeamProject";n[n.State=2]="State";n[n.Reason=22]="Reason";n[n.CreatedBy=33]="CreatedBy";n[n.AssignedTo=24]="AssignedTo";n[n.ChangedBy=9]="ChangedBy";n[n.ChangedDate=-4]="ChangedDate";n[n.CreatedDate=32]="CreatedDate";n[n.RevisedDate=-5]="RevisedDate";n[n.AuthorizedDate=3]="AuthorizedDate";n[n.AuthorizedAs=-1]="AuthorizedAs";n[n.History=54]="History";n[n.AreaPath=-7]="AreaPath";n[n.AreaId=-2]="AreaId";n[n.IterationPath=-105]="IterationPath";n[n.IterationId=-104]="IterationId";n[n.NodeName=-12]="NodeName";n[n.RelatedLinkCount=75]="RelatedLinkCount";n[n.HyperLinkCount=-32]="HyperLinkCount";n[n.AttachedFileCount=-31]="AttachedFileCount";n[n.ExternalLinkCount=-57]="ExternalLinkCount";n[n.CommentCount=-33]="CommentCount";n[n.LinkType=100]="LinkType";n[n.Tags=80]="Tags";n[n.Watermark=7]="Watermark";n[n.BoardColumn=90]="BoardColumn";n[n.BoardColumnDone=91]="BoardColumnDone";n[n.BoardLane=92]="BoardLane";n[n.IsDeleted=-404]="IsDeleted";n[n.Parent=-35]="Parent"}(r=t.CoreField||(t.CoreField={})),function(n){n.AreaId="System.AreaId";n.AreaPath="System.AreaPath";n.AssignedTo="System.AssignedTo";n.AttachedFileCount="System.AttachedFileCount";n.AuthorizedAs="System.AuthorizedAs";n.BoardColumn="System.BoardColumn";n.BoardColumnDone="System.BoardColumnDone";n.BoardLane="System.BoardLane";n.ChangedBy="System.ChangedBy";n.ChangedDate="System.ChangedDate";n.CreatedBy="System.CreatedBy";n.CreatedDate="System.CreatedDate";n.Description="System.Description";n.CommentCount="System.CommentCount";n.ExternalLinkCount="System.ExternalLinkCount";n.History="System.History";n.HyperLinkCount="System.HyperLinkCount";n.RemoteLinkCount="System.RemoteLinkCount";n.Id="System.Id";n.IterationId="System.IterationId";n.IterationPath="System.IterationPath";n.LinkType="System.Links.LinkType";n.NodeName="System.NodeName";n.Reason="System.Reason";n.RelatedLinkCount="System.RelatedLinkCount";n.Rev="System.Rev";n.RevisedDate="System.RevisedDate";n.State="System.State";n.AuthorizedDate="System.AuthorizedDate";n.TeamProject="System.TeamProject";n.Tags="System.Tags";n.Title="System.Title";n.WorkItemType="System.WorkItemType";n.Watermark="System.Watermark";n.IsDeleted="System.IsDeleted";n.Parent="System.Parent"}(u=t.CoreFieldRefNames||(t.CoreFieldRefNames={})),function(n){n.Related="System.LinkTypes.Related";n.Hierarchy="System.LinkTypes.Hierarchy";n.Dependency="System.LinkTypes.Dependency";n.Duplicate="System.LinkTypes.Duplicate"}(f=t.CoreLinkTypeReferenceNames||(t.CoreLinkTypeReferenceNames={})),function(n){n.IDId=-3;n.RevId=8;n.TitleId=1;n.DescriptionId=52;n.WorkItemTypeId=25;n.PortfolioProjectId=-42;n.WorkItemFormIDId=-14;n.WorkItemFormId=-15;n.StateId=2;n.ReasonId=22;n.CreatedById=33;n.WatermarkId=7;n.AssignedToId=24;n.LastChangedById=9;n.LastChangedDateId=-4;n.AuthorizedDateId=3;n.CreatedDateId=32;n.RevisedDateId=-5;n.PersonNameId=-1;n.AuthorizedAsId=-1;n.HistoryId=54;n.AreaPathId=-7;n.AreaIDId=-2;n.IterationPathId=-105;n.IterationIDId=-104;n.NodeNameId=-12;n.RelatedLinkCountId=75;n.RemoteLinkCountId=-34;n.LinkedFileCountId=-32;n.AttachedFileCountId=-31;n.CommentCountId=-33;n.BISURICountId=-57;n.Tags=80;n.BoardColumnId=90;n.BoardColumnDoneId=91;n.BoardLaneId=92;n.RelatedLinks=37;n.PersonID=-6;n.LinkedFiles=51;n.BISURI=58;n.AttachedFiles=50;n.HiddenAttachedFiles=49;n.AreaLevel1=-43;n.AreaLevel2=-44;n.AreaLevel3=-45;n.AreaLevel4=-46;n.AreaLevel5=-47;n.AreaLevel6=-48;n.AreaLevel7=-49;n.IterationLevel1=-50;n.IterationLevel2=-51;n.IterationLevel3=-52;n.IterationLevel4=-53;n.IterationLevel5=-54;n.IterationLevel6=-55;n.IterationLevel7=-56;n.IsDeleted=-404;n.ZZZDummyField=-58;n.Parent=-35}(e=t.DalFields||(t.DalFields={})),function(n){n[n.Internal=0]="Internal";n[n.String=1]="String";n[n.Integer=2]="Integer";n[n.DateTime=3]="DateTime";n[n.PlainText=5]="PlainText";n[n.Html=7]="Html";n[n.TreePath=8]="TreePath";n[n.History=9]="History";n[n.Double=10]="Double";n[n.Guid=11]="Guid";n[n.Boolean=12]="Boolean";n[n.PicklistInteger=14]="PicklistInteger";n[n.PicklistString=15]="PicklistString"}(o=t.FieldType||(t.FieldType={})),function(n){n.ArtifactType="WorkItem";n.UnfollowResult="UnfollowResult"}(s=t.FollowsConstants||(t.FollowsConstants={})),function(n){n[n.Desktop=0]="Desktop";n[n.Mobile=1]="Mobile"}(h=t.FormLayoutType||(t.FormLayoutType={})),function(n){n.BacklogPriority="Microsoft.VSTS.Common.BacklogPriority";n.StackRank="Microsoft.VSTS.Common.StackRank";n.ActivatedBy="Microsoft.VSTS.Common.ActivatedBy";n.ActivatedDate="Microsoft.VSTS.Common.ActivatedDate";n.ClosedBy="Microsoft.VSTS.Common.ClosedBy";n.ClosedDate="Microsoft.VSTS.Common.ClosedDate";n.ResolvedBy="Microsoft.VSTS.Common.ResolvedBy";n.ResolvedDate="Microsoft.VSTS.Common.ResolvedDate";n.StateChangeDate="Microsoft.VSTS.Common.StateChangeDate"}(c=t.OobFieldRefNames||(t.OobFieldRefNames={})),function(n){n.LastVisitedQueryGroupKey="LAST_VISITED_QUERY_GROUP";n.MyFavoritesGroupKey="MY_FAVORITES_GROUP";n.LastVisitedQueryMruKey="Queries/LastVisited";n.TeamFavoriteGroupsExpandStatesMruKey="Queries/FavoriteGroupExpandStates"}(l=t.QueriesConstants||(t.QueriesConstants={})),function(n){n[n.Json=0]="Json";n[n.Html=1]="Html"}(a=t.QueryResultFormat||(t.QueryResultFormat={})),function(n){n[n.unfollowFailed=0]="unfollowFailed";n[n.unfollowSuccess=1]="unfollowSuccess"}(v=t.UnfollowResultStatus||(t.UnfollowResultStatus={})),function(n){n.HtmlControl="HtmlFieldControl";n.PlainTextControl="PlainTextControl";n.FreshnessIndicatorControl="FreshnessIndicatorControl";n.FieldControl="FieldControl";n.DateControl="DateTimeControl";n.ClassificationControl="WorkItemClassificationControl";n.WorkItemLogControl="WorkItemLogControl";n.WorkItemHistoryControl="WorkItemHistoryControl";n.WorkItemStateGraphControl="WorkItemStateGraphControl";n.LinksControl="LinksControl";n.AttachmentsControl="AttachmentsControl";n.WebpageControl="WebpageControl";n.LabelControl="LabelControl";n.TagFieldControl="TagFieldControl";n.TestStepsControl="TestStepsControl";n.AssociatedAutomationControl="AssociatedAutomationControl";n.StageControl="StageControl";n.StageBuildControl="StageBuildControl";n.ReleaseBuildControl="ReleaseBuildControl";n.AcceptanceCriteriaControl="AcceptanceCriteriaControl";n.DevelopmentControl="DevelopmentControl";n.WorkItemDiscussionControl="WorkItemDiscussionControl";n.ParameterSetControl="ParameterSetControl";n.DeploymentsControl="DeploymentsControl"}(y=t.WellKnownControlNames||(t.WellKnownControlNames={})),function(n){n.LinkTypes="LinkTypes";n.WorkItemTypes="WorkItemTypes";n.Nodes="Nodes";n.Fields="Fields";n.AllowedValues="AllowedValues";n.ConstantSets="ConstantSets";n.WorkItemTypeCategories="WorkItemTypeCategories";n.TeamProjects="TeamProjects";n.AdhocQueries="AdhocQueries";n.WorkItemTrackingArea="WIT";n.WitCacheProviderInit="WorkItemTracking.CacheProvider.Initialize"}(p=t.WITCommonConstants||(t.WITCommonConstants={})),function(n){n.DataProviderName="ms.vss-work-web.work-item-feature-state-data-provider"}(w=t.WorkItemFeatureStateConstants||(t.WorkItemFeatureStateConstants={})),function(n){n.ShowOnDeletedWorkItem="showOnDeletedWorkItem";n.Height="height";n.Name="name";n.Inputs="inputs";n.InputId="id";n.InputRequired="isRequired";n.InputMode="inputMode";n.InputValidation="validation";n.InputDataType="dataType";n.InputDescription="description";n.InputType="type";n.InputProperties="properties";n.InputType_WorkItemField="WorkItemField";n.FieldType="Field";n.InputProperties_WorkItemFieldTypes="workItemFieldTypes"}(b=t.WorkItemFormContributionProperties||(t.WorkItemFormContributionProperties={})),function(n){n.ContributionDefaultHeight_Group=150;n.ContributionDefaultHeight_Control=75;n.ContributionTarget_Form="ms.vss-work-web.work-item-form";n.ContributionType_Page="ms.vss-work-web.work-item-form-page";n.ContributionType_Group="ms.vss-work-web.work-item-form-group";n.ContributionType_Control="ms.vss-work-web.work-item-form-control";n.ContributionType_Notifications="ms.vss-work-web.work-item-notifications"}(k=t.WorkItemFormExtensionsConstants||(t.WorkItemFormExtensionsConstants={})),function(n){n.RESOURCELINKTYPES=["Hyperlink","ArtifactLink"];n.WORKITEMLINKUSAGE="workItemLink";n.RESOURCELINKUSAGE="resourceLink";n.ATTACHEDLINKTYPE="AttachedFile";n.HYPERLINKLINKTYPE="Hyperlink";n.ARTIFACTLINKTYPE="ArtifactLink";n.EXTERNALLINKTYPE="ExternalLink";n.ATTRIBUTES_USAGE="usage";n.ATTRIBUTES_EDITABLE="editable";n.ATTRIBUTES_ENABLED="enabled";n.ATTRIBUTES_ACYCLIC="acyclic";n.ATTRIBUTES_DIRECTIONAL="directional";n.ATTRIBUTES_SINGLETARGET="singleTarget";n.ATTRIBUTES_TOPOLOGY="topology";n.ATTRIBUTES_ID="id";n.ATTRIBUTES_AUTHORIZEDDATE="authorizedDate";n.ATTRIBUTES_RESOURCECREATEDDATE="resourceCreatedDate";n.ATTRIBUTES_RESOURCEMODIFIEDDATE="resourceModifiedDate";n.ATTRIBUTES_REVISEDDATE="revisedDate";n.ATTRIBUTES_RESOURCESIZE="resourceSize";n.ATTRIBUTES_COMMENT="comment";n.ATTRIBUTES_NAME="name";n.ATTRIBUTES_ISLOCKED="isLocked"}(d=t.WorkItemLinkConstants||(t.WorkItemLinkConstants={})),function(n){n.DataProviderName="ms.vss-work-web.work-item-settings-data-provider";n.Path="WorkItemTracking/Settings"}(g=t.WorkItemSettingsConstants||(t.WorkItemSettingsConstants={})),function(n){n.CookieFormat="WIT";n.DataProviderExperimentId="ms.vss-work-web.work-item-form-data-providers-experiment"}(nt=t.WorkItemTrackingMetadataCacheConstants||(t.WorkItemTrackingMetadataCacheConstants={})),function(n){n.WorkItemTypeIconNames=["icon_clipboard","icon_crown","icon_trophy","icon_list","icon_book","icon_sticky_note","icon_insect","icon_traffic_cone","icon_chat_bubble","icon_flame","icon_megaphone","icon_code_review","icon_code_response","icon_review","icon_response","icon_test_plan","icon_test_suite","icon_test_case","icon_test_step","icon_test_parameter","icon_star","icon_ribbon","icon_chart","icon_headphone","icon_key","icon_airplane","icon_car","icon_diamond","icon_asterisk","icon_database_storage","icon_government","icon_gavel","icon_parachute","icon_paint_brush","icon_palette","icon_gear","icon_check_box","icon_gift","icon_test_beaker","icon_broken_lightbulb","icon_clipboard_issue","icon_github","icon_pull_request","icon_github_issue"];n.DefaultWorkItemTypeIconName="icon_clipboard"}(tt=t.WorkItemTypeIcons||(t.WorkItemTypeIcons={}))});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/IndexedDBCacheProvider",["require","exports","VSS/Diag","VSS/Telemetry/Services","VSS/Utils/Core","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Context"],function(n,t,i,r,u,f,e,o){var h;Object.defineProperty(t,"__esModule",{value:!0});t.IndexedDBCacheProvider=void 0;var c=6,l=3e3,s="/Service/WorkItemTracking/IndexedDbVersion",a=function(){function n(){var n=this,t;this._disposed=!1;this._store=new h;this._witIndexedDBRegistryVersion=null;t=o.getPageContext().webAccessConfiguration.registryItems;t&&t.hasOwnProperty(s)&&(this._witIndexedDBRegistryVersion=Number(t[s]));this._openPromise=this._store.open("wit","metaDataCache").then(function(){n._openPromise=null}).then(function(){return n._scheduleEviction()}).catch(function(t){f.traceMessage(e.WITCommonConstants.WorkItemTrackingArea,"Caching",e.WITCommonConstants.WitCacheProviderInit,"Could not open IndexedDB: ".concat(t.message||t));n._store=null;n._disposed=!0})}return n.isSupported=function(){try{var n=o.getPageContext().webAccessConfiguration.registryItems,t=!1;return n&&n.hasOwnProperty(s)&&(t=!0),window.indexedDB!=null&&t}catch(i){return!1}},n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._store&&(this._openPromise=null,this._store.close(),this._store=null),this._eviction&&(this._eviction.cancel(),this._eviction=null))},n.prototype.store=function(n,t,i){var r=this;return this._ensureStore(function(){return r._store.set(r._getKey(n,t),i)})},n.prototype.delete=function(n,t){var i=this;return this._ensureStore(function(){return i._store.delete(i._getKey(n,t))})},n.prototype.read=function(n,t){var i=this;return this._ensureStore(function(){return i._store.get(i._getKey(n,t))})},n.prototype.update=function(n,t,i){var r=this;return this._ensureStore(function(){return r._store.getAndSet(r._getKey(n,t),i)})},n.prototype._ensureStore=function(n){var t=this;return!this._store||this._disposed?Promise.resolve(null):this._openPromise?this._openPromise.then(function(){if(t._store)return n()}):n()},n.prototype._getKey=function(n,t){return"wit/".concat(this._witIndexedDBRegistryVersion,"/").concat(n,"/").concat(t)},n.prototype._scheduleEviction=function(){this._eviction=u.delay(this,l,this._evictEntries)},n.prototype._evictEntries=function(){var n=this,t=c*864e5,i=Date.now()-t;this._ensureStore(function(){return n._store.getAll().then(function(n){return Object.keys(n).filter(function(t){return n[t].cachedAt<i})}).then(function(t){return t.length>0&&r.publishEvent(new r.TelemetryEventData(e.WITCommonConstants.WorkItemTrackingArea,"Caching",{numberOfEvictedItems:t.length})),t.reduce(function(t,i){return t.then(function(){return n._store.delete(i)})},Promise.resolve(null))})})},n}();t.IndexedDBCacheProvider=a;h=function(){function n(){}return n.prototype.open=function(n,t){var u=this,f,r;return this._dbName=n,this._storeName=t,f=1,r=window.indexedDB.open(n,f),new Promise(function(n,u){r.onsuccess=function(){return n(r.result)};r.onerror=function(){return u(r.error)};r.onupgradeneeded=function(n){if(i.logInfo("Upgrading from ".concat(n.oldVersion," to ").concat(n.newVersion)),n.oldVersion<1)try{r.result.createObjectStore(t)}catch(u){}}}).then(function(){u._db=r.result;u._sendQuotaInformation()})},n.prototype.close=function(){var n=this;return new Promise(function(){n._db&&(n._db.close(),n._db=null)})},n.prototype.getAll=function(){var n=this;return new Promise(function(t,i){var r={};n._usingTransaction("readonly",function(n){var i=n.openCursor();i.onsuccess=function(n){var i=n.target.result;i?(r[i.key]=i.value,i.continue()):t(r)}}).then(null,i)})},n.prototype.get=function(n){return this._usingTransaction("readonly",function(t){return t.get(n)})},n.prototype.set=function(n,t){return this._usingTransaction("readwrite",function(i){return i.put(t,n)})},n.prototype.getAndSet=function(n,t){return this._usingTransaction("readwrite",function(i){var r=i.get(n);r.onsuccess=function(){var u=r.result,f=t(u);return i.put(f,n)}})},n.prototype.delete=function(n){return this._usingTransaction("readwrite",function(t){return t.delete(n)})},n.prototype._usingTransaction=function(n,t){var i=this;return new Promise(function(r,u){var f,e,o,s;if(!i._db){u(new Error("KeyValueStore: DB not ready"));return}f=i._db.transaction(i._storeName,n);e=null;f.oncomplete=function(){r(e)};o=function(n){n&&n.target&&n.target.error?u(n.target.error):u(n)};f.onabort=o;f.onerror=o;s=f.objectStore(i._storeName);e=t(s)||null;e&&(e.onerror=function(n){u(n)})}).then(function(n){return n?n.result:null})},n.prototype._sendQuotaInformation=function(){try{var n=navigator;n&&n.webkitTemporaryStorage&&n.webkitTemporaryStorage.queryUsageAndQuota&&n.webkitTemporaryStorage.queryUsageAndQuota(function(n,t){r.publishEvent(new r.TelemetryEventData(e.WITCommonConstants.WorkItemTrackingArea,"IndexedDB",{usedQuota:n,availableQuota:t}))})}catch(t){}},n}()});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/NullCacheProvider",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.NullCacheProvider=void 0;var i=function(){function n(){}return n.prototype.delete=function(){return Promise.resolve(null)},n.prototype.store=function(){return Promise.resolve(null)},n.prototype.update=function(){return Promise.resolve(null)},n.prototype.read=function(){return Promise.resolve(null)},n}();t.NullCacheProvider=i});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/Cache",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/IndexedDBCacheProvider","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/NullCacheProvider","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace"],function(n,t,i,r,u,f){function e(){return r.IndexedDBCacheProvider.isSupported()?new r.IndexedDBCacheProvider:(f.traceMessage(i.WITCommonConstants.WorkItemTrackingArea,"Caching",i.WITCommonConstants.WitCacheProviderInit,"Could not find supported WIT cache provider"),new u.NullCacheProvider)}Object.defineProperty(t,"__esModule",{value:!0});t.constructCacheProvider=void 0;t.constructCacheProvider=e});

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager",["require","exports","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","VSS/Telemetry/Services","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/Cache","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemIndexDBCacheManager=void 0;var e="WITData",o=function(){function n(){this._cacheProvider=u.constructCacheProvider()}return n.prototype.getDataFromCache=function(n,t,r,u){return r=this._transformKey(r),u||i.traceMessage(f.WITCommonConstants.WorkItemTrackingArea,"GetMetadataCachestamp",f.WITCommonConstants.WitCacheProviderInit,"Could not get cache stamp for '".concat(t,"'")),this._tryGetDataFromCache(n,t,r,u).catch(function(n){return i.traceMessage(f.WITCommonConstants.WorkItemTrackingArea,"TryGetDataFromCache",f.WITCommonConstants.WitCacheProviderInit,n),null}).then(function(n){return n?n:null})},n.prototype._tryGetDataFromCache=function(t,i,r,u){var f=this;return!this._cacheProvider||!u?n._resolvedPromise:this._cacheProvider.read(t,i).then(function(n){return!n||!n.data[r]?(f._recordTelemetry(t,i,r,u,"CacheMiss"),null):n.cachestamp!==u?(f._recordTelemetry(t,i,r,u,"ClearedCachedStaleData"),f._cacheProvider.delete(t,i).then(function(){return null})):(f._recordTelemetry(t,i,r,u,"CacheHit",null),n.data[r])})},n.prototype.cacheData=function(t,i,r,u,f){if(!this._cacheProvider||!f)return n._resolvedPromise;r=this._transformKey(r);var e=null;return this._cacheProvider.update(t,i,function(n){var t,i;return n=n&&n.cachestamp===f?__assign(__assign({},n),{data:__assign(__assign({},n.data),(i={},i[r]=u,i))}):{cachedAt:Date.now(),cachestamp:f,data:(t={},t[r]=u,t)},e=Object.keys(n.data),n}).then(function(){return e})},n.prototype.deleteData=function(n,t){return this._cacheProvider.delete(n,t)},n.prototype._transformKey=function(n){return n.toLowerCase()},n.prototype._recordTelemetry=function(n,t,i,u,f,o){r.publishEvent(new r.TelemetryEventData("WIT",e,{scopeId:n,type:t,key:i,stamp:u,message:f,cachedData:o}))},n._resolvedPromise=Promise.resolve(null),n}();t.WorkItemIndexDBCacheManager=o});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/WITDataSource",["require","exports","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Service","VSS/Contributions/Services","VSS/Context","VSS/Performance"],function(n,t,i,r,u,f,e,o){function h(n,t,u){var h=r.TfsContext.getDefault().getActionUrl(n.action||"",n.controller,$.extend({area:"api",team:"",project:""},n.routeData)),f=s.WorkItemMVCToDPMVCTelemetryFeature+"."+n.action,e=o.getScenarioManager().startScenario(s.WorkItemArea,f);return e.addSplitTiming(f+s.ScenarioStart),new Promise(function(n,r){i.getMSJSON(h,t,function(t,i,r){e.addSplitTiming(f+s.ScenarioEnd);e.end();var o={data:u?JSON.parse(t):t,textStatus:i,requestHeaders:r};n(o)},r)})}function c(n,t){var e=r.TfsContext.getDefault().getActionUrl(n.action||"",n.controller,$.extend({area:"api",team:"",project:""},n.routeData)),u=s.WorkItemMVCToDPMVCTelemetryFeature+"."+n.action,f=o.getScenarioManager().startScenario(s.WorkItemArea,u);return f.addSplitTiming(u+s.ScenarioStart),new Promise(function(n,r){i.postMSJSON(e,t,function(t,i,r){f.addSplitTiming(u+s.ScenarioEnd);f.end();var e={data:t,textStatus:i,requestHeaders:r};n(e)},r)})}function l(n,t,u,f){var c=r.TfsContext.getDefault().getActionUrl(n.action||"",n.controller,$.extend({area:"api",team:"",project:""},n.routeData)),e=s.WorkItemMVCToDPMVCTelemetryFeature+"."+n.action,h=o.getScenarioManager().startScenario(s.WorkItemArea,e);h.addSplitTiming(e+s.ScenarioStart);i.postMSJSON(c,t,function(n,t,i){h.addSplitTiming(e+s.ScenarioEnd);h.end();var r={data:n,textStatus:t,requestHeaders:i};u(r)},f)}function a(n,t,i){return new Promise(function(r,h){var c=s.WorkItemMVCToDPDpTelemetryFeature+"."+n.action,l=o.getScenarioManager().startScenario(s.WorkItemArea,c);l.addSplitTiming(c+s.ScenarioStart);u.getService(f.WebPageDataService,e.getDefaultWebContext()).getDataAsync(i,null,t).then(function(n){if(l.addSplitTiming(c+s.ScenarioEnd),l.end(),n.errorMessage&&n.errorMessage.length>0)h(n.errorMessage);else{var t={data:n.data,versionStamp:n.versionStamp};r(t)}},h)})}Object.defineProperty(t,"__esModule",{value:!0});t.getDataFromDataProviderAsync=t.postMVCDataWithCallback=t.postMVCDataAsync=t.getMVCDataAsync=t.WITDataSourceTelemetryConstants=void 0;var s=function(){function n(){}return n.WorkItemMVCToDPMVCTelemetryFeature="WorkItemMVCToDP.MVC",n.WorkItemMVCToDPDpTelemetryFeature="WorkItemMVCToDP.DP",n.WorkItemArea="WIT",n.ScenarioStart="Start",n.ScenarioEnd="End",n}();t.WITDataSourceTelemetryConstants=s;t.getMVCDataAsync=h;t.postMVCDataAsync=c;t.postMVCDataWithCallback=l;t.getDataFromDataProviderAsync=a});

define("Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource",["require","exports","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/WITDataSource","VSS/Utils/String","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Performance"],function(n,t,i,r,u,f,e,o,s,h,c){var l,a,v;Object.defineProperty(t,"__esModule",{value:!0});t.WebAccessBoardsWITDataSource=t.WorkItemStoreLevelWITDataSource=void 0;l=function(){function n(){this._workItemCacheManager=new o.WorkItemIndexDBCacheManager}return n.prototype.getDataAsync=function(n,t,i){return(i===void 0&&(i=!1),!this.isDataProviderEnabled(n))?u.getMVCDataAsync(n,t,i):u.getDataFromDataProviderAsync(n,t,this.getDataProviderId(n))},n.prototype.getDataFromCacheAsync=function(n,t,i,r,f,e){var o=this;return(e===void 0&&(e=!1),!this.isDataProviderEnabled(n))?u.getMVCDataAsync(n,t,e):this.getDataProviderDataUsingIndexDB(n,t,i,r,f,e).then(function(n){var e=n.resolvedFromCache,t=n.data,u;return t&&!e?(u=t,o.updateIndexDBCache(u,i,r,f).then(function(){return u})):t})},n.prototype.getDataProviderDataUsingIndexDB=function(n,t,i,r,f,e){var l=this;e===void 0&&(e=!1);var h=t!=null?t.stamp:null,s=u.WITDataSourceTelemetryConstants.WorkItemMVCToDPMVCTelemetryFeature+".Cache."+n.action,o=c.getScenarioManager().startScenario(u.WITDataSourceTelemetryConstants.WorkItemArea,s);return o.addSplitTiming(s+u.WITDataSourceTelemetryConstants.ScenarioStart),o.addData({routeParams:n,requestProperties:t,scopeId:i,type:r,key:f,parseData:e}),this._workItemCacheManager.getDataFromCache(i,r,f,h).then(function(i){if(!i)return o.addData({cacheHit:!1}),u.getDataFromDataProviderAsync(n,t,l.getDataProviderId(n)).then(function(n){return o.addSplitTiming(s+u.WITDataSourceTelemetryConstants.ScenarioEnd),o.end(),{resolvedFromCache:!1,data:n}});o.addData({cacheHit:!0});o.addSplitTiming(s+u.WITDataSourceTelemetryConstants.ScenarioEnd);o.end();var r={data:i,versionStamp:h};return{resolvedFromCache:!0,data:r}})},n.prototype.updateIndexDBCache=function(n,t,i,r){if(n&&n.versionStamp&&n.versionStamp.length>0)return this._workItemCacheManager.cacheData(t,i,r,n.data,n.versionStamp).catch(function(n){return s.traceMessage(h.WITCommonConstants.WorkItemTrackingArea,"CacheData",h.WITCommonConstants.WitCacheProviderInit,n),null})},n.prototype.postDataAsync=function(n,t){return this.isDataProviderEnabled(n)?u.getDataFromDataProviderAsync(n,t,this.getDataProviderId(n)):u.postMVCDataAsync(n,t)},n.prototype.getDataProviderId=function(n){if(n&&n.action&&this.MVCActionToDataproviderIdMapping[n.action])return this.MVCActionToDataproviderIdMapping[n.action];var t=c.getScenarioManager().startScenario(u.WITDataSourceTelemetryConstants.WorkItemArea,"MVCActionToDpIdMappingNotFoundError");t.addData({routeParams:n});t.end();throw new Error(f.format(e.MVCActionToDpIdMappingNotFoundError,n.action));},n}();a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.MVCActionToDataproviderIdMapping={fields:"ms.vss-work-web.fields-data-provider",allowedValues:"ms.vss-work-web.fields-allowed-values-provider",ResourceLinks:"ms.vss-work-web.resource-links-data-provider",workItemTypeExtensions:"ms.vss-work-web.work-item-type-extensions-data-provider",updateWorkItems:"ms.vss-work-web.update-work-items-data-provider",constantSets:"ms.vss-work-web.constant-sets-data-provider",getMetadataCacheStamps:"ms.vss-work-web.work-item-cache-data-provider",linkTypes:"ms.vss-work-web.work-item-link-types-data-provider",teamProjects:"ms.vss-work-web.work-item-team-projects-data-provider",workItemTypes:"ms.vss-work-web.work-item-types-data-provider",pageWorkItems:"ms.vss-work-web.page-work-items-data-provider",pageWorkItemsByIdRev:"ms.vss-work-web.page-work-items-by-id-rev-data-provider",AdHocQueries:"ms.vss-work-web.ad-hoc-queries-data-provider",query:"ms.vss-work-web.work-item-query-data-provider",updateAdHocQuery:"ms.vss-work-web.update-ad-hoc-query-data-provider",updateColumnOptions:"ms.vss-work-web.update-column-options-data-provider",search:"ms.vss-work-web.search-data-provider",queryFavorites:"ms.vss-work-web.query-favorites-data-provider",teamSettings:"ms.vss-work-web.team-settings-data-provider",workitems:"ms.vss-work-web.work-items-with-history-data-provider",workitemsnohistory:"ms.vss-work-web.work-items-no-history-data-provider",sendMail:"ms.vss-work-web.send-mail-data-provider",workitemcolor:"ms.vss-work-web.work-item-color-data-provider"},t.MVCActionToFeatureFlagMapping={sendMail:r.FeatureAvailabilityFlags.DisableSendMailDataProvider,workitemcolor:r.FeatureAvailabilityFlags.DisableWorkItemColorDataProvider},t}return __extends(t,n),t.prototype.isDataProviderEnabled=function(n){return n&&n.action&&this.MVCActionToFeatureFlagMapping[n.action]?!i.FeatureAvailabilityService.isFeatureEnabled(this.MVCActionToFeatureFlagMapping[n.action]):!i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders)},t.prototype.useCallback=function(n){return!this.isDataProviderEnabled(n)},t.prototype.postDataWithCallback=function(n,t,i,r){this.useCallback(n)?u.postMVCDataWithCallback(n,t,i,r):this.postDataAsync(n,t).then(function(n){return i(n)},r)},t}(l);t.WorkItemStoreLevelWITDataSource=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.MVCActionToDataproviderIdMapping={getProcessSettings:"ms.vss-work-web.process-settings-data-provider",getProcessSettingsProperty:"ms.vss-work-web.process-settings-property-data-provider",GetProcessFieldUsages:"ms.vss-work-web.process-field-usage-data-provider",MigrateProjectsProcess:"ms.vss-work-web.migrate-projects-data-provider",GetJobProgress:"ms.vss-work-web.migrate-job-status-data-provider"},t}return __extends(t,n),t.prototype.isDataProviderEnabled=function(){return!i.FeatureAvailabilityService.isFeatureEnabled(r.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders)},t}(l);t.WebAccessBoardsWITDataSource=v});

define("Presentation/Scripts/TFS/TFS.OM.Identities",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Artifacts/Services","VSS/Locations"],function(n,t,i,r,u,f){var c,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.IdentityHelper=t.IdentityImageSize=t.IdentitySearchFactor=t.IdentityImageMode=t.IdentityFilter=void 0,function(n){n[n.All=0]="All";n[n.Users=1]="Users";n[n.Groups=2]="Groups"}(c=t.IdentityFilter||(t.IdentityFilter={})),function(n){n[n.None=0]="None";n[n.ShowGenericImage=1]="ShowGenericImage"}(e=t.IdentityImageMode||(t.IdentityImageMode={})),function(n){n[n.AccountName=0]="AccountName";n[n.DisplayName=1]="DisplayName";n[n.AdministratorsGroup=2]="AdministratorsGroup";n[n.Identifier=3]="Identifier";n[n.MailAddress=4]="MailAddress";n[n.General=5]="General";n[n.Alias=6]="Alias"}(o=t.IdentitySearchFactor||(t.IdentitySearchFactor={})),function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(s=t.IdentityImageSize||(t.IdentityImageSize={}));h=function(){function n(){}return n.preProcessIdentities=function(t,i){i===void 0&&(i=!1);$.each(t,function(t,i){i.isTfsGroup=n.isTfsGroup(i)})},n.getIdentityImageUrl=function(n,t,i){t===void 0&&(t=e.None);var u=r.TfsContext.getDefault();return n.isAadIdentity?u.getActionUrl("GetAadUserThumbnail","identity",{project:"",team:"",area:"api",userObjectId:n.id}):((i===undefined||i===null)&&(i=s.Medium),n.id)?u.getIdentityImageUrl(n.id,{size:i}):n.uniqueName?u.getIdentityImageUrl("",{identifier:n.uniqueName,resolveAmbiguous:!1,identifierType:o.AccountName,size:i}):n.isContainer?u.getIdentityImageUrl("",{identifier:n.displayName,resolveAmbiguous:!1,identifierType:o.General,size:i}):t===e.ShowGenericImage?u.configuration.getResourcesFile("notassigned-user.svg"):""},n.getIdentityImageUrlByIdentity=function(t){return t?n.getIdentityImageUrl(t,e.ShowGenericImage,s.Small):f.urlHelper.getVersionedContentUrl("notassigned-user.svg")},n.parseUniquefiedIdentityName=function(t){var a,v;if(!t)return null;var f=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START),o=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END),s=!1,y=!1,h=!1,e=t;f>=0&&o>f&&(h=!0,e=e.replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START).replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END));f=e.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START);o=e.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END);var c=e,l="",u="",p="",r="";return f>=0&&o>f&&(c=e.substr(0,f).trim(),h?(r=e.substr(f+1,o-f-1).trim(),r.indexOf(n.AAD_IDENTITY_USER_PREFIX)===0?r=r.substr(n.AAD_IDENTITY_USER_PREFIX.length):r.indexOf(n.AAD_IDENTITY_GROUP_PREFIX)===0&&(s=!0,r=r.substr(n.AAD_IDENTITY_GROUP_PREFIX.length)),a=r.lastIndexOf("\\"),a>0&&(u=r.substr(a+1).trim(),u.indexOf("@")!==-1?(l=u,r=r.substr(0,a).trim()):(c=t,r="",h=!1,s=!1))):(u=e.substr(f+1,o-f-1).trim(),v=n.getVsIdFromGroupUniqueName(u),p=n.getDescriptorFromUniqueName(u),u.indexOf("@")!==-1||u.indexOf("\\")!==-1||u.indexOf(n.DESCRIPTOR_PREFIX)!==-1||v||i.isGuid(u)?(l=u,v!=""&&(r=v,s=!0,y=!0,l="")):c=t)),{id:r,displayName:c,uniqueName:p||l,isAadIdentity:h,isContainer:s,isTfsGroup:y}},n.getUniquefiedIdentityName=function(t){if(t.isAadIdentity&&t.displayName&&t.id){var r=t.isContainer?n.AAD_IDENTITY_GROUP_PREFIX:n.AAD_IDENTITY_USER_PREFIX;return t.uniqueName&&!t.isContainer?i.format("{0} {1}{2}{3}\\{4}{5}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,t.id,t.uniqueName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):i.format("{0} {1}{2}{3}{4}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,t.id,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END)}return!t.isAadIdentity&&t.displayName&&t.isContainer&&t.isTfsGroup?t.id?i.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,t.id.toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName:!t.isAadIdentity&&t.displayName&&t.uniqueName?i.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.uniqueName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""},n.getFriendlyDistinctDisplayName=function(t){return t.displayName&&t.uniqueName&&!t.isTfsGroup?n.getDistinctDisplayName(t.displayName,t.uniqueName):t.displayName||""},n.getDistinctDisplayName=function(t,r){return t&&r?i.format("{0} {1}{2}{3}",t,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,r,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):""},n.getFriendlyUniqueName=function(t){if(t.isContainer&&t.isTfsGroup&&t.displayName){var i=t.displayName.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR);if(i!==-1)return t.displayName.substr(i+1)}return t.uniqueName},n.getVsIdFromGroupUniqueName=function(t){var r,u,f,e;return t?(u="",f=t.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR),r=f===-1?t:t.substr(0,f),i.startsWith(r,n.TFS_GROUP_PREFIX)&&(e=r.substr(3).trim(),u=i.isGuid(e)?e:""),u):""},n.isTfsGroup=function(t){if(t.isContainer&&t.uniqueName)return n.getVsIdFromGroupUniqueName(t.uniqueName)!==i.empty||i.startsWith(t.uniqueName,u.LinkingUtilities.VSTFS,i.localeIgnoreCaseComparer)},n.union=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0),f={},e={},o={};return $.each(u,function(n,t){t.id&&(e[t.id.toLowerCase()]=t);t.uniqueName&&(o[t.uniqueName.toLowerCase()]=t);t.id||t.uniqueName||!t.displayName||(f[t.displayName.toLowerCase()]=t)}),$.each(i,function(n,t){t.id||t.uniqueName?e[(t.id||"").toLowerCase()]||o[(t.uniqueName||"").toLowerCase()]||u.push(t):f[t.displayName.toLowerCase()]||u.push(t)}),r&&n._sortListByName(u),u},n.subtract=function(t,i,r){r===void 0&&(r=!0);var u=t.slice(0);return $.each(i,function(t,i){for(var f=u.length,r=0;r<f;r++)n.areItemsEqual(i,u[r])&&(u.splice(r,1),f--)}),r&&n._sortListByName(u),u},n._sortListByName=function(n){n.sort(function(n,t){if(n.isTfsGroup&&!t.isTfsGroup)return 1;if(!n.isTfsGroup&&t.isTfsGroup)return-1;var r=n.displayName.toLowerCase().trim(),u=t.displayName.toLowerCase().trim();return i.localeIgnoreCaseComparer(r,u)})},n.areItemsEqual=function(n,t){var r,u;return n.id&&t.id?(r=n.id.toLowerCase().trim(),u=t.id.toLowerCase().trim()):n.uniqueName&&t.uniqueName?(r=n.uniqueName.toLowerCase().trim(),u=t.uniqueName.toLowerCase().trim()):(r=n.displayName.toLowerCase().trim(),u=t.displayName.toLowerCase().trim()),i.localeIgnoreCaseComparer(r,u)===0},n.getDescriptorFromUniqueName=function(t){return t?t.indexOf(n.DESCRIPTOR_PREFIX)!=0?"":t.replace(/desc:/i,""):""},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.TFS_GROUP_PREFIX="id:",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.DESCRIPTOR_PREFIX="desc:",n}();t.IdentityHelper=h});

define("TFS/WorkItemTracking/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.WorkItemTypeFieldsExpandLevel=t.WorkItemRecentActivityType=t.WorkItemExpand=t.WorkItemErrorPolicy=t.TreeStructureGroup=t.TreeNodeStructureType=t.TemplateType=t.ReportingRevisionsExpand=t.QueryType=t.QueryResultType=t.QueryRecursionOption=t.QueryOption=t.QueryExpand=t.QueryErrorPolicy=t.ProvisioningActionType=t.LogicalOperation=t.LinkQueryMode=t.GetFieldsExpand=t.FieldUsage=t.FieldType=t.CommentSortOrder=t.CommentReactionType=t.CommentFormat=t.CommentExpandOptions=t.ClassificationNodesErrorPolicy=void 0,function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(i=t.ClassificationNodesErrorPolicy||(t.ClassificationNodesErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Reactions=1]="Reactions";n[n.RenderedText=8]="RenderedText";n[n.RenderedTextOnly=16]="RenderedTextOnly";n[n.All=-17]="All"}(r=t.CommentExpandOptions||(t.CommentExpandOptions={})),function(n){n[n.Markdown=0]="Markdown";n[n.Html=1]="Html"}(u=t.CommentFormat||(t.CommentFormat={})),function(n){n[n.Like=0]="Like";n[n.Dislike=1]="Dislike";n[n.Heart=2]="Heart";n[n.Hooray=3]="Hooray";n[n.Smile=4]="Smile";n[n.Confused=5]="Confused"}(f=t.CommentReactionType||(t.CommentReactionType={})),function(n){n[n.Asc=1]="Asc";n[n.Desc=2]="Desc"}(e=t.CommentSortOrder||(t.CommentSortOrder={})),function(n){n[n.String=0]="String";n[n.Integer=1]="Integer";n[n.DateTime=2]="DateTime";n[n.PlainText=3]="PlainText";n[n.Html=4]="Html";n[n.TreePath=5]="TreePath";n[n.History=6]="History";n[n.Double=7]="Double";n[n.Guid=8]="Guid";n[n.Boolean=9]="Boolean";n[n.Identity=10]="Identity";n[n.PicklistString=11]="PicklistString";n[n.PicklistInteger=12]="PicklistInteger";n[n.PicklistDouble=13]="PicklistDouble"}(o=t.FieldType||(t.FieldType={})),function(n){n[n.None=0]="None";n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink";n[n.Tree=3]="Tree";n[n.WorkItemTypeExtension=4]="WorkItemTypeExtension"}(s=t.FieldUsage||(t.FieldUsage={})),function(n){n[n.None=0]="None";n[n.ExtensionFields=1]="ExtensionFields";n[n.IncludeDeleted=2]="IncludeDeleted"}(h=t.GetFieldsExpand||(t.GetFieldsExpand={})),function(n){n[n.WorkItems=0]="WorkItems";n[n.LinksOneHopMustContain=1]="LinksOneHopMustContain";n[n.LinksOneHopMayContain=2]="LinksOneHopMayContain";n[n.LinksOneHopDoesNotContain=3]="LinksOneHopDoesNotContain";n[n.LinksRecursiveMustContain=4]="LinksRecursiveMustContain";n[n.LinksRecursiveMayContain=5]="LinksRecursiveMayContain";n[n.LinksRecursiveDoesNotContain=6]="LinksRecursiveDoesNotContain"}(c=t.LinkQueryMode||(t.LinkQueryMode={})),function(n){n[n.NONE=0]="NONE";n[n.AND=1]="AND";n[n.OR=2]="OR"}(l=t.LogicalOperation||(t.LogicalOperation={})),function(n){n[n.Import=0]="Import";n[n.Validate=1]="Validate"}(a=t.ProvisioningActionType||(t.ProvisioningActionType={})),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(v=t.QueryErrorPolicy||(t.QueryErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Wiql=1]="Wiql";n[n.Clauses=2]="Clauses";n[n.All=3]="All";n[n.Minimal=4]="Minimal"}(y=t.QueryExpand||(t.QueryExpand={})),function(n){n[n.Doing=1]="Doing";n[n.Done=2]="Done";n[n.Followed=3]="Followed"}(p=t.QueryOption||(t.QueryOption={})),function(n){n[n.ParentFirst=0]="ParentFirst";n[n.ChildFirst=1]="ChildFirst"}(w=t.QueryRecursionOption||(t.QueryRecursionOption={})),function(n){n[n.WorkItem=1]="WorkItem";n[n.WorkItemLink=2]="WorkItemLink"}(b=t.QueryResultType||(t.QueryResultType={})),function(n){n[n.Flat=1]="Flat";n[n.Tree=2]="Tree";n[n.OneHop=3]="OneHop"}(k=t.QueryType||(t.QueryType={})),function(n){n[n.None=0]="None";n[n.Fields=1]="Fields"}(d=t.ReportingRevisionsExpand||(t.ReportingRevisionsExpand={})),function(n){n[n.WorkItemType=0]="WorkItemType";n[n.GlobalWorkflow=1]="GlobalWorkflow"}(g=t.TemplateType||(t.TemplateType={})),function(n){n[n.Area=0]="Area";n[n.Iteration=1]="Iteration"}(nt=t.TreeNodeStructureType||(t.TreeNodeStructureType={})),function(n){n[n.Areas=0]="Areas";n[n.Iterations=1]="Iterations"}(tt=t.TreeStructureGroup||(t.TreeStructureGroup={})),function(n){n[n.Fail=1]="Fail";n[n.Omit=2]="Omit"}(it=t.WorkItemErrorPolicy||(t.WorkItemErrorPolicy={})),function(n){n[n.None=0]="None";n[n.Relations=1]="Relations";n[n.Fields=2]="Fields";n[n.Links=3]="Links";n[n.All=4]="All"}(rt=t.WorkItemExpand||(t.WorkItemExpand={})),function(n){n[n.Visited=0]="Visited";n[n.Edited=1]="Edited";n[n.Deleted=2]="Deleted";n[n.Restored=3]="Restored"}(ut=t.WorkItemRecentActivityType||(t.WorkItemRecentActivityType={})),function(n){n[n.None=0]="None";n[n.AllowedValues=1]="AllowedValues";n[n.DependentFields=2]="DependentFields";n[n.All=3]="All"}(ft=t.WorkItemTypeFieldsExpandLevel||(t.WorkItemTypeFieldsExpandLevel={}));t.TypeInfo={AccountMyWorkResult:{},AccountRecentActivityWorkItemModel:{},AccountRecentActivityWorkItemModel2:{},AccountRecentActivityWorkItemModelBase:{},AccountRecentMentionWorkItemModel:{},AccountWorkWorkItemModel:{},ClassificationNodesErrorPolicy:{enumValues:{fail:1,omit:2}},Comment:{},CommentExpandOptions:{enumValues:{none:0,reactions:1,renderedText:8,renderedTextOnly:16,all:-17}},CommentFormat:{enumValues:{markdown:0,html:1}},CommentList:{},CommentReaction:{},CommentReactionType:{enumValues:{like:0,dislike:1,heart:2,hooray:3,smile:4,confused:5}},CommentSortOrder:{enumValues:{asc:1,desc:2}},CommentVersion:{},ExternalDeployment:{},FieldType:{enumValues:{string:0,integer:1,dateTime:2,plainText:3,html:4,treePath:5,history:6,double:7,guid:8,boolean:9,identity:10,picklistString:11,picklistInteger:12,picklistDouble:13}},FieldUsage:{enumValues:{none:0,workItem:1,workItemLink:2,tree:3,workItemTypeExtension:4}},GetFieldsExpand:{enumValues:{none:0,extensionFields:1,includeDeleted:2}},LinkQueryMode:{enumValues:{workItems:0,linksOneHopMustContain:1,linksOneHopMayContain:2,linksOneHopDoesNotContain:3,linksRecursiveMustContain:4,linksRecursiveMayContain:5,linksRecursiveDoesNotContain:6}},LogicalOperation:{enumValues:{none:0,and:1,or:2}},ProvisioningActionType:{enumValues:{"import":0,validate:1}},QueryBatchGetRequest:{},QueryErrorPolicy:{enumValues:{fail:1,omit:2}},QueryExpand:{enumValues:{none:0,wiql:1,clauses:2,all:3,minimal:4}},QueryHierarchyItem:{},QueryHierarchyItemsResult:{},QueryOption:{enumValues:{doing:1,done:2,followed:3}},QueryRecursionOption:{enumValues:{parentFirst:0,childFirst:1}},QueryResultType:{enumValues:{workItem:1,workItemLink:2}},QueryType:{enumValues:{flat:1,tree:2,oneHop:3}},ReportingRevisionsExpand:{enumValues:{none:0,fields:1}},TemplateType:{enumValues:{workItemType:0,globalWorkflow:1}},TreeNodeStructureType:{enumValues:{area:0,iteration:1}},TreeStructureGroup:{enumValues:{areas:0,iterations:1}},WorkItemBatchGetRequest:{},WorkItemClassificationNode:{},WorkItemComment:{},WorkItemComments:{},WorkItemErrorPolicy:{enumValues:{fail:1,omit:2}},WorkItemExpand:{enumValues:{none:0,relations:1,fields:2,links:3,all:4}},WorkItemField:{},WorkItemField2:{},WorkItemHistory:{},WorkItemQueryClause:{},WorkItemQueryResult:{},WorkItemRecentActivityType:{enumValues:{visited:0,edited:1,deleted:2,restored:3}},WorkItemTagDefinition:{},WorkItemTypeFieldsExpandLevel:{enumValues:{none:0,allowedValues:1,dependentFields:2,all:3}},WorkItemTypeTemplateUpdateModel:{},WorkItemUpdate:{},WorkItemUpdate2:{}};t.TypeInfo.AccountMyWorkResult.fields={workItemDetails:{isArray:!0,typeInfo:t.TypeInfo.AccountWorkWorkItemModel}};t.TypeInfo.AccountRecentActivityWorkItemModel.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentActivityWorkItemModel2.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentActivityWorkItemModelBase.fields={activityDate:{isDate:!0},activityType:{enumType:t.TypeInfo.WorkItemRecentActivityType},changedDate:{isDate:!0}};t.TypeInfo.AccountRecentMentionWorkItemModel.fields={mentionedDateField:{isDate:!0}};t.TypeInfo.AccountWorkWorkItemModel.fields={changedDate:{isDate:!0}};t.TypeInfo.Comment.fields={createdDate:{isDate:!0},createdOnBehalfDate:{isDate:!0},format:{enumType:t.TypeInfo.CommentFormat},modifiedDate:{isDate:!0},reactions:{isArray:!0,typeInfo:t.TypeInfo.CommentReaction}};t.TypeInfo.CommentList.fields={comments:{isArray:!0,typeInfo:t.TypeInfo.Comment}};t.TypeInfo.CommentReaction.fields={type:{enumType:t.TypeInfo.CommentReactionType}};t.TypeInfo.CommentVersion.fields={createdDate:{isDate:!0},createdOnBehalfDate:{isDate:!0},modifiedDate:{isDate:!0}};t.TypeInfo.ExternalDeployment.fields={statusDate:{isDate:!0}};t.TypeInfo.QueryBatchGetRequest.fields={$expand:{enumType:t.TypeInfo.QueryExpand},errorPolicy:{enumType:t.TypeInfo.QueryErrorPolicy}};t.TypeInfo.QueryHierarchyItem.fields={children:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem},clauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},createdDate:{isDate:!0},filterOptions:{enumType:t.TypeInfo.LinkQueryMode},lastExecutedDate:{isDate:!0},lastModifiedDate:{isDate:!0},linkClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},queryRecursionOption:{enumType:t.TypeInfo.QueryRecursionOption},queryType:{enumType:t.TypeInfo.QueryType},sourceClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},targetClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause}};t.TypeInfo.QueryHierarchyItemsResult.fields={value:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem}};t.TypeInfo.WorkItemBatchGetRequest.fields={$expand:{enumType:t.TypeInfo.WorkItemExpand},asOf:{isDate:!0},errorPolicy:{enumType:t.TypeInfo.WorkItemErrorPolicy}};t.TypeInfo.WorkItemClassificationNode.fields={children:{isArray:!0,typeInfo:t.TypeInfo.WorkItemClassificationNode},structureType:{enumType:t.TypeInfo.TreeNodeStructureType}};t.TypeInfo.WorkItemComment.fields={format:{enumType:t.TypeInfo.CommentFormat},revisedDate:{isDate:!0}};t.TypeInfo.WorkItemComments.fields={comments:{isArray:!0,typeInfo:t.TypeInfo.WorkItemComment}};t.TypeInfo.WorkItemField.fields={type:{enumType:t.TypeInfo.FieldType},usage:{enumType:t.TypeInfo.FieldUsage}};t.TypeInfo.WorkItemField2.fields={type:{enumType:t.TypeInfo.FieldType},usage:{enumType:t.TypeInfo.FieldUsage}};t.TypeInfo.WorkItemHistory.fields={revisedDate:{isDate:!0}};t.TypeInfo.WorkItemQueryClause.fields={clauses:{isArray:!0,typeInfo:t.TypeInfo.WorkItemQueryClause},logicalOperator:{enumType:t.TypeInfo.LogicalOperation}};t.TypeInfo.WorkItemQueryResult.fields={asOf:{isDate:!0},queryResultType:{enumType:t.TypeInfo.QueryResultType},queryType:{enumType:t.TypeInfo.QueryType}};t.TypeInfo.WorkItemTagDefinition.fields={lastUpdated:{isDate:!0}};t.TypeInfo.WorkItemTypeTemplateUpdateModel.fields={actionType:{enumType:t.TypeInfo.ProvisioningActionType},templateType:{enumType:t.TypeInfo.TemplateType}};t.TypeInfo.WorkItemUpdate.fields={revisedDate:{isDate:!0}};t.TypeInfo.WorkItemUpdate2.fields={revisedDate:{isDate:!0}}});

define("TFS/WorkItemTracking/RestClient",["require","exports","TFS/WorkItemTracking/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function wt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&yt[window.VSS.VssSDKRestVersion]?r.getClient(yt[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(d,undefined,undefined,undefined,n)}var h,c,o,s,l,a,v,y,p,e,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,pt,yt;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.WorkItemTrackingHttpClient=t.WorkItemTrackingHttpClient2=t.WorkItemTrackingHttpClient2_1=t.WorkItemTrackingHttpClient2_2=t.WorkItemTrackingHttpClient2_3=t.WorkItemTrackingHttpClient3=t.WorkItemTrackingHttpClient3_1=t.WorkItemTrackingHttpClient3_2=t.WorkItemTrackingHttpClient4=t.WorkItemTrackingHttpClient4_1=t.WorkItemTrackingHttpClient5=t.WorkItemTrackingHttpClient5_1=t.WorkItemTrackingHttpClient5_2=t.WorkItemTrackingHttpClient6=t.WorkItemTrackingHttpClient6_1=t.WorkItemTrackingHttpClient7=t.WorkItemTrackingHttpClient7_1=t.WorkItemTrackingHttpClient7_2=t.CommonMethods7_1To7_2=t.CommonMethods7To7_2=t.CommonMethods5_2To7_2=t.CommonMethods5_1To7_2=t.CommonMethods5To7_2=t.CommonMethods4_1To7_2=t.CommonMethods4To7_2=t.CommonMethods3_2To7_2=t.CommonMethods3To7_2=t.CommonMethods2_2To7_2=t.CommonMethods2_1To7_2=t.CommonMethods2To7_2=void 0;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItemTypeDefinition=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:i.TypeInfo.WorkItemTypeTemplateUpdateModel,routeValues:{project:t},apiVersion:this.workItemTypeTemplateApiVersion,data:n})},t.prototype.exportWorkItemTypeDefinition=function(n,t,i){var r={exportGlobalLists:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",routeValues:{project:n,type:t},queryParams:r,apiVersion:this.workItemTypeTemplateApiVersion})},t.prototype.getWorkItemTypeStates=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c9d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypeStates",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/states",responseIsCollection:!0,routeValues:{project:n,type:t},apiVersion:this.workItemTypeStatesApiVersion})},t.prototype.getWorkItemTypes=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.workItemTypesApiVersion})},t.prototype.getWorkItemType=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",routeValues:{project:n,type:t},apiVersion:this.workItemTypesApiVersion})},t.prototype.getWorkItemTypeColorAndIcons=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f0f8dc62-3975-48ce-8051-f636b68b52e3",resource:"workItemTypeColorAndIcon",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.workItemTypeColorAndIconApiVersion,data:n})},t.prototype.getWorkItemTypeColors=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"958fde80-115e-43fb-bd65-749c48057faf",resource:"workitemTypeColor",routeTemplate:"_apis/work/{resource}",responseIsCollection:!0,apiVersion:this.workitemTypeColorApiVersion,data:n})},t.prototype.getWorkItemTypeCategory=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",routeValues:{project:n,category:t},apiVersion:this.workItemTypeCategoriesApiVersion})},t.prototype.getWorkItemTypeCategories=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.workItemTypeCategoriesApiVersion})},t.prototype.getWorkItemStateColors=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"0b83df8a-3496-4ddb-ba44-63634f4cda61",resource:"workitemStateColor",routeTemplate:"_apis/work/{resource}",responseIsCollection:!0,apiVersion:this.workitemStateColorApiVersion,data:n})},t.prototype.updateWorkItemTemplate=function(n,t,i,r,u){var f={validateOnly:r,bypassRules:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:f,apiVersion:this.workItemsApiVersion,data:n})},t.prototype.getWorkItemTemplate=function(n,t,i,r,u){var f={fields:i,asOf:r,$expand:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:n,type:t},queryParams:f,apiVersion:this.workItemsApiVersion})},t.prototype.createWorkItem=function(n,t,i,r,u,f,e){var o={validateOnly:r,bypassRules:u,suppressNotifications:f,$expand:e};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",routeValues:{project:t,type:i},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:o,apiVersion:this.workItemsApiVersion,data:n})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseIsCollection:!0,apiVersion:this.workItemRelationTypesApiVersion})},t.prototype.getRelationType=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",routeValues:{relation:n},apiVersion:this.workItemRelationTypesApiVersion})},t.prototype.getWorkItemIconXaml=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"image/xaml+xml",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIconSvg=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"image/svg+xml",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIcons=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",responseIsCollection:!0,apiVersion:this.workItemIconsApiVersion})},t.prototype.getWorkItemIconJson=function(n,t,i){var r={color:t,v:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4e1eb4a5-1970-4228-a682-ec48eb2dca30",resource:"workItemIcons",routeTemplate:"_apis/{area}/{resource}/{icon}",routeValues:{icon:n},queryParams:r,apiVersion:this.workItemIconsApiVersion})},t.prototype.queryById=function(n,t,r,u,f){var e={timePrecision:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:i.TypeInfo.WorkItemQueryResult,routeValues:{project:t,team:r,id:n},queryParams:e,apiVersion:this.wiqlApiVersion})},t.prototype.getQueryResultCount=function(n,t,i,r,u){var f={timePrecision:r,$top:u};return this._beginRequest({httpMethod:"HEAD",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",routeValues:{project:t,team:i,id:n},queryParams:f,apiVersion:this.wiqlApiVersion},!0).then(function(n){var i=n[0],r=n[1],t=n[2];return t.getResponseHeader("X-Total-Count")},function(n){throw n;})},t.prototype.queryByWiql=function(n,t,r,u,f){var e={timePrecision:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemQueryResult,routeValues:{project:t,team:r},queryParams:e,apiVersion:this.wiqlApiVersion_1a9c53f7,data:n})},t.prototype.sendMail=function(n,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"12438500-2f84-4fa7-9f1a-c31871b4959d",resource:"sendMail",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.sendMailApiVersion,data:n})},t.prototype.updateQuery=function(n,t,r,u){var f={$undeleteDescendants:u};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:i.TypeInfo.QueryHierarchyItem,responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:t,query:r},queryParams:f,apiVersion:this.queriesApiVersion,data:n})},t.prototype.searchQueries=function(n,t,r,u,f){var e={$filter:t,$top:r,$expand:u,$includeDeleted:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItemsResult,routeValues:{project:n},queryParams:e,apiVersion:this.queriesApiVersion})},t.prototype.getQuery=function(n,t,r,u,f,e){var o={$expand:r,$depth:u,$includeDeleted:f,$useIsoDateFormat:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:n,query:t},queryParams:o,apiVersion:this.queriesApiVersion})},t.prototype.getQueries=function(n,t,r,u){var f={$expand:t,$depth:r,$includeDeleted:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:i.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.queriesApiVersion})},t.prototype.deleteQuery=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",routeValues:{project:n,query:t},apiVersion:this.queriesApiVersion})},t.prototype.createQuery=function(n,t,r,u){var f={validateWiqlOnly:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:i.TypeInfo.QueryHierarchyItem,responseType:i.TypeInfo.QueryHierarchyItem,routeValues:{project:t,query:r},queryParams:f,apiVersion:this.queriesApiVersion,data:n})},t.prototype.updateClassificationNode=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:i.TypeInfo.WorkItemClassificationNode,responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:t,structureGroup:i.TreeStructureGroup[r],path:u},apiVersion:this.classificationNodesApiVersion,data:n})},t.prototype.getClassificationNode=function(n,t,r,u){var f={$depth:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:n,structureGroup:i.TreeStructureGroup[t],path:r},queryParams:f,apiVersion:this.classificationNodesApiVersion})},t.prototype.deleteClassificationNode=function(n,t,r,u){var f={$reclassifyId:u};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",routeValues:{project:n,structureGroup:i.TreeStructureGroup[t],path:r},queryParams:f,apiVersion:this.classificationNodesApiVersion})},t.prototype.createOrUpdateClassificationNode=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:i.TypeInfo.WorkItemClassificationNode,responseType:i.TypeInfo.WorkItemClassificationNode,routeValues:{project:t,structureGroup:i.TreeStructureGroup[r],path:u},apiVersion:this.classificationNodesApiVersion,data:n})},t.prototype.getRootNodes=function(n,t){var r={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.classificationNodesApiVersion_a70579d1})},t.prototype.getClassificationNodes=function(n,t,r,u){var f={ids:t&&t.join(","),$depth:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:i.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.classificationNodesApiVersion_a70579d1})},t.prototype.getRecentMentions=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"d60eeb6e-e18c-4478-9e94-a0094e28f41c",resource:"accountRecentMentions",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentMentionWorkItemModel,responseIsCollection:!0,apiVersion:this.accountRecentMentionsApiVersion})},t.prototype.getAccountMyWorkData=function(n){var t={$queryOption:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"def3d688-ddf5-4096-9024-69beea15cdbd",resource:"accountMyWork",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountMyWorkResult,queryParams:t,apiVersion:this.accountMyWorkApiVersion})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To7_2=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.restoreWorkItem=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:t},apiVersion:this.recyclebinApiVersion,data:n})},t.prototype.getDeletedWorkItems=function(n,t){var i={ids:n&&n.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:t},queryParams:i,apiVersion:this.recyclebinApiVersion})},t.prototype.getDeletedWorkItem=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},apiVersion:this.recyclebinApiVersion})},t.prototype.destroyWorkItem=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},apiVersion:this.recyclebinApiVersion})},t}(h);t.CommonMethods2_1To7_2=c;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.readReportingRevisionsPost=function(n,t,i,r,u){var f={continuationToken:i,startDateTime:r,$expand:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:f,apiVersion:this.workItemRevisionsApiVersion,data:n})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e,o,s,h,c,l){var a={fields:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u,includeIdentityRef:f,includeDeleted:e,includeTagRef:o,includeLatestOnly:s,$expand:h,includeDiscussionChangesOnly:c,$maxPageSize:l};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:a,apiVersion:this.workItemRevisionsApiVersion})},t}(c);t.CommonMethods2_2To7_2=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.replaceTemplate=function(n,t,i,r){return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:t,team:i,templateId:r},apiVersion:this.templatesApiVersion,data:n})},t.prototype.getTemplate=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:n,team:t,templateId:i},apiVersion:this.templatesApiVersion})},t.prototype.deleteTemplate=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"fb10264a-8836-48a0-8033-1b0ccd2748d5",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{templateId}",routeValues:{project:n,team:t,templateId:i},apiVersion:this.templatesApiVersion})},t.prototype.getTemplates=function(n,t,i){var r={workitemtypename:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6a90345f-a676-4969-afce-8e163e1d5642",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseIsCollection:!0,routeValues:{project:n,team:t},queryParams:r,apiVersion:this.templatesApiVersion_6a90345f})},t.prototype.createTemplate=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"6a90345f-a676-4969-afce-8e163e1d5642",resource:"templates",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",routeValues:{project:t,team:i},apiVersion:this.templatesApiVersion_6a90345f,data:n})},t}(o);t.CommonMethods3To7_2=s;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkArtifactLinkTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1a31de40-e318-41cd-a6c6-881077df52e3",resource:"artifactLinkTypes",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.artifactLinkTypesApiVersion})},t}(s);t.CommonMethods3_2To7_2=l;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateWorkItem=function(n,t,i,r,u,f,e){var o={validateOnly:r,bypassRules:u,suppressNotifications:f,$expand:e};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:o,apiVersion:this.workItemsApiVersion_72c7ddf8,data:n})},t.prototype.getWorkItems=function(n,t,i,r,u,f){var e={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:f},queryParams:e,apiVersion:this.workItemsApiVersion_72c7ddf8})},t.prototype.getWorkItem=function(n,t,i,r,u){var f={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:u,id:n},queryParams:f,apiVersion:this.workItemsApiVersion_72c7ddf8})},t.prototype.deleteWorkItem=function(n,t,i){var r={destroy:i};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:t,id:n},queryParams:r,apiVersion:this.workItemsApiVersion_72c7ddf8})},t}(l);t.CommonMethods4To7_2=a;v=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemTypeFieldWithReferences=function(n,t,i,r){var u={$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},queryParams:u,apiVersion:this.workItemTypesFieldApiVersion})},t.prototype.getWorkItemTypeFieldsWithReferences=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseIsCollection:!0,routeValues:{project:n,type:t},queryParams:r,apiVersion:this.workItemTypesFieldApiVersion})},t.prototype.getWorkItemNextStatesOnCheckinAction=function(n,t){var i={ids:n&&n.join(","),action:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"afae844b-e2f6-44c2-8053-17b3bb936a40",resource:"workItemTransitions",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:i,apiVersion:this.workItemTransitionsApiVersion})},t.prototype.getUpdates=function(n,t,r,u){var f={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{project:u,id:n},queryParams:f,apiVersion:this.updatesApiVersion})},t.prototype.getUpdate=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{project:r,id:n,updateNumber:t},apiVersion:this.updatesApiVersion})},t.prototype.getRevisions=function(n,t,i,r,u){var f={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"{project}/_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{project:u,id:n},queryParams:f,apiVersion:this.revisionsApiVersion})},t.prototype.getRevision=function(n,t,i,r){var u={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"{project}/_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{project:r,id:n,revisionNumber:t},queryParams:u,apiVersion:this.revisionsApiVersion})},t.prototype.getDeletedWorkItemShallowReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.recyclebinApiVersion})},t.prototype.uploadAttachment=function(n,t,i,r,u){var f={fileName:u};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:r,id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:f,apiVersion:this.attachmentsApiVersion,data:n,isRawData:!0})},t.prototype.getAttachmentZip=function(n,t,i,r){var u={fileName:t,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:n},queryParams:u,apiVersion:this.attachmentsApiVersion})},t.prototype.getAttachmentContent=function(n,t,i,r){var u={fileName:t,download:r};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:i,id:n},queryParams:u,apiVersion:this.attachmentsApiVersion})},t.prototype.createAttachment=function(n,t,i,r,u){var f={fileName:t,uploadType:i,areaPath:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",routeValues:{project:r},customHeaders:{"Content-Type":"application/octet-stream"},queryParams:f,apiVersion:this.attachmentsApiVersion,data:n,isRawData:!0})},t.prototype.queryWorkItemsForArtifactUris=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.artifactUriQueryApiVersion,data:n})},t}(a);t.CommonMethods4_1To7_2=v;y=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getWorkItemsBatch=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"908509b6-4248-4475-a1cd-829139ba419f",resource:"workItemsBatch",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.WorkItemBatchGetRequest,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.workItemsBatchApiVersion,data:n})},t.prototype.getReportingLinksByLinkType=function(n,t,i,r,u){var f={linkTypes:t&&t.join(","),types:i&&i.join(","),continuationToken:r,startDateTime:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:f,apiVersion:this.workItemLinksApiVersion})},t.prototype.getQueriesBatch=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"549816f9-09b0-4e75-9e81-01fbfcd07426",resource:"queriesBatch",routeTemplate:"{project}/_apis/{area}/{resource}",requestType:i.TypeInfo.QueryBatchGetRequest,responseType:i.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.queriesBatchApiVersion,data:n})},t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel2,responseIsCollection:!0,apiVersion:this.accountMyWorkRecentActivityApiVersion})},t}(v);t.CommonMethods5To7_2=y;p=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.readReportingDiscussions=function(n,t,i){var r={continuationToken:t,$maxPageSize:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"4a644469-90c5-4fcc-9a9f-be0827d369ec",resource:"workItemRevisionsDiscussions",routeTemplate:"{project}/_apis/{area}/reporting/workItemRevisions/discussions",routeValues:{project:n},queryParams:r,apiVersion:this.workItemRevisionsDiscussionsApiVersion})},t.prototype.getCommentVersions=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"49e03b34-3be0-42e3-8a5d-e8dfb88ac954",resource:"commentsVersions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/versions/{version}",responseType:i.TypeInfo.CommentVersion,responseIsCollection:!0,routeValues:{project:n,workItemId:t,commentId:r},apiVersion:this.commentsVersionsApiVersion})},t.prototype.getCommentVersion=function(n,t,r,u){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"49e03b34-3be0-42e3-8a5d-e8dfb88ac954",resource:"commentsVersions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/versions/{version}",responseType:i.TypeInfo.CommentVersion,routeValues:{project:n,workItemId:t,commentId:r,version:u},apiVersion:this.commentsVersionsApiVersion})},t.prototype.getCommentReactions=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f6cb3f27-1028-4851-af96-887e570dc21f",resource:"commentsReactions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}",responseType:i.TypeInfo.CommentReaction,responseIsCollection:!0,routeValues:{project:n,workItemId:t,commentId:r},apiVersion:this.commentsReactionsApiVersion})},t.prototype.deleteCommentReaction=function(n,t,r,u){return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"f6cb3f27-1028-4851-af96-887e570dc21f",resource:"commentsReactions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}",responseType:i.TypeInfo.CommentReaction,routeValues:{project:n,workItemId:t,commentId:r,reactionType:i.CommentReactionType[u]},apiVersion:this.commentsReactionsApiVersion})},t.prototype.createCommentReaction=function(n,t,r,u){return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"f6cb3f27-1028-4851-af96-887e570dc21f",resource:"commentsReactions",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}",responseType:i.TypeInfo.CommentReaction,routeValues:{project:n,workItemId:t,commentId:r,reactionType:i.CommentReactionType[u]},apiVersion:this.commentsReactionsApiVersion})},t.prototype.updateWorkItemComment=function(n,t,r,u,f){var e={format:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r,commentId:u},queryParams:e,apiVersion:this.commentsApiVersion,data:n})},t.prototype.updateComment=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r,commentId:u},apiVersion:this.commentsApiVersion,data:n})},t.prototype.getCommentsBatch=function(n,t,r,u,f){var e={ids:r&&r.join(","),includeDeleted:u,$expand:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.CommentList,routeValues:{project:n,workItemId:t},queryParams:e,apiVersion:this.commentsApiVersion})},t.prototype.getComments=function(n,t,r,u,f,e,o){var s={$top:r,continuationToken:u,includeDeleted:f,$expand:e,order:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.CommentList,routeValues:{project:n,workItemId:t},queryParams:s,apiVersion:this.commentsApiVersion})},t.prototype.getComment=function(n,t,r,u,f){var e={includeDeleted:u,$expand:f};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:n,workItemId:t,commentId:r},queryParams:e,apiVersion:this.commentsApiVersion})},t.prototype.deleteComment=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",routeValues:{project:n,workItemId:t,commentId:i},apiVersion:this.commentsApiVersion})},t.prototype.addWorkItemComment=function(n,t,r,u){var f={format:u};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r},queryParams:f,apiVersion:this.commentsApiVersion,data:n})},t.prototype.addComment=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"608aac0a-32e1-4493-a863-b9cf4566d257",resource:"comments",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}",responseType:i.TypeInfo.Comment,routeValues:{project:t,workItemId:r},apiVersion:this.commentsApiVersion,data:n})},t.prototype.getEngagedUsers=function(n,t,r,u,f,e){var o={$top:f,$skip:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"e33ca5e0-2349-4285-af3d-d72d86781c35",resource:"commentReactionsEngagedUsers",routeTemplate:"{project}/_apis/wit/workItems/{workItemId}/comments/{commentId}/reactions/{reactionType}/users",responseIsCollection:!0,routeValues:{project:n,workItemId:t,commentId:r,reactionType:i.CommentReactionType[u]},queryParams:o,apiVersion:this.commentReactionsEngagedUsersApiVersion})},t}(y);t.CommonMethods5_1To7_2=p;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateTag=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",requestType:i.TypeInfo.WorkItemTagDefinition,responseType:i.TypeInfo.WorkItemTagDefinition,routeValues:{project:t,tagIdOrName:r},apiVersion:this.tagsApiVersion,data:n})},t.prototype.getTags=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",responseType:i.TypeInfo.WorkItemTagDefinition,responseIsCollection:!0,routeValues:{project:n},apiVersion:this.tagsApiVersion})},t.prototype.getTag=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",responseType:i.TypeInfo.WorkItemTagDefinition,routeValues:{project:n,tagIdOrName:t},apiVersion:this.tagsApiVersion})},t.prototype.deleteTag=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"bc15bc60-e7a8-43cb-ab01-2106be3983a1",resource:"tags",routeTemplate:"{project}/_apis/{area}/{resource}/{tagIdOrName}",routeValues:{project:n,tagIdOrName:t},apiVersion:this.tagsApiVersion})},t.prototype.migrateProjectsProcess=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"19801631-d4e5-47e9-8166-0330de0ff1e6",resource:"projectProcessMigration",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.projectProcessMigrationApiVersion,data:n})},t}(p);t.CommonMethods5_2To7_2=e;w=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.createTempQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"9f614388-a9f0-4952-ad6c-89756bd8e388",resource:"tempQueries",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.tempQueriesApiVersion,data:n})},t}(e);t.CommonMethods7To7_2=w;b=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.deleteWorkItems=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8bc57545-27e5-420d-b709-f6e3ebcc1fc1",resource:"workItemsDelete",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:t},apiVersion:this.workItemsDeleteApiVersion,data:n})},t.prototype.getWorkItemFieldAllowedValues=function(n,t){var i={name:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1d4da553-5856-4ca5-a3b3-79e0e8fcc142",resource:"workItemFieldAllowedValues",routeTemplate:"{project}/_apis/{area}/{resource}",routeValues:{project:n},queryParams:i,apiVersion:this.workItemFieldAllowedValuesApiVersion})},t.prototype.getSingleUpdate=function(n,t,r,u){var f={source:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"{project}/_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate2,routeValues:{project:u,id:n,updateNumber:t},queryParams:f,apiVersion:this.updatesApiVersion})},t.prototype.getGithubConnections=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"0cf95f86-6ce1-f410-ccf6-3d8c92b3a1ef",resource:"githubConnections",routeTemplate:"{project}/_apis/githubconnections",responseIsCollection:!0,routeValues:{project:n},apiVersion:this.githubConnectionsApiVersion})},t.prototype.updateGithubConnectionRepos=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"15b19676-8d9e-e224-d795-ca4d1a18024d",resource:"githubConnections",routeTemplate:"{project}/_apis/githubconnections/{connectionId}/reposBatch",responseIsCollection:!0,routeValues:{project:t,connectionId:i},apiVersion:this.githubConnectionsApiVersion_15b19676,data:n})},t.prototype.getGithubConnectionRepositories=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"0b3a5212-f65b-2102-0d80-1dd77ce4c700",resource:"githubConnections",routeTemplate:"{project}/_apis/githubconnections/{connectionId}/repos",responseIsCollection:!0,routeValues:{project:n,connectionId:t},apiVersion:this.githubConnectionsApiVersion_0b3a5212})},t.prototype.updateWorkItemField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField2,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:this.fieldsApiVersion,data:n})},t.prototype.getWorkItemFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField2,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.fieldsApiVersion})},t.prototype.getWorkItemField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField2,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:this.fieldsApiVersion})},t.prototype.deleteWorkItemField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:this.fieldsApiVersion})},t.prototype.createWorkItemField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField2,responseType:i.TypeInfo.WorkItemField2,routeValues:{project:t},apiVersion:this.fieldsApiVersion,data:n})},t}(w);t.CommonMethods7_1To7_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.githubConnectionsApiVersion=r.githubConnectionsApiVersion_15b19676=r.githubConnectionsApiVersion_0b3a5212=r.projectProcessMigrationApiVersion=r.queriesBatchApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.tempQueriesApiVersion=r.workItemFieldAllowedValuesApiVersion=r.workItemIconsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsBatchApiVersion=r.workItemsDeleteApiVersion=r.workitemStateColorApiVersion=r.workItemTransitionsApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="7.2-preview.1",r.accountMyWorkRecentActivityApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion="7.2-preview.2",r.attachmentsApiVersion=r.fieldsApiVersion=r.revisionsApiVersion=r.workItemLinksApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypesFieldApiVersion="7.2-preview.3",r.commentsApiVersion=r.updatesApiVersion="7.2-preview.4",r}return __extends(t,n),t}(b);t.WorkItemTrackingHttpClient7_2=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.fieldsApiVersion=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.tempQueriesApiVersion=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemFieldAllowedValuesApiVersion=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemsDeleteApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="7.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.githubConnectionsApiVersion=r.githubConnectionsApiVersion_15b19676=r.githubConnectionsApiVersion_0b3a5212=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="7.1-preview.1",r.commentsApiVersion="7.1-preview.4",r}return __extends(t,n),t}(b);t.WorkItemTrackingHttpClient7_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.tempQueriesApiVersion=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="7.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="7.0-preview.1",r.commentsApiVersion="7.0-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"7.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"7.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"7.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"7.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"7.0",data:n})},t}(w);t.WorkItemTrackingHttpClient7=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="6.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="6.1-preview.1",r.commentsApiVersion="6.1-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"6.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"6.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"6.1",data:n})},t}(e);t.WorkItemTrackingHttpClient6_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="6.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="6.0-preview.1",r.commentsApiVersion="6.0-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"6.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"6.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"6.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"6.0",data:n})},t}(e);t.WorkItemTrackingHttpClient6=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.projectProcessMigrationApiVersion=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.tagsApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.2",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="5.2-preview.1",r.commentsApiVersion="5.2-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"5.2",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.2"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.2"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.2"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"5.2",data:n})},t}(e);t.WorkItemTrackingHttpClient5_2=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemRevisionsDiscussionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.commentReactionsEngagedUsersApiVersion=r.commentsReactionsApiVersion=r.commentsVersionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="5.1-preview.1",r.commentsApiVersion="5.1-preview.4",r}return __extends(t,n),t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"5.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"5.1",data:n})},t}(p);t.WorkItemTrackingHttpClient5_1=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.accountMyWorkRecentActivityApiVersion=r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.queriesBatchApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemLinksApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemsBatchApiVersion=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="5.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="5.0-preview.1",r}return __extends(t,n),t.prototype.getComment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{project:r,id:n,revision:t},apiVersion:"5.0-preview.2"})},t.prototype.getComments=function(n,t,r,u,f){var e={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{project:f,id:n},queryParams:e,apiVersion:"5.0-preview.2"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"5.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"5.0",data:n})},t}(y);t.WorkItemTrackingHttpClient5=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactLinkTypesApiVersion=r.artifactUriQueryApiVersion=r.attachmentsApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.revisionsApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.updatesApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTransitionsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypesFieldApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="4.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="4.1-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"4.1"})},t.prototype.getComment=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{project:r,id:n,revision:t},apiVersion:"4.1-preview.2"})},t.prototype.getComments=function(n,t,r,u,f){var e={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"{project}/_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{project:f,id:n},queryParams:e,apiVersion:"4.1-preview.2"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"4.1",data:n})},t}(v);t.WorkItemTrackingHttpClient4_1=ft;et=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactLinkTypesApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_72c7ddf8=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="4.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="4.0-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"4.0"})},t.prototype.queryWorkItemsForArtifactUris=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"_apis/{area}/{resource}",apiVersion:"4.0",data:n})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"4.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"4.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"4.0"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"4.0",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"4.0-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"4.0-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"4.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"4.0",data:n})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"4.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"4.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"4.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"4.0"})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"4.0"})},t}(a);t.WorkItemTrackingHttpClient4=et;ot=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.artifactLinkTypesApiVersion=r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="3.2",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="3.2-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"3.2"})},t.prototype.queryWorkItemsForArtifactUris=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a9a9aa7a-8c09-44d3-ad1b-46e855c1e3d3",resource:"artifactUriQuery",routeTemplate:"_apis/{area}/{resource}",apiVersion:"3.2",data:n})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.2",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.2"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.2"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"3.2",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.2-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.2-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.2"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.2"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.2"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"3.2",data:n})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.2"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.2"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.2"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.2"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.2"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.2"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"3.2",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.2"})},t}(l);t.WorkItemTrackingHttpClient3_2=ot;st=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="3.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="3.1-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"3.1"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.1",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.1"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.1"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"3.1",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.1-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.1-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"3.1",data:n})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.1"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.1"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.1"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.1"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.1"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.1"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"3.1",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.1"})},t}(s);t.WorkItemTrackingHttpClient3_1=st;ht=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.templatesApiVersion=r.templatesApiVersion_6a90345f=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="3.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="3.0-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"3.0"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"3.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"3.0"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"3.0",data:n,isRawData:!0})},t.prototype.getComment=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComment,routeValues:{id:n,revision:t},apiVersion:"3.0-preview.1"})},t.prototype.getComments=function(n,t,r,u){var f={fromRevision:t,$top:r,order:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"19335ae7-22f7-4308-93d8-261f9384b7cf",resource:"comments",routeTemplate:"_apis/{area}/workItems/{id}/comments/{revision}",responseType:i.TypeInfo.WorkItemComments,routeValues:{id:n},queryParams:f,apiVersion:"3.0-preview.1"})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"3.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"3.0",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"3.0"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"3.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"3.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"3.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"3.0"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"3.0"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"3.0"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"3.0",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"3.0"})},t}(s);t.WorkItemTrackingHttpClient3=ht;ct=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.3",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.3"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.3",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.3"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.3"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.3",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.3"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.3"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.3"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.3",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.3"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.3"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.3"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.3"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.3"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.3"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.3"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.3"})},t}(o);t.WorkItemTrackingHttpClient2_3=ct;lt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemRevisionsApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.2",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.2",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.2"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.2"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.2",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.2"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.2"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.2"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.2",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.2"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.2"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.2"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.2"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.2"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.2"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.2"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.2"})},t}(o);t.WorkItemTrackingHttpClient2_2=lt;at=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.recyclebinApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.1",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.1",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.1"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.1"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.1",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.1"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.1"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.1"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.1",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.1"})},t.prototype.getDeletedWorkItemReferences=function(n){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:n},apiVersion:"2.1"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.1"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.1"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e){var o={includeDeleted:t,fields:i&&i.join(","),types:r&&r.join(","),watermark:u,startDateTime:f,includeIdentityRef:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:o,apiVersion:"2.1"})},t.prototype.readReportingRevisionsPost=function(n,t,i,r){var u={watermark:i,startDateTime:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:u,apiVersion:"2.1",data:n})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.1"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.1"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.1"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.1"})},t}(c);t.WorkItemTrackingHttpClient2_1=at;vt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.classificationNodesApiVersion=r.classificationNodesApiVersion_a70579d1=r.queriesApiVersion=r.sendMailApiVersion=r.wiqlApiVersion=r.wiqlApiVersion_1a9c53f7=r.workItemIconsApiVersion=r.workItemRelationTypesApiVersion=r.workItemsApiVersion=r.workItemTypeCategoriesApiVersion=r.workItemTypesApiVersion=r.workItemTypeStatesApiVersion=r.workItemTypeTemplateApiVersion="2.0",r.accountMyWorkApiVersion=r.accountRecentMentionsApiVersion=r.workitemStateColorApiVersion=r.workitemTypeColorApiVersion=r.workItemTypeColorAndIconApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getRecentActivityData=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"1bc988f4-c15f-4072-ad35-497c87e3a909",resource:"accountMyWorkRecentActivity",routeTemplate:"_apis/work/{resource}",responseType:i.TypeInfo.AccountRecentActivityWorkItemModel,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.createAttachment=function(n,t,i,r){var u={fileName:t,uploadType:i,areaPath:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",customHeaders:{"Content-Type":"application/octet-stream"},queryParams:u,apiVersion:"2.0",data:n,isRawData:!0})},t.prototype.getAttachmentContent=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.0"})},t.prototype.getAttachmentZip=function(n,t,i){var r={fileName:t,download:i};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:r,apiVersion:"2.0"})},t.prototype.uploadAttachment=function(n,t,i,r){var u={fileName:r};return this._beginRequest({httpMethod:"PUT",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/octet-stream","Content-Range":i},queryParams:u,apiVersion:"2.0",data:n,isRawData:!0})},t.prototype.createField=function(n,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",requestType:i.TypeInfo.WorkItemField,responseType:i.TypeInfo.WorkItemField,routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteField=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.0"})},t.prototype.getField=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:t,fieldNameOrRefName:n},apiVersion:"2.0"})},t.prototype.getFields=function(n,t){var r={$expand:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.0"})},t.prototype.updateField=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"{project}/_apis/{area}/{resource}/{fieldNameOrRefName}",responseType:i.TypeInfo.WorkItemField,routeValues:{project:r,fieldNameOrRefName:t},apiVersion:"2.0",data:n})},t.prototype.getHistory=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getHistoryById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:i.TypeInfo.WorkItemHistory,routeValues:{id:n,revisionNumber:t},apiVersion:"2.0"})},t.prototype.getRevision=function(n,t,i){var r={$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",routeValues:{id:n,revisionNumber:t},queryParams:r,apiVersion:"2.0"})},t.prototype.getRevisions=function(n,t,i,r){var u={$top:t,$skip:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getUpdate=function(n,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,routeValues:{id:n,updateNumber:t},apiVersion:"2.0"})},t.prototype.getUpdates=function(n,t,r){var u={$top:t,$skip:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:i.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.readReportingRevisionsGet=function(n,t,i,r,u,f,e){var o={includeDeleted:t,fields:i&&i.join(","),types:r&&r.join(","),watermark:u,startDateTime:f,includeIdentityRef:e};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:n},queryParams:o,apiVersion:"2.0"})},t.prototype.readReportingRevisionsPost=function(n,t,i,r){var u={watermark:i,startDateTime:r};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",routeValues:{project:t},queryParams:u,apiVersion:"2.0",data:n})},t.prototype.deleteWorkItem=function(n,t){var i={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:i,apiVersion:"2.0"})},t.prototype.getWorkItem=function(n,t,i,r){var u={fields:t&&t.join(","),asOf:i,$expand:r};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:n},queryParams:u,apiVersion:"2.0"})},t.prototype.getWorkItems=function(n,t,i,r,u){var f={ids:n&&n.join(","),fields:t&&t.join(","),asOf:i,$expand:r,errorPolicy:u};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!0,queryParams:f,apiVersion:"2.0"})},t.prototype.updateWorkItem=function(n,t,i,r,u,f){var e={validateOnly:i,bypassRules:r,suppressNotifications:u,$expand:f};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.getDependentFields=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",routeValues:{project:n,type:t,field:i},apiVersion:"2.0"})},t}(h);t.WorkItemTrackingHttpClient2=vt;pt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(k);t.WorkItemTrackingHttpClient=pt;yt={"7.2":k,"7.1":d,"7.0":g,"6.1":nt,"6.0":tt,"5.2":it,"5.1":rt,"5.0":ut,"4.1":ft,"4.0":et,"3.2":ot,"3.1":st,"3.0":ht,"2.3":ct,"2.2":lt,"2.1":at,"2.0":vt};t.getClient=wt});

define("VSS/Identities/Picker/Common",["require","exports"],function(n,t){var r,i;Object.defineProperty(t,"__esModule",{value:!0});t.CommonHelpers=t.FilterByScope=void 0;r=function(){function n(n,t){this.filterByAncestorEntityIds=n||[];this.filterByEntityIds=t||[]}return n.GetHashCode=function(t){var r=i._hashSeed,e,u,f,o;if(t==null)return r;for(e=t.filterByAncestorEntityIds.sort().concat([n._hashSeparator],t.filterByEntityIds.sort()),u=0,f=e;u<f.length;u++)o=f[u],r=r*i._stringListHashPrime+i.GetStringHashCode(o),r=r&r;return r},n.isFilterByScopeEmpty=function(n){return n&&n.filterByAncestorEntityIds.length==0&&n.filterByEntityIds.length==0},n._hashSeparator="@",n}();t.FilterByScope=r;i=function(){function n(){}return n.GetStringHashCode=function(t){var i=n._hashSeed,r;if(t)for(t=t.trim().toLowerCase(),r=0;r<t.length;r++)i=i*n._stringHashPrime+t.charCodeAt(r),i=i&i;return i},n.GetStringListHashCode=function(t){var i=n._hashSeed,r;if(t)for(r in t)i=i*n._stringListHashPrime+n.GetStringHashCode(r),i=i&i;return i},n._hashSeed=0,n._stringListHashPrime=31,n._stringHashPrime=37,n}();t.CommonHelpers=i});

define("WorkItemTracking/Scripts/Utils/LayoutUserSettingsUtility",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Utils/Array","VSS/Utils/String","VSS/Diag"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.LayoutUserSettingsUtility=void 0;var e;(function(n){function t(n,t){f.Debug.assertIsNotNull(n,"layoutUserSettings");f.Debug.assertIsNotNull(t,"workItemType");var i,r=t.name;return t.processId&&!u.isEmptyGuid(t.processId)?i=e(n,t.processId):t.project&&t.project.guid&&(i=o(n,t.project.guid)),i&&r&&h(i,r)||null}function h(n,t){var i=r.first(n.workItemTypeSettings,function(n){return u.equals(n.refName,t,!0)});return i||(i={refName:t,collapsedGroups:[],mobileCollapsedGroups:[]},n.workItemTypeSettings.push(i)),i}function e(n,t){var i,r,e,o;if(f.Debug.assertIsNotNull(n,"layoutUserSettings"),f.Debug.assert(u.isGuid(t)),n)for(i=0,r=n.processSettings;i<r.length;i++)if(e=r[i],u.ignoreCaseComparer(e.processId,t)===0)return e;return o={processId:t,workItemTypeSettings:[]},n.processSettings.push(o),o}function o(n,t){var i,r,e,o;if(f.Debug.assertIsNotNull(n,"layoutUserSettings"),n)for(i=0,r=n.projectSettings;i<r.length;i++)if(e=r[i],u.ignoreCaseComparer(e.projectId,t)===0)return e;return o={projectId:t,workItemTypeSettings:[]},n.projectSettings.push(o),o}function c(n,r,u,e){e===void 0&&(e=i.FormLayoutType.Desktop);f.Debug.assertIsNotNull(n,"layoutUserSettings");var o=t(n,r);return s(o,u,e)}function s(n,t,r){r===void 0&&(r=i.FormLayoutType.Desktop);f.Debug.assertIsNotNull(n,"workItemTypeSettings");var e=r===i.FormLayoutType.Desktop?n.collapsedGroups:n.mobileCollapsedGroups;return e?e.filter(function(n){return u.equals(n,t,!0)}).length>0:!1}function l(n,e,o,s,h){var c,l,a;if(h===void 0&&(h=i.FormLayoutType.Desktop),f.Debug.assertIsNotNull(n,"layoutUserSettings"),f.Debug.assertIsNotNull(e,"workItemType"),!n)throw new Error("Invalid parameter: layoutUserSettings");if(!o)throw new Error("Invalid parameter: groupId");if(!e)throw new Error("Invalid parameter: workItemType");c=t(n,e);c.collapsedGroups=c.collapsedGroups||[];c.mobileCollapsedGroups=c.mobileCollapsedGroups||[];l=h===i.FormLayoutType.Desktop?c.collapsedGroups:c.mobileCollapsedGroups;a=r.findIndex(l,function(n){return u.equals(n,o,!0)});s&&a===-1?l.push(o):s||a===-1||l.splice(a,1)}n.getWorkItemTypeSettings=t;n.getProcessSettings=e;n.getProjectSettings=o;n.isGroupCollapsed=c;n.isGroupCollapsedForWorkItemType=s;n.setGroupExpansionState=l})(e=t.LayoutUserSettingsUtility||(t.LayoutUserSettingsUtility={}))});

define("WorkItemTracking/Scripts/Form/UserLayoutSettings",["require","exports","q","VSS/Service","VSS/Contributions/Services","WorkItemTracking/Scripts/Utils/LayoutUserSettingsUtility","VSS/Error","VSS/Diag","VSS/VSS","VSS/WebApi/Constants","VSS/Settings/Services"],function(n,t,i,r,u,f,e,o,s,h,c){var v;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemFormUserLayoutSettingsService=void 0;var y=500,l="ms.vss-work-web.work-item-layout-user-settings-data-provider",a={processSettings:[],projectSettings:[],isWitDialogFullScreen:!1},p=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._storage=new v,t}return __extends(t,n),t.prototype.ensureSettingsAreLoaded=function(){return this._storage.ensureSettingsLoaded()},Object.defineProperty(t.prototype,"isDialogFullscreen",{get:function(){return this._storage.layoutSettings&&this._storage.layoutSettings.isWitDialogFullScreen||!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldChromeBorder",{get:function(){return this._storage.fieldChromeBorder},enumerable:!1,configurable:!0}),t.prototype.getLayoutSettingsForWorkItemType=function(n){var t=this._storage.layoutSettings;return f.LayoutUserSettingsUtility.getWorkItemTypeSettings(t,n)},t.prototype.setGroupExpansionState=function(n,t,i,r){return this._storage.queueSettingsOperation(function(u){u&&f.LayoutUserSettingsUtility.setGroupExpansionState(u,n,t,i,r)})},t.prototype.setDialogFullscreenState=function(n){return this._storage.queueSettingsOperation(function(t){t.isWitDialogFullScreen=n})},t}(r.VssService);t.WorkItemFormUserLayoutSettingsService=p;v=function(){function n(){this._processing=!1;this._queue=[];this._initLayoutSettingsFromPageData()}return n.prototype.ensureSettingsLoaded=function(){var n=this;return this._layoutSettings?i(null):this._updateCurrentLayoutState().then(function(){if(!n._layoutSettings)return r.getService(u.WebPageDataService).ensureDataProvidersResolved([{id:l,properties:{serviceInstanceType:h.ServiceInstanceTypes.TFS}}]).then(function(){n._initLayoutSettingsFromPageData()},function(n){e.publishErrorToTelemetry(n)})})},Object.defineProperty(n.prototype,"layoutSettings",{get:function(){return this._layoutSettings||a},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fieldChromeBorder",{get:function(){return this._fieldChromeBorder},enumerable:!1,configurable:!0}),n.prototype.queueSettingsOperation=function(n){return this._queue.push(n),this._processQueue()},n.prototype._initLayoutSettingsFromPageData=function(){var n=r.getService(u.WebPageDataService).getPageData(l);this._layoutSettings=n&&n.layoutUserSettings;this._fieldChromeBorder=n&&n.fieldChromeBorder},n.prototype._processQueue=function(){var n=this;return this._processing?(this._waitingOperation||(this._waitingOperation=this._pendingOperation.then(function(){return n._waitingOperation=null,n._processQueue()})),this._waitingOperation):(this._pendingOperation=i.delay(y).then(function(){return n._processOperations()}).then(function(){n._pendingOperation=null;n._processing=!1}).then(null,function(t){e.publishErrorToTelemetry(t);n._pendingOperation=null;n._processing=!1}),this._pendingOperation)},n.prototype._processOperations=function(){if(this._processing=!0,this._queue&&this._queue.length>0){var n=[];return n=this._queue.slice(0),this._queue=[],this._updateSettings(n)}},n.prototype._updateSettings=function(n){var t=this;return this._updateCurrentLayoutState().then(function(){for(var u,f,i=0,r=n;i<r.length;i++)u=r[i],u(t._layoutSettings||a);return f=t._getService(),f.setEntries({"WorkItemTracking/LayoutUserSettings":t._layoutSettings},0)})},n.prototype._getService=function(){return c.getService()},n.prototype._updateCurrentLayoutState=function(){var n=this,t=this._getService();return t.getEntriesAsync("WorkItemTracking",0).then(function(t){var i=t.value;n._layoutSettings=i&&i.LayoutUserSettings}).then(null,function(n){e.publishErrorToTelemetry(n);o.logError(s.getErrorMessage(n))})},n}()});

define("WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking",["require","exports"],function(require,exports){var e=exports;e.SucessfullySavedNWisButFailedToSave="Successfully saved {0} work item(s), but failed to save {1} work item(s).";e.StateTransitionGraphViewAllChangesTitle="View all state transitions";e.MoveWorkItemDiscussionLabel="Add a reason for moving the work item";e.InvalidWorkItemUrl="WorkItem url not valid: {0}";e.CustomRollupTotalOptionSubtitle="A total number of the linked descendants will be added at the parent level. Choose between sum of any numeric field or a simple count of items.";e.LinksControlTestResultText="Test Result";e.CommandBarTitle_CopyWorkItems="(Ctrl+C)";e.DirectLinksFlattenedMessage="Your direct links query results will be flattened to flat list format due to possible duplicate work items.";e.UnableToFindQueryDefinition="Unable to find query definition: {0}.";e.DeleteSingleAttachmentDialogConfirmationText="Are you sure you want to delete {0}?";e.TextFilterResultCountMessage="Filtering {0} out of {1} items. {2}";e.FormGroupCollapseAriaLabel="{0} section.";e.MultiFieldRemoveFieldTooltip="Remove this field";e.CreateCopyOfWorkItemProject="Project";e.ConfirmWorkItemRefresh="You have unsaved changes to this work item which will be lost. Are you sure you want to refresh this work item?";e.WorkItemLogControlLinksHeader="Links";e.LinkTopologyTreeReverseImageAltText="This is a directional link that creates a one-to-many relationship. Once this link is created, no more links of this type can be added to the linked items.";e.DefaultingCurrentIterationTeam="Use of the \u003ca href=\"https://go.microsoft.com/fwlink/?linkid=865408\"\u003e@CurrentIteration macro\u003c/a\u003e requires explicit specification of a team. You may want to update your query and save it with a team of your choice.";e.CustomFollowDialogAssignedToCheckbox="Assigned To Changed";e.WorkItemMethodSelectionText="Select one of the following methods to find available work items:";e.FilterValidWorkItems="Valid work items";e.ReactionTypeEmojiConfoundedFace="Upset";e.WorkItemDeleteError="Failed to delete work item: {0}. Error Details: {1}";e.ExportToCSVError="Not all work item results were exported.";e.ImporCsvNoTerminatingDoubleQuotesError="Non-terminating double-quotes at line {0}, column {1}.";e.WorkItemTemplateDoesNotExist="VS403203: No template was applied because the indicated template does not exist.";e.LinkTopologyDirectedNetworkImageAltText="This is a directional link that can be created between any set of work items.";e.AttachmentsOversizedDialogTitle="Attachment(s) over size limit";e.WorkItemDetailsRoleTitle="Work item details";e.LinkWorkItemTypeNotValid="Could not find the specified work item type.";e.EmptyTeamFavoriteGroupTextLink="Browse shared queries";e.BeginGetWorkItemArgumentNull="Cannot load work items. Array null or undefined.";e.HistoryControlSingleLinkAdornmentText="{0} was added";e.WorkItemDiscussionAdornmentOverLimitNumberDisplay="{0}+ comments";e.WorkItemLogControlAttachmentAdded="added an attachment";e.FieldCannotBeEdited="{0}, this field cannot be edited";e.SaveHotkeyWithControl="(Ctrl+S)";e.Backlog="Backlog";e.CreateCopyCopiedWithAllAttachmentsFrom="Copied with all attachments from {0}";e.SaveHotkeyWithCommand="(+S)";e.LinkTopologyDependencyImageAltText="This is a directional link that can be created between any set of work items, but can not create closed loops.";e.WorkItemArtifactLastUpdatedByLabel="Updated by {0} on {1}";e.HistoryControlAgoLastThirtyDays="Last thirty days";e.MoveWorkItemPermissionError="You have insufficient permissions to move a work item to another project.";e.ChangeTypeDiscussionLabel="Add a reason for changing the type";e.DateTimePicker_AMPMDownAriaLabel="Switch AM PM";e.WorkItemLogControlDeletedComment="deleted a comment";e.Edited="Edited";e.HistoryControlAssignmentAdornmentText="Assigned to {0}";e.FieldStatusInvalidUnknownError="There is an unknown problem with field \u0027{0}\u0027.";e.ColumnOptionsAllWorkItemTypes="All Work Item Types";e.AttachmentUploadSuccessNotification="Attachment(s) uploaded successfully.";e.WorkItemPaneFilter_OffAriaLabel="Work item panel off";e.BulkEditTagsAdd="Add";e.AddReaction="Add {0} reaction";e.WorkItemTemplates_CaptureTemplateMenuItem_Text="Capture...";e.FieldAlreadyAdded="This field has already been added";e.MVCActionToDpIdMappingNotFoundError="There is no dataprovider id mapped for the passed action {0}";e.ChildTestSuites=" Child Test Suites";e.RemoveColumn="Remove this column";e.FilterNoTypes="No types available";e.HistoryControlAssignmentDefaultAdornmentText="Assigned to edited";e.Picker_FilterWatermark="Search";e.WorkItemArtifactLinkGitHubCannotRender="GitHub link not found or no permission to access it.";e.NewFeatureViewBoardLinkTitle="View your board";e.DeleteWorkItemDialogConfirmationTextWithCleanUpScheduled="You can restore deleted work items from the Recycle Bin until they are permanently deleted based on auto-delete settings (enabled). {0}.";e.DiscardChanges="Leave";e.AttachmentAsLinkType="Attachment";e.FailedToSaveNWorkItems="Failed to save the following {0} work item(s).";e.AttachmentUploadFailDialogTitle="Attachment(s) failed to upload";e.TestWorkItemDeleteButtonText="Permanently delete";e.UnsavedWorkItemsQuery="Unsaved work items";e.DestroyWorkItemDialogConfirmationText="Are you sure you want to permanently delete the selected work item(s)? Permanently deleted work item(s) cannot be restored.";e.WorkItemTemplateDialog_Description="Description";e.DownloadAttachments="Download attachments";e.CustomFollowDialogIterationPathCheckbox="Iteration Changed";e.SavingWorkItems="Saving work items";e.FavoriteQueryFailed="Unable to favorite query \"{0}\"";e.PreviewAttachment="Preview attachment";e.Searching="Searching...";e.Updated="updated";e.KeyboardShortcutDescription_ReturnToQuery="Return to query";e.Wiql_MacroMe="Me";e.RemoteLinkDialogAddressTitleWatermark="Enter remote work item url";e.LinksControlTestText="Test";e.QueryReferencesFieldThatDoesNotExist="TF51005: The query references a field that does not exist.";e.RenameQuery="Rename";e.WorkItemEditorWindowTitle="{0}: {1}";e.BulkEditTagsRemove="Remove";e.FilterByTypes="Types";e.SendWorkItemsInEmailDialogTitle="Send work items in email";e.KeyboardShortcutDescription_Save="Save changes";e.AggregationFieldLabel="Select a field.";e.LinkValidationFailed="Link validation failed";e.Folder="Folder";e.DirectLinksQuery="Direct Links Query";e.LinkToolTypeRemoteWork="Remote Work";e.TriagePreviousWorkItemToolTip="Previous work item in the \"{0}\" query (Alt + P)";e.TagCountAriaLabel="{0} count: {1}";e.LinksControlChangesetText="Changeset";e.TagAriaLabel="Item {0} of {1}. Text {2}.";e.LinkToExistingDialogLinkTypeTitle="Link type";e.QueryHierarchyItemAriaLabel="{0}, {1}, Level {2}, ";e.QueryEditorTargetFilterGroupingText="Filters for linked work items";e.SaveResultsToolTip="Save results";e.NewQuery="New query";e.WorkItemTemplates_ContextMenuItem_Text="Templates";e.EmptyTeamFavoriteGroupTextSuffix="to add the ones important for your team.";e.Delete="Delete";e.WorkItemTemplateDialog_RemoveUnmodified="Remove unmodified fields";e.AddAttachmentFileNotFoundError="TF20004: Could not find the specified file \"{0}\". Check the file name and try again.";e.MobileDiscussionUnsaved="Remember to send your comment";e.LinksControlTagsText="Tag";e.Backlog_DisplayName="{0} backlog";e.ConfirmWorkItemDiscardNew="You have unsaved changes to this work item which will be lost. Are you sure you want to discard this work item?";e.HyperLinkText="Hyperlink";e.QueryEditorQueryTypeTree="Tree of work items";e.QueryEditorQueryTypeLink="Work items and direct links";e.LinksControlGitHubIssueText="GitHub Issue";e.BulkEdit_ApplyTemplateButton="Apply";e.WorkItemTemplateDialog_CopyLinkDisabledMessage="Save the template in order to enable Copy link.";e.AssignedToPrefix="Assigned to";e.WorkItemUnsavedDiscussionAriaLabel="Discussion: Remember to send your comment. Click here to view discussion.";e.QueryResultsGridLinkQueryStatusTextFormat="{0} work items ({1} top level, {2} linked and {3} selected)";e.NewLinkedWorkItemTitle="Title";e.AttachmentsNotSupported="Invalid link type, Attachments not supported";e.WorkItemFinderWorkItemTypes="Work Item Types";e.WorkItemLogControlOtherLinkAdded="added other link";e.AddARollupColumn="Add a rollup column";e.InvalidTestWorkItem="Invalid test work item type";e.ImporCsvEmptyDatasetError="Empty dataset found.";e.CustomFollowWorkItem="Notification Settings";e.AddTagText="Add tag";e.VisualizeYourWorkText="Kanban boards provide an interactive, customizable visualization of your backlog to help monitor the flow of your work items from idea to completion.";e.Cancel="Cancel";e.KeyboardShortcutGroup_WorkItemForm="Work Item Form";e.GitHubInputNotValid="The URL is not a valid {0} URL.";e.WorkItems="Work items";e.WorkItemChartsTreeQueryDisallowedMessage="You can create a chart for a flat list query, but not for a tree query or a direct links query.";e.ReasonField="Reason Field";e.KeyboardShortcutDescription_Previous_Item="Previous item";e.AddAttachment="Add attachment";e.ReasonLabel="Reason";e.QueryEditor="Query Editor";e.NameLabel="Name";e.GitHubZeroDataCommitLinkTypeText="commit";e.LinkText="Link";e.QueryEditorQueryModeLabel="Filter options";e.ImportFromCsv="Import from CSV";e.HistoryControlOldValueText="Old Value";e.MoveWorkItemDestinationLabel="Destination project";e.SearchResults="Search results";e.AggregationModeLabel="Select an aggregation mode.";e.DeleteWorkItemDialogTitle="Delete work item(s)";e.QueryFolder="Query folder";e.EmptyTeamFavoriteGroupTextPrefix="No team favorites yet!";e.FieldStatusInvalidValueInOtherFieldError="The field \u0027{0}\u0027 is unsupported because of a value in another field.";e.ColumnOptionsAllProjects="All Projects";e.WorkItemIDListString="Select items to add to the work item list";e.Import="Import";e.ConfirmDiscardCommentDraft="Are you sure you want to discard this draft?";e.QueryManageDialog_Validator_FolderSelfReferential="Folder cannot refer to self as a parent or ancestor.";e.ErrorSendingEmail="Error sending email";e.ColumnOptionsSorting="Sorting";e.ChangeTypeMessage="Learn more about changing the type";e.ConfirmDeleteComment="Are you sure you want to delete this comment?";e.NoData="[No data]";e.WorkItemPublicVisibilityLearnMoreLink="https://aka.ms/public-project-learn-more";e.LinksControlGitHubCommitText="GitHub Commit";e.LinksControlPullRequestText="Pull Request";e.DeleteAttachment="Delete attachment";e.LinkToExistingDialogFormNotFound="Form not found for link type {0}.";e.RollupTotalNumberOptionsHeadingText="Total number";e.LastVisitedGroupName="Continue where you left off";e.LinkDialog_SameTypeHierarchyError_LearnMore="Learn more";e.MoveWorkItemPathInvalid="The selected value does not exist.";e.CopyWorkItemToPublicProjectMessage="You are copying this work item into a public project.";e.SaveAll="Save all";e.WorkItemControlReadOnly="{0} is read-only.";e.WorkItemLogControlLinkAdded="added {0}link";e.QueriesView_FavoritesPivotName="Favorites";e.SaveQueryAs="Save as...";e.WorkItemCountDisplayStringPlural="{0} Work Items";e.FlatQuery="Flat Query";e.FilterByAreaPath="Area";e.StoryboardLinkInvalid="TF400063: You have entered an invalid storyboard link: {0}. You must provide a valid UNC path to a file or URL to a storyboard stored on a shared resource. Correct the link and try again.";e.WorkItemFinderQuery="Query";e.ProjectNameRequired="Project must be specified.";e.Update="Update";e.WorkItemFinderTypes="and type";e.DeleteAttachmentsDialogConfirmationText="Are you sure you want to delete the following?";e.ReactionTypeEmojiPartyPopper="Hooray";e.FieldStatusInvalidEmptyError="Field \u0027{0}\u0027 cannot be empty.";e.HistoryControlAgoLastSevenDays="Last seven days";e.DateTimePicker_ClearDate="Clear date and time";e.DestroyWorkItemsTooltip="Permanently delete selected work item(s)";e.DateTimePicker_MinuteDownAriaLabel="Decrease minute";e.CreateCopyCopiedWithAllLinksFrom="Copied with all links from {0}";e.LinkToolTypeRequirements="Requirements";e.CorrectWisAndTryAgain="Please correct the unsaved work item(s) and try again.";e.ColumnOptionsPanelKeyboardShortCutWithControl="Ctrl+Up or Ctrl+Down.";e.ImporCsvExcessFieldValuesError="Excess field value(s) at line {0}, column(s) {1}.";e.ColumnOptionsPanelKeyboardShortCutWithCommand="+Up or +Down.";e.ContributionBlockingWITSave="Saving the work item is blocked by the extension {0}.";e.EditTagsAriaLabel="Edit {0}";e.LinkingDialog_LoadingEnd="Link form loaded";e.NoQueryFolderChildren="No sub-folders.";e.WorkItemCountDisplayStringSingular="{0} Work Item";e.ImporCsvNonIntegerWorkItemIdError="{0} value should be numberic. Please correct the value at line {1}, column {2}.";e.LinkDialog_LinkMultipleWorkItemsAsParentsError="A work item can only have one link of this type. Remove the existing link and try again.";e.ErrorEmailEmptyQueryResults="TF242408: The query you selected does not return any work items. Select a query that contains at least one work item, and try again.";e.QueryFolderPicker_ErrorMessage_FolderRequired="Folder selection cannot be empty.";e.StateField="State Field";e.RollupColumn_TotalBy_WorkItemType="Count of {0}";e.AdditionalDisplayFieldFocusZoneLabel="{0}, press right arrow to choose a different field";e.WorkItemFinderSelectQueryText="\u003cSelect a Query\u003e";e.StateLabel="Stat\u0026e";e.WorkItemTemplates_NoTemplatesDisabledMenuItemTitle="Capture to add a template";e.ConfirmWorkItemRevert="You have unsaved changes to this work item which will be lost. Are you sure you want to revert your changes to the work item?";e.DeleteAttachmentsDialogTitle="Delete attachment(s)";e.MaxQuerySearchResultMessage="Showing the first {0} queries that match: {1}";e.NewChartText="New chart";e.CommentEditedFormat="commented {0} (edited)";e.LinksControlRelatedText="Related";e.WorkItemFinderDialogTitle="Choose Linked Work Items";e.NewMenuTitle="New";e.MobileDiscussionViewNumberOfCommentsSingle="View 1 comment";e.RollupColumn_TotalBy_FieldName="Sum of {0}";e.ReactionTypeEmojiSmilingFace="Laugh";e.WorkItemBulkSaveFailed="One or more work items could not be saved. You might have lost the connection to your server. Refresh your browser, and then try again. If the problem persists, you might not have the area path permissions required to edit work items.";e.EditComments="Edit comments";e.WorkItemsChartsTabTitle="Charts";e.KeyboardShortcutDescription_OpenBacklog="Open backlog";e.WorkItemFinderFindButtonText="Find";e.Queries="Queries";e.EmailQueryResult="Send query as an email";e.WorkItemTemplateDialog_Name="Name";e.ImportWorkItems="Import Work Items";e.ShowMoreWorkItemsMessage="Showing the first {0} items. {1}";e.DestroyWorkItemDialogTitle="Permanently delete work item(s)";e.HistoryControlAttachmentDeletedText="Attachment Deleted";e.LinkToExistingItemToolTip="Link to an existing item";e.ExportingCsvProgressButtonText="Exporting...";e.LinkToolTypeGitHub="GitHub";e.RefreshTooltip="Refresh";e.DevelopmentControlWorkHasntStartedMessage="Development hasn\u0027t started on this item.";e.SaveAndCloseWorkItemText="Save \u0026 Close";e.CreateCopyOfWorkItem_CopiedWorkItemSuffix=" - Copy";e.WorkItemLinkTypeDoesNotExists="Work item link type \u0027{0}\u0027 does not exist.";e.KeyboardShortcutDescription_LeftTab="Move to left tab";e.LinkDialog_ExistingWorkItem_SameTypeHierarchyError="The {1} you have selected is of the same type with work item {0}. Please change the link type or select a {1} work item that is not on the same hierarchy level to avoid a limited experience. ";e.FieldStatusInvalidPathError="The area or iteration provided for field \u0027{0}\u0027 could not be found.";e.LinksControlCommentColumnText="Comment";e.FullscreenEnterIconText="Enter full screen mode (Z)";e.DateTimePicker_HourUpAriaLabel="Increase hour";e.FilterByAssignedTo="Assigned to";e.AttachmentLoading="Loading attachment...";e.IdColonText=" ID: ";e.FiltersForLinkedWorkItems="Filters for linked work items";e.ProjectDoesNotExist="Project \u0027{0}\u0027 does not exist.";e.QueryEditorTreeTypeLabel="Type of tree";e.CommentedJustNow="just now";e.ColumnOptionsInvalidWidth="Column width must be a value between 0 and 65536.";e.DevelopmentControlCreateBranchTitle="Create a new branch";e.AddParentText1="Add an existing work item";e.AddParentText2=" as a parent";e.WorkItemTemplateDialog_SavingAnnouncerEnd="Template saved";e.ColumnOptionsAtLeastOneColumnIsRequired="At least one column is required";e.TagEdit_Separator="Suggested Tags";e.WorkItemsHubComments="Comments";e.LinkingDialog_LoadingStart="Loading link form";e.HistoryControlCommentDeletedAdornmentText="Comment deleted";e.FilterByKeyword="Filter by keyword";e.HistoryControlViaTextEnd=")";e.CustomizeWorkItemsNewFeatureTitle="Customize your work items";e.ProgressBarLoading="Loading";e.RemoteLinkStatusSuccess="Success";e.DialogClose="Close";e.CopyToClipboard="Copy to clipboard";e.QueryBreadcrumbAriaLabel="{0} breadcrumb item picker";e.NameLabel_Watermark="Enter name";e.ShowMoreComments="Show more";e.ErrorExpectingNumericValue="Expecting numeric value.";e.WorkItemBulkDestroyError="We were unable to destroy some work item(s). They are not present in the recycle bin or access is denied. Please refresh to see the failed items.";e.WorkItemPaneFilter_BottomAriaLabel="Work item panel bottom";e.GoToDiscussionShortcutWithControl="(Ctrl+Shift+D)";e.GoToDiscussionShortcutWithCommand="(+Shift+D)";e.ErrorDateTimeValueOutOfRange="The DateTime value is out of range.";e.WorkItemFinderResultStatusString="{0} work item(s) found.";e.QueriesHub_NewFolderCreated_MessageText="New folder \"{0}\" has been created.";e.ImportCSVPanelText="Import work items via CSV file import.";e.MobileDiscussionLoading="Loading";e.Picker_EmptyInput="Empty";e.WorkItemLogControlAttachmentsHeader="Attachments";e.KeyboardShortcutDescription_ToggleFullScreen="Toggle full screen mode";e.WorkItemTemplates_CaptureTemplateMenuItem_TooManyItemsTooltip="Templates can only be generated from individual work items";e.MoveWorkItemDialogTitle="Move work item";e.QueryEditorQueryModeMayHave="Return all top level items";e.FieldStatusInvalidOldValueError="The value for field \u0027{0}\u0027 must be updated, the current value is no longer supported.";e.HistoryControlLinkAddedText="Link Added";e.TestWorkItemDeletedItems="Deleted items";e.SaveAndCloseHotkeyWithCommand="(+Enter)";e.SaveAndCloseHotkeyWithControl="(Ctrl+Enter)";e.WorkItemFieldLabelTitleFormat="[Field Name: {0}]";e.ImportEmptyDataSet="Dataset is empty.";e.BulkEdit_ApplyTemplateTitle="Apply template";e.WorkItemIdOutOfRange="Cannot load work item. Id out of range.";e.LinkDialog_WorkItemNotFoundError="Work item {0} does not exist or you do not have permission to access it.";e.RenameQueryFolderTitle="Rename query folder";e.ImporCsvReadonlyFieldModifiedError="Value of a readonly field {0} was modified. Please revert the {0} values or remove the column from the input file and and try to import again.";e.WorkItemDeleteError_ClickHere="click here";e.ImportEmptyColumn="Empty columns at col(s): {0}.";e.AddTagPlusText="+";e.Unknown="\u003cunknown\u003e";e.ImportCSVPanelLoadingText="Please wait while we load your CSV changes.";e.ImportCSVErrorHeader="There were issues while importing this CSV file.";e.CustomizeWorkItemsText="Personalize your work items with custom fields, picklists and states or add your own custom work items to match your business process.";e.KeyboardShortcutDescription_Next_Item="Next item";e.RestoreWorkItemDialogConfirmationText="Are you sure you want to restore the selected work item(s)?";e.CopyNameTemplate="{0} ({1})";e.WorkItemDeleteError_MoreInfo="For more information on what might cause this error,";e.UnsavedWorkItemActionsMessage="You can leave to discard your changes, or cancel to continue editing.";e.LinksControlAddLinkDisabledTooltip="You cannot add a link to an item in read-only mode";e.WorkItemFinder_AriaLabel_FindResultsGrid="Work item search results";e.LoadingQueryResults="Loading query results...";e.ReturnLinksOfAnyType="Return links of any type";e.MobileDiscussionViewNumberOfComments="View {0} comments";e.MultiFieldInsertNewFieldTooltip="Insert new field";e.DateTimePicker_MinuteUpAriaLabel="Increase minute";e.FilterNoStatuses="No status available";e.InvalidQuerySyntax="{0} The error is caused by {1}.";e.DateTimePicker_GoToToday="Go to today";e.MoveWorkItemBulkTypeError="Work item type(s) {0} may not exist in {1}.  Change the type of all selected work items below, or exit the dialog and move work items separately.";e.ErrorExpectingTeam="Expecting team value.";e.RecycleBin="Recycle Bin";e.HistoryControlWorkItemTagAddedAdornmentText="Tag added";e.StartStoryboarding="Start storyboarding";e.InsertImageEditLabel="Image";e.TextFilterNextItemsMessage="Filter the next {0} items";e.WorkItemChartsPageNotReady="TF401194: The Work item charts page is in an unready state.";e.WorkItemFormIsReadonly="Work item form is readonly";e.WorkItemLogControlWorkItemTypeChange="changed type from {0} to {1}";e.HistoryControlMultipleLinksAdornmentText="Multiple links were added";e.TabErrorAriaLabel="{0} contains invalid fields.";e.LinksControlLinkTypeColumnText="Link Type";e.CannotResolveExternalLinkResource="The \u0027{0}\u0027 url cannot be resolved. Please check the url and try again.";e.CreateCopyCopiedFrom="Copied from {0}";e.FieldStatusInvalidListValueError="The field \u0027{0}\u0027 contains the value \u0027{1}\u0027 that is not in the list of supported values.";e.FilterByTags="Tags";e.EmptyQueryChartList="Choose \u0027New chart\u0027 to create the first chart for \u0027{0}\u0027 query.";e.ImportDuplicateNonRequiredHeaders="Duplicate non-required column headers: {0}.";e.WorkItemLogControlOtherLinkDeleted="deleted other link";e.GitHubZeroDataText3=" to see the status of your development. ";e.GitHubZeroDataText2=" or ";e.GitHubZeroDataText1="Link a GitHub ";e.HistoryControlMultipleAttachmentsAdornmentText="Multiple attachments were added";e.WorkItemLogControlLinkDeleted="deleted {0}link";e.DateTimePicker_PreviousMonthAriaLabel="Go to previous month";e.ExportToCSV="Export to CSV";e.GithubPRLinkDialogAddressTitleWatermark="Enter GitHub pull request url";e.ColumnOptionsColumns="Columns";e.CommentEditedTag="(edited)";e.ProgressBarTooltip="{0}/{1} {2} completed.";e.WorkItemFinderIds="IDs";e.WorkItemTemplateDialog_CopyLinkEnabledMessage="Copy the URL to add a work item using this template.";e.DeleteWorkItemDialogConfirmationTextLearnMoreLink="Learn more";e.RollupColumnFieldRowAriaLabel="Rollup column {0}";e.LinksControlSameHostRemoteLink="A remote work item cannot link to the same organization.";e.SaveResults="Save results";e.ChangeType="Change type...";e.HistoryControlLinkDeletedText="Link Deleted";e.Confirm="Confirm";e.WorkItemTemplateDialog_AddComment="Add a comment";e.ClosePanel="Close panel";e.CustomFollowDialogAllNotificationsRadioDescription="Receive all notifications from this work item.";e.DragFavoriteFailed="The query \u0027{0}\u0027 could not be added to favorites. The underlying error was: \u0027{1}\u0027";e.MoveWorkItemIterationPathLabel="Iteration path";e.QueryResultsGridRoleTitle="Query results grid";e.QueryManageDialog_Validator_FolderInvalid="Folder is invalid.";e.QueryFolderPicker_ErrorMessage_NameExceededLimit="Query name should be less than {0} characters, actual is {1}";e.TestSuites=" Test Suites";e.Customize="Customize";e.NoValueForMultiLineControl="No {0}";e.TriageSummary="{0} of {1}";e.FieldCannotBeEmpty="Field name cannot be empty";e.FilterNoArea="No areas available";e.FilterNoTags="No tags available";e.WorkItemChartsUnsavedQuery="Please save your query before creating a chart.";e.MobileDiscussionMessageSend="Send";e.WorkItemFinderAnyProject="Any Project";e.WorkItemDiscussionAddWithPRCommentHelpText="Add a comment. Use hash symbol to link a work item, exclamation mark to link a pull request, or at symbol to mention a person.";e.WorkItemFinderFavorites="Favorite Query";e.HistoryControlWorkItemTagRemovedAdornmentText="Tag removed";e.CreateCopyOfWorkItemTitle="Copy Work Item";e.WorkItemNotFoundClientException="TF401232: Work item {0} does not exist, or you do not have permissions to read it.";e.LinksControlResultAttachmentText="Result Attachment";e.DeleteWorkItemsToSeeMore="There are more items in the recycle bin.";e.ReadOnlyFieldIconLabel="Field {0} is readonly";e.TitleEmptyText="Enter Title";e.SaveChanges="Save changes";e.TagEdit_ZeroData="No tags have been added";e.WorkItemPaneFilter_FilterWorkItems="Filter work items";e.WorkItemTypeNameRequired="Work item type must be specified.";e.WorkItemLogControlEditedComment="edited a comment";e.ImporCsvMaxRowsExceededError="Max number of work items allowed on import is {0}.";e.ReadonlyWorkItemSaveButtonTooltip="You don\u0027t have permission to edit this work item.";e.WithUnsavedComment="{0} with unsaved comment";e.TestSuiteDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e and all its child Test Suites, Tests across all configurations and testers along with their Test Result History will be permanently deleted. {2}";e.MultiFieldAddNewField="Add new field";e.UnsavedWorkItemPrompt="You have modified this work item. You can save your changes, discard your changes, or cancel to continue editing.";e.LinksControlGitHubPullRequestText="GitHub Pull Request";e.TriageViewWorkItemSaveError="Work item {0}:";e.WorkItemFinderAllWorkItemTypes="All Work Item Types";e.UseWorkItemAsATemplate="Clone work item";e.ImporCsvInvalidWorkItemIdError="{0} value can\u0027t be 0. Please specify the correct value at line {1}, column {2}.";e.EnterDetails="Enter Details";e.DiscussionViewNumberOfComments="{0} comments";e.CommentEditedTooltip="Edited {0}";e.AddYourReaction="Add your reaction";e.WorkItemTemplates_CaptureTemplateDialogTitle="Capture Template";e.DeleteWorkItemDialogRefreshWarningMessage="After deleting selected work items, you need to refresh the page to reflect the changes.";e.DeleteAttachments="Delete attachments";e.CreateCopyCopiedWithAllLinksAndAttachmentsFrom="Copied with all attachments and links from {0}";e.MoveWorkItemProjectWatermark="Select a project";e.NoResultsFound="No results found";e.ColumnOptionsTooltip="Column options";e.QueryColumnLastModifiedBy="Last modified by";e.CommentedFormat="commented {0}";e.WorkItemTypeChangeInProgress="Change type is almost complete! Simply click Save.";e.HistoryControlCommentEditedAdornmentText="Comment edited";e.ColumnOptionsSortDescending="Sort descending";e.QueryAcrossProjects="Query across projects";e.RemoteLinkStatusPendingDelete="Deleting";e.LinkFormResultAttachmentMessage="To link an attachment from a test result to this work item, you must open the test result that contains the attachment and associate the work item with the test result.";e.DialogSave="Save";e.WorkItemDiscussionLabel="Discussion";e.TreeLinksQuery="Tree Links Query";e.DeleteSelectedWorkItems="Delete";e.EmailWorkItems_NoSelection="You have not selected any items to email";e.SaveAndClose="Save and close";e.NewFeatureCustomizeProcessLinkTitle="Customize process";e.ErrorExtensionService_CannotRevertWorkItem="You cannot revert a work item that is new or not dirty";e.QueryFolderPicker_ErrorMessage_FolderDoesNotExist="Specified folder does not exist.";e.BulkEditDialogFieldsRoleTitle="Fields";e.NoCommentsText="No Comments";e.ConfirmDeleteQuery="Are you sure you want to delete \u0027{0}\u0027?";e.RollupColumn_TotalBy_AllDescendants="Count of Work Items";e.MoveWorkItemToPublicProjectMessage="You are moving this work item into a public project.";e.CopyQueryURL="Copy query URL";e.DeletedAreaPath="(removed area path)";e.AttachmentUploadFailPermissionsMessage="You do not have permission to attach files to work items in the current area path.";e.LinkFormWorkItemNotFound="Work item not found or no permission to access it.";e.LinksControlIntegratedInBuildText="Integrated in build";e.TrackChangesNewFeatureTitle="Track changes to work items and code";e.UnsavedComment="Unsaved comment";e.LinksControlBranchText="Branch";e.ImporCsvInvalidFieldValueError="Invalid work item type {0} specified in column {1} at line {2}, column(s) {3}.";e.QueryItemAlreadyExist="Query item \u0027{0}\u0027 already exists.";e.ItemsPlural="{0} items";e.HistoryControlAgoYesterday="Yesterday";e.QueryEditorQueryModeMustHave="Only return items that have matching links";e.WorkItemLogControlProjectChange="changed project from {0} to {1}";e.LinkDialog_QueuedLinkDuplicateWorkItemsError="Work item {0} is already in the list of items to link.";e.KeyboardShortcutDescription_CopyWorkItemTitle="Copy work item title";e.WorkItemEditorDirtyCaption="{0}*";e.CustomRollupTotalOptionTitle="Rollup as Total";e.RollupColumn_TotalBy_Backlog="Count of {0}";e.TagEdit_FilterWatermark="Add tag";e.WorkItemLogControlAttachmentDeleted="deleted an attachment";e.WorkItemEditorCaption="{0} {1}";e.CopyQueryURLDataTooLargeException="VS402348: The query definition is too large to share. Please save the query as a Shared Query and share the link to the saved query.";e.QueryDirtyDocumentTitleFormat="Query: {0}";e.AttachmentDropMessageHeader="Upload files";e.BooleanFieldTrueValue="True";e.LinksControlAddLinkToExistingItem="Existing item";e.LinksControlZeroData="No links have been added";e.ColumnOptions="Column options";e.WorkItemTemplateDialog_CopyLink="Copy link";e.LinksControlGitHubHelpText_about="about GitHub integration with Azure Boards.";e.GithubIssueLinkDialogAddressTitleWatermark="Enter GitHub issue url";e.WorkItemDiscussionAddWithPRComment="Add a comment. Use # to link a work item, ! to link a pull request, or @ to mention a person.";e.WorkItemTemplateDialog_NoMemberTeamsError="You cannot capture this template because you are not a member of any team in this project";e.CustomRollupProgressOptionSubtitle="A percentage calculation of the linked descendant will be added at the parent level. Progress is calculated as completed work items out of all work items.";e.MoveWorkItemChangeTypeWatermark="Select a work item type";e.CustomFollowDialogNoNotificationRadio="Not Subscribed";e.TestWorkItemDeletePermissionError="You don\u0027t have sufficient permissions to delete this work item. You must have work item and test artifacts delete permissions.";e.QueryResultsGridNumSelectedSecondaryTextFormat="{0} selected";e.EmailQuery="Email query";e.WorkItemDiscussionMentionLinkComment="{0} mentioned work item #{1} in #{2} discussions";e.AreaLabel="\u0026Area";e.FollowingWisCouldNotBeSaved="The following work item(s) could not be saved:";e.WorkItemRevert="Revert changes";e.FieldStatusInvalidCharactersError="The value for field \u0027{0}\u0027 has unsupported characters.";e.CustomRollupTypeOptionLabel="Select rollup type";e.MoveWorkItemAreaPathLabel="Area path";e.VisualizeYourWorkNewFeatureTitle="Visualize Your Work";e.AttachmentUploadCancelledMessage="You have refreshed the work item or reverted changes. The file upload has been canceled.";e.WorkItemLogControlMadeOtherChanges="made other changes";e.ReturnSelectedLinkTypes="Return selected link types";e.LinksControlCommitText="Commit";e.Of="of";e.OK="OK";e.CustomFollowDialogTitle="Notification Settings";e.LinksControlDuplicateHyperlink="Duplicate hyperlink.";e.LinksControlHyperlinkText="Hyperlink";e.MoreSaveOptions="More save options";e.KeyboardShortcutDescription_SaveAndClose="Save and close";e.RollupColumn_ProgressBy_AllCompletedDescendants="Progress by all Work Items";e.RecentWorkItems="Recent work items";e.CannotGetRegisteredInstance="Cannot get registered instance for : {0}";e.LinkTopologyTreeForwardImageAltText="This is a directional link that creates a one-to-many relationship. Once this link is created, no more links of this type can be added to this work item.";e.WorkItemPaneFilter_Off="Off";e.LinksControlFoundInBuildText="Found in build";e.LinksControlBuildText="Build";e.FullscreenExitIconText="Exit full screen mode (Z)";e.QueriesView_FolderPivotName="Folder";e.ImportErrorMessageTitle="Found the following header errors:";e.HistoryControlAgoOlder="Older";e.ExportToCsvQueryResultTooBig="The number of work items returned exceeds the limit for export to CSV. Please change the query to return fewer than {0} items and try again.";e.KeyboardShortcutDescription_HistoryTab="Move to history tab";e.ReactionTypeEmojiThumbsDown="Dislike";e.ZeroDataImageAltText="Zero Data Image";e.EmailSelectedWorkItemToolTip="Email the selected work item";e.HistoryControlAgoToday="Today";e.LinkFormTestResultMessage="To link a test result to this work item, you must open the test result and associate the work item with the test result.";e.ErrorExpectingIntegerValue="Expecting integer value.";e.FileThrottleDialogTitle="Too many files";e.EmailWorkItem="Email work item";e.DateTimePicker_NextMonthAriaLabel="Go to next month";e.FieldErrorAriaLabel="Invalid {0}";e.ImporCsvExtraFieldsFoundError="Excess number of field values found at line {0}: expected {1} but read {0}.";e.BulkEditSelectedWorkItems="Edit...";e.LinkDialogCommentTitle="Comment";e.InvalidErrorParameter="Invalid Error Parameter";e.FieldCannotBeRemoved="This field cannot be removed.";e.ExternalLinkText="External link";e.AddAttachmentUnknownError="Unknown Attachment Error.";e.LinksControlDescriptionColumnText="Description";e.QueryFilterErrorEmptyValue="The value for row {0} is not filled correctly.";e.WorkItemLogControlCreatedWorkItem="created the {0}";e.WorkItemIdUndefined="Cannot load work item. Id undefined.";e.AzureReposZeroDataText1="Link an Azure Repos ";e.AzureReposZeroDataText2="You can also ";e.AzureReposZeroDataText3=" to get started.";e.ErrorExpectingBooleanValue="Expecting boolean value.";e.Bug="Bug #{0}";e.Sum="Sum";e.LinkDialog_CircularWorkItemRelationshipError="Adding a {0} link between work items {1} and {2} would result in a circular relationship. To create this link, evaluate the existing links, and remove one of the other links in the cycle.";e.TestResults=" Test Result History";e.Count="Count";e.Items="items";e.WorkItemBulkRestoreError="We were unable to restore some work item(s). They are not present in the recycle bin or access is denied. Please refresh to see the failed items.";e.WorkItemLinkText="Work item link";e.TitleField="Title Field";e.Query="Query";e.EditComment="Edit comment";e.Tests=" Tests";e.WorkItemIsReadOnlyError="This action does not apply because the work is read-only.";e.AssignedToEmptyText="Unassigned";e.RollupColumn_TotalBy_Filter_Field="Sum of {0} {1}";e.ImportNonConsecutiveTreeHeader="Non-consecutive tree column headers at col(s): {0}.";e.QueryEditorLinkTypeLabel="Types of links";e.QueryColumnTitle="Title";e.WorkItemChartsUnrecognizedQueryMessage="Query Type is unrecognized - You can create a chart for a flat list query.";e.StateEmptyText="Select State";e.FollowedWorkItemsQuery="Followed work items";e.LinksControlCreateNewLink="New item";e.RemoteLinkStatusPendingUpdate="Updating";e.ExportToCsvNoQueryResultsMessage="The query you selected does not return any work items. Select a query that contains at least one work item, and try again.";e.WorkItemsHubTruncatedCommentCount="{0}+";e.UpdatedDateByMessage="Updated {0} by {1}";e.CopyQueryURLExpirationMessage="Note: The query URL will expire in {0} days.";e.WorkItemMoveInProgress="Your move is almost complete! Simply click Save.";e.CreateaBranchText="create a branch";e.LinksControlAddLinkDisplayText="Add link";e.NoLicenseEmptyQueryChartList="To author charts, you must have the correct license and configuration. For more information, \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkId=256033\u0027 target=\u0027_blank\u0027\u003esee visualstudio.com\u003c/a\u003e.";e.LinksControlVersionedItemText="Versioned Item";e.WarningExportingDirectLinksTitle="Direct links export";e.WorkItemTypeDoesNotExist="Work item type \u0027{0}\u0027 does not exist.";e.AttachmentsGridViewIconAriaLabel="Click to toggle to Attachments Grid View";e.AdditionalSortFieldFocusZoneLabel="{0}, {1}, press right arrow to choose a different field";e.TabHeaderTooltip="{0}";e.QueryEditorQueryMatchTopLevelItems="Match top-level work items first";e.HistoryControlWorkItemRestoredAdornmentText="Work item restored";e.KeyboardShortcutDescription_NewQuery="New query";e.AttachmentDropMessage="Drag and drop your files here.";e.RichEditorMaximizeName="Maximize {0}";e.RestoreWorkItemsTooltip="Restore selected work item(s)";e.ErrorCannotCreateLegacyExtension="Cannot create work item control of type \"{0}\". Legacy extensions are no longer supported in new work item form.";e.CreateCopyOfWorkItem_Failed="Failed to copy work item: ";e.HistoryControlWorkItemDeletedAdornmentText="Work item deleted";e.HistoryOutdatedWithUnsavedChangesWarning="History details is outdated. Please save your changes, or discard them to see the latest details.";e.WorkItemPaneFilter_Bottom="Bottom";e.LinkDialogTypeNotValid="Could not find the specified link type.";e.AttachmentsGridCommentsColumn="Comments";e.KeyboardShortcutDescription_OpenTaskBoard="Open task board";e.RefreshHotkey="(Alt+R)";e.WorkItemTypeChangeInProgressWithErrors="Change type is almost complete! Fix the errors and click Save.";e.ChartEditor_Query_GroupingTooltip="The columns you have specified in your query will show up as grouping for the chart.";e.LinksControlIssueText="Issue";e.UnableToCreateBugOfType="Unable to create work item of type: {0}.";e.PreviewUnhandled="It looks like this file doesn\u0027t have a preview we can show you.";e.MobileGoBackAriaLabel="Go back";e.LinkWorkItemsNoFavorites="You do not have any favorite queries";e.InsertImageInvalidFileType="TF400116 Unsupported file type.  Valid file types are: {0}.";e.NewFolder="New folder";e.GithubCommitLinkDialogAddressTitleWatermark="Enter GitHub commit url";e.PickAColumn="Pick a Column";e.WorkItemArtifactLastUpdatedLabel="Updated {0}";e.MobileDiscussionZeroData="Be the first to add a comment";e.StateTransitionGraphViewAllChangesText="Show all";e.WorkItemDiscussionAdornmentTooltipSingular="Go to discussion. There is 1 comment available";e.AttachmentUploadingEnd="One or more attachments uploaded.";e.FolderLabel="Folder";e.ImporCsvDuplicateWorkItemIdColumnError="Duplicate {0} for work item id {1} at line {2}, column {3}.";e.ScopedIdentityTooltipWithSuffix="This field is scoped to: {0} and more.";e.NoLicenseHostedEmptyQueryChartList="No charts exist for this query.";e.InvalidCSVFileFormat="Only CSV files are accepted.";e.Wiql_MacroCurrentIteration="CurrentIteration";e.HistoryControlStateAdornmentText="Set to {0} state";e.LinkDialogErrorWorkItemTypesToAdd="The filter for the link control is defined so that no work items of any type can be added. Modify the filter definition and import it again.";e.WorkItemsHubEditorTabTitle="Editor";e.LinksControlZeroDataBranchText="branch";e.QueryColumnFolder="Folder";e.NewLinkedWorkItemTypeTitle="Work item type";e.Rollup_EffortFieldName="Effort";e.ErrorCannotCreateWorkItemControl="Cannot create work item control of type \"{0}\"";e.LoadingWorkItem="Loading work item";e.WorkItemLinkTypeEndDoesNotExist="Work item link type end \u0027{0}\u0027 does not exist.";e.WorkItemRestoreError="Failed to restore work item: {0}. Error Details: {1}";e.NewFeatureLearnMoreLinkTitle="Learn more";e.LinkDialogWorkItemIdsTitle="Work items to link";e.InsertImageUploadingDialogTitle="Uploading Image...";e.NewLinkedWorkItem="New linked work item";e.InternalServerError="Internal Server Error:";e.CustomFollowDialogCustomNotificationRadio="Custom";e.QueryEditorRoleTitle="Query editor";e.WorkItemPaneFilter_RightAriaLabel="Work item panel right";e.RollupColumnInfo="Add a Rollup column to display percentage of progress or sum of work items based on hierarchical parent/child relationships.";e.AdhocQueryDefaultName="Custom query";e.FollowingWorkItem="Following";e.QueryMyFavoriteLabel="My favorites";e.AssignedToMeQuery="Assigned to me";e.WorkItemIdDisplayStringSingular="Work Item {0}";e.MoveWorkItemTitle="Move to team project...";e.GroupErrorAriaLabel="{0} contains invalid fields.";e.WorkItemTypePicker_Label="Backlog level or work item type";e.GitHubLinkAlreadyExists="A {0} link with the same URL already exists.";e.RollupColumn_ProgressBy_WorkItemType="Progress by {0}";e.BulkEditDialogHistoryRoleTitle="History";e.RevertQueryChanges="Revert changes";e.AttachmentsGrid_PlaceholderPrefixText="Uploading ";e.GithubPRLinkDialogAddressTitle="GitHub pull request url";e.WorkItemTemplate_FailedToLoad="Failed to load template.";e.WorkItemTemplate_FailedToSave="Failed to save template.";e.LinksControlDuplicateRemoteLink="A remote work item link already exist.";e.LinksControlStoryboardText="Storyboard";e.WorkItemFinderProject="Project";e.LinkDialog_LinkSelfWorkItemError="You cannot link a work item to itself so work item {0} was not added to the list.";e.CopySelectedWorkItemsAsHtml="Copy as HTML";e.UnsavedCommentPrompt="You have an unsaved comment. Close and lose changes?";e.WorkItemTemplateDialog_ConfirmClosePrompt="You have modified this template. Close and lose changes?";e.LinksControlCircularRemoteLink="A remote work item link already exists in the other direction, circular link cannot be established.";e.WorkItemDiscussionCommentAriaLabel="Comment {0} of {1}.";e.QueryEditorQueryMatchLinkedItems="Match linked work items first";e.ColumnOptionsTitle="Column Options";e.Heading_SuggestedValues="Suggested Values";e.PrivacyStatement="Your privacy is important to us.";e.WorkItemLogControlDeletedWorkItem="deleted the work item";e.HistoryControlProjectAdornmentText="Work item moved to {0} project";e.RunQuery_PromptUnsavedWorkItemChanges_MessageTitle="Are you sure you want to run query?";e.MovingQueryLabel="{0} *";e.DiscardWorkItem="Discard";e.WorkItemDiscussionAdornmentTooltip="Go to discussion. There are {0} comments available";e.KeyboardShortcutDescription_AssignToMe="Assign work item to me";e.AddAttachmentDialogFieldComment="Comment";e.HistoryOutdatedFromUnsavedChangesWarning="History details is outdated. Please save your changes, revert them, or refresh to see the latest details.";e.BackToQuery="Back to query";e.WorkItemDelete_NoPermission="We were unable to delete the work item(s), you do not have sufficient permissions to delete.";e.FetchingImplications="Fetching implications...";e.EditQuery_PromptQueryRevert_MessageContentText="You have unsaved changes that will be lost:";e.DestroyWorkItemDeleteButtonText="Permanently delete";e.HtmlFieldPlaceholder="Click to add {0}";e.DeleteQueryFolder="Delete";e.LinkToExistingItem="Link to an existing item...";e.QueryResultsNewQueryGridStatusText="Run to see the query results.";e.QuerySaveDialog_FolderCombo_ExpandButtonAriaLabel="Expand";e.KeyboardShortcutDescription_Discussion="Go to discussion";e.LoadingTeamFavorites="Loading Team";e.DiscussionViewNumberOfCommentsSingle="1 comment";e.WorkItemDiscussionAddComment="Add a comment. Use # to link a work item or @ to mention a person";e.WorkItemChartsDisallowedAdhocQuery="TF401195: This generated query is not supported for use with Charting.";e.RecyclebinCleanupMessage="Recycle Bin items older than {0} days will be permanently deleted.";e.WorkItemHtmlFieldMentionLinkComment="{0} mentioned work item #{1} in #{2}";e.DeleteOrRestoreConfirmationMessage="Work items are still being deleted or restored. The operation may be canceled if you navigate away.";e.TagsLabelText="Tags";e.ImportEmptyColumnHeaders="Empty column headers at col(s): {0}.";e.MoveWorkItemMessage="Learn more about moving a work item";e.TriageNextWorkItemToolTip="Next work item in the \"{0}\" query (Alt + N)";e.QueriesView_PivotTitle="Queries";e.ExportingWorkItems="Exporting work items";e.RollupProgressBarOptionsHeadingText="Progress bar";e.InvalidArgumentExpectingArray="Invalid argument, expecting array of WorkItemRelations";e.DeletedIterationPath="(removed iteration path)";e.SelectedWorkItemsLabel="Selected Work Items";e.LinksControlDuplicateStoryboard="The current work item already contains a link to this storyboard: {0}";e.MoveWorkItemDialogCurrentProjLabel="(current project)";e.FieldValueIdentityPickerAriaLabel="Search users and groups for field {0}";e.RollupDataQualityException="Unable to get quality data.";e.HistoryControlTreeAriaLabel="History";e.GitHubPromoteZeroDataText1="We noticed that you\u0027ve used GitHub with Azure Pipelines in this project. ";e.GitHubPromoteZeroDataText2="Connect Azure Boards with GitHub";e.FieldStatusInvalidDateErrorError="The value for field \u0027{0}\u0027 is not a recognized date.";e.FilterNoAssignedTo="No users available";e.HistoryControlCommentAddedAdornmentText="Comment added";e.GithubCommitLinkDialogAddressTitle="GitHub commit url";e.RefreshCharts="Refresh charts";e.InsertImageName="Insert image";e.InformationIcon="Information Icon: {0}";e.ErrorExpectingDateTime="Expecting DateTime value.";e.FieldStatusInvalidValueNotInOtherFieldError="The field \u0027{0}\u0027 is unsupported because a value is missing in another field.";e.BooleanFieldFalseValue="False";e.ImportDuplicateRequiredHeaders="Duplicate required column headers: {0}.";e.LinksControlEnterStoryboardUrl="You must specify a link to the storyboard. A valid UNC path to a file or URL to a storyboard stored on a shared resource is required.";e.LinkDialog_LinkChildWorkItemWhichHasAParentError="Work item {0} already has a {1} link so a new one cannot be added.";e.DragQueryMoveFailed="Can\u0027t move query \u0027{0}\u0027 . The underlying error is: \u0027{1}\u0027";e.KeyboardShortcutDescription_RefreshQuery="Refresh query";e.GenericRollupError="Something went wrong while fetching rollup data.";e.QueryEditorQueryTypeLabel="Type of query";e.CreateCopyOfWorkItem_IncludeChildren="Include child work items";e.QueryEditorSourceFilterGroupingText="Filters for top level work items";e.ChangeTypeBlockedCase="Work item type {0} cannot be changed.";e.NoActiveWorkItem="Active work item document does not exist in the current context";e.FieldStatusInvalidComputedFieldError="The value for field \u0027{0}\u0027 is computed and cannot be changed.";e.DeleteWorkItemDialogConfirmationText="Are you sure you want to delete the selected work item(s)?";e.KeyboardShortcutDescription_RightTab="Move to right tab";e.BackToQueryResults="Return to the \"{0}\" query (Alt + Q)";e.DateTimePicker_AMPMUpAriaLabel="Switch AM PM";e.RestoreWorkItemDeleteButtonText="Restore";e.AttachmentsGridNameColumn="Name";e.CustomRollupPanelTitle="Custom rollup column";e.QueryEditorQueryTypeSimple="Flat list of work items";e.ImportMissingRequiredHeaders="Missing required column headers: {0}.";e.AttachmentsTitle="Attachments";e.WorkItemDiscussionAddCommentHelpText="Add a comment. Use hash symbol to link a work item or at symbol to mention a person";e.TestWorkItemAffectedItems="Affected items";e.WorkItemTemplates_UserDoesNotHaveTeamPermission="You do not have permission to edit templates for this team.";e.LinkDialog_LinkUnsupportWorkItemTypeError="A work item of type {0} cannot be used for the {1} link type.";e.QueryEditorNewQueryNameFormat="New Query {0}";e.AriaLabelForActions="Actions";e.LastUpdatedDateLabel="Updated";e.RunQuery_PromptUnsavedWorkItemChanges_MessageContentText="You have unsaved work item changes and they will be lost if you continue to run the query:";e.FileThrottleMessage="You have attempted to upload more files than the maximum allowed at once: {0}";e.ContributionNotFound="Contribution not found.";e.HistoryControlAttachmentAddedText="Attachment Added";e.TriageView="Triage View";e.ImporCsvIncorrectTreeStructureError="Field values that do not adhere to correct tree structure at line {0}, column(s) {1}.";e.AttachmentUploadFailMessage="You have attempted to upload files that either don\u0027t exist or are folders: {0}";e.CopySelectedWorkitemsOpenAsQuery="Open as query";e.CreateCopyOfWorkItem_IncludeLinks="Include existing links";e.WorkItemLogControlStateGraphTitle="State Graph";e.WorkItemFinderTitleContainsAndType="Title contains and type";e.FormGroupExpandAriaLabel="{0} section.";e.RunQuery_PromptUnsavedWorkItemChanges_ProceedButtonText="Continue";e.QueryEditorQueryModeDoesNotContain="Only return items that do not have matching links";e.DialogCloseButtonText="Close (ESC)";e.CopyQueryURLNotFoundException="VS402349: The custom query does not exist or is expired.";e.FieldStatusInvalidNotEmptyOrOldValueError="The value for field \u0027{0}\u0027 must be empty or the same as the original value.";e.FieldStatusInvalidNotOldValueError="The value for field \u0027{0}\u0027 must be the same as the original value.";e.FilterByStates="States";e.AggregationTypePickerLabel="Column Metric";e.ConfigureCustomRollupColumn="Configure custom rollup";e.EmailResolveIdentityFailed="We were unable to resolve one or more identities. Please try again.";e.AssignedToLabel="Assi\u0026gned To";e.AssignedToField="Assigned To Field";e.QuerySaveDialog_ErrorMessage_NameAlreadyExists="A query or folder with this name already exists in the specified folder.";e.CommandBarTitle_DeleteWorkItems="(Del)";e.WorkItemsHubResultsTabTitle="Results";e.CustomFollowDialogCustomNotificationRadioDescription="You will only be notified for the events selected from the list below or when you are @mentioned in this work item.";e.SuccessfulUnfollowFromEmail="You are no longer following this work item.";e.InvalidQuery="Invalid Query";e.ContributionTimedOut="\"Timed-out waiting for contribution source provider for contribution: {0}";e.QueryConfirmDragDropOperation="Are you sure you want to move the selected item from \u0027{0}\u0027 to \u0027{1}\u0027? Doing so prevents others from accessing it.";e.WorkItemLogControlUserViaUser="{0} (via {1})";e.SharedParameterDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e will be permanently deleted. {2}";e.QueryResultsGridStatusTextFormat="{0} work items ({1} selected)";e.CopySelectedWorkItemsIdColumnTitle="ID";e.WorkItemMoveInProgressWithErrors="Your move is almost complete! Fix the errors and click Save.";e.GithubIssueLinkDialogAddressTitle="GitHub issue url";e.SaveQueryAsTooltip="Save query as...";e.AddARollupColumnFromQuicklist="From quick list";e.LinksControlEnterUrl="Enter a URL.";e.LinkDialogWorkItemPickerInputWatermark="Enter ID or search for work items";e.QuerySaveDialog_ErrorMessage_NameInvalid="Name cannot contain the following characters: /\\\u003c\u003e*?\"|:";e.LinkToolTypeCode="Code";e.LinkToolTypeWork="Work";e.LinkToolTypeWiki="Wiki";e.LinkToolTypeTest="Test";e.ReactionUserListHeaderSingular="User with {0} reaction";e.LastUpdatedLabel="Updated by ";e.MissingUri="Missing uri property for contribution : {0}";e.FutureIterations="Future Iterations";e.FieldStatusInvalidEmptyOrOldValueError="Field \u0027{0}\u0027 cannot be empty, and must be different from the original value.";e.FieldStatusInvalidNotEmptyError="The value for field \u0027{0}\u0027 must be empty.";e.FieldValueComboAriaLabel="Value for field {0}";e.LoadingWorkItems="Loading work items";e.LiveReloadWorkItemDeleteNotificationMessage="The work item you are currently viewing has been deleted.";e.QueryingStatusText="Querying...";e.ColumnOptionsPanelText="Add or remove columns. To change the column order, drag and drop a field, or use the keyboard shortcuts, ";e.WorkItemTypeChangedNotificationMessage="The work item type has changed.";e.ImporCsvErrorsFound="Found field value error(s):\r\n{0}";e.FilterInvalidWorkItems="Invalid work items";e.CreateCopyOfWorkItemType="Work item type";e.WorkItemTemplates_ManageMenuItem_Text="Manage...";e.QueryFavoriteItemAriaLabel="{0}, Level 0, ";e.AttachmentsThumbnailViewIconAriaLabel="Click to toggle to Attachments Thumbnail View";e.QueryTeamFavoriteLabel="{0} favorites";e.LinkFormTestMessage="To link a test to this work item, you must open a test result for the test and associate the work item with the test result.";e.ShowMoreWorkItemsLinkMessage="Show all items";e.KeyboardShortcutGroup_Work="Work";e.DateTimePicker_SelectDateTime="Select date and time";e.ScopedIdentityTooltip="This field is scoped to: {0}.";e.Refresh="Refresh";e.MoveSourceWorkItemBlockedCase="Work item type {0} cannot be moved because it is disabled, hidden or not supported in the source project {1}.";e.HistoryControlTooltipAdditionalTextMessage="See history details for full text";e.RemoveReaction="Remove your {0} reaction";e.WorkItemsCreatedByMeQuery="Work items created by me";e.CreateCopyCopiedFromNewWorkItem="Copied from new work item";e.RollupColumn_ProgressBy_Filter_Field="Progress by {0} {1}";e.KeyboardShortcutDescription_FilterResults="Filter results";e.FilterByWorkItemStatus="Status";e.ReactionTypeEmojiThumbsUp="Like";e.DeleteWorkItemDeleteButtonText="Delete";e.TestCaseDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e across all configurations and testers along with their Test Result History will be permanently deleted. {2}";e.MissingRollupCalculationError="Rollup calculation for this field is missing. Please remove the field and try adding it back";e.RenameQueryFolder="Rename";e.AdditionalFieldEmptyFocusZoneLabel="Select a field";e.NoSuggestionsFound="No suggestions found";e.BulkEditWorkItemsNotesForHistoryLabel="Notes for History";e.IterationLabel="Ite\u0026ration";e.MoveWorkItem="Move to team project";e.QuerySaveDialog_ErrorMessage_NameRequired="Name cannot be empty.";e.ReactionUserListHeaderPlural="Users with {0} reaction";e.WorkItemChangedReproDescriptionMessage="Copied from {0} when changed from {1} to {2}";e.EmailWorkItemLimit="Only the first {0} work items are retrieved for the email.";e.WorkItemLogControlRestoredWorkItem="restored the work item";e.WorkItemPaneFilter_Right="Right";e.TriageViewSaveErrorTitle="Error saving work items";e.MoveWorkItemTypeError="Work item type {0} does not exist in {1}.";e.BulkUnfollowWorkItems="Unfollow";e.WorkItemTemplateDialog_TeamName="Team";e.HistoryControlNewValueText="New Value";e.CustomFollowDialogNoNotificationRadioDescription="Only receive notifications from this work item when you have been @mentioned.";e.TestWorkItemDeleteDialogInputLabel="Type {0} ID to confirm:";e.CustomFollowDialogAllNotificationsRadio="Subscribed";e.KeyboardShortcutDescription_AttachmentsTab="Move to attachments tab";e.InvalidRemoteWorkItemUrl="Remote workitem url is not valid.";e.ReactionTypeEmojiRedHeart="Heart";e.UnfavoriteQueryFailed="Unable to unfavorite query \"{0}\"";e.AttachmentsGridSizeColumn="Size";e.LinkDialog_LinkDuplicateWorkItemsError="A {0} link to work item {1} already exists.";e.WorkItemTemplates_LegacyCopyMenuItem_Title="Generate a URL that will create a new work item with the modified field values of this work item.";e.WorkItemIdNaN="Cannot load work item. Id not a number.";e.CustomRollupProgressOptionTitle="Rollup as Progress Bar";e.WorkItemsText="Work Items";e.WorkItemDestroyError="Failed to destroy work item: {0}. Error Details: {1}";e.CannotFindRollupData="Unable to find rollup data for this work item.";e.EmailSelectedWorkItem="Email selected work item...";e.MoveWorkItemKeepType="Keep current type(s)";e.AttachmentsZeroData="No attachments have been added";e.UpdatedDateMessage="Updated {0}";e.WorkItemZeroDataDiscussionAriaLabel="Discussion: Be the first to add a comment. Click here to view discussion.";e.ErrorEmailUnsavedQuery="You have unsaved changes made to the query \u0027{0}\u0027. Save the modified query before proceeding.";e.FormGridSectionLabel="Section {0}";e.UnfollowWorkItem="Unfollow";e.WorkItemFinderSelectFavoriteText="\u003cSelect a Favorite Query\u003e";e.LinksControlUnsafeUrl="The URL specified has a potentially unsafe URL protocol.  Please specify a different URL.";e.HistoryControlLinksTitle="Links";e.WorkItemTemplateNotApplied="VS403204: No template was applied.";e.CreateCopyOfWorkItem_IncludeAttachments="Include existing attachments";e.WorkItemMoveCopyPublicVisibilityLearnMoreLinkText="Learn more about public projects";e.TestWorkItemDeleteDialogTitle="Permanently delete test artifact(s)";e.WorkItemTemplateDialog_SavingAnnouncerStart="Saving template";e.KeyboardShortcutDescription_OpenWorkItems="Open work items";e.WorkItemTemplates_LegacyCopyMenuItem_Text="Copy template URL";e.AddAttachmentDialogTitle="Add Attachment(s)";e.ImportInvalidColumnHeaders="Invalid column headers: {0}.";e.WorkItemTemplateDialog_SavingAnnouncerError="Error saving template";e.WorkItemLogControlStateChange="changed state from {0} to {1}";e.EditQuery_PromptQueryRevert_MessageTitle="Are you sure you want to revert changes?";e.QueryTree_Loading="Loading";e.StateTransitionAriaLabel="Transition {0}: To state: {1}, reason for transition: {2}, changed by {3} on {4}.";e.WorkItemLogControlLinkRestored="restored link";e.TooManyChildItemsToCopy="Cannot copy a work item with more than {0} children.";e.LinksControlAddNewItemDisabledTooltip="You cannot link new work items to an item that has not been saved";e.WorkItemEditorCaptionNew="New {0} {1}";e.LinkToolTypeBuild="Build";e.WorkItemLogControlHistoryHeader="History";e.WorkItemLogControlAddedComment="added a comment";e.RemoteLinkStatusFailed="Failed";e.QueryFolderDoesNotExist="Parent folder \u0027{0}\u0027 does not exist, if you have renamed the folder please refresh before continuing.";e.KeyboardShortcutGroup_Queries="Queries";e.WorkItemFinderQueryInProgress="Query in progress...";e.CopyQueryURLNotifyMessage="The query URL is copied to the clipboard.";e.CreateWorkitemIVURLSuccess="Successfully copied the template URL to the clipboard.";e.ProgressPercentage="{0}%";e.FailedUnfollowFromEmail="Unfollow was not successful";e.RemoteLinkStatusPendingAdd="Adding";e.QueryFilterErrorUnrecognizedOperator="The operator for row {0} is not recognized.";e.MoveWorkItemIterationPathWatermark="Select an iteration path";e.MyFavoritesGroupName="My";e.HistoryControlChangesHeader="Change details";e.BrowseAllQueries="Browse all queries";e.NewQueryFolder="New subfolder";e.AttachmentUploadProgressNotification="Attachment(s) uploading...";e.WorkItemLogControlMadeChangeWithValue="changed {0} to {1}";e.QueryFilterErrorMissingOperator="The operator for row {0} is missing.";e.SaveQueryAsDialogTitle="Save query as";e.DeleteWorkItemDialogConfirmationTextWithoutCleanUpScheduled="You can restore deleted work items from the Recycle Bin.";e.ColumnOptionsSortAscending="Sort ascending";e.TrackChangesText="View your code artifacts right from the work item form. Creating a new branch or pull request for a bug fix is just a click away.";e.LinkDialogStoryboardLinkAddressTitle="Location";e.ExportingWorkItemsLoading="Exporting work items...";e.LinkDialogDescription="You are adding a link from:";e.QueryMoveOrRename_QueryItemAlreadyExists="A query or folder with the same name already exists in the target folder. Please resolve the name conflict before moving or renaming.";e.GenericHistoryRetrievalError="Error retrieving work item history";e.RollupColumn_LearnMore="Learn more about Rollup.";e.LinkDialog_NewWorkItem_SameTypeHierarchyError="The work item type you have selected is of the same type with work item {0}. Please change the link type or select a {1} work item that is not on the same hierarchy level to avoid a limited experience. ";e.FilterNoStates="No states available";e.NoTeamFavoriteQueries="Drag shared queries here to add them to your team favorites.";e.TestPlanDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e and all its child Test Suites, Tests across all configurations and testers along with their Test Result History will be permanently deleted. {2}";e.LinkSelectedItemsToNewWorkItem="Link to a new work item...";e.BrowserRefreshRequired="VS402831: Changes have been made to the process that require you to refresh your browser.";e.RollupColumn_ProgressBy_Backlog="Progress by {0}";e.BulkEdit_ApplyTemplateMessage="Are you sure you want to apply the template \u0027{0}\u0027? The selected work items will be automatically saved.";e.EmptyMyFavoriteGroupTextPrefix="No favorites yet! Favorite a query";e.FieldCannotBeEditedNorRemoved="{0}, this field cannot be edited nor removed";e.LinksControlUnknownLinkTypeText="Unknown link type to execute.";e.CopyWorkItemTitle="Copy work item title (Shift+Alt+C)";e.QueryResultsGridStatusNoResultsText="Query returned no results.";e.ImporCsvDoubleQuoteTerminatedEarlyError="Double-quoted value possibly terminated too early or missing delimiter at line {0}, column {1}.";e.WorkItemSaveLabel="Save";e.FilterStatusFieldName="work-item-status";e.WorkItemFinderResetButtonText="Reset";e.BulkUnfollowsFailed="One or more items could not be unfollowed. Refresh the query and try again.";e.MobileDiscussionAddComment="Add a comment";e.ChangeTypeTooltipDisabled="Not supported when querying across projects";e.QueriesHub_NewFolderCreated_LinkText="Click to open it.";e.EmptyMyFavoriteGroupTextSuffix="to quickly access it here.";e.CreateCopyOfWorkItemSourceFormat="Creating a copy of {0} {1}: {2}";e.HistoryControlViaText=" (via ";e.LoadingWorkItemsLoading="Loading work items...";e.FilesUploadedExceedMaxMb="The following file(s) can\u0027t be uploaded because they exceed our {0} MB file size limit: {1}";e.ErrorEmailUnsavedWorkItems="The selected work items cannot be emailed. You have new work items that have not yet been saved. To proceed, exclude the new work items from the selection.";e.QueriesView_AllPivotName="All";e.EmailSelectedWorkItems="Email...";e.SaveItems="Save items";e.WorkItemFinderTitleContains="Title contains";e.SaveQuery="Save query";e.MoveTargetWorkItemBlockedCase="Work item type {0} cannot be moved because it is disabled, hidden or not supported in the destination project {1}.";e.TagsDeleteButton_AriaLabel="Delete {0} tag";e.DownloadAttachment="Download attachment";e.DeleteQuery="Delete";e.FieldStatusInvalidTooLongError="The value for field \u0027{0}\u0027 is too long.";e.BulkEditWorkItemsTitle="Edit work items";e.OpenInNewTab="Open in new window";e.ChangeTypeDialogTitle="Change work item type";e.RichEditorRestoreName="Restore {0}";e.HistoryControlSingleAttachmentAdornmentText="{0} was added";e.LinksControlWikiPageText="Wiki page";e.WorkItemProjectChangedNotificationMessage="The work item now belongs to a different project.";e.NoMyFavoriteQueries="Drag queries here to add them to your favorites.";e.LinkTopologyNetworkImageAltText="This is a non-directional link that can be created between any set of work items";e.CreateCopyOfWorkItem="Create copy of work item...";e.GitHubZeroDataPullRequestTypeText="pull request";e.CustomFollowDialogStateCheckbox="State Changed";e.EditQuery="Edit";e.RemoteLinkDialogAddressTitle="Remote work item url";e.ErrorExtensionService_CannotRefreshWorkItem="You cannot refresh a work item that is new";e.RunQuery="Run query";e.RenameQueryTitle="Rename query";e.FollowWorkItem="Follow";e.DateTimePicker_HourDownAriaLabel="Decrease hour";e.ImporCsvEmptyFieldValuesError="Empty field value at line {0}, column(s) {1}.";e.AddAColumn="Add a column";e.FieldDoesNotExist="This field does not exist";e.ImporCsvDoubleQuoteNotEnclosedError="Double-quote not enclosed in double-quotes at line {0}, column {1}.";e.QueryFilterInvalidMacro="TF20036: The macro \u0027{0}\u0027 is not recognized. Available macros include @Me, @Project, @Today and @CurrentIteration. ";e.MoveWorkItemAreaPathWatermark="Select an area path";e.SavingWorkItemsLoading="Saving work items...";e.HistoryControlSummaryAssigned="Assigned";e.KeyboardShortcutDescription_LinksTab="Move to links tab";e.RestoreWorkItemDialogTitle="Restore work item(s)";e.StatusMessage_FatalError="An error has occurred while attempting to save your changes. Discard your changes and refresh the page. Error details: {0}";e.IdField="ID Field";e.WorkItemNotSaveable="Work item can not be saved in its current state. Its either not changed or has errors.";e.HistoryControlCommentAriaLabel="Comment";e.AttachmentsGridDateAttachedColumn="Date Attached";e.FieldStatusInvalidFormatError="The value for field \u0027{0}\u0027 is not in a recognized format.";e.AddAttachmentDialogFieldAttachment="Attachment(s)";e.WorkItemDiscussionPreviewAriaLabel="Discussion: Total comments {0}. Click here to view discussion.";e.ErrorCopyingChildItem="Error copying child item {0}: {1}";e.WorkItemBulkDeleteError="We were unable to delete some work item(s). They no longer exist or access is denied. Please refresh to see the failed items.";e.SaveAttachment="Save attachment";e.EditCommentDialogLabel="Comment:";e.RollupColumn_ProgressBy_EffortField="Progress by {0}";e.QuoteReply="Quote reply";e.UntitledQuery="Untitled query";e.RunQuery_PromptUnsavedWorkItemChanges_RejectButtonText="Cancel";e.LinkDialogHyperlinkAddressTitle="Address";e.Edit="Edit";e.Open="Open";e.Save="Save";e.KeyboardShortcutDescription_OpenCurrentIteration="Open sprint";e.WorkItemLogControlMadeChanges="made field changes";e.WorkItemCommentsRetrievalError="Unable to retrieve comments";e.AttachmentUploadingStart="One or more attachments are uploading.";e.RollupTotalByTooltip="{0} {1}";e.AttachmentUploadingError="Error happened when uploading one or more attachments.";e.NewQueryHotkey="(C Q)";e.SharedStepDeleteConfirmationDialogText="Are you sure you want to delete this work item? \u003cb\u003e{0} ID: {1}\u003c/b\u003e will be permanently deleted. {2}";e.ReactionAdditionalUsersCount="+{0} users";e.FieldStatusInvalidTypeError="The value for field \u0027{0}\u0027 is not of the right type.";e.ChangeTypeLabel="Type";e.CopyQueryURLTitle="Copies the query URL to the clipboard.";e.QueryResultsGridLinkQueryStatusSecondaryTextFormat="{0} top level, {1} linked and {2} selected";e.WorkItemLogControlMadeChange="changed {0}";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/LinkForm",["require","exports","VSS/Controls","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/VSS","VSS/Events/Services","VSS/Artifacts/Constants"],function(n,t,i,r,u,f,e){function l(n,t){c(n,function(n){n(t)})}function c(n,t){n=n.toUpperCase();o[n]=t}function a(n,t){var i;n=n.toUpperCase();i=o[n];i?i(t):t(null)}function v(n){return!!o[n.name.toUpperCase()]||n.toolId===e.ToolNames.GitHub}var o,h,s;Object.defineProperty(t,"__esModule",{value:!0});t.LinkForm=t.isLinkFormRegistered=t.beginGetLinkForm=t.registerLinkFormAsync=t.registerLinkForm=t.LEARNMORE_LINK=void 0;o={};h=f.getService();t.LEARNMORE_LINK="https://aka.ms/AA56xmh";t.registerLinkForm=l;t.registerLinkFormAsync=c;t.beginGetLinkForm=a;t.isLinkFormRegistered=v;s=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._workItem=t.workItem,i}return __extends(t,n),t.createTitleElement=function(n,t,i){var r=$("<label/>").addClass("dialog-linkform-label").text(n);return t&&r.attr("for",t),i&&r.addClass(i),r},t.createTitleElementWithIconClass=function(n,i,r,u,f){var e=$("<div/>").addClass("section-title");return $("<div/>").addClass(r).appendTo(e),t.createTitleElement(n,i,u).appendTo(e),f&&f.appendTo(e),e},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"link-dialog-form"},t))},t.prototype._createComment=function(){var n="comment";this._element!==null&&(this._element.append(t.createTitleElement(r.LinkDialogCommentTitle,n)),this._element.append($("<input>").attr("type","text").attr("id",n).addClass("link-dialog-width-100")))},t.prototype.getComment=function(){return this._element.find("#comment").val().trim()},t.prototype.LinkResult=function(){return null},t.prototype.unload=function(){this.dispose();this._workItem=null;this._validator=null},t.prototype.fireLinkFormValidationEvent=function(n){h.fire(t.LINKFORM_VALIDATED,this,{linkForm:n})},t.LINKFORM_VALIDATED="linkform-validated",t}(i.BaseControl);t.LinkForm=s;u.initClassPrototype(s,{_workItem:null,_validator:null})});

define("WorkItemTracking/Scripts/OM/DataSources/DataProviderDataSource",["require","exports","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/Core","VSS/Contributions/Services","VSS/Service","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Context","VSS/Navigation/NavigationHistoryService","VSS/Context"],function(n,t,i,r,u,f,e,o,s,h,c){function l(n){return n.status===o.CacheStatus.UpToDate||typeof n.status=="string"&&n.status===o.CacheStatus[o.CacheStatus.UpToDate]}Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemDataProviderSource=t.WorkItemDataProviderId=void 0;t.WorkItemDataProviderId="ms.vss-work-web.work-item-data-provider";var a=function(){function n(n){this._cacheInformationManager=n}return n.prototype.getWorkItemData=function(n){if(!this._containsWorkItemData(n))return null;var t=this._getDataProviderData();return this._processWorkItemData(n,t)},n.prototype.beginGetWorkItemData=function(n,i,r,u,o){var a=this,l;if(i.length!==1)return Promise.resolve(null);if(l=i[0],!o&&this._containsWorkItemData(l))return Promise.resolve([this.getWorkItemData(l)]);var y=s.getPageContext(),p=h.getNavigationHistoryService(),v={id:i[0],"include-history":o,"include-in-recent-activity":u,"is-deleted":r,cookie:this._cacheInformationManager&&this._cacheInformationManager.readInformationForNonWITLocation()};return e.getService(f.WebPageDataService,c.getDefaultWebContext()).getDataAsync(t.WorkItemDataProviderId,null,v).then(function(n){return a._dataProviderData=n,[a._processWorkItemData(l,a._dataProviderData)]})},n.prototype._processWorkItemData=function(n,t,f){var e,o;if(f===void 0&&(f=!0),e=t&&t["work-item-data"],e||(o=t&&t["work-item-data-serialized"],o&&(e=u.parseMSJSON(o))),!e)throw i.format(r.WorkItemNotFoundClientException,n);return f&&(delete t["work-item-id"],delete t["work-item-data"],delete t["work-item-data-serialized"]),e},n.prototype.beginGetWorkItemTypeData=function(n,t){var e,f,r;if(t.length>1)return Promise.resolve(null);if(e=this._getDataProviderData(),f=e&&e["work-item-type-data"],f){if(l(f))return Promise.resolve(null);if(f.data)return(r=f.data,!i.equals(r.projectGuid,n,!0))?Promise.resolve(null):!i.equals(t[0],r.referenceName,!0)&&!i.equals(t[0],r.name,!0)?Promise.resolve(null):(this._canDeserializeRules(r)&&(r.rules.fieldRules=u.parseMSJSON(r.rules.fieldRules)),Promise.resolve([r]))}return Promise.resolve(null)},n.prototype.beginGetFields=function(){return null},n.prototype.beginGetFieldProjectData=function(n){var r=this._getDataProviderData(),t=r&&r["work-item-project-field-data"],u;if(t)return l(t)?Promise.resolve(null):t.data&&t.data.projects&&(u=t.data.projects.some(function(t){return i.equals(n,t.guid,!0)||i.equals(n,t.name,!0)}),!u)?Promise.resolve(null):Promise.resolve(t.data)},n.prototype.beginGetLinkTypes=function(){var t=this._getDataProviderData(),n=t&&t["work-item-link-data"];if(n)return l(n)?Promise.resolve(null):Promise.resolve(n.data)},n.prototype._canDeserializeRules=function(n){return n&&n.rules&&n.rules.fieldRules&&(typeof n.rules.fieldRules=="string"||n.rules.fieldRules instanceof String)},n.prototype._containsWorkItemData=function(n){var t=this._getDataProviderData();return t&&t["work-item-id"]===n&&t["work-item-data"]!==undefined},n.prototype._getDataProviderData=function(){if(!this._dataProviderData){var n=e.getService(f.WebPageDataService);this._dataProviderData=n.getPageData(t.WorkItemDataProviderId)}return this._dataProviderData},n}();t.WorkItemDataProviderSource=a});

define("WorkItemTracking/Scripts/OM/DataSources/QueryDataProviderDataSource",["require","exports","VSS/Contributions/Services","VSS/Service","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.QueryDataProviderSource=void 0;var e="ms.vss-work-web.query-data-provider",o=function(){function n(){}return n.prototype.beginGetWorkItemData=function(){return null},n.prototype.beginGetWorkItemTypeData=function(){return null},n.prototype.beginGetLinkTypes=function(){return null},n.prototype.beginGetFields=function(){return null},n.prototype.beginGetFieldProjectData=function(n){var i=this._getDataProviderData(),t=i&&i.projectFieldData,r;return t&&(r=u.arrayContains(n,t.projects,function(n,t){return f.localeIgnoreCaseComparer(t.guid,n)===0||f.localeIgnoreCaseComparer(t.name,n)===0}),r)?Promise.resolve(t):null},n.prototype._getDataProviderData=function(){var n=r.getService(i.WebPageDataService);return n.getPageData(e)},n}();t.QueryDataProviderSource=o});

define("WorkItemTracking/Scripts/CustomerIntelligence",["require","exports"],function(n,t){var i,r,u,f,e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.BUTTON_CLICKED=t.SHORTCUT_KEYDOWN=t.CustomerIntelligencePropertyValue=t.PerformanceEvents=t.WITUserScenarioActions=t.WITPerformanceScenarioEvent=t.WITPerformanceScenario=t.WITCustomerIntelligenceFeature=t.WITCustomerIntelligenceArea=void 0;i=function(){function n(){}return n.WORK_ITEM_TRACKING="WIT",n.WORK_ITEM_TRACKING_MOBILE="WIT_MOBILE",n.NEW_QUERIES_EXPERIENCE="NEW_QUERIES",n.WORK_ITEM_TRACKING_NEWNAV="WIT_NEWNAV",n}();t.WITCustomerIntelligenceArea=i;r=function(){function n(){}return n.CLIENTSIDEOPERATION_SEND_EMAIL="SendEmail",n.CLIENTSIDEOPERATION_OPEN_WORK_ITEM_IN_NEW_TAB="OpenWorkItemInNewTab",n.CLIENTSIDEOPERATION_PREFETCH_NEXT_WORKITEM="PrefetchNextWorkitemInTriageView",n.CLIENTSIDEOPERATION_BACK_TO_QUERY_RESULTS="BackToQueryResults",n.CLIENTSIDEOPERATION_MAXIMIZE_RICH_EDITOR="MaximizeRichEditor",n.CLIENTSIDEOPERATION_QUERY_SOFTCAP_LINK="QuerySoftCapLink",n.CLIENTSIDEOPERATION_COPY_SELECTION_AS_HTML="CopySelectionAsHtml",n.CLIENTSIDEOPERATION_WORK_ITEM_FINDER="WorkItemFinder",n.CLIENTSIDEOPERATION_QUERYACROSSPROJECTS="QueryAcrossProjects",n.CLIENTSIDEOPERATION_QUERY_WORK_ITEM="QueryWorkItem",n.CLIENTSIDEOPERATION_CREATE_QUERY="CreateQuery",n.CLIENTSIDEOPERATION_CHANGE_QUERY_COLUMNS="ChangeQueryColumns",n.CLIENTSIDEOPERATION_WIT_CLONE="CloneWorkItem",n.CLIENTSIDEOPERATION_QUERY_RESULTS_PROVIDER="QueryResultsProvider",n.CLIENTSIDEOPERATION_COPY_WORKITEM_LINK="WorkItem.CopyWorkItemLink",n.CLIENTSIDEOPERATION_INCLUDE_WORKITEM_LINKS_ATTACHMENTS="WorkItem.IncludeWorkItemLinksAndAttachments",n.CLIENTSIDEOPERATION_COPY_WITH_CHILDREN="WorkItem.CopyWithChildren",n.CLIENTSIDEOPERATION_TOOLBAR_CLICK="WorkItem.ToolbarButtonClicks",n.CLIENTSIDEOPERATION_WIT_TABSELECTION="WorkItem.TabSelection",n.CLIENTSIDEOPERATION_WIT_GROUPCOLLAPSED="WorkItem.GroupCollapsed",n.CLIENTSIDEOPERATION_WIT_SAVING="WorkItem.Saving",n.CLIENTSIDEOPERATION_WIT_CSSNODECACHEINVALIDATED="CSSNodes.CacheInvalidated",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONOPENED="WorkItem.DiscussionOpened",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONMESSAGESLOADED="WorkItem.DiscussionMessagesLoaded",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONCOMMENTSUBMITTED="WorkItem.DiscussionCommentSubmitted",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONUNSAVEDPREVIEW="WorkItem.DiscussionUnsavedPreview",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONRETURNTOUNSAVEDCOMMENT="WorkItem.DiscussionReturnToUnsavedComment",n.CLIENTSIDEOPERATION_WIT_MOBILEDISCUSSIONPREVIEWCLICKED="WorkItem.DiscussionPreviewClicked",n.RESULT_FILTER="ResultFilter",n.CLIENTSIDEOPERATION_VS_WORKITEM_NOT_IN_QUERY_RESULTS="VSOpenInWeb.WorkItemNotInQueryResult",n.WORKITEMPANECHANGED="WorkItemPaneChanged",n.WI_FORM_CONTRIBUTION="FormContribution",n.IMPORTCSV_IMPORT="ImportCsv.Import",n.IMPORTCSV_IMPORT_ERROR="ImportCsv.Import.Error",n.CLIENTSIDEOPERATION_WIT_MOVE_CANCEL="WorkItemMove.CancelMove",n.CLIENTSIDEOPERATION_WIT_MOVE_CANCEL_AFTER_HIDDEN_TYPE_FAILED="WorkItemMove.CancelAfterHiddenTypeFailed",n.CLIENTSIDEOPERATION_WIT_MOVE_CANCEL_AFTER_TYPE_FAILED="WorkItemMove.CancelAfterTypeFailed",n.CLIENTSIDEOPERATION_WIT_MOVE_SUCCEED_AFTER_TYPE_FAILED="WorkItemMove.PassAfterTypeFailed",n.CLIENTSIDEOPERATION_WIT_MOVE_PERMISSIONS_ERROR="WorkItemMove.PermissionsError",n.CLIENTSIDEOPERATION_WIT_MOVE_REVERT="WorkItemMove.Revert",n.CLIENTSIDEOPERATION_WIT_MOVE_SUCCESS="WorkItemMove.Success",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_REVERT="WorkItemChangeType.Revert",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_CANCEL_AFTER_FAIL="WorkItemChangeType.CancelAfterFailed",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_CANCEL_AFTER_OPEN="WorkItemChangeType.CancelAfterOpen",n.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_SUCCESS="WorkItemChangeType.Success",n.BULK_EDIT_TAGS="BulkEditTags",n.TELEMETRY_ASSIGNTO_POPULATEMENU="AssignTo.PopulateMenu",n.TELEMETRY_OPENWORKITEM_CONTEXTMENU="OpenWorkItemConextMenu",n.WORKITEM_DISCUSSIONCONTROL="WorkItemDiscussion",n.WORKITEM_VIEWFOLLOWS="ViewWorkItemFollows",n.WORKITEM_BULKUNFOLLOWS="BulkUnfollows",n.CLIENTSIDEOPERATION_RELATEDWORKITEMS_CONTROL_OPENWORKITEM="RelatedWorkItemsControlOpenWorkItem",n.NEWQUERYEXPERIENCE_NAVIGATE_PIVOT="NewQueries.NavigatePivot",n.NEWQUERYEXPERIENCE_WORKITEMNAVIGATOR="NewQueries.WorkItemNavigator",n.NEWQUERYEXPERIENCE_TRIAGEVIEWHUB_PIVOTCOMMAND="NewQueries.TriageViewHub.PivotCommand",n.NEWQUERYEXPERIENCE_QUERY_ACTION="NewQueries.QueryAction",n.NEWQUERYEXPERIENCE_MOVE_QUERY="NewQueries.MoveQuery",n.NEWQUERYEXPERIENCE_LEAVE_DIRTY="NewQueries.LeaveDirty",n.NEWQUERYEXPERIENCE_ADHOCQUERY_REDIRECTION="NewQueries.AdhocQuery.Redirection",n.NEWQUERYEXPERIENCE_LASTVISITED_REDIRECTION="NewQueries.LastVisited.Redirection",n.NEWQUERYEXPERIENCE_NAVIGATE_QUERIESPIVOT="NewQueries.Navigate.QueriesPivot",n.NEWQUERYEXPERIENCE_BREADCRUMB_CLICKED="NewQueries.Breadcrumb.Clicked",n.CUSTOMIZE_WORKITEM="WorkItemToolbar.Customize",n.QUERYCHARTS_NAVIGATE="QueryCharts.Navigate",n.QUERY_SEARCH="Query.Search",n.CLIENTSIDEOPERATION_WIT_FIELDKEYBOARDSHORTCUT="WorkItemForm.FieldKeyboardShortcut",n.NODES_CACHE_MANAGER="NodesCacheManager",n.CLASSIFICATION_MRU_VALUE_CHANGED="ClassificationFieldsMruValueChanged",n.WIT_CACHE_PROVIDER_INIT="WorkItemTracking.CacheProvider.Initialize",n.WIT_CACHE_PROVIDER_OPEN="WorkItemTracking.CacheProvider.OpenCache",n.WIT_WATCHDOG_OPEN_FORM="WorkItemTracking.WatchDog.OpenForm",n.LINKSCONTROL_SAMECATEGORY_WARNING="LinksControl.SameCategory.Warning",n.FILTER_METHOD_USAGE="WorkItemTracking.ExtensionFilterMethodUsage",n.OLD_BOARDS_PLATFORM="OldBoardsHub",n}();t.WITCustomerIntelligenceFeature=r;u=function(){function n(){}return n.WORKITEM_OPEN_NEWFORMDIALOG="WorkItem.Open.NewFormDialog",n.WORKITEM_RELATED_LINKING="WorkItem.Related.Linking",n.WORKITEMFORM_FOLLOWS_ACTION_FOLLOW="WorkItemForm.Follows.Action.Follow",n.WORKITEMFORM_FOLLOWS_ACTION_UNFOLLOW="WorkItemForm.Follows.Action.Unfollow",n.WORKITEM_OPENFORM="WorkItem.OpenForm",n.WORKITEM_OPENFORM_NEWLAYOUT="WorkItem.OpenForm.NewLayout",n.WORKITEM_OPENFORM_CREATE_NEWLAYOUT="WorkItem.OpenForm.Create.NewLayout",n.WORKITEM_OPENDIALOG_NEWLAYOUT="WorkItem.OpenDialog.NewLayout",n.WORKITEM_OPENIDE_NEWLAYOUT="WorkItem.IDE.OpenForm.NewLayout",n.WORKITEM_SAVE="WorkItem.Save",n.WORKITEM_BULKSAVE="WorkItem.BulkSave",n.WORKITEM_CLOSED="WorkItem.Closed",n.WORKITEM_FIELDCHANGED="WorkItem.FieldChanged",n.QUERY_OPENRESULTS="Query.OpenResults",n.QUERY_SAVE="Query.Save",n.QUERY_SAVEAS="Query.SaveAs",n.QUERYHIERARCHY_LOAD="QueryHierarchy.Load",n.HISTORYVIEW_EXTENSION_LOAD="HistoryView.Extension.Load",n.WORKITEM_SIGNALR_REFRESHCOMPLETE="WorkItem.SignalR.RefreshComplete",n.WORKITEM_SIGNALR_REFRESHERROR="WorkItem.SignalR.RefreshError",n.WORKITEM_SIGNALR_ERROR="WorkItem.SignalR.Error",n.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS="QueriesHub.TriageView.OpenQueryResults",n.QUERIESHUB_TRIAGEVIEW_OPENBREADCRUMBQUERYRESULTS="QueriesHub.TriageView.OpenBreadcrumbQueryResults",n.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM="QueriesHub.TriageView.OpenWorkItem",n.QUERIESHUB_TRIAGEVIEW_SAVEEXISTINGQUERY="QueriesHub.TriageView.SaveExistingQuery",n.QUERIESHUB_QUERIESVIEW_OPENFAVORITESPIVOT="QueriesHub.QueriesView.OpenFavoritesPivot",n.QUERIESHUB_QUERIESVIEW_OPENALLQUERIESPIVOT="QueriesHub.QueriesView.OpenAllQueriesPivot",n}();t.WITPerformanceScenario=u;f=function(){function n(){}return n.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM_COMPLETE="QueriesHub.TriageView.OpenWorkItem.Complete",n.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS_COMPLETE="QueriesHub.TriageView.OpenQueryResults.Complete",n}();t.WITPerformanceScenarioEvent=f;e=function(){function n(){}return n.WORKITEM_CREATEOREDIT="WorkItem.CreateOrEdit",n}();t.WITUserScenarioActions=e;o=function(){function n(){}return n.WORKITEMRELATED_LINKING_COMPLETE="WorkItemRelated.Linking.Complete",n.WORKITEMDIALOG_CREATEWORKITEMFORM="WorkItemDialog.CreateWorkItemForm",n.WORKITEM_SAVE_COMPLETE="WorkItem.Save.Complete",n.WORKITEMFORM_INITIALIZE="WorkItemForm.Initialize",n.WORKITEMFORMBASE_INITIALIZE="WorkItemFormBase.Initialize",n.WORKITEMFORM_GETWORKITEM="WorkItemForm.GetWorkItems",n.WORKITEMFORM_BINDWORKITEM="WorkItemForm.BindWorkItem",n.WORKITEMFORM_UNBINDWORKITEM="WorkItemForm.UnBindWorkItem",n.WORKITEMTRACKING_GETPROJECTS_REQUEST="WorkItemTracking.GetProjects.Request",n.WORKITEMTRACKING_GETTYPES="WorkItemTracking.GetTypes",n.WORKITEMTRACKING_GETTYPES_REQUEST="WorkItemTracking.GetTypes.Request",n.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST="WorkItemTracking.GetTypeExtensions.Request",n.WORKITEMTRACKING_GETCONSTANTSETS="WorkItemTracking.GetConstantSets",n.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST="WorkItemTracking.GetConstantSets.Request",n.WORKITEMTRACKING_GETLINKTYPES_REQUEST="WorkItemTracking.GetLinkTypes.Request",n.WORKITEMTRACKING_GETREGISTEREDLINKFORMTYPES="WorkItemTracking.GetRegisteredLinkFormTypes",n.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMAPI="WorkItemTracking.GetMetadataCacheStamp.FromApi",n.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMPAGEDATA="WorkItemTracking.GetMetadataCacheStamp.FromPageData",n.WORKITEMTRACKING_GETNODES_REQUEST="WorkItemTracking.GetNodes.Request",n.WORKITEMTRACKING_GETFIELDS_REQUEST="WorkItemTracking.GetFields.Request",n.WORKITEMTRACKING_GETFIELDS_PROCESS="WorkItemTracking.GetFields.Process",n.WORKITEMTRACKING_GETLAYOUTUSERSETTINGS_REQUEST="WorkItemTracking.GetLayoutUserSettings.Request",n.WORKITEMTRACKING_UPDATE_AJAX="WorkItemTracking.Update.Ajax",n.WORKITEMTRACKING_TAKEUPDATERESULT="WorkItemTracking.TakeUpdateResult",n.WORKITEMTRACKING_EVALUATELINKUPDATES="WorkItemTracking.EvaluateLinkUpdates",n.WORKITEMTRACKING_RESETAFTERSAVE="WorkItemTracking.ResetAfterSave",n.WORKITEMTRACKING_CACHING="WorkItemTracking.Caching",n.WORKITEMSVIEW_INITIALIZE="WorkItemsView.Initialize",n.WORKITEMSVIEW_ENSUREVIEW="WorkItemsView.EnsureView",n.WORKITEMSVIEW_NAVIGATE="WorkItemsView.Navigate",n.WORKITEMSVIEW_GETQUERY="WorkItemsView.GetQuery",n.WORKITEMSVIEW_GETQUERYPROVIDER="WorkItemsView.GetQueryProvider",n.WORKITEMSVIEW_CREATELAYOUT="WorkItem.WorkItemView.CreateLayout",n.WORKITEMSVIEW_RENDERLAYOUT_CREATELABELANDTABS="WorkItem.WorkItemView.RenderLayout.CreateLabelAndTabs",n.WORKITEMSVIEW_RENDERLAYOUT_CREATECONTROLS="WorkItem.WorkItemView.RenderLayout.CreateControls",n.WORKITEMSVIEW_RENDERLAYOUT_TABIFYLAYOUT="WorkItem.WorkItemView.RenderLayout.TabifyLayout",n.WORKITEMSVIEW_APPENDELEMENT="WorkItem.WorkItemView.AppendElement",n.WORKITEMSVIEW_BIND="WorkItem.WorkItemView.Bind",n.WORKITEMSVIEW_BIND_CONTRIBUTIONS="WorkItem.WorkItemView.Bind.Contributions",n.WORKITEMSVIEW_BIND_EVENTS="WorkItem.WorkItemView.Bind.Events",n.WORKITEMSVIEW_ONRENDER="WorkItem.WorkItemView.OnRender",n.WORKITEMSVIEW_ATTACHLAYOUT="WorkItem.WorkItemView.AttachLayout",n.TRIAGEVIEW_QUERYRESULT="TriageView.QueryResult",n.TRIAGEVIEW_ENTER="TriageView.Enter",n.TRIAGEVIEW_AHOCREQUIRE_TRIAGEVIEW="TriageView.AdhocRequire.TriageView",n.TRIAGEVIEW_AHOCREQUIRE_QUERYRESULTINFOBAR="TriageView.AdhocRequire.QueryResultInfoBar",n.TRIAGEVIEW_ENSUREWORKITEMFORMMODULE="TriageView.EnsureWorkItemFormModule",n.QUERYHIERARCHY_POPULATE="QueryHierarchy.Populate",n.QUERYHIERARCHY_GETQUERYFAVORITES_REQUEST="QueryHierarchy.GetQueryFavorites.Request",n.QUERYHIERARCHY_POPULATEFOLDERTREE="QueryHierarchy.PopulateFolderTree",n.QUERYHIERARCHY_GETHIERARCHY_REQUEST="QueryHierarchy.GetHierarchy.Request",n.QUERYHIERARCHY_UPDATEFROMDATA="QueryHierarchy.UpdateFromData",n.QUERYHIERARCHY_ENSUREITEMINTREE="QueryHierarchy.EnsureItemInTree",n.QUERYHIERARCHY_BEGINGETQUERYBYPATHORID_REQUEST="QueryHierarchy.BeginGetQueryByIdOrPath.Request",n.QUERY_UPDATEADHOCQUERY_REQUEST="Query.UpdateAdHocQuery.Request",n.QUERY_UPDATEQUERY_REQUEST="Query.UpdateQuery.Request",n.QUERY_CREATEQUERY_REQUEST="Query.CreateQuery.Request",n.QUERY_GETQUERYTEXT="Query.GetQueryText",n.QUERIESHUB_INITIALIZE_QUERIESHUBCONTEXT="QueriesHub.Initialize.QueriesHubContext",n.QUERIESHUB_ACTIONS_GETALLQUERYITEMS_REQUEST="QueriesHub.Actions.GetAllQueryItems.Request",n.QUERIESHUB_ACTIONS_GETFAVORITEQUERYITEMS_REQUEST="QueriesHub.Actions.GetFavoriteQueryItems.Request",n.QUERIESHUB_ACTIONS_ENSUREROOTFOLDERS_REQUEST="QueriesHub.Actions.EnsureRootFolders.Request",n.QUERIESHUB_ACTIONS_ENSUREQUERYITEM_REQUEST="QueriesHub.Actions.EnsureQueryItem.Request",n.QUERIESHUB_ACTIONS_SEARCHQUERYITEMS_REQUEST="QueriesHub.Actions.SearchQueryItems.Request",n.QUERIESHUB_TRIAGEVIEW_COMPONENT_MOUNT="QueriesHub.TriageView.Component.Mount",n.QUERIESHUB_QUERYRESULTSPIVOT_COMPONENT_MOUNT="QueriesHub.QueryResultsPivot.Component.Mount",n.QUERIESHUB_QUERIESVIEW_COMPONENT_MOUNT="QueriesHub.QueriesView.Component.Mount",n.QUERIESHUB_QUERIESPIVOT_COMPONENT_MOUNT="QueriesHub.QueriesPivot.Component.Mount",n.QUERIESHUB_STORES_ACTIVEQUERYVIEWSTORE_CHANGEQUERYVIEW="QueriesHub.Stores.ActiveQueryViewStore.ChangeQueryView",n.QUERIESHUB_STORES_QUERYFAVORITEGROUPSTORE_INITIALIZEQUERYFAVORITEGROUPS="QueriesHub.Stores.QueryFavoriteGroupStore.InitializeQueryFavoriteGroups",n.QUERIESHUB_STORES_QUERYHIERARCHYITEMSTORE_INITIALIZEQUERYHIERARCHYITEM="QueriesHub.Stores.QueryHierarchyItemStore.InitializeQueryHierarchyItem",n.QUERIESHUB_STORES_QUERYHIERARCHYSTORE_INITIALIZEQUERYHIERARCHY="QueriesHub.Stores.QueryHierarchyStore.InitializeQueryHierarchy",n.QUERIESHUB_STORES_QUERYRESULTSPROVIDERSTORE_CHANGEQUERYRESULTSPROVIDER="QueriesHub.Stores.QueryResultsProviderStore.ChangeQueryResultsProvider",n}();t.PerformanceEvents=o;s=function(){function n(){}return n.VIEWTYPE_QUERY="Query",n}();t.CustomerIntelligencePropertyValue=s;t.SHORTCUT_KEYDOWN="keydown";t.BUTTON_CLICKED="buttonClick"});

define("WorkItemTracking/Scripts/Utils/WitControlMode",["require","exports","VSS/Diag","VSS/FeatureAvailability/Services","q","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Service","VSS/Contributions/Services","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s){function a(n){return n.configuration&&n.configuration.getMailSettings().enabled}function v(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.MentionsReplyAll",!1)}function y(){return r.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.WebAccessWorkItemTrackingFormCommentServiceEditAndDeleteEnable,!1)}function p(){return r.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.WebAccessWorkItemTrackingEnableCommentReactions,!1)}function w(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.Comments.QuoteReply.Enabled",!1)}function b(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.Form.CommentService.SharedUI.Enabled",!1)}function k(){return r.FeatureAvailabilityService.isFeatureEnabled("WebAccess.WorkItemTracking.EnableHtmlFieldsMentions",!1)}Object.defineProperty(t,"__esModule",{value:!0});t.isHtmlFieldsMentionsEnabled=t.useSharedCommentsUIEnabled=t.isQuoteReplyEnabled=t.isCommentReactionsEnabled=t.isNewCommentsServiceEditAndDeleteEnabled=t.isMentionsReplyAllEnabled=t.isFollowWorkItemEnabled=t.WitFormModeUtility=void 0;var h="ms.vss-work-web.work-item-layout-user-settings-data-provider",c="ms.vss-work-web.work-item-common-configuration-data-provider",l=function(){function n(){}return Object.defineProperty(n,"maxAttachmentSize",{get:function(){return n.settings.maxAttachmentSize},enumerable:!1,configurable:!0}),n.ensureWitFormModeLoaded=function(){if(n.loadLayoutPropertiesFromPageData(),n._shouldFetchData()){i.timeStamp("WorkItemOM.isNewFormEnabledCallback",i.StampEvent.Enter);var t=e.getService(o.WebPageDataService);return t.ensureDataProvidersResolved([{id:h,properties:{serviceInstanceType:s.ServiceInstanceTypes.TFS}},{id:c,properties:{serviceInstanceType:s.ServiceInstanceTypes.TFS}}]).then(function(){i.timeStamp("WorkItemOM.isNewFormEnabledCallback",i.StampEvent.Leave);n.loadLayoutPropertiesFromPageData()},function(){i.timeStamp("WorkItemOM.isNewFormEnabledCallback",i.StampEvent.Leave)})}return u(null)},n._shouldFetchData=function(){return!n.maxAttachmentSize},n.loadLayoutPropertiesFromPageData=function(){var t=e.getService(o.WebPageDataService),i=t.getPageData(h),r=t.getPageData(c);n.settings=__assign(__assign({},r),i)},n.settings={},n}();t.WitFormModeUtility=l;t.isFollowWorkItemEnabled=a;t.isMentionsReplyAllEnabled=v;t.isNewCommentsServiceEditAndDeleteEnabled=y;t.isCommentReactionsEnabled=p;t.isQuoteReplyEnabled=w;t.useSharedCommentsUIEnabled=b;t.isHtmlFieldsMentionsEnabled=k});

define("WorkItemTracking/Scripts/Utils/PerfScenarioManager",["require","exports","VSS/Diag","VSS/Events/Services","VSS/Performance","VSS/Utils/String","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/Utils/WitControlMode"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.PerfScenarioManager=void 0;var s=function(){function n(){}return n.startScenario=function(t,i){return n.startScenarioWithOptions(t,{fromPageNavigation:i,isPageInteractive:i})},n.startScenarioWithOptions=function(t,i){t=n._appendSuffixIfMobile(t);n.abortScenario(t);var f=i.fromPageNavigation,s=f===void 0?!1:f,e=i.isPageInteractive,o=e===void 0?!1:e,r;return r=s?u.getScenarioManager().startScenarioFromNavigation(n._featureArea,t,o):u.getScenarioManager().startScenario(n._featureArea,t,undefined,o),n.addSplitTiming(r.getName(),!0),r},n.addSplitTiming=function(t,r,u,f){var e,o;u===void 0&&(u=!0);f===void 0&&(f=!0);e=r?"".concat(t,".Start"):"".concat(t,".Complete");n._addSplitTiming(e,f);u&&(o=r?i.StampEvent.Enter:i.StampEvent.Leave,i.timeStamp(t,o))},n.addSinglePointSplitTiming=function(t,r,u){r===void 0&&(r=!0);u===void 0&&(u=!0);n._addSplitTiming(t,u);r&&i.timeStamp(t,i.StampEvent.SinglePoint)},n._addSplitTiming=function(t,i){var o,r,f,e;if(i)for(o=n._getWitScenarios(),r=0,f=o;r<f.length;r++)e=f[r],e.isActive()&&e.addSplitTiming(t);else u.getScenarioManager().split(t)},n.addData=function(t){n._getWitScenarios().forEach(function(n){n.isActive()&&n.addData(t)})},n.abortScenario=function(t){for(var i,f=n._getScenarios(t),r=0,u=f;r<u.length;r++)i=u[r],i.isActive()&&(n.addSplitTiming(i.getName(),!1),i.abort())},n.endScenario=function(t,i){for(var f,e=n._getScenarios(t),o=function(t){if(t.isActive()){var r=t.getName();i&&t.addData(i);n.addSplitTiming(t.getName(),!1);t.end().then(function(){return n._fireScenarioCompletedEvents(r)})}},r=0,u=e;r<u.length;r++)f=u[r],o(f)},n.isScenarioActive=function(t){var i=n._getScenarios(t);return i&&i.some(function(n){return n&&n.isActive()})},n._getScenarios=function(t){t=n._appendSuffixIfMobile(t);var i=u.getScenarioManager().getScenarios(n._featureArea,t);return i.concat(u.getScenarioManager().getScenarios(n._featureArea,t))},n._getWitScenarios=function(){var t=[],r,i;for(r in e.WITPerformanceScenario)e.WITPerformanceScenario.hasOwnProperty(r)&&(i=e.WITPerformanceScenario[r],i=n._appendSuffixIfMobile(i),t=t.concat(u.getScenarioManager().getScenarios(n._featureArea,i)),t=t.concat(u.getScenarioManager().getScenarios(n._featureArea,i)));return t},n._appendSuffixIfMobile=function(t){return o.WitFormModeUtility.isMobileForm?"".concat(t).concat(n._mobileSuffix):t},n._fireScenarioCompletedEvents=function(n){f.startsWith(n,e.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS)?r.getService().fire(e.WITPerformanceScenarioEvent.QUERIESHUB_TRIAGEVIEW_OPENQUERYRESULTS_COMPLETE,this):f.startsWith(n,e.WITPerformanceScenario.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM)&&r.getService().fire(e.WITPerformanceScenarioEvent.QUERIESHUB_TRIAGEVIEW_OPENWORKITEM_COMPLETE,this)},n._featureArea=e.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,n._mobileSuffix=".Mobile",n}();t.PerfScenarioManager=s});

define("WorkItemTracking/Scripts/OM/DataSources/MvcDataSource",["require","exports","WorkItemTracking/Scripts/Utils/PerfScenarioManager","Presentation/Scripts/TFS/TFS.Legacy.Ajax","WorkItemTracking/Scripts/CustomerIntelligence","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMvcClient=void 0;var s=function(){function n(n,t){this._tfsContext=n;this._cacheStampManager=t}return n.prototype.beginGetWorkItemData=function(n,t,i,r,u){var f=u?"workitems":"workitemsnohistory",o={controller:"wit",action:f};return(new e.WorkItemStoreLevelWITDataSource).postDataAsync(o,{ids:t,isDeleted:i,includeInRecentActivity:r,includeHistory:u}).then(function(n){return n.data})},n.prototype.beginGetLinkTypes=function(){var n=this;return new Promise(function(t,r){n._cacheStampManager.addStampToParams(f.WITCommonConstants.LinkTypes,null,function(f){(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({controller:"wit",action:"linkTypes"},f,n._tfsContext.navigation.collection.instanceId,o.WITCommonConstants.LinkTypes,"_").then(function(n){var r;n.requestHeaders&&i.PerfScenarioManager.addData((r={},r["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETLINKTYPES_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),r["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETLINKTYPES_REQUEST,".DATE")]=n.requestHeaders.getResponseHeader("Date"),r));t(n.data)},r)})})},n.prototype.beginGetWorkItemTypeData=function(n,t){var r=this;return new Promise(function(o,s){r._cacheStampManager.addStampToParams(f.WITCommonConstants.WorkItemTypes,{typeNames:t,projectId:n},function(t){i.PerfScenarioManager.addSplitTiming(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,!0);var r={controller:"wit",action:"workItemTypes",routeData:{project:n}};(new e.WorkItemStoreLevelWITDataSource).getDataAsync(r,t).then(function(n){var t;n.requestHeaders&&i.PerfScenarioManager.addData((t={},t["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),t["".concat(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,".DATE")]=n.requestHeaders.getResponseHeader("Date"),t));i.PerfScenarioManager.addSplitTiming(u.PerformanceEvents.WORKITEMTRACKING_GETTYPES_REQUEST,!1);o(n.data)},s)},n)})},n.prototype.beginGetFieldProjectData=function(n){var t=this;return new Promise(function(i,r){t._cacheStampManager.addStampToParams(f.WITCommonConstants.TeamProjects,{includeFieldDefinitions:!0,namesOrIds:[n]},function(t){var u={controller:"wit",action:"teamProjects",routeData:{project:n}};(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(u,t,n,o.WITCommonConstants.TeamProjects,n).then(function(n){i(n.data)},function(n){r(n)})})})},n.prototype.beginGetFields=function(){var n=this;return new Promise(function(t,i){n._cacheStampManager.addStampToParams(f.WITCommonConstants.Fields,null,function(u){r.getMSJSON(n._getApiLocation(undefined,"fields"),u,function(n){t(n)},function(n){i(n)})})})},n.prototype._getApiLocation=function(n,t,i){return this._tfsContext.getActionUrl(t||"","wit",$.extend({project:n,team:"",area:"api"},i))},n}();t.WorkItemMvcClient=s});

define("WorkItemTracking/Scripts/OM/DataSources/index",["require","exports","WorkItemTracking/Scripts/OM/DataSources/DataProviderDataSource","WorkItemTracking/Scripts/OM/DataSources/QueryDataProviderDataSource","WorkItemTracking/Scripts/OM/DataSources/MvcDataSource"],function(n,t,i,r,u){function f(n,t,f){var e=[];return window.LWL&&(e.push(new i.WorkItemDataProviderSource(f)),e.push(new r.QueryDataProviderSource)),e.push(new u.WorkItemMvcClient(n,t)),e}Object.defineProperty(t,"__esModule",{value:!0});t.getDataSources=void 0;t.getDataSources=f});

define("WorkItemTracking/Scripts/OM/DataSources/WorkItemTypeCategoriesDataSource",["require","exports","Presentation/Scripts/TFS/TFS.Legacy.Ajax","q","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h,c){function l(n,t){return __awaiter(this,void 0,void 0,function(){var l,v,p,r,e,y,i,w,b,k;return __generator(this,function(d){switch(d.label){case 0:return u.FeatureAvailabilityService.isFeatureEnabled(f.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders)?[4,a(n,t)]:[3,2];case 1:return[2,d.sent()];case 2:return l=new s.WorkItemIndexDBCacheManager,[4,l.getDataFromCache(n,"workItemTypeCategories","_",t?t.stamp:null)];case 3:return(v=d.sent(),!v)?[3,4]:[2,v];case 4:return[4,o.getClient().getWorkItemTypeCategories(n)];case 5:for(p=d.sent(),r={},e=0,y=p;e<y.length;e++)i=y[e],w=i.workItemTypes.map(function(n){return n.name}),b={defaultWorkItemTypeName:i.defaultWorkItemType.name,name:i.name,referenceName:i.referenceName,workItemTypeNames:w},r[i.referenceName]=b;d.label=6;case 6:return d.trys.push([6,8,,9]),[4,l.cacheData(n,"workItemTypeCategories","_",r,t?t.stamp:null)];case 7:return d.sent(),[3,9];case 8:return k=d.sent(),h.traceMessage(c.WITCommonConstants.WorkItemTrackingArea,"CacheData",c.WITCommonConstants.WitCacheProviderInit,k),[3,9];case 9:return[2,r]}})})}function a(n,t){var f=e.TfsContext.getDefault().getActionUrl("workItemTypeCategories","wit",{project:n,area:"api",team:""}),u=r.defer(),o=function(n){u.resolve(n)};return i.getMSJSON(f,t,o,u.reject),u.promise}Object.defineProperty(t,"__esModule",{value:!0});t.beginGetWorkItemTypeCategories=void 0;t.beginGetWorkItemTypeCategories=l});

define("Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon",["require","exports","VSS/VSS","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","Presentation/Scripts/TFS/TFS.Service","VSS/Diag","VSS/Events/Services","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource"],function(n,t,i,r,u,f,e,o,s,h,c){var v,w,l,a,b,y,p;Object.defineProperty(t,"__esModule",{value:!0});t.TeamService=t.ProjectProcessConfigurationService=t.BugsBehavior=t.ProjectProcessConfiguration=t.BacklogCategoryConfiguration=t.INodeStructureType=t.StateType=void 0,function(n){n[n.Proposed=1]="Proposed";n[n.InProgress=2]="InProgress";n[n.Complete=3]="Complete";n[n.Requested=4]="Requested";n[n.Received=5]="Received";n[n.Reviewed=6]="Reviewed";n[n.Declined=7]="Declined";n[n.Resolved=8]="Resolved"}(v=t.StateType||(t.StateType={})),function(n){n[n.Project=0]="Project";n[n.Area=1]="Area";n[n.Iteration=2]="Iteration"}(w=t.INodeStructureType||(t.INodeStructureType={}));l=function(){function n(n){this.plural=n.plural;this.singular=n.singular;this.category=n.category;this.parentCategory=n.parentCategory;this.workItemCountLimit=n.workItemCountLimit;this.states=n.states}return n.prototype.containsWorkItemType=function(n){return e.contains(this.workItemTypeNames,n,f.localeIgnoreCaseComparer)},n}();t.BacklogCategoryConfiguration=l;a=function(){function n(n){var t=this,i;this.taskBacklog=new l(n.taskBacklog);this.requirementBacklog=new l(n.requirementBacklog);this.portfolioBacklogs=$.map(n.portfolioBacklogs,function(n){return new l(n)});this.allBacklogs=this.portfolioBacklogs.concat([this.requirementBacklog,this.taskBacklog]);this._workItemTypeCategoryMap={};this._backlogCategoryNameMap={};this._workItemCategoryStateNameTypeMap={};this.workItemCategories=n.workItemCategories;i=null;$.each(this.allBacklogs,function(r,u){i!==null&&(i.child=u,u.parent=i);i=u;u.workItemTypeNames=n.workItemCategories[u.category];u.isRequirementCategory=u===t.requirementBacklog;u.defaultWorkItemType=n.defaultWorkItemTypes[u.category];$.each(u.workItemTypeNames||[],function(n,i){t._workItemTypeCategoryMap[i]=u.category});t._backlogCategoryNameMap[u.category]=u});this.bugWorkItems=n.bugWorkItems;this.bugWorkItems&&(this.bugWorkItems.workItemTypeNames=n.workItemCategories[this.bugWorkItems.category],$.each(this.bugWorkItems.workItemTypeNames,function(n,i){t._workItemTypeCategoryMap[i]||(t._workItemTypeCategoryMap[i]=t.bugWorkItems.category)}));this.typeFields=n.typeFields;this.weekends=n.weekends;n.workItemColors&&(this.workItemColors=$.map(n.workItemColors,function(n){return{primaryColor:n.primary,secondaryColor:n.secondary,workItemTypeName:n.name}}))}return n.prototype.getCategoryForWorkItemType=function(n){return this._workItemTypeCategoryMap[n]},n.prototype.getCategoryForCategoryRefName=function(n){return this._backlogCategoryNameMap[n]},n.prototype.getTypeField=function(n){return e.first(this.typeFields,function(t){return t.type===n})},n.prototype.isRequirementCategory=function(n){return this.requirementBacklog&&this.requirementBacklog.containsWorkItemType(n)},n.prototype.isTaskCategory=function(n){return this.taskBacklog&&this.taskBacklog.containsWorkItemType(n)},n.prototype.isBugCategory=function(n){return this.bugWorkItems&&this.bugWorkItems.workItemTypeNames&&e.contains(this.bugWorkItems.workItemTypeNames,n,f.localeIgnoreCaseComparer)},n.StateType=v,n.FieldType={Effort:1,Order:2,RemainingWork:3,Team:4,Activity:5,Requestor:6,ApplicationType:7,ApplicationStartInformation:8,ApplicationLaunchInstructions:9,FeedbackNotes:10,ClosedDate:11},n}();t.ProjectProcessConfiguration=a,function(n){n[n.Off=0]="Off";n[n.AsRequirements=1]="AsRequirements";n[n.AsTasks=2]="AsTasks"}(b=t.BugsBehavior||(t.BugsBehavior={}));y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetProcessSettings=function(n,t,r){var u=this,o=function(t){u._processSettings||(u._processSettings=new a(t));n.apply(u,[u._processSettings])},e,f;this._checkDataIsland();e=this.getTfsContext().contextData.project.id;f={area:"api",project:e};r&&(f=$.extend(r,f));i.queueRequest(this,this,"_processSettingsInternal",o,t,function(n,t){function r(t){i._fireProcessSettingsLoaded(t);n.apply(this,arguments)}var i=u,e={controller:"processConfiguration",action:"getProcessSettings",routeData:f};(new c.WebAccessBoardsWITDataSource).getDataAsync(e,null,null).then(function(n){r(n.data)},t)})},t.prototype._checkDataIsland=function(){var n;this._checkedForDataIsland||(this._checkedForDataIsland=!0,n=$(".process-settings-data"),n.length>0&&(this._processSettingsInternal=u.parseMSJSON(n.eq(0).html(),!1),n.eq(0).empty(),this._fireProcessSettingsLoaded(this._processSettingsInternal)))},t.prototype.getProcessSettings=function(){return this._checkDataIsland(),!this._processSettings&&this._processSettingsInternal&&(this._processSettings=new a(this._processSettingsInternal)),this._processSettings},t.prototype._fireProcessSettingsLoaded=function(n){h.getService().fire(t.PROCESS_SETTINGS_LOADED_EVENT,n)},t.PROCESS_SETTINGS_LOADED_EVENT="ProcessConfigService.SettingsLoaded",t}(o.TfsService);t.ProjectProcessConfigurationService=y;p=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._teamMembers={},t}return __extends(t,n),t.prototype.beginGetTeamMembers=function(n,t,u,f,e){var h,o=this.getTfsContext();n||(n=o.currentTeam.identity.id);u=u||100;t=Boolean(t);h=n+"|"+u+"|"+t;i.queueRequest(this,this._teamMembers,h,f,e,function(i,f){var e=o.getActionUrl("members","teams",{area:"api"});r.getMSJSON(e,{teamId:n,maxResults:u,includeGroups:t},function(n){i(n.members)},f)})},t}(o.TfsService);t.TeamService=p});

define("WorkItemTracking/Scripts/Utils/NodeHelpers",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon","TFS/WorkItemTracking/Contracts"],function(n,t,i,r){var f,u;Object.defineProperty(t,"__esModule",{value:!0});t.ClassificationNodeTypeConstants=t.NodeHelpers=void 0,function(n){function f(t){var i,r,u;if(t.children)for(i=0,r=t.children;i<r.length;i++)u=r[i],u.parent=t,n.link(u);return t}function e(n,t){var f=n.children,i,r,u;if(f)for(i=0,r=f;i<r.length;i++)if(u=r[i],u.structure===t)return u;return null}function o(t,i){var r,u,e,f;if(t){if(t.id===i)return t;if(t.children)for(r=0,u=t.children;r<u.length;r++)if(e=u[r],f=n.findById(e,i),f)return f}return null}function s(t,i){var r,u,e,f;if(t){if(t.guid===i)return t;if(t.children)for(r=0,u=t.children;r<u.length;r++)if(e=u[r],f=n.findByGuid(e,i),f)return f}return null}function h(n,t,i,r){var o=0,f,s,l=0,u,e,h,c;if(i!=null&&r==null)throw new Error("ArgumentNullError: stuctureType must be provided if structureLevel is provided");if(!n||!t)return null;for(t=t.replace(/^(\s|\u00A0|\\)+|(\s|\u00A0|\\)+$/g,""),c=t.toUpperCase().split("\\"),u=[n];u&&u.length>0&&o<c.length;){if(h=null,i!=null&&l++===i){for(e=[],f=0,s=u.length;f<s;f++)if(u[f].structure===r){e=u[f].children||[];break}u=e;continue}for(e=null,f=0,s=u.length;f<s;f++)if(u[f].name.toUpperCase()===c[o]){h=u[f];e=h.children;o++;break}u=e}return o===c.length?h:null}function c(n,t){for(var i=[];n;)i.unshift(n.name),n=n.parent;return typeof t=="number"&&i.splice(t,1),i}function l(n){var t=n.split("\\");return t.unshift(t[0]),t}function a(t,i){var r=n.getNodeSegments(t,i);return r.join("\\")}function v(n){return n.split("\\").slice(1).join("\\")}function t(n){var e=n.attributes?n.attributes.startDate:null,o=n.attributes?n.attributes.finishDate:null,f,s,h,c;if(e=typeof e=="string"?new Date(e):e,o=typeof o=="string"?new Date(o):o,f={id:n.id,structure:null,startDate:e,children:[],finishDate:o,guid:n.identifier,name:n.name,parent:null,type:null},n.structureType===r.TreeNodeStructureType.Area?(f.structure=i.INodeStructureType.Area,f.type=u.AreaType):n.structureType===r.TreeNodeStructureType.Iteration&&(f.structure=i.INodeStructureType.Iteration,f.type=u.IterationType),n.children)for(s=0,h=n.children;s<h.length;s++)c=h[s],f.children.push(t(c));return f}n.link=f;n.findChildByStructure=e;n.findById=o;n.findByGuid=s;n.findByPath=h;n.getNodeSegments=c;n.getReferencedNodeSegmenets=l;n.getPath=a;n.getRelativePath=v;n.mapClassificationNodesToLegacyNode=t}(f=t.NodeHelpers||(t.NodeHelpers={})),function(n){n[n.ProjectType=-42]="ProjectType";n[n.AreaType=-43]="AreaType";n[n.IterationType=-44]="IterationType"}(u=t.ClassificationNodeTypeConstants||(t.ClassificationNodeTypeConstants={}))});

define("WorkItemTracking/Scripts/OM/NodesCacheManager",["require","exports","VSS/VSS","VSS/Service","VSS/Navigation/Services","VSS/Diag","WorkItemTracking/Scripts/Utils/NodeHelpers","WorkItemTracking/Scripts/CustomerIntelligence","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Utils/PerfScenarioManager","Presentation/Scripts/TFS/TFS.Legacy.Ajax","q","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){Object.defineProperty(t,"__esModule",{value:!0});t.NodesCacheManager=void 0;var d=function(){function n(n){this._referencedNodes={byId:{},byAreaPath:{},byIterationPath:{}};this._project=n;var t={id:this._project.id,name:this._project.name,path:this._project.name};this._referencedNodes.byId[t.id]=this._referencedNodes.byAreaPath[t.path]=this._referencedNodes.byIterationPath[t.path]=t}return n.prototype.addReferencedNodes=function(n){var i,u,r,f,t;if(n){for(i=0,u=n.areaNodes;i<u.length;i++)t=u[i],this._referencedNodes.byId[t.id]=this._referencedNodes.byAreaPath[t.path]=t;for(r=0,f=n.iterationNodes;r<f.length;r++)t=f[r],this._referencedNodes.byId[t.id]=this._referencedNodes.byIterationPath[t.path]=t}},n.prototype.getReferencedNode=function(n){var t,u,o;if(typeof n=="number")t=n;else if(typeof n=="object")var e=n,i=e.path,r=e.nodeType;if(this.isNodesCacheAvailable()){if(typeof t=="number")return this.findNodeById(t);if(i&&r)return r===1?this.findAreaNodeByPath(i):this.findIterationNodeByPath(i)}return(r?(o=r===1?this._referencedNodes.byAreaPath:this._referencedNodes.byIterationPath,u=o[i]):u=this._referencedNodes.byId[t],u)?u:(f.Debug.logInfo("Could not find a node cache for ".concat(t?t:"".concat(i," (type: ").concat(r,")"))),null)},n.prototype.clearCache=function(){this._iterationNode=null;this._areaNode=null;this._nodes=null},n.prototype.getNodes=function(){if(this.isNodesCacheAvailable())return this._nodes;f.Debug.fail("Project nodes are not ready yet. Use beginGetNodes to download from the server.")},n.prototype.isNodesCacheAvailable=function(){return this._nodes&&typeof this._nodes!="function"},n.prototype.refreshCache=function(){var t=this,n;return this.clearCache(),n=b.TfsContext.getDefault().navigation.projectId,this._project.store.metadataCacheStampManager.ensureStampsForCurrentProject(n,!0).then(function(){return t.beginGetNodes()})},n.prototype.beginGetNodes=function(){var n=u.getHistoryService().getCurrentState().readonly,t=n||!y.FeatureAvailabilityService.isFeatureEnabled(p.FeatureAvailabilityFlags.DisableWorkItemStoreDataProviders);return t?this.beginGetNodesFromRestClient():this.beginGetNodesFromMvc()},n.prototype.beginGetNodesFromMvc=function(){var n=this,t=l.defer();return i.queueRequest(this,this,"_nodes",function(n){return t.resolve(n)},function(n){return t.reject(n)},function(t,i){n._project.store.metadataCacheStampManager.addStampToParams(s.WITCommonConstants.Nodes,null,function(r){h.PerfScenarioManager.addSplitTiming(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,!0);var u=function(f){c.getMSJSON(n._project.getApiLocation("nodes"),r,function(i,s,c){var l,y;if(i==null&&f){y={ErrorName:"NodesIsNullOrUndefined",projectName:n._project.name,urlParams:r};a.publishEvent(new a.TelemetryEventData(v.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,v.WITCustomerIntelligenceFeature.NODES_CACHE_MANAGER,y));r.forceInvalidateCache=(new Date).getTime().toString();u(!1);return}h.PerfScenarioManager.addData((l={},l["".concat(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,".ETAG")]=c.getResponseHeader("ETag"),l));h.PerfScenarioManager.addSplitTiming(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,!1);t(e.NodeHelpers.link(i))},i)};u(!0)})}),t.promise},n.prototype.beginGetNodesFromRestClient=function(){var n=this,t=l.defer();return i.queueRequest(this,this,"_nodes",function(n){return t.resolve(n)},function(n){return t.reject(n)},function(t,i){h.PerfScenarioManager.addSplitTiming(o.PerformanceEvents.WORKITEMTRACKING_GETNODES_REQUEST,!0);var f=r.getClient(w.WorkItemTrackingHttpClient4),u={id:n._project.id,name:n._project.name,guid:n._project.guid,structure:0,type:e.ClassificationNodeTypeConstants.ProjectType,children:[]};f.getRootNodes(n._project.name,15).then(function(i){for(var r,f=0,o=i;f<o.length;f++)r=o[f],r.hasChildren&&(r.children=n.sortNodes(r.children)),u.children.push(e.NodeHelpers.mapClassificationNodesToLegacyNode(r));e.NodeHelpers.link(u);t(u)},function(n){i(n.message)})}),t.promise},n.prototype.sortNodes=function(n){for(var i,t=0,r=n;t<r.length;t++)i=r[t],i.hasChildren&&(i.children=this.sortNodes(i.children));return n.sort(this._compare)},n.prototype.findAreaNodeByPath=function(n){return e.NodeHelpers.findByPath(this.getNodes(),n,1,1)},n.prototype.findIterationNodeByPath=function(n){return e.NodeHelpers.findByPath(this.getNodes(),n,1,2)},n.prototype.findNodeById=function(n){return e.NodeHelpers.findById(this.getNodes(),n)},n.prototype.getAreaNode=function(n){return this._areaNode||(this._areaNode=e.NodeHelpers.findChildByStructure(this.getNodes(),1)),n?{id:this._project.id,name:this._project.name,guid:this._project.guid,structure:0,type:-42,children:this._areaNode.children}:this._areaNode},n.prototype.getIterationNode=function(n){return this._iterationNode||(this._iterationNode=e.NodeHelpers.findChildByStructure(this.getNodes(),2)),n?{id:this._project.id,name:this._project.name,guid:this._project.guid,structure:0,type:-42,children:this._iterationNode.children}:this._iterationNode},n.prototype._compare=function(n,t){var i=0,r=new Date(n.attributes?n.attributes.startDate:null),u=new Date(n.attributes?n.attributes.finishDate:null),f=new Date(t.attributes?t.attributes.startDate:null),e=new Date(t.attributes?t.attributes.finishDate:null);return i=(r.getTime()||Number.MAX_VALUE)-(f.getTime()||Number.MAX_VALUE),i===0&&(i=(u.getTime()||Number.MAX_VALUE)-(e.getTime()||Number.MAX_VALUE)),i===0&&(i=k.localeIgnoreCaseComparer(n.name||"",t.name||"")),i},n}();t.NodesCacheManager=d});

define("WorkItemTracking/Scripts/OM/WorkItemMetadataCookie",["require","exports"],function(n,t){function f(n){for(var e,t,o=[],f=0,s=Object.keys(n);f<s.length;f++)e=s[f],t=n[e],o.push([e,t.scopeId,t.stamp,Array.isArray(t.keys)&&t.keys.join(u)||t.keys].join(r));return encodeURIComponent(o.join(i))}function e(n){var t={},f=decodeURIComponent(n||"").split(i);return f.forEach(function(n){var i=n.split(r);if(i.length>2){var e=i[0],o=i[1],s=i[2],f=i[3].split(u);t[e]={scopeId:o,stamp:s,keys:f.length>0&&f||"_"}}}),t}Object.defineProperty(t,"__esModule",{value:!0});t.deserialize=t.serialize=void 0;var i="|",r=":",u=",";t.serialize=f;t.deserialize=e});

define("WorkItemTracking/Scripts/OM/WorkItemMetadataCacheInformationManager",["require","exports","Presentation/Scripts/TFS/TFS.Core.Utils","WorkItemTracking/Scripts/OM/WorkItemMetadataCookie","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/Core","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Service","VSS/Settings"],function(n,t,i,r,u,f,e,o,s,h){var c;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMetadataCacheInformationManager=void 0;var a=432e3,l="WIT-METADATA",v=(c={},c[o.WITCommonConstants.TeamProjects.toLowerCase()]=!0,c[o.WITCommonConstants.LinkTypes.toLowerCase()]=!0,c[o.WITCommonConstants.WorkItemTypes.toLowerCase()]=!0,c),y=function(){function n(){}return n.prototype.persist=function(n,t,u,c){var p,y,w,d;if(this._shouldSetCookieForType(t)){var b=e.format(o.WorkItemTrackingMetadataCacheConstants.CookieFormat,n),k=s.getLocalService(h.LocalSettingsService),v=i.getCookie(b);for(v||(v=k.read(l,null,h.LocalSettingsScope.Project)),p=r.deserialize(v),p[t]={scopeId:n,stamp:c,keys:u},v=r.serialize(p),y=0,w=this._getCookieLocations();y<w.length;y++)d=w[y],f.setCookie(b,v,d,undefined,a);k.write(l,v,h.LocalSettingsScope.Project)}},n.prototype.readInformationForNonWITLocation=function(){var n=s.getLocalService(h.LocalSettingsService);return n.read(l,null,h.LocalSettingsScope.Project)},n.prototype._shouldSetCookieForType=function(n){return v[n.toLowerCase()]},n.prototype._getCookieLocations=function(){return[u.TfsContext.getDefault().getActionUrl("","workitems")]},n}();t.WorkItemMetadataCacheInformationManager=y});

define("WorkItemTracking/Scripts/RegisteredLinkTypeNames",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.RegisteredLinkTypeNames=void 0;var i;(function(n){n.Related="Related Workitem";n.Hyperlink="Workitem Hyperlink";n.Changeset="Fixed in Changeset";n.VersionedItem="Source Code File";n.Commit="Fixed in Commit";n.Branch="Branch";n.Tag="Tag";n.PullRequest="Pull Request";n.ResultAttachment="Result Attachment";n.TestResult="Test Result";n.Test="Test";n.Storyboard="Storyboard";n.Build="Build";n.FoundInBuild="Found in build";n.IntegratedInBuild="Integrated in build";n.WikiPage="Wiki Page";n.WorkItemLink="WorkItemLink";n.RemoteWorkItemLink="RemoteWorkItemLink";n.GitHubPullRequestLinkType="GitHub Pull Request";n.GitHubCommitLinkType="GitHub Commit";n.GitHubIssueLinkType="GitHub Issue"})(i=t.RegisteredLinkTypeNames||(t.RegisteredLinkTypeNames={}))});

define("WorkItemTracking/Scripts/RegisterLinkForms",["require","exports","VSS/VSS","WorkItemTracking/Scripts/LinkForm","WorkItemTracking/Scripts/RegisteredLinkTypeNames"],function(n,t,i,r,u){function f(){e();o();s();h();c();l()}function e(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Changeset,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.ChangesetLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.VersionedItem,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.VersionedItemLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Commit,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.CommitLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Branch,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.GitBranchLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Tag,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.GitTagLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.PullRequest,function(n){i.using(["VersionControl/Scripts/TFS.VersionControl.WorkItemIntegration.Linking"],function(t){n(t.PullRequestLinkForm)})})}function o(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Build,function(n){i.using(["Build/Scripts/WorkItemIntegration.Linking"],function(t){n(t.BuildLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.FoundInBuild,function(n){i.using(["Build/Scripts/WorkItemIntegration.Linking"],function(t){n(t.FoundInBuildLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.IntegratedInBuild,function(n){i.using(["Build/Scripts/WorkItemIntegration.Linking"],function(t){n(t.IntegratedInBuildLinkForm)})})}function s(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.TestResult,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.TestResultForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.ResultAttachment,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.TestResultAttachmentForm)})})}function h(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Hyperlink,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.HyperlinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.Storyboard,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms"],function(t){n(t.StoryboardLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.WorkItemLink,function(n){i.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Forms.WorkItem"],function(t){n(t.WorkItemLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.RemoteWorkItemLink,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/RemoteLinkForm"],function(t){n(t.RemoteLinkForm)})})}function c(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.WikiPage,function(n){i.using(["Wiki/Scripts/WikiPageForm"],function(t){n(t.WikiPageForm)})})}function l(){r.registerLinkFormAsync(u.RegisteredLinkTypeNames.GitHubPullRequestLinkType,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/GitHubLinkForms"],function(t){n(t.GitHubPullRequestLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.GitHubCommitLinkType,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/GitHubLinkForms"],function(t){n(t.GitHubCommitLinkForm)})});r.registerLinkFormAsync(u.RegisteredLinkTypeNames.GitHubIssueLinkType,function(n){i.using(["WorkItemTracking/Scripts/Controls/Links/GitHubLinkForms"],function(t){n(t.GitHubIssueLinkForm)})})}Object.defineProperty(t,"__esModule",{value:!0});t.registerLinkForms=void 0;t.registerLinkForms=f});

define("TFS/WorkItemTracking/ExtensionContracts",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.KnownColumns=t.ArtifactIconType=t.RemoteLinkStatus=void 0,function(n){n[n.PendingAdd=0]="PendingAdd";n[n.Success=1]="Success";n[n.Failed=2]="Failed";n[n.PendingUpdate=4]="PendingUpdate";n[n.PendingDelete=8]="PendingDelete"}(i=t.RemoteLinkStatus||(t.RemoteLinkStatus={})),function(n){n[n.icon=0]="icon";n[n.colorBar=1]="colorBar";n[n.colorCircle=2]="colorCircle";n[n.identity=3]="identity";n[n.fabricIcon=4]="fabricIcon"}(r=t.ArtifactIconType||(t.ArtifactIconType={}));t.KnownColumns={State:"State",LastUpdate:"LastUpdate"}});

define("WorkItemTracking/Scripts/Utils/RemoteWorkItemUtils",["require","exports","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Authentication/Services","VSS/Common/Contracts/Platform","VSS/Contributions/Services","VSS/Service","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","TFS/WorkItemTracking/ExtensionContracts","VSS/Utils/Url","VSS/Error"],function(n,t,i,r,u,f,e,o,s,h,c){function v(n,t){var r=i.TfsContext.getDefault();return t=t+"/",{account:{id:n,name:"",relativeUri:"",uri:t},collection:{id:n,name:"",relativeUri:"",uri:t},host:{authority:"",hostType:u.ContextHostType.ProjectCollection,id:n,name:"",scheme:r.contextData.host.scheme,relativeUri:"",uri:t,isAADAccount:r.contextData.host.isAADAccount},project:null,team:null,user:r.contextData.user}}function y(){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(t){switch(t.label){case 0:return(l&&l.remoteWorkItemSessionToken&&l.remoteWorkItemSessionToken.validTo&&(new Date).getTime()>l.remoteWorkItemSessionToken.validTo.getTime()-6e4&&(l=null),!!l)?[3,2]:[4,p()];case 1:l=t.sent();t.label=2;case 2:return l&&l.remoteWorkItemSessionToken&&(n=new r.WebSessionTokenManager(l.remoteWorkItemSessionToken)),[2,n]}})})}function p(){return e.getService(f.WebPageDataService).getDataAsync(a)}function w(n){switch(n){case s.RemoteLinkStatus.PendingAdd:return o.RemoteLinkStatusPendingAdd;case s.RemoteLinkStatus.Success:return o.RemoteLinkStatusSuccess;case s.RemoteLinkStatus.Failed:return o.RemoteLinkStatusFailed;case s.RemoteLinkStatus.PendingUpdate:return o.RemoteLinkStatusPendingUpdate;case s.RemoteLinkStatus.PendingDelete:return o.RemoteLinkStatusPendingDelete}}function b(n){try{var t=h.Uri.parse(n),r=t.path.replace(/\/$/,"");return"".concat(t.scheme,"://").concat(t.host,"/").concat(r)}catch(i){return i&&c.publishErrorToTelemetry(i),""}}function k(n,t,i){return"".concat(n,"/").concat(t,"/_apis/wit/workItems/").concat(i)}var a,l;Object.defineProperty(t,"__esModule",{value:!0});t.getRemoteWorkItemRestUrl=t.sanitizeRemoteWorkItemUrl=t.getFriendlyRemoteLinkStatus=t.getRemoteWorkItemAuthSessionToken=t.getRemoteContext=void 0;a="ms.vss-work-web.remote-workitem-token-data-provider";t.getRemoteContext=v;t.getRemoteWorkItemAuthSessionToken=y;t.getFriendlyRemoteLinkStatus=w;t.sanitizeRemoteWorkItemUrl=b;t.getRemoteWorkItemRestUrl=k});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)};define("VSS/Controls/PopupContent",["require","exports","VSS/Controls","VSS/Diag","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI"],function(n,t,i,r,u,f,e){var v,h,o;Object.defineProperty(t,"__esModule",{value:!0});t.RichContentTooltip=t.RichContentTooltipO=t.PopupContentControl=t.PopupContentControlO=void 0;var c=e.domElem,l=u.delegate,a=100,y=1e3,s=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._hasFocus=!1,t._blockFocusUntil=-a-1,t._hasMouse=!1,t._enabled=!0,t._handlers={},t}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._element[0].classList.add("popup-content-control");this._setAriaDescribedBy();!this._options.openDelay&&this._$dropElement.is(":focus")&&this.show();this._onForceHideDropPopupDelegate=this.onForceHideDropPopup.bind(this)},t.prototype.onForceHideDropPopup=function(){this.hide()},t.prototype.setTextContent=function(n){this._setContent(f.htmlEncode(n))},t.prototype.setHtmlContent=function(n){this._setContent(n)},t.prototype._setContent=function(n){this._$contentContainer.html(n);this._contentSet=!0;this._visible&&this._reposition()},t.prototype._initializeContent=function(){if(!this._contentSet){if(this._options.text)typeof this._options.text=="function"?this.setTextContent(this._options.text.call(this)):this.setTextContent(this._options.text);else if(this._options.html)typeof this._options.html=="function"?this.setHtmlContent(this._options.html.call(this)):this.setHtmlContent(this._options.html);else if(this._options.content){var n=this._options.content;typeof n=="function"?this._setContent(n.call(this)):this._setContent(n)}this._contentSet=!0}},t.prototype._setAriaDescribedBy=function(){if(this._options.setAriaDescribedBy){this._initializeContent();var t=this._$contentContainer.attr("id"),n=this._$dropElement.attr("aria-describedby")||"";n.indexOf(t)===-1&&this._$dropElement.attr("aria-describedby",(n?n+" ":"")+t)}},t.prototype.resetContent=function(){this._contentSet=!1},t.prototype.show=function(){this._show({useMousePosition:!1})},t.prototype.toggle=function(){this._element.is(":visible")?this.hide():this.show()},t.prototype._enhance=function(n){var u=this,t;this._createElement();this._$dropElement=n;t=this._options.menuContainer||$("#PopupContentContainer");t.length===0&&(t=$("<div id='PopupContentContainer'><\/div>").appendTo(document.body));this._element.appendTo(t);this._element.css("position","fixed");this._$contentContainer=$(c("div","popup-content-container")).attr({role:"tooltip",id:i.getHtmlId(),"aria-hidden":"true"}).appendTo(this._element);this._decorate();this._bind(n,"remove.removePopupDropElement",function(){u.dispose()})},t.prototype._decorate=function(){var n=this;this._options.openCloseOnHover?(this._listen("mouseover",this.onMouseOver),this._options.showOnFocus!==!1&&this._listen("focus",this._onFocus)):(this._documentEventDelegate=l(this,this._handleDocumentMouseDown),this._bind(this._$dropElement,"click",function(){n._element.is(":visible")?n.hide():n.show()}))},t.prototype._listen=function(n,t){!this._handlers[n]&&this._$dropElement.length>0&&this._$dropElement[0].addEventListener(n,this._handlers[n]=t.bind(this))},t.prototype._stopListening=function(n){var t=this._handlers[n];t&&this._$dropElement[0].removeEventListener(n,t)},t.prototype._onInteract=function(){this.hide();this._hasFocus=!1;this._blockFocusUntil=Date.now()+a},t.prototype._onFocus=function(n){n.target===this._$dropElement[0]&&Date.now()>this._blockFocusUntil&&(this._hasFocus=!0,this._listen("blur",this._onBlur),!this._hasMouse&&this._enabled&&this._showDelayed())},t.prototype._onBlur=function(){this._hasFocus=!1;this._hasMouse||this.hide()},t.prototype._onMouseMove=function(n){this._mousePosition?(this._mousePosition.left=n.pageX,this._mousePosition.top=n.pageY):this._mousePosition={left:n.pageX,top:n.pageY}},t.prototype.onMouseOver=function(n){(!this._options.mouseEventFilter||this._options.mouseEventFilter(n))&&(this._options.useStrictTarget&&n.target!==this._$dropElement[0]||(this._hasMouse=!0,this._enabled)&&(this._listen("mouseout",this._onMouseOut),this._listen("mousemove",this._onMouseMove),this._onMouseMove(n),this._showDelayed({useMousePosition:!0}),this._delayedHide&&this._delayedHide.cancel()))},t.prototype._onMouseOut=function(){var n=this;this._hasMouse=!1;this._delayedHide&&this._delayedHide.cancel();this._delayedHide=u.delay(this,100,function(){n.hide();n._delayedHide=null})},t.prototype.showDelayed=function(){this._showDelayed({useMousePosition:!1})},t.prototype._showDelayed=function(n){var t=this;this._visible||(n=n||{useMousePosition:!1},this._options.openDelay?(this._delayedShow&&this._delayedShow.cancel(),this._delayedShow=u.delay(this,this._options.openDelay,function(){t._show(n)})):this._show(n))},t.prototype._handleDocumentMouseDown=function(n){var t=$(n.target);this._$dropElement.has(n.target).length>0||this._$dropElement[0]===n.target||this._$contentContainer.has(n.target).length>0||this._$contentContainer[0]===n.target||this._element.has(n.target).length>0||this._element[0]===n.target||this.hide()},t.prototype._setPosition=function(){this._setPositionInternal({useMousePosition:!1})},t.prototype._setPositionInternal=function(n){if(this._visible){this._element.css({top:0,left:0});this._lastPositionContext={options:n};var t={elementAlign:this._options.elementAlign||"left-top",baseAlign:this._options.baseAlign||"left-bottom",overflow:this._options.overflow,supportScroll:this._options.supportScroll,leftOffsetPixels:this._options.leftOffsetPixels,topOffsetPixels:this._options.topOffsetPixels,skipZIndexSetting:this._options.skipZIndexSetting};n.useMousePosition&&this._options.useMousePosition!==!1?(this._lastPositionContext.mousePosition={left:this._mousePosition.left,top:this._mousePosition.top},t.leftOffsetPixels=this._options.mouseLeftOffsetPixels||t.leftOffsetPixels,t.topOffsetPixels=this._options.mouseTopOffsetPixels||t.topOffsetPixels,e.Positioning.positionAtLocation(this._element,this._mousePosition,t)):this._$dropElement.length>0&&e.Positioning.position(this._element,this._$dropElement,t)}},t.prototype._reposition=function(){this._lastPositionContext&&(this._lastPositionContext.mousePosition&&(this._mousePosition=this._lastPositionContext.mousePosition),this._setPositionInternal(this._lastPositionContext.options))},t.prototype._getDropElement=function(){return this._$dropElement},t.prototype._show=function(n){if(!this.isDisposed()&&this._getDropElement().is(":visible")&&(!this._options.onlyShowWhenOverflows||e.contentsOverflow(this._options.onlyShowWhenOverflows))&&!this._visible){if(this._visible=!0,this._options.openCloseOnHover&&(this._listen("click",this._onInteract),this._listen("keypress",this._onInteract)),this._initializeContent(),this.getElement().show(),this._setPositionInternal(n),this._fire("popup-opened"),this._documentEventDelegate)$(document).on("mousedown",this._documentEventDelegate);e.attachResize(this._element,l(this,this._setPosition));this._bind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate);this._escapeKeyHandler||(this._escapeKeyHandler=this.onEscapeKeyPressed.bind(this),document.addEventListener("keydown",this._escapeKeyHandler,!0));this._delayedShow&&this._delayedShow.cancel();this._$contentContainer.attr("aria-hidden","false")}},t.prototype.onEscapeKeyPressed=function(n){n.key==="Escape"&&(this.hide(),n.preventDefault(),n.stopPropagation())},t.prototype.hide=function(){(this._escapeKeyHandler&&document.removeEventListener("keydown",this._escapeKeyHandler,!0),this.isDisposed())||(this._delayedShow&&this._delayedShow.cancel(),this._visible)&&(this._visible=!1,this._documentEventDelegate&&$(document).off("mousedown",this._documentEventDelegate),e.detachResize(this._element),this._onForceHideDropPopupDelegate&&this._unbind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._element.hide(),this._fire("popup-closed"),this._stopListening("mousemove"),this._$contentContainer.attr("aria-hidden","true"))},t.prototype.enable=function(){this._enabled=!0;(this._hasFocus||this._hasMouse)&&this._showDelayed()},t.prototype.disable=function(){this._enabled=!1;this.hide()},t.prototype._dispose=function(){if(n.prototype._dispose.call(this),this._options.setAriaDescribedBy){var i=this._$contentContainer.attr("id"),t=this._$dropElement.attr("aria-describedby")||"";t=t.replace(new RegExp("\\b".concat(i,"\\b"),"g"),"").trim().replace(/\s+/," ");t?this._$dropElement.attr("aria-describedby",t):this._$dropElement.removeAttr("aria-describedby")}this._documentEventDelegate&&($(document).off("mousedown",this._documentEventDelegate),this._documentEventDelegate=null);this._onForceHideDropPopupDelegate&&(this._unbind(this._$dropElement.parents(),"scroll",this._onForceHideDropPopupDelegate),this._onForceHideDropPopupDelegate=null);this._$dropElement&&this._$dropElement.length>=1&&(this._unbind(this._$dropElement,"click"),this._unbind(this._$dropElement,"remove.removePopupDropElement"),this._stopListening("mouseover"),this._stopListening("mouseout"),this._stopListening("mousemove"),this._stopListening("focus"),this._stopListening("blur"),this._stopListening("click"),this._stopListening("keypress"));e.detachResize(this._element)},t}(i.Control);t.PopupContentControlO=s;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(s);t.PopupContentControl=v;h=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t._onKeyDown=function(n){n.which===27&&t._visible&&(t._popupHasMouse=!1,t.hide())},t}return __extends(t,n),t.hide=function(){t._shownTooltip&&t._shownTooltip.hide()},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"rich-content-tooltip",openCloseOnHover:!0,elementAlign:"middle-top",baseAlign:"middle-bottom",useMousePosition:!1},t))},t.prototype.initialize=function(){var i=this.getElement(),r=this._options,t;r.popupTag!==!1&&(this._$popupTag=$(c("div","popup-tag")).prependTo(i),this._popupHasMouse=!1,t=this,this._$popupTag[0].parentElement.addEventListener("mouseenter",function(){t._popupHasMouse=!0}),this._$popupTag[0].parentElement.addEventListener("mouseleave",function(){t._popupHasMouse=!1;t._delayedHide=u.delay(this,100,function(){t.hide();t._delayedHide=null})}));n.prototype.initialize.call(this);i[0].classList.add("v2");r.autoWidth&&i[0].classList.add("auto-width")},t.prototype._getPopupTooltipElement=function(){return this._$popupTag},t.prototype._show=function(i){if(document.addEventListener("keydown",this._onKeyDown),n.prototype._show.call(this,i),this._visible){var r=t._shownTooltip;r&&r!==this&&r.hide();t._shownTooltip=this}},t.prototype.hide=function(){this._popupHasMouse||(document.removeEventListener("keydown",this._onKeyDown),n.prototype.hide.call(this),t._shownTooltip===this&&(t._shownTooltip=null))},t.prototype._setPositionInternal=function(t){var f,i,r,e,o,s;if((n.prototype._setPositionInternal.call(this,t),this._visible)&&this._$popupTag){f=t&&t.useMousePosition&&this._options.useMousePosition!==!1;this._$popupTag.css({top:0,left:0});this._$contentContainer.toggleClass("mouse",f);i={left:parseInt(this._element.css("left"),10),top:parseInt(this._element.css("top"),10),width:this._element.outerWidth(),height:this._element.outerHeight()};r=void 0;f?r=this._mousePosition:(e=this._getDropElement(),o=e.offset(),r={left:o.left+e.outerWidth()/2,top:o.top});s=this._element.offset();r.left+=i.left-s.left;r.top+=i.top-s.top;var l=f?27:11,u=15,a=u*.5,c=u*(Math.SQRT2-1)*.5,v=c+u,h={left:Math.max(Math.min(r.left-a,i.left+i.width-v),i.left+c),top:i.top+l-u*.5};i.top<r.top-.5?(this._$popupTag.addClass("flipped"),h.top=i.top+i.height-11-u*.5):this._$popupTag.removeClass("flipped");this._$popupTag.css({left:h.left+"px",top:h.top+"px"})}},t.add=function(n,t,r){return r=__assign({openDelay:y,topOffsetPixels:0,mouseTopOffsetPixels:0,autoWidth:!0},r),typeof n=="string"?r.text=n:n&&(r.html=n),i.Enhancement.enhance(o,$(t),r)},t.addIfOverflow=function(n,t,i){return o.add(n,t,__assign(__assign({},i),{onlyShowWhenOverflows:t}))},t}(s);t.RichContentTooltipO=h;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(h);t.RichContentTooltip=o});

define("VSS/Controls/Menus",["require","exports","q","VSS/Context","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Events/Action","VSS/Events/Handlers","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","VSS/VSS","VSS/ClientTrace/Contracts","VSS/Error","VSS/Telemetry/Services","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function wt(n){var t;return n&&(t=n.state|it.None,n.disabled&&(t=t|it.Disabled),n.hidden&&(t=t|it.Hidden),n.toggled&&(t=t|it.Toggled)),t}function fi(n){var t=new v.StableSorter(function(n,t){var i=n.rank?n.rank:9999,r=t.rank?t.rank:9999;return i-r});return t.sort(n,!1)}var yt,ft,ut,it,pt,rt,dt,et,ot,bt,ht,ct,lt,at,gt,ni,ti,vt,kt,ii;Object.defineProperty(t,"__esModule",{value:!0});t.sortMenuItems=t.PopupMenu=t.PopupMenuO=t.Toolbar=t.MenuBar=t.MenuBarO=t.MenuOwner=t.Menu=t.MenuContributionProvider=t.MenuItem=t.MenuBase=t.MenuSelectionMode=t.MenuItemState=t.BLUR_CLOSE_TIMEOUT=t.menuManager=void 0;var nt=y.delegate,st=p.domElem,tt=p.KeyCode,ri=b.handleError,ui=b.getErrorMessage;t.BLUR_CLOSE_TIMEOUT=25,function(n){function t(n){return Boolean(n)&&n.which===2}function i(n){return Boolean(n)&&$(n.target).is("ul.menu")}n.isMiddleClick=t;n.targetIsMenu=i}(yt||(yt={})),function(n){function t(t){return t==="vertical"?n.Vertical:n.Horizontal}n.Horizontal=0;n.Vertical=1;n.parse=t}(ft||(ft={})),function(n){function t(t){switch(t){case"static":return n.Static;case"popup":return n.Popup;case"dropdown":return n.DropDown;case"chevron":return n.Chevron}return n.Normal}n.None=0;n.Normal=1;n.Static=2;n.Popup=3;n.DropDown=4;n.Chevron=5;n.SubMenu=6;n.parse=t}(ut||(ut={})),function(n){n[n.None=0]="None";n[n.Disabled=1]="Disabled";n[n.Hidden=2]="Hidden";n[n.Toggled=4]="Toggled"}(it=t.MenuItemState||(t.MenuItemState={})),function(n){n[n.None=0]="None";n[n.SingleSelect=1]="SingleSelect";n[n.MultiSelect=2]="MultiSelect"}(pt=t.MenuSelectionMode||(t.MenuSelectionMode={})),function(n){function t(t){switch(t){case"right-bottom":return n.RightBottom;case"left-bottom":return n.LeftBottom;case"left-top":return n.LeftTop}return n.RightJustify}n.RightBottom=0;n.RightJustify=1;n.LeftBottom=2;n.LeftTop=3;n.parse=t}(rt||(rt={}));dt=function(){function n(){this._executeEvent="execute-command";this._commandStates=null;this._commandStates={}}return n.prototype.getCommandState=function(n,t){var i=this._commandStates&&this._commandStates[n];return typeof i=="function"?i.call(t,n,t):i},n.prototype.updateCommandStates=function(n){var t=this;n&&$.each(n,function(n,i){t._commandStates[i.id]=wt(i)})},n.prototype.executeCommand=function(n){this._fireEvent(this._executeEvent,this,n)},n.prototype.attachExecuteCommand=function(n){this.attachEvent(this._executeEvent,n)},n.prototype.detachExecuteCommand=function(n){this.detachEvent(this._executeEvent,n)},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){var r;if(this._events&&(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r))return!1},n.prototype.attachEvent=function(n,t){this._events||(this._events=new c.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n}();t.menuManager=new dt;et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._type=ut.parse(i._options.type),i._children=[],i}return __extends(t,n),t.prototype.getOwner=function(){return this._parent?this._parent.getOwner():this},t.prototype.getParent=function(){return this._parent},t.prototype.getParentMenu=function(){return undefined},t.prototype.getContextInfo=function(){return this._options.contextInfo},t.prototype.getActionArguments=function(){var n=this._options.arguments||this.actionArguments;return typeof n=="string"?{url:n}:typeof n=="function"?n.call(this,this.getOwner().getContextInfo()):n},t.prototype.getMenuType=function(){return this._type},t.prototype.updateCommandStates=function(n){this._updateCommandStates(n)},t.prototype.isMenuBar=function(){return this._type===ut.Static},t.prototype._fireUpdateCommandStates=function(n){(n=n||this,typeof this._options.updateCommandStates!="function"||this._options.updateCommandStates.call(n,n)!==!1)&&this._parent&&this._parent._fireUpdateCommandStates(n)},t.prototype._clear=function(){for(var t=this._children.length,n=0;n<t;n++)this._children[n]._clear(),this._children[n].dispose();this._children=[]},t.prototype._updateCommandStates=function(n){var t=this;this._commandStates||(this._commandStates={});n&&$.each(n,function(n,i){t._commandStates[i.id]=wt(i)})},t.prototype._updateContributedMenuItems=function(n){this._children&&this._children.forEach(function(t){t._updateContributedMenuItems(n)})},t}(e.Control);t.MenuBase=et;b.initClassPrototype(et,{_type:null,_parent:null,_children:null,_commandStates:null,actionArguments:null});ot=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);i._isPinFocused=!1;i._quenchMouseLeave=!1;i._blockHoverOpenSubMenu=!1;i._isHidden=!1;i._item=i._options.item||{};i.setEnhancementOptions({coreCssClass:i._item.href?"menu-item-container":"menu-item",tagName:"li"});try{i.actionArguments=i._item.arguments}catch(u){}return i._align=rt.parse(i._options.align),i}return __extends(i,n),i.getScopedCommandId=function(n,t){return t?t+"-"+n:n},i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},i.prototype.getParentMenu=function(){return this._parent instanceof ht&&this._parent},i.prototype.getCommandId=function(){return i.getScopedCommandId(this._item.id,this._item.scope)},i.prototype.getAction=function(){var n=this._item.idIsAction;return n===!1?this._item.action:this._item.action||this.getCommandId()||this._item.href},i.prototype.hasAction=function(){var n=this.getAction();return n!==null&&typeof n!="undefined"},i.prototype.hasSubMenu=function(){return!this.isDefault()&&this._item.childItems},i.prototype.isDecorated=function(){return this._item.decorated===!0},i.prototype.isDefault=function(){return this._type===ut.None},i.prototype.isSeparator=function(){return this._item.separator===!0},i.prototype.isLabel=function(){return this.isSeparator()&&this._item.isLabel},i.prototype.isSelected=function(){return this._item.selected===!0},i.prototype.getCommandState=function(n,i){var r=null;return n=n||this._item.id,i=i||this,typeof this._options.getCommandState=="function"&&(r=this._options.getCommandState.call(this,n,i)),(r===null||typeof r=="undefined")&&this._parent&&typeof this._parent.getCommandState=="function"&&(r=this._parent.getCommandState(n,i)),(r===null||typeof r=="undefined")&&(r=t.menuManager.getCommandState(n,i)),(r===null||typeof r=="undefined")&&this._item.id===n&&(r=wt(i._item)),typeof r=="function"&&(r=r.call(this,n,this)),r},i.prototype.getIndex=function(){return this._index},i.prototype.setIndex=function(n){this._index=n},i.prototype.setIsHidden=function(n){this._isHidden=n;this._updateState()},i.prototype.isHidden=function(){if(this.isPinnable()&&this._parent&&this._parent.getMenuPinningOptions()){var n=this._parent.getMenuPinningOptions();if(n.hidePinnedItems&&this._isPinned&&!this._item.pinningOptions.neverHide||n.hideUnpinnedItems&&!this._isPinned&&!this._item.pinningOptions.neverHide)return!0}return Boolean((this.getCommandState()&it.Hidden)===it.Hidden||this._type===ut.None||this.isSeparator()&&this._item.hidden||this._isHidden)},i.prototype.isEnabled=function(){return this.isHidden()?!1:this.isSeparator()?void 0:(this.getCommandState()&(it.Disabled|it.Hidden))===it.None},i.prototype.isFocusable=function(){return!this.isHidden()&&this._item&&this._item.focusable!==!1},i.prototype.isToggled=function(){var n=!1;return this.isSeparator()||this.isHidden()||(n=(this.getCommandState()&it.Toggled)===it.Toggled),n},i.prototype.isPinnable=function(){return this._item.pinningOptions&&this._item.pinningOptions.isPinnable},i.prototype.isPinned=function(){return this._isPinned},i.prototype.getSelectionMode=function(){var n=this.getOwner()._options.selectionMode;return typeof n=="undefined"?pt.None:typeof n=="function"?n(this._item):n},i.prototype.initialize=function(){var f=this,t,r,u,i;n.prototype.initialize.call(this);this.isPinnable()&&(t=this.getParentMenu(),r=t&&t.getMenuPinningOptions(),r&&r.isPinningSource?(u=t.getParentMenu(),i=v.first(u._menuItems,function(n){return n._item&&n._item.id===f._item.id}),this._isPinned=i&&i.isPinnable()?i._isPinned:!!this._item.pinningOptions.isPinned):this._isPinned=!!this._item.pinningOptions.isPinned);this._decorate()},i.prototype.update=function(n){var t=this;n!==this._item&&(Object.keys(this._item).forEach(function(n){delete t._item[n]}),$.extend(this._item,n));this._clear();this._item.decorated=!1;this._element.empty();this._unbind("click mouseenter mouseleave mousedown mouseup keydown");this._decorate()},i.prototype.updateItems=function(n){this._clear();this._item.childItems=n},i.prototype._decorate=function(){var n=this._element,u,d,t,f,c,l;!this.isDecorated()&&this._item.href&&(n=$('<a class="menu-item" tabindex="-1"/>').appendTo(n),n.attr("href",this._item.href));this._$menuItemElement=n;var g=this.getOwner()._options.showIcon===!0,a=this.hasSubMenu(),v=this._item.showText!==!1,y=this._item.showHtml!==!1,o,i,s,r,w=!1,b=!1,h=!1,k="mi_"+e.getId();this._item.id&&(k+="_"+this._item.id);n.attr({id:k,tabindex:"-1"});this._element.attr({role:this.getAriaRole(),tabindex:"-1"});this.isDecorated()?r=n.children(".drop").eq(0):(n.addClass(this._options.cssCoreClass).addClass(this._options.cssClass),u=this._item.title,u||this._item.encoded||!this._item.setDefaultTitle&&this._item.showText!==!1?u||(u=""):u=this._item.text,this._element.attr("title",""),this.updateTitle(u),this._item.ariaLabel&&this._element.attr("aria-label",this._item.ariaLabel),this._item.id&&n.attr("command",this._item.id),this._item.cssClass&&n.addClass(this._item.cssClass),this._item.hidden&&n.addClass("invisible"),this._item.focusable===!1&&n.addClass("unfocusable"),this.isSeparator()?(n.addClass("menu-item-separator"),n.attr("role","separator"),n.removeAttr("tabindex"),o=this._createSeparatorElement(),this._item.text&&(o.text(this._item.text),o.removeClass("separator"),o.addClass("text-separator")),n.append(o)):(d=this._item.ariaLabel||this._item.text||this._item.title,g&&!this._item.noIcon&&(typeof this._item.icon=="string"&&this._item.icon.match(/^https?:\/\//)?this._item.icon=this._getExternalIcon.bind(this,this._item.icon):typeof this._item.icon=="string"&&this._item.icon.match(/^css:\/\//)&&(this._item.icon=this._item.icon.substr(6)),t=this._createIconElement(),typeof this._item.icon=="function"?t.append(this._item.icon.call(this,t)):this._item.icon&&t.addClass(this._item.icon),t.hasClass("bowtie-icon")&&t.removeClass("icon"),v||y&&this._item.html?t.attr("aria-hidden","true"):t.attr("role","button").attr("aria-label",d),n.append(t),w=!0),v&&(i=this._createTextElement(),this._item.encoded?i[0].innerHTML=this._item.text||"":typeof this._item.text=="string"?i.text(this._item.text):typeof this._item.text=="function"&&i.text(this._item.text.call(this)||""),!u&&jQuery("body").hasClass("gallery")&&(i.attr("aria-label","menuitem"),this._element.attr("aria-label","menuitem")),this._item.textClass&&i.addClass(this._item.textClass),i.attr("role","button"),b=!0,n.append(i)),y&&(h=!0,s=this._createHtmlElement(),f=this._item.html,typeof f=="function"&&(f=f.call(this)),f instanceof jQuery?s.append(this._item.html):typeof f=="string"?s.html(this._item.html):h=!1,this._item.htmlClass&&s.addClass(this._item.htmlClass),n.append(s)),h||b||!w||n.addClass("icon-only"),a&&(this._element.attr({"aria-haspopup":"true","aria-expanded":"false"}),this._item.hideDrop||(r=this._createDropElement(),c=this.getElement().css("display"),c!=="inline-block"&&c!=="table-cell"?n.prepend(r):n.append(r),n.addClass("drop-visible"))),this.isPinnable()&&!this._item.pinningOptions.hidePin&&(n.addClass("pin-visible"),this._pinElement=$("<i class='pin bowtie-icon' />"),this._pinElement.click(this._onPinClick.bind(this)),this._pinElement.attr({id:n.attr("id")+"_pin",role:"button",tabindex:"-1"}),n.append(this._pinElement))));this._updateState();l=this.isSelected();n.toggleClass("selected",l);l?this._element.attr("aria-checked","true"):this._element.removeAttr("aria-checked");this.isDefault()||this.isSeparator()?this.isSeparator()&&this._bind("click",function(n){n.stopPropagation()}):(this._bind("click",nt(this,this._onClick)),this._bind("mouseenter",nt(this,this._onMouseEnter)),"onpointerdown"in this._element[0]||this._bind("touchstart",nt(this,this._onTouchStart)),this._bind("pointerdown",nt(this,this._onPointerDown)),this._bind("pointerup",nt(this,this._onPointerUp)),this._bind("mouseleave",nt(this,this._onMouseLeave)),this._bind("mousedown",nt(this,this._onMouseDown)),this._bind("mouseup",nt(this,this._onMouseUp)),this._bind("keydown",this._onKeyDown.bind(this)),a&&r&&r.length>0&&this._bind(r,"click",nt(this,this._onDropClick)));this.getOwner()._options.markUnselectable===!0&&p.makeElementUnselectable(n[0])},i.prototype._getExternalIcon=function(n){return $("<img/>").attr("src",n)},i.prototype.select=function(n,t){n===void 0&&(n=!1);t===void 0&&(t=!0);this._parent._selectItem(this,n,t);this._parent._clearTimeouts()},i.prototype.focusPin=function(n){n===void 0&&(n=!0);this._isPinFocused=n;this._pinElement&&(this._pinElement.toggleClass("focus",this._isPinFocused),n&&p.tryFocus(this._pinElement))},i.prototype.deselect=function(){this._parent._selectItem(null)},i.prototype.escaped=function(){this.select()},i.prototype.execute=function(n){n;var t=this.getOwner();return this.collapse({immediate:!0}),t.escaped(),t.isMenuBar()&&n&&n.keepHighlight&&this.showHoverHighlight(),t._proceedBlur(),this.hasAction()?this.executeAction($.extend({},t.getActionArguments(),this.getActionArguments()),n?n.e:null):void 0},i.prototype.executeAction=function(n,i){var r=this.getAction(),l=this.getOwner(),e=r==="navigate"&&n.url||this._item.href,o,s,u,f;if(r){if(n.telemetry&&n.telemetry.area&&n.telemetry.feature&&g.publishEvent(new g.TelemetryEventData(n.telemetry.area,n.telemetry.feature,{CommandId:this.getCommandId()||"Unknown",GroupId:this._item.groupId,ContributionId:this._item.contributionId})),o=i&&(i.ctrlKey||i.metaKey),typeof r=="function"&&!(e&&o)&&(s=r.apply(this,[n,i]),!e||s===!1))return s;if(e){try{u=n.url;u||(u=this._item.href);f=null;n.target&&(f=n.target);o&&(f="_blank");f?h.getService().performAction(h.CommonActions.ACTION_WINDOW_OPEN,{url:u,target:n.target}):h.getService().performAction(h.CommonActions.ACTION_WINDOW_NAVIGATE,{url:u})}catch(i){}return!1}return l?l.executeAction(new c.CommandEventArgs(r,n,this)):t.menuManager.executeCommand(new c.CommandEventArgs(r,n,this))}},i.prototype.collapse=function(n){for(var t=this._parent,i=n&&n.immediate===!0;t;)typeof t.hide=="function"&&t.hide({immediate:i}),t=t._parent;this.getOwner().ownFocus()},i.prototype.setFocus=function(n){n===void 0&&(n=!0);var t=this._$menuItemElement;!t||this.isSeparator()||this.isDefault()||t.addClass("focus");t&&p.tryFocus(this._element)},i.prototype.removeFocus=function(){var n=this._$menuItemElement;!n||this.isSeparator()||this.isDefault()||n.removeClass("focus");this.focusPin(!1)},i.prototype.showHoverHighlight=function(){this._highlightHover=!0;this._updateState()},i.prototype.showPressedHighlight=function(){this.hasSubMenu()&&this.getSubMenu()._visible||(this._highlightPressed=!0,this._updateState())},i.prototype.removePressedHighlight=function(){this._highlightPressed&&(this._highlightPressed=!1,this._updateState())},i.prototype.removeHighlight=function(){this._highlightHover=!1;this._highlightPressed=!1;this._updateState()},i.prototype.updateTitle=function(n){this._setTooltip(null);this._item.setTitleOnlyOnOverflow&&this._item.showText!==!1?(n||(n=this._item.text),this._setTooltip(n,{onlyShowWhenOverflows:this._$menuItemElement[0],setAriaDescribedBy:!0})):(n&&!this.getParentMenu().openSubMenuOnHover&&this._setTooltip(n,{setAriaDescribedBy:!0}),this._item.showText!==!1||this._item.ariaLabel||this._element.attr("aria-label",n));this._options.item&&(this._options.item.title=n)},i.prototype._setTooltip=function(n,t){var i=this;this._tooltip&&this._tooltip.dispose();this._tooltip=n?o.RichContentTooltip.add(n,this._element[0],__assign({menuContainer:this._element,mouseEventFilter:function(n){return!(i.hasSubMenu()&&i.getSubMenu()._element[0].contains(n.target))}},t)):null},i.prototype.updateText=function(n){var t;typeof n=="string"?t=n:this._item&&typeof this._item.text=="function"&&(t=this._item.text.call(this));t&&this._$menuItemElement.children("span.text").text(t)},i.prototype.getSubMenu=function(n){var t,i;return n===void 0&&(n=!0),t=null,this.hasSubMenu()&&(this._children.length===0?n&&(i=this._parent&&this._parent._parent&&this._parent._parent._element||this._$menuItemElement,t=e.create(ht,i,$.extend({},this._options,this._item.childOptions,{earlyInitialize:!1,items:this._item.childItems,type:"submenu",cssCoreClass:"menu sub-menu",tagName:"ul",ariaLabel:this._item.ariaLabel})),t._element.addClass("menu"),t._element.attr("data-parent",this._$menuItemElement.attr("id")),t._parent=this,t._type=ut.SubMenu,this._children.push(t)):t=this._children[0]),t},i.prototype.tryShowSubMenu=function(n){var t=n&&n.immediate;return!this.isDefault()&&this.isEnabled()&&this.getSubMenu()?(this.showSubMenu({immediate:t}),!0):!1},i.prototype.showSubMenu=function(n){var i=n&&n.immediate===!0,r=n?n.showTimeout:undefined,u=n?n.callback:undefined,t=this.getSubMenu(),f=this._item.splitDropItem?this._item.splitDropItem:this,e=(n&&n.setFocus)!==!1;this._closeSubmenuOnMouseLeave=n&&n.closeOnMouseLeave;t.show({immediate:i,showTimeout:r,callback:u,element:f._$menuItemElement,align:this._align,setFocus:e})},i.prototype.hideSubMenu=function(n){var r=this;if(this.hasSubMenu()){var u=n&&n.immediate===!0,i=n&&n.callback,t=this.getSubMenu(!1);t&&t._parent===this&&t.hide({immediate:u,callback:function(){r._closeSubmenuOnMouseLeave=!1;typeof i=="function"&&i()}})}},i.prototype.hideSiblings=function(n){this._parent.hideChildren(this,n)},i.prototype.getAriaRole=function(){switch(this.getSelectionMode()){case pt.MultiSelect:return"menuitemcheckbox";case pt.SingleSelect:return"menuitemradio"}return"menuitem"},i.prototype._attachMenuEvents=function(){},i.prototype._createIconElement=function(){return $(st("span","icon menu-item-icon"))},i.prototype._createTextElement=function(){return $(st("span","text"))},i.prototype._createHtmlElement=function(){return $(st("span","html"))},i.prototype._createDropElement=function(){return $(st("div","drop"))},i.prototype._createSeparatorElement=function(){return $(st("div","separator"))},i.prototype._updateState=function(){var n,r,t;this._disposed||(n=this._$menuItemElement,!n||this.isSeparator()||this.isDefault()||(r=(this._item.splitDrop||this._item.splitDropItem||{})._$menuItemElement,this.isEnabled()?(n.toggleClass("hover",this._highlightHover),n.toggleClass("pressed",this._highlightPressed),this._element.attr("aria-disabled","false"),n.removeClass("disabled"),r&&r.toggleClass("split-drop-hover",this._highlightHover)):(n.addClass("disabled"),this._element.attr("aria-disabled","true"),n.removeClass("hover"),n.removeClass("pressed")),this._pinElement&&this._pinElement.toggleClass("focus",this._isPinFocused),n.toggleClass("toggle-on",this.isToggled())),n&&!this.isDefault()&&n.toggleClass("invisible",this.isHidden()),this._pinElement&&(this._pinElement.toggleClass(i.PinnedIconClass,this._isPinned),this._pinElement.toggleClass(i.UnpinnedIconClass,!this._isPinned),this._pinElement.attr("title",this._isPinned?l.MenuItemUnpinButtonLabel:l.MenuItemPinButtonLabel),t=null,this._isPinned?(i._unpinDescribedById||(i._unpinDescribedById=String(e.getId()),$(st("div")).attr("id",i._unpinDescribedById).addClass("visually-hidden").text(l.UnpinDescribedByText).appendTo(document.body)),t=i._unpinDescribedById):(i._pinDescribedById||(i._pinDescribedById=String(e.getId()),$(st("div")).attr("id",i._pinDescribedById).addClass("visually-hidden").text(l.PinDescribedByText).appendTo(document.body)),t=i._pinDescribedById),this._element.attr("aria-describedby",t)))},i.prototype._updateContributedMenuItems=function(t){var i=[this._item],r=function(n,i,u){for(var f,o=!1,e=0,s=t;e<s.length;e++)if(f=s[e],n.id===f.id&&n.sourceExtensionId===f.sourceExtensionId){u[i]=f;o=!0;break}!o&&Array.isArray(n.childItems)&&n.childItems.forEach(r)};i.forEach(r);i[0]!==this._item?this.update(i[0]):n.prototype._updateContributedMenuItems.call(this,t)},i.prototype._onPointerDown=function(n){var i=n.originalEvent;if(i.pointerType==="touch"){var r=this.hasSubMenu()&&this.getParentMenu().openSubMenuOnHover,t=this._children&&this._children[0],u=t&&t._visible;r&&(!u||t.shownTime>Date.now()-100)&&(this._handledPointerId=i.pointerId)}},i.prototype._onPointerUp=function(n){var t=n.originalEvent;t.pointerId===this._handledPointerId&&(this._blockClickUntil=Date.now()+500);this._handledPointerId=null},i.prototype._onTouchStart=function(n){!this.hasSubMenu()||!this.getParentMenu().openSubMenuOnHover||this._children&&this._children[0]&&this._children[0]._visible?this._onClick(n):(this._onMouseEnter(n),n.preventDefault())},i.prototype._onMouseEnter=function(n){var i,t,r,u,f;for(s.logTracePoint("MenuItem._onMouseEnter.start"),i=n.target;i&&i.tagName.toUpperCase()!=="UL";)i=i.parentElement;i===this._parent._element[0]&&(t=this.getOwner(),!this._blockHoverOpenSubMenu&&(t._active||t.openSubMenuOnHover)?(t.activate(),r=t._subMenuVisible,this.hideSiblings({immediate:this._options.immediateShowHide}),this.select(!0),(t!==this._parent||r||t.openSubMenuOnHover)&&(t._subMenuVisible=r,this.isEnabled()&&this.hasSubMenu()&&(u=this.getSubMenu(),u._parent===this&&(u._visible||(f=t.openSubMenuOnHover&&t===this._parent,this.showSubMenu({immediate:f&&!r?!1:this._options.immediateShowHide,showTimeout:f&&!r?200:undefined,closeOnMouseLeave:f,callback:function(){u.selectDefaultItem(!0)},setFocus:!1})))))):this.showHoverHighlight())},i.prototype._onMouseLeave=function(n){var r=this,i=this.getOwner(),t;if(this._quenchMouseLeave){this._quenchMouseLeave=!1;n.stopPropagation();return}this._closeSubmenuOnMouseLeave&&this.hideSubMenu({immediate:!1,hideTimeout:200,callback:function(){return r.removeHighlight()}});i._active?i!==this._parent?this.hasSubMenu()?(t=this.getSubMenu(),t._parent===this?t._visible||(this.deselect(),t._clearTimeouts()):this.deselect()):this.deselect():this.hasSubMenu()&&this.getSubMenu()._visible||this.removeHighlight():this.removeHighlight()},i.prototype._onMouseDown=function(n){this.showPressedHighlight();n.stopPropagation();n.preventDefault()},i.prototype._onMouseUp=function(){this.removePressedHighlight()},i.prototype._onClick=function(n){var u=this,t,i,r;if(yt.targetIsMenu(n))return!1;if(!yt.isMiddleClick(n)){if(this._blockClickUntil&&Date.now()<this._blockClickUntil){n.stopPropagation();n.preventDefault();return}if(i=this.actionArguments,i||(i={}),i.clickArguments||(i.clickArguments={}),$.extend(i.clickArguments,n),this.isEnabled()){if(this.hasSubMenu()&&this._item.clickOpensSubMenu!==!1)t=this.getSubMenu(),this.select(),t._parent===this&&t._visible?(this.getOwner().activate(),this._options.clickToggles===!0?(t.hide({immediate:!0}),this._blockHoverOpenSubMenu=!0,r=function(){u._blockHoverOpenSubMenu=!1;u._unbind("mouseleave",r)},this._bind("mouseleave",r),this.select()):t.ownFocus()):(this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),t.selectDefaultItem());else if(this.hasAction())return this.select(),this.execute({e:n,keepHighlight:this._parent.getMenuType()!==ut.SubMenu})===!0}else this.getOwner().activate(),this.hideSiblings({immediate:!0}),this.select();n.stopPropagation();n.preventDefault()}},i.prototype._onDropClick=function(){var n;return this.isEnabled()&&(this.getOwner().activate(),this.hasSubMenu()&&(n=this.getSubMenu(),n._parent===this&&n._visible?this._options.clickToggles===!0?(n.hide({immediate:!0}),this.select()):n.ownFocus():(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),n.selectDefaultItem()))),!1},i.prototype._onPinClick=function(n){n.stopPropagation();n.preventDefault();this.toggleIsPinned()},i.prototype.toggleIsPinned=function(n,t){var i,f,e,s,h,y,c,p,u,l,a,w,g,v,b,r,o,nt,k,d;if(n===void 0&&(n=!this._isPinned),this._isPinned=n,this._updateState(),i=this.getParentMenu(),f=i&&i.getMenuPinningOptions()||{},i&&i.updateAriaSetProperties(),e=[],f.isPinningSource)s=i.getParentMenu(),e.push(s);else if(f.isPinningTarget)for(s=i,h=0,y=this._parent._menuItems;h<y.length;h++)r=y[h],r.hasSubMenu()&&(c=r.getSubMenu(),p=c&&c.getMenuPinningOptions(),p&&p.isPinningSource&&e.push(c));if(e.length>0){for(l=void 0,a=0,w=e;a<w.length;a++){for(g=w[a],v=0,b=g._menuItems;v<b.length;v++)r=b[v],r.isPinnable()&&r._item.pinningOptions.groupId===this._item.pinningOptions.groupId&&(l=r),r._item.id===this._item.id&&(u=r);if(u)break}u&&(u._isPinned=this._isPinned,u._updateState(),o=u.getParentMenu(),o&&(o.updateAriaSetProperties(),l&&o.getMenuPinningOptions().pinItemsToEnd&&o.moveMenuItemAfter(u,l)))}if(f.closeOnPin&&(!t||t.unfocus)&&(this._quenchMouseLeave=!0,this._parent.selectLeft()),i&&!f.closeOnPin&&(nt=i.selectPrevItem()||i.selectNextItem(),nt||(i.hide({immediate:!0}),k=i.getParentMenu(),k&&k.selectFirstItem())),s.updateSourceMenu(this._item.pinningOptions.groupId),d=this._item.pinningOptions,d.onPinnedChanged)d.onPinnedChanged(this,this._isPinned,u)},i.prototype._onKeyDown=function(n){var i=function(){return!n.ctrlKey&&!n.altKey&&!n.shiftKey&&!n.metaKey},t;switch(n.keyCode){case tt.RIGHT:if(i()&&!this._isPinFocused&&this.isPinnable()&&!this._item.pinningOptions.hidePin)return this.focusPin(),!1;break;case tt.LEFT:if(i()&&this._isPinFocused)return this.focusPin(!1),this.select(),!1;break;case tt.SPACE:case tt.ENTER:return this.isEnabled()&&(this._isPinFocused?(this._element.focus(),this.toggleIsPinned()):this.hasAction()?this.execute({e:n}):this.hasSubMenu()&&(t=this.getSubMenu(!1),t&&t._visible||(this.hideSiblings({immediate:!0}),this.showSubMenu({immediate:!0}),this.getSubMenu().selectFirstItem()))),!1}},i.enhancementTypeName="tfs.menu.item",i.PinnedIconClass="bowtie-unpin",i.UnpinnedIconClass="bowtie-pin-unpin",i}(et);t.MenuItem=ot;b.initClassPrototype(ot,{_item:null,_align:null,_index:0,_highlightHover:!1,_highlightPressed:!1});bt=function(){function n(n,t,i,r,u,e,o){this._menu=n;this._webContext=t;this._contributionIds=i;this._contributionType=r;this._contributionQueryOptions=u||f.ContributionQueryOptions.IncludeRecursiveTargets;this._getMenuActionContext=e;this._options=o||{}}return n.prototype._immediateInstanceRequired=function(n){return n.id&&f.ExtensionHelper.hasContent(n)&&!n.properties.text},n.prototype._getContributions=function(){var n=this;return this._contributionsPromise||(this._contributionsPromise=this._contributionIds&&this._contributionIds.length?a.getService(f.ExtensionService).queryContributions(this._contributionIds,this._contributionQueryOptions,this._contributionType).then(function(t){var r=i.defer(),u=[];return t.forEach(function(t){var i=n._getContributionWithSource(t);i&&u.push(i)}),i.allSettled(u).then(function(n){var t=[];n.forEach(function(n){n.state==="rejected"&&console.error(n.reason);n.state==="fulfilled"&&n.value&&t.push(n.value)});r.resolve(t)},r.reject),r.promise}):i.resolve([])),this._contributionsPromise},n.prototype._getContributionWithSource=function(t){var r=t.id||"";return this._immediateInstanceRequired(t)?u.getBackgroundInstance(t,t.properties.registeredObjectId||r,this._webContext,this._webContext,this.getContributionSourceTimeout(),"Timed-out waiting for menu source provider for contribution: "+r).then(function(n){return{contribution:t,source:n}}):t.type===n.ACTION_TYPE||t.type===n.HYPERLINK_ACTION_TYPE?i.resolve({contribution:t}):null},n.prototype._makeThennable=function(n){return n&&typeof n.then=="function"?n:i.resolve(n)},n.prototype._contributionToMenuItems=function(t,r){var e=this,f=t.contribution.id||"",u;return t.source?(u=i.defer(),typeof t.source.getMenuItems=="function"?(r=$.extend({updateMenuItems:function(n){e._updateContributedMenuItems(n,t)}},r),this._makeThennable(t.source.getMenuItems(r)).then(function(n){n&&n.length?i.all(n.map(function(n){return e._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){u.resolve(n)}):u.resolve(n)},u.reject)):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){u.resolve([n])}),i.timeout(u.promise,n._contributionGetItemsTimeout,"Timed-out waiting for getMenuItems call from contribution: "+f)):this._immediateInstanceRequired(t.contribution)?i.resolve([]):this._getBasicMenuItemFromContribution(f,t.contribution,t.source).then(function(n){return[n]})},n._getMenuItemFromContributedMenuItem=function(t){var r={id:t.id,text:t.text,title:t.title,separator:t.separator,disabled:t.disabled,hidden:t.hidden,icon:t.icon,noIcon:t.noIcon,groupId:t.groupId,action:t.action,href:t.href,setDefaultTitle:!1};return t.pinningOptions&&(r.pinningOptions=t.pinningOptions),t.pinningMenuOptions&&(r.pinningMenuOptions=t.pinningMenuOptions),t.childItems&&(Array.isArray(t.childItems)?r.childItems=t.childItems.map(function(t){return n._getMenuItemFromContributedMenuItem(t)}):i.isPromise(t.childItems)&&(r.childItems=function(i,r,u){t.childItems.then(function(t){r((t||[]).map(function(t){return n._getMenuItemFromContributedMenuItem(t)}))},u)})),r},n.prototype._updateContributedMenuFromSource=function(t,u,e,o){var c=this,s;o===void 0&&(o=!0);s=o?n._getMenuItemFromContributedMenuItem(t):t;s.action=this._getMenuAction(u,e,s.action);var h=null,l=a.getService(f.ExtensionService).getBaseUri(u),v=f.ExtensionHelper.getPublisherId(u),y=f.ExtensionHelper.getExtensionId(u);return typeof s.icon=="string"&&(h=f.ExtensionHelper.resolveUriTemplate(s.icon,r.getDefaultWebContext(),l)),s.isContribution=!0,s.sourceExtensionId=v+"."+y,s.contributionId=u.id,s.title&&!s.text&&s.text!==""&&(this._options.defaultTextToTitle===!1&&s.icon?(s.showText=!1,s.showHtml=!1):s.text=s.title),o&&!s.groupId&&(s.groupId=u.properties.groupId),Array.isArray(s.childItems)&&s.childItems.forEach(function(n){c._updateContributedMenuFromSource(n,u,e,!1)}),h?h.then(function(n){return s.icon=n,s}):i.resolve(s)},n.prototype._getBasicMenuItemFromContribution=function(n,t,i){var e=this,o=t.properties.text||null,u=t.properties.title||null,s=this._makeThennable("");return typeof t.properties.icon=="string"&&(s=f.ExtensionHelper.resolveUriTemplateProperty(t,r.getDefaultWebContext(),"icon")),s.then(function(r){var s={id:n,text:o,title:u,icon:r,groupId:t.properties.groupId,action:e._getMenuAction(t,i,null),isContribution:!0,sourceExtensionId:f.ExtensionHelper.getPublisherId(t)+"."+f.ExtensionHelper.getExtensionId(t),contributionId:n};return o===null&&u&&(e._options.defaultTextToTitle===!1&&r?(s.showText=!1,s.showHtml=!1):s.text=u),s})},n.prototype._getMenuAction=function(t,i,r){var e=this,o;return!r&&t.type===n.ACTION_TYPE?function(){u.getBackgroundInstance(t,t.properties.registeredObjectId||t.id,e._webContext,e._webContext,e.getContributionSourceTimeout(),"Timed-out waiting for menu action: "+t.id).then(function(n){n.execute(e._getMenuActionContext())})}:typeof r=="function"?function(){return f.ExtensionHelper.publishTraceData(t),r(e._getMenuActionContext())}:t.properties.targetUri?function(){var n=a.getService(f.ExtensionService).getBaseUri(t),i=f.ExtensionHelper.resolveUriTemplate(t.properties.targetUri,e._getMenuActionContext(),n);i.then(function(n){f.ExtensionHelper.publishTraceData(t,n);window.location.href=n})}:i&&typeof i.execute=="function"?function(){return f.ExtensionHelper.publishTraceData(t),i.execute(e._getMenuActionContext())}:o},n.prototype._updateContributedMenuItems=function(n,t){var r=this;this._menu&&i.all(n.map(function(n){return r._updateContributedMenuFromSource(n,t.contribution,t.source)})).then(function(n){r._menu.updateContributedMenuItems(n)})},n.prototype.getContributedMenuItems=function(n){var t=this;return this._getContributions().then(function(r){var u=[];return r.forEach(function(i){u.push(t._contributionToMenuItems(i,n))}),i.allSettled(u).then(function(n){var t=[];return n.forEach(function(n){n.value&&n.value.length&&n.value.forEach(function(n){t.push(n)})}),t})})},n.prototype.getContributionSourceTimeout=function(){return this._menu&&this._menu._options&&this._menu._options.contributionSourceTimeoutMs||n.DEFAULT_CONTRIBUTION_SOURCE_TIMEOUT},n.ACTION_TYPE="ms.vss-web.action",n.HYPERLINK_ACTION_TYPE="ms.vss-web.hyperlink-action",n.DEFAULT_CONTRIBUTION_SOURCE_TIMEOUT=5e3,n._contributionGetItemsTimeout=2e3,n}();t.MenuContributionProvider=bt;ht=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._mouseIsDown=!1,i._shouldSelectFirstItem=!1,i.setEnhancementOptions({role:"menu",coreCssClass:"menu"+(i._options.useBowtieStyle?" bowtie-menus":""),tagName:"ul"}),i._menuItems=[],i._initializeItemsSource(),i}return __extends(i,n),Object.defineProperty(i.prototype,"shownTime",{get:function(){return this._shownTime},enumerable:!1,configurable:!0}),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t);this.openSubMenuOnHover=t.alwaysOpenSubMenuOnHover},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.suppressInitContributions||this.refreshContributedItems();this._decorate()},i.prototype._initializeItemsSource=function(){this._itemsSource=this._options.items},i.prototype._decorate=function(){this._element.addClass(this._options.cssCoreClass).addClass(this._options.cssClass).attr("tabindex","-1").attr("aria-label",this._options.ariaLabel);this._bind("mousedown",nt(this,this._onMouseDown));this._bind("keydown",this._onMenuKeyDown.bind(this));this._itemsSource=this.getGroupedItems();this._ensureChildren()},i.prototype.getItem=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i.getCommandId())return i;return null},i.prototype.getItems=function(){return this._menuItems},i.prototype.getItemByTag=function(n){for(var i,t=0,r=this._menuItems.length;t<r;t++)if(i=this._menuItems[t],i&&n===i._item.tag)return i;return null},i.prototype.getMenuItemSpecs=function(){return this._items},i.prototype.getParentMenu=function(){return this._parent&&this._parent._parent instanceof i&&this._parent._parent},i.prototype.getMenuPinningOptions=function(){var n=this._options.item;return n&&n.pinningMenuOptions?n.pinningMenuOptions:this._options.pinningMenuOptions},i.prototype.getCommandState=function(n,t){t=t||this;var i=null;return typeof this._options.getCommandState=="function"&&(i=this._options.getCommandState.call(t,n,t)),(i===null||typeof i=="undefined")&&(i=this._commandStates&&this._commandStates[n]),(i===null||typeof i=="undefined")&&this._parent&&typeof this._parent.getCommandState=="function"&&(i=this._parent.getCommandState(n,t)),typeof i=="function"&&(i=i.call(t,n,t)),i},i.prototype.updateCommandStates=function(t){n.prototype.updateCommandStates.call(this,t);this._skipUpdateMenuItemStates||this._updateMenuItemStates()},i.prototype.updateItems=function(n){this._updateItems(n,!0)},i.prototype._updateItems=function(n,t){if(!this._disposed){var i=this._menuItems.length;this._updateItemsWithContributions(n,this._contributedItems||[]);t&&this._refreshContributedMenuItems();i===0&&this._menuItems.length>0&&this._visible&&this._parent&&this._parent._element&&this._parent._element[0]===document.activeElement&&this.selectFirstItem()}},i.prototype._updateItemsWithContributions=function(n,t){this._disposed||(this._fire("menuUpdatingContributedItems",{source:this,existingItems:n,contributedItems:t}),n||(n=[]),Array.isArray(n)&&(n=$.grep(n,function(n){return!n.isContribution}),t&&t.length&&(n=n.concat(t))),this._contributedItems=t,this._updateCombinedSource(n),this._fire(i.CONTRIBUTION_ITEMS_UPDATED_EVENT,{source:this,existingItems:n,contributedItems:t}))},i.prototype._updateCombinedSource=function(n){var t,i,r;if(!this._disposed){if(i=!1,this._element[0].contains(document.activeElement)&&document.activeElement instanceof HTMLLIElement&&(i=!0,t=this._selectedItem&&this._selectedItem.getCommandId(),this._parent instanceof et&&this._parent.focus()),this._parent instanceof et&&n&&this._parent.getElement().attr({"aria-haspopup":String(n.length>0),"aria-expanded":this._visible}),this._asyncLoadingDelay||this._contributedItemsDelay){this._menuUpdateNeeded=!0;this._itemsSource=n;this.getOwner().focus();return}this._clear();this._itemsSource=n;this._initialized&&(this._menuUpdateNeeded=!1,this._itemsSource=this.getGroupedItems(),this._ensureChildren(),this.updateMenuItemStates(),typeof this._positioningRoutine=="function"&&this._positioningRoutine.call(this),i&&(r=t&&this.getItem(t),r?r.select():this.selectFirstItem()),this._shouldSelectFirstItem&&(this._shouldSelectFirstItem=!1,this.selectFirstItem()))}},i.prototype.getGroupedItems=function(){var n,t,i;if(!Array.isArray(this._itemsSource)||(n=[],t={__ungrouped__:[]},this._itemsSource.forEach(function(n){n.groupId&&(!n.separator||n.separator&&n.text)?t[n.groupId]?t[n.groupId].push(n):t[n.groupId]=[n]:t.__ungrouped__.push(n)}),t.__ungrouped__.length===this._itemsSource.length))return this._itemsSource;for(i=null,t.__ungrouped__=t.__ungrouped__.reduce(function(n,t,r,u){return t.separator&&!t.text&&(i&&i.separator||n.length===0||r===u.length-1)||n.push(t),i=t,n},[]),$.each(t,function(t,i){if(t==="__ungrouped__")return!0;Array.prototype.push.apply(n,i);n.push({separator:!0,isGroupSeparator:!0})}),(t.__ungrouped__.length===0||this._options.doNotSeparateUngroupedItems)&&n.splice(n.length-1,1),Array.prototype.push.apply(n,t.__ungrouped__);n.length>0&&n[n.length-1].separator;)n.splice(n.length-1,1);return n},i.prototype.appendItems=function(n){Array.isArray(n)&&n.length&&this.updateItems((this._itemsSource||[]).slice(0).concat(n))},i.prototype.appendItem=function(n){this._createChildMenuItem(n);this._items.push(n)},i.prototype.moveMenuItemAfter=function(n,t){var i;if(n===t)return!0;var f=this._children.indexOf(n),r=this._menuItems.indexOf(n),e=this._items.indexOf(n._item),o=this._children.indexOf(t)+1,u=this._menuItems.indexOf(t)+1,s=this._items.indexOf(t._item)+1;if(f<0||r<0||e<0||o<0||u<0||s<0)return!1;for(v.reorder(this._children,f,o,1),v.reorder(this._menuItems,r,u,1),v.reorder(this._items,e,s,1),i=Math.min(r,u);i<this._menuItems.length;i++)this._menuItems[i].setIndex(i);return n._element.detach(),n._element.insertAfter(t._element),!0},i.prototype.removeItem=function(n){for(var i,t=0,r=this._children;t<r.length;t++)if(i=r[t],i instanceof ot&&i._item===n)return this.removeMenuItem(i);return!1},i.prototype.removeMenuItem=function(n){var t=this._children.indexOf(n),i=this._menuItems.indexOf(n),r=this._items.indexOf(n._item);return t<0||r<0?!1:(this._children.splice(t,1),i>=0&&this._menuItems.splice(i,1),this._items.splice(r,1),n.dispose(),!0)},i.prototype._updateAllSourceMenus=function(){var t=this,n=[];this._items.forEach(function(i){i.pinningOptions&&n.indexOf(i.pinningOptions.groupId)<0&&(n.push(i.pinningOptions.groupId),t.updateSourceMenu(i.pinningOptions.groupId))})},i.prototype.updateSourceMenu=function(n){var i=this.getMenuPinningOptions()||{},r,t;i.isPinningTarget&&i.hideEmptySourceMenu&&(r=v.first(this._menuItems,function(t){return t._item&&t._item.pinningOptions&&t._item.pinningOptions.groupId===n&&!t.isPinned()}),t=v.first(this._menuItems,function(t){var r=t.getSubMenu(),i=r&&r.getMenuPinningOptions();return i&&i.isPinningSource&&i.groupId===n}),t)&&t.setIsHidden(!r)},i.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._enhanceChildren()},i.prototype._getMenuItemType=function(){return ot},i.prototype.getMenuItemOptions=function(n,t){return $.extend({earlyInitialize:!1,item:n,align:this.getMenuItemAlignment(),overflow:this._options.overflow},t)},i.prototype._getFirstMenuItem=function(){return this._getNextEnabledItem(0)},i.prototype._selectItem=function(n,t,i){if((t===void 0&&(t=!1),i===void 0&&(i=!0),this._selectedItem&&this._selectedItem!==n&&(this._selectedItem.removeHighlight(),this._selectedItem.removeFocus()),this._selectedItem=n,n)&&(n.showHoverHighlight(),!t)){var r=this.getOwner();r._focusItem=n;this._selectedItem.setFocus(i)}},i.prototype.selectDefaultItem=function(n){n||p.tryFocus(this._element)},i.prototype.selectFirstItem=function(){var n=this._getFirstMenuItem();return n?(this._selectItem(n),!0):(this._shouldSelectFirstItem=!0,!1)},i.prototype.selectLastItem=function(){var n=this._getPrevEnabledItem(-1,{rollOver:!0});n&&this._selectItem(n)},i.prototype.selectNextItem=function(){var t=0,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()+1),n=this._getNextEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectPrevItem=function(){var t=-1,r=this._menuItems,i=this._selectedItem,n;return r.length>0&&(i&&(t=i.getIndex()-1),n=this._getPrevEnabledItem(t),n)?(n.select(),!0):!1},i.prototype.selectDown=function(){if(this._menuItems.length>0){var n=this._getNextFocusableItem(this._selectedItem?this._selectedItem.getIndex()+1:0,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectUp=function(){if(this._menuItems.length>0){var n=this._getPrevFocusableItem(this._selectedItem?this._selectedItem.getIndex()-1:-1,{rollOver:!0});if(n)return n.select(),this._ensureVisible(n),!0}return!1},i.prototype.selectRight=function(){return this._selectedItem&&this._selectedItem.tryShowSubMenu({immediate:!0})?(this._selectedItem.getSubMenu().selectFirstItem(),!0):this.getOwner()!==this?this.getOwner().selectRight({redirected:!0}):void 0},i.prototype.selectLeft=function(){return this._parent&&this._parent._parent!==this.getOwner()?(this.hide({immediate:!0}),this._parent.select(),!0):this.getOwner()!==this?this.getOwner().selectLeft({redirected:!0}):void 0},i.prototype.show=function(n){var f=n&&n.immediate===!0,e=n?n.showTimeout:undefined,t=n&&n.callback,i=n?n.element:null,r=n?n.align:rt.RightJustify,u=(n&&n.setFocus)!==!1;if(!i)throw new Error("options.element is required.");return f?(this._showPopup(i,r,u),t&&t()):this._startShowTimeout(i,r,u,e||this.getOwner()._options.showTimeout,t),!0},i.prototype.hide=function(n){var i=n&&n.immediate===!0,r=n?n.hideTimeout:undefined,t=n?n.callback:undefined;i?(this._hidePopup(),t&&t()):this._startHideTimeout(r||this.getOwner()._options.hideTimeout,t)},i.prototype.hideChildren=function(n,t){var i,f,r,u=this._children,e=t&&t.immediate===!0,o=n&&n._item&&n._item.splitDrop;if(Array.isArray(u))for(i=0,f=u.length;i<f;i++)r=u[i],r!==n&&r!==o&&r.hideSubMenu({immediate:e})},i.prototype.escape=function(){return this.hide({immediate:!0}),this._parent&&this._parent.escaped(),!0},i.prototype.ownFocus=function(){this._selectItem(this._selectedItem)},i.prototype.attach=function(n){this._parent!==n&&this._visible&&this.hide({immediate:!0});this._parent=n},i.prototype.getMenuItemAlignment=function(){return"right-justify"},i.prototype.updateMenuItemStates=function(){try{this._skipUpdateMenuItemStates=!0;this._fireUpdateCommandStates(this)}finally{this._skipUpdateMenuItemStates=!1}this._updateMenuItemStates()},i.prototype.executeAction=function(n){var i;return typeof this._options.executeAction=="function"&&(i=this._options.executeAction.call(this,n)),i!==!1&&(i=t.menuManager.executeCommand(n)),i},i.prototype._ensureVisible=function(n){if(n&&n.getElement()){var f=n.getElement(),t=this.getElement(),r=f.outerHeight(!0),i=n.getIndex()*r,u=i+r;i<t.scrollTop()?t.scrollTop(i):u-t.height()>t.scrollTop()&&t.scrollTop(u-t.height())}},i.prototype._getItems=function(){var n=this,i,t=!1;return this._items||(this._itemsSource?typeof this._itemsSource=="function"?(i=this._itemsSource.call(this,this.getOwner().getContextInfo(),function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=i||[];t?n._disposed||n._updateItems(n._items,!1):t=!0},function(i){n._asyncLoadingDelay&&(n._asyncLoadingDelay.cancel(),n._asyncLoadingDelay=null);n._items=[{text:ui(i),icon:"icon-tfs-build-failed"}];t?n._disposed||n._updateItems(n._items,!1):t=!0;ri(i)}),t||(t=!0,i||(i=[],this._asyncLoadingDelay=y.delay(this,200,function(){n._asyncLoadingDelay=null;n._updateItems([{text:l.MenuItemsLoading}],!1)})),this._items=i)):this._items=this._itemsSource:this._items=[]),this._items},i.prototype._clear=function(){this._element[0].contains(document.activeElement)&&p.tryFocus(this._element);n.prototype._clear.call(this);this._menuItems=[];this._items=null;this._childrenCreated=!1},i.prototype._createChildMenuItem=function(n,t){var i,r;return r=this.getMenuItemOptions(n,n?n.extraOptions:undefined),i=t?e.Enhancement.enhance(this._getMenuItemType(),t,r):e.BaseControl.createIn(this._getMenuItemType(),this._element,r),i._parent=this,this._children.push(i),i._item.separator||(i.setIndex(this._menuItems.length),this._menuItems.push(i)),n.splitDropOptions&&(n.childItems||n.splitDropOptions.childItems)&&this._createSplitDropMenuItem(n,i),i.initialize(),i},i.prototype._createSplitDropMenuItem=function(n,t){var i=$.extend(n.splitDropOptions,{splitDropItem:t,childItems:n.splitDropOptions.childItems||n.childItems,showText:!1,showHtml:!1,toggled:n.toggled,disabled:n.disabled,title:n.splitDropOptions&&n.splitDropOptions.title,noIcon:n.splitDropOptions.noIcon!==undefined?n.splitDropOptions.noIcon:!0,cssClass:n.splitDropOptions.cssClass||"split-drop",splitDropOptions:null});n.splitDrop=this._createChildMenuItem(i);n.childItems=null;t._element.addClass("split-drop-item")},i.prototype._ensureChildren=function(){var t=this,n;this._childrenCreated||($.each(this._getItems(),function(n,i){t._createChildMenuItem(i)}),this._childrenCreated=!0,n=this.getMenuPinningOptions(),n&&n.isPinningTarget&&this._updateAllSourceMenus(),this.updateAriaSetProperties())},i.prototype._enhanceChildren=function(){var n=this,t=this._getItems();this._element.children("li").each(function(i,r){n._createChildMenuItem($.extend({},t[i],{decorated:!0}),$(r))});this._childrenCreated=!0;this.updateAriaSetProperties()},i.prototype.updateAriaSetProperties=function(){var i,t,r,u,f,n;if(this._menuItems){for(i=0,t=0,r=this._menuItems;t<r.length;t++)u=r[t],u.isFocusable()&&i++;for(f=0,n=0;n<this._menuItems.length;++n)this._menuItems[n].isFocusable()&&this._menuItems[n].getElement().attr({"aria-posinset":++f,"aria-setsize":i})}},i.prototype._getNextFocusableItem=function(n,t){return this._getNextItem(function(n){return n.isFocusable()},n,t)},i.prototype._getNextEnabledItem=function(n,t){return this._getNextItem(function(n){return n.isEnabled()},n,t)},i.prototype._getNextItem=function(n,t,i){function f(t,i){for(var f,r=t;r<=i;r++)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(t,u.length-1),r)?r:e&&(r=f(0,t),r)?r:null},i.prototype._getPrevFocusableItem=function(n,t){return this._getPrevItem(function(n){return n.isFocusable()},n,t)},i.prototype._getPrevEnabledItem=function(n,t){return this._getPrevItem(function(n){return n.isEnabled()},n,t)},i.prototype._getPrevItem=function(n,t,i){function f(t,i){for(var f,r=i;r>=t;r--)if(f=u[r],n(f))return f;return null}var e=i&&i.rollOver===!0,r,u=this._menuItems;return(t=t||0,r=f(0,t),r)?r:e&&(r=f(t,u.length-1),r)?r:null},i.prototype._ensurePopup=function(){this._ensureInitialized()&&(this._popupElement=this._element);this._ensureChildren()},i.prototype._getPopupAlign=function(n){switch(n){case rt.RightJustify:return["left-top","right-top"];case rt.RightBottom:return["right-top","right-bottom"];case rt.LeftTop:return["left-bottom","left-top"]}return["left-top","left-bottom"]},i.prototype._showPopup=function(n,t,r){var f=this,u;this._clearTimeouts();this._ensurePopup();this.updateAriaSetProperties();this._pinElement=n;y.delay(this,300,function(){f._attachAncestorScroll(n)});this.updateMenuItemStates();u=this._getPopupAlign(t);this._element.show();this._parent instanceof et&&this._parent.getElement().attr("aria-expanded","true");this._positioningRoutine=function(){var f,e,o,t,r;(this._options.alignToMarkerVertical||this._options.alignToMarkerHorizontal)&&(typeof this._options.getAlignmentMarkers=="function"?(o=this._options.getAlignmentMarkers.call(this,this._element,n),f=o.elementAlignmentMarker,e=o.baseAlignmentMarker):(f=this._element.find(".alignment-marker").first(),e=n.find(".alignment-marker:not(.sub-menu .alignment-marker)").first()));t=this._options.overflow;t||(r=this._parent&&this._parent._parent,t=!(r instanceof i)||r instanceof vt||r instanceof lt?"fit-flip":"flip-flip");p.Positioning.position(this._element,n,{elementAlign:u[0],baseAlign:u[1],overflow:t,supportScroll:!0,scrollByMarker:this._options.scrollByMarker,alignToMarkerHorizontal:this._options.alignToMarkerHorizontal,alignToMarkerVertical:this._options.alignToMarkerVertical,elementAlignmentMarker:f,baseAlignmentMarker:e})};this._element[0].style.removeProperty("left");this._element[0].style.removeProperty("top");this._positioningRoutine.call(this);this._visible=!0;this._shownTime=Date.now();this.getOwner()._updateSubMenuVisibleState();r&&this.ownFocus()},i.prototype._hidePopup=function(){this._parent instanceof et&&this._parent.getElement()!=null&&this._parent.getElement().attr("aria-expanded","false");this._visible&&this._options.item.dynamic&&this._clear();this._clearTimeouts();this._visible=!1;this._pinElement&&(this._detachAncestorScroll(this._pinElement),this._pinElement=null);this._popupElement&&this._popupElement.hide();delete this._positioningRoutine;this.hideChildren(null,{immediate:!0});this.getOwner()._updateSubMenuVisibleState()},i.prototype._updateMenuItemStates=function(){function o(){return r&&u}function f(){var n=o();t&&t.isHidden()===n&&t.update($.extend(t._item,{separator:!0,hidden:!n}))}for(var n,t,r=!1,i=!1,u=!1,e=0,s=this._children;e<s.length;e++)n=s[e],n.isSeparator()&&!n.isLabel()?(i=!0,t=n,f()):(n.isHidden()||i?!n.isHidden()&&i&&(r=!0):u=!0,t&&o()&&!n.isHidden()&&(f(),t=null,i=!1,u=!0,r=!1),n._updateState(),n.updateText());f()},i.prototype._startShowTimeout=function(n,t,i,r,u){var f=this;this._clearTimeouts();this.delayExecute("show",r,!0,function(){f.isDisposed()||(f._showPopup(n,t,i),u&&u())})},i.prototype._startHideTimeout=function(n,t){var i=this;this._clearTimeouts();this.delayExecute("hide",n,!0,function(){i._hidePopup();t&&t()})},i.prototype._clearTimeouts=function(){this.cancelDelayedFunction("show");this.cancelDelayedFunction("hide")},i.prototype._attachAncestorScroll=function(n){this._bind($(n).parents(),"scroll",nt(this,this._onParentScroll))},i.prototype._detachAncestorScroll=function(n){this._unbind($(n).parents(),"scroll")},i.prototype._dispose=function(){this._pinElement&&this._detachAncestorScroll(this._pinElement);this._asyncLoadingDelay&&(this._asyncLoadingDelay.cancel(),this._asyncLoadingDelay=null);this._contributedItemsDelay&&(this._contributedItemsDelay.cancel(),this._contributedItemsDelay=null);this._options.executeAction=null;n.prototype._dispose.call(this)},i.prototype._onParentScroll=function(){p.BrowserCheckUtils.isEdge()&&this._mouseIsDown||this._hidePopup()},i.prototype._onMouseDown=function(){var n=this;p.BrowserCheckUtils.isEdge()&&(this._mouseIsDown=!0,this._bind(window.document,"mouseup",function(){n._mouseIsDown=!1;n._unbind(window.document,"mouseup")},!0))},i.prototype._onMenuKeyDown=function(n){var t=!n.ctrlKey&&!n.altKey&&!n.shiftKey;switch(n.keyCode){case tt.DOWN:if(t)return this.selectDown(),!1;break;case tt.UP:if(t)return this.selectUp(),!1;break;case tt.RIGHT:if(t)return this.selectRight(),!1;break;case tt.LEFT:if(t)return this.selectLeft(),!1;break;case tt.ESCAPE:if(this.escape())return!1;break;case tt.HOME:if(t)return this.selectFirstItem(),!1;break;case tt.END:if(t)return this.selectLastItem(),!1}},i.prototype.setContributedItemOptions=function(n,t,i){var r=!1;(this._options.contributionIds||[]).join(";")!==n.join(";")&&(this._options.contributionIds=n,r=!0);typeof t!="undefined"&&this._options.contributionType!==t&&(this._options.contributionType=t,r=!0);typeof i!="undefined"&&this._options.contributionQueryOptions!==i&&(this._options.contributionQueryOptions=i,r=!0);r&&(this._menuContributionProvider=null,this._menuUpdateNeeded=!0,this.refreshContributedItems())},i.prototype.refreshContributedItems=function(){var n=this;!this._menuContributionProvider&&this._options.contributionIds&&(this._menuContributionProvider=new bt(this,r.getDefaultWebContext(),this._options.contributionIds,this._options.contributionType,this._options.contributionQueryOptions,this._getContributionContext.bind(this),this._contributionProviderOptions),this._contributedItemsDelay=y.delay(this,100,function(){n._contributedItemsDelay=null;n._updateItems(n._items,!1)}));this._refreshContributedMenuItems()},i.prototype._refreshContributedMenuItems=function(){var n=this;this._menuContributionProvider&&(this._contributionPromise=this._menuContributionProvider.getContributedMenuItems(this._getContributionContext()).then(function(t){n._contributedItemsDelay&&(n._contributedItemsDelay.cancel(),n._contributedItemsDelay=null);(n._menuUpdateNeeded||t&&t.length)&&n._updateItemsWithContributions(n._itemsSource,t)},function(n){n.name=w.format("{0}.GetContributedMenuItemsError",n.name||"");n.message="getContributedMenuItems() failed in Menu._refreshContributedMenuItems: "+b.getErrorMessage(n);d.publishErrorToTelemetry(n,!1,k.Level.Warning,{thirdParty:!0})}))},i.prototype.updateContributedMenuItems=function(n){var t=this;this._contributionPromise.then(function(){var i=[];(function r(n){Array.prototype.push.apply(i,n);n.forEach(function(n){n.childItems&&n.childItems.length>0&&r(n.childItems)})})(n);i=i.filter(function(n){return!!n.id});t._updateContributedMenuItems(i)})},i.prototype._getContributionContext=function(){var n=this._options.contextInfo?$.extend({},this._options.contextInfo.item):{};return typeof n.getContributionContext=="function"?n=n.getContributionContext():typeof this._options.getContributionContext=="function"&&(n=this._options.getContributionContext()),n},i.enhancementTypeName="tfs.menu.menu",i.CONTRIBUTION_ITEMS_UPDATED_EVENT="menuContributedItemsUpdated",i}(et);t.Menu=ht;b.initClassPrototype(ht,{_items:null,_itemsSource:null,_menuItems:null,_selectedItem:null,_focusItem:null,_childrenCreated:!1,_popupElement:null,_visible:!1,_active:!1,_skipUpdateMenuItemStates:!1,_positioningRoutine:null,_pinElement:null});ct=function(n){function i(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._focusing=!1,i.setEnhancementOptions({role:"menu"}),i._align=rt.parse(i._options.align),i}return __extends(i,n),i.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({markUnselectable:!0,showIcon:!0,showTimeout:500,hideTimeout:500},t))},i.prototype.setShowIcon=function(n){this._options.showIcon=n},i.prototype.initialize=function(){n.prototype.initialize.call(this);this._fire("menuInitialized",{menu:this})},i.prototype._decorate=function(){var t=this;n.prototype._decorate.call(this);this._updateTabIndex(!0);this._bind(this._element,"keydown",this._onKeyDown.bind(this));this._bind(this._element,"focus",this._onFocus.bind(this));this._element[0].addEventListener("blur",this._onChildBlur.bind(this),!0);this._element[0].addEventListener("focus",this._onChildFocus.bind(this),!0);this._options.emptyMenuInTabOrder===!1&&this._bind(ht.CONTRIBUTION_ITEMS_UPDATED_EVENT,function(){t._isOwned(document.activeElement)||t._updateTabIndex()})},i.prototype.getMenuItemAlignment=function(){return this._options.popupAlign||n.prototype.getMenuItemAlignment.call(this)},i.prototype.getMenuItemOptions=function(t,i){return n.prototype.getMenuItemOptions.call(this,t,$.extend({immediateShowHide:!0,clickToggles:!0,type:"static"},i))},i.prototype.escape=function(){return!1},i.prototype.escaped=function(){},i.prototype.isActive=function(){return this._active},i.prototype.activate=function(n){if(n===void 0&&(n=!0),!this._activating){this._activating=!0;try{this._clearBlurTimeout();this._active=!0;n&&p.tryFocus(this._focusElement);typeof this._options.onActivate=="function"&&this._options.onActivate.call(this)}finally{this._activating=!1}}},i.prototype._hide=function(){this._active&&(this.hide({immediate:!0}),this.ownFocus())},i.prototype._blur=function(){this._clearBlurTimeout();this.hide({immediate:!0});this._disposed||this._selectItem(null);this._active=!1;typeof this._options.onDeactivate=="function"&&this._options.onDeactivate.call(this);this._disposed||this._updateTabIndex()},i.prototype._updateSubMenuVisibleState=function(){var n,u,t,r=this._menuItems,i;if(this._subMenuVisible=!1,Array.isArray(r))for(n=0,u=r.length;n<u;n++)if(t=r[n],t.hasSubMenu()&&(i=t.getSubMenu(!1),i&&i._parent===t&&i._visible)){this._subMenuVisible=!0;break}},i.prototype._updateTabIndex=function(n){this._options.inTabOrder!==!1&&(this._options.emptyMenuInTabOrder!==!1||this._menuItems.length>0)?this._element.attr("tabIndex",0):n&&this._element.attr("tabIndex",-1)},i.prototype._onKeyDown=function(n){if(n.keyCode===tt.TAB)this._immediateBlur=!0;else if(n.keyCode===tt.F10&&n.shiftKey)return this._onContextMenu(n)},i.prototype._onFocus=function(){var n=this,t;this._focusing||(this._focusing=!0,this.activate(!1),!this._selectedItem||this._selectedItem.getIndex()<0||!this._selectedItem._element?(t=this._getFirstMenuItem()||this._getNextFocusableItem(0),t&&y.delay(null,0,function(){n._selectItem(t)})):y.delay(null,0,function(){n._selectedItem&&n._selectedItem.select()}),this._focusing=!1)},i.prototype._isOwned=function(n){if(this._element[0].contains(n)){for(var t=n;t!==this._element[0]&&t!==document.body;t=t.parentElement)if(t.classList.contains("unfocusable"))return!1;return!0}return!1},i.prototype._onChildFocus=function(n){if(this._isOwned(n.target)){this._element.attr("tabindex","-1");var t=e.Enhancement.getInstance(ot,$(n.target)),i=t&&t.getParentMenu();t&&i&&i._selectItem(t)}},i.prototype._onChildBlur=function(){var n=this;y.delay(this,t.BLUR_CLOSE_TIMEOUT,function(){n._disposed||n._isOwned(document.activeElement)&&document.hasFocus()||(n._options.inTabOrder!==!1&&n._updateTabIndex(),n._immediateBlur?(n._immediateBlur=!1,n._blur()):n._blur())})},i.prototype._proceedBlur=function(){this._canBlur=!0},i.prototype._clearBlurTimeout=function(){this.cancelDelayedFunction("blur")},i.prototype._onParentScroll=function(){this._hide()},i.prototype._onResize=function(){this._hide()},i.prototype._onContextMenu=function(){return this.showSubMenuOnFocusedItem()},i.prototype.showSubMenuOnFocusedItem=function(){var n=this._focusItem;return n&&n.tryShowSubMenu({immediate:!0}),!1},i}(ht);t.MenuOwner=ct;b.initClassPrototype(ct,{_focusItem:null,_focusElement:null,_activating:!1,_subMenuVisible:!1,_align:null,_canBlur:!1,_immediateBlur:!1});lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.setEnhancementOptions({role:"menubar",coreCssClass:"menu-bar"+(i._options.useBowtieStyle?" bowtie-menus":"")}),i._orientation=ft.parse(i._options.orientation),i._type=ut.Static,i._contributionProviderOptions={defaultTextToTitle:!1},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype.getMenuItemAlignment=function(){return this._orientation===ft.Horizontal?"left-bottom":"right-justify"},t.prototype.selectUp=function(t){return this._orientation===ft.Vertical?n.prototype.selectUp.call(this):n.prototype.selectLeft.call(this,t)},t.prototype.selectDown=function(t){return this._orientation===ft.Vertical?n.prototype.selectDown.call(this):n.prototype.selectRight.call(this,t)},t.prototype.selectLeft=function(){if(this._orientation===ft.Vertical)return n.prototype.selectLeft.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectUp.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.prototype.selectRight=function(){if(this._orientation===ft.Vertical)return n.prototype.selectRight.call(this);var t=this._subMenuVisible;return(this.hideChildren(null,{immediate:!0}),n.prototype.selectDown.call(this),t&&(this._subMenuVisible=!0,this._selectedItem.tryShowSubMenu({immediate:!0})))?(this._selectedItem.getSubMenu().selectFirstItem(),!0):!1},t.tryActivate=function(n){var t=this._getMenuBar(n);return t?(t.focus(),!0):!1},t.tryShowSubMenu=function(n){var t=this._getMenuBar(n);return t?(t.focus(),y.delay(this,0,function(){t.showSubMenuOnFocusedItem()}),!0):!1},t.prototype.focus=function(){this.activate()},t._getMenuBar=function(n){var t=$(n);return e.Enhancement.getInstance(at,t)},t.enhancementTypeName="tfs.menu.menubar",t}(ct);t.MenuBarO=lt;at=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(lt);t.MenuBar=at;gt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.setEnhancementOptions({role:"toolbar"}),i}return __extends(t,n),t.prototype._getMenuItemType=function(){return ni},t}(at);t.Toolbar=gt;ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getAriaRole=function(){return"listitem"},t}(ot);b.initClassPrototype(lt,{_orientation:ft.Horizontal});ti=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.escaped=function(){n.prototype.escaped.call(this);this._parent.escaped()},t}(ot);vt=function(n){function t(t){var i=n.call(this,$.extend({inTabOrder:!1},t))||this;return i.setEnhancementOptions({coreCssClass:"menu-popup"+(i._options.useBowtieStyle?" bowtie-menus":""),hidden:!0}),i._type=ut.Popup,i._hidden=i._options.hidden===!0,i._onHide=i._options.onHide,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getMenuItemType=function(){return ti},t.prototype._decorate=function(){n.prototype._decorate.call(this);this._hidden===!0&&this._element.addClass("invisible")},t.prototype.popup=function(n,t){var r=this;if(this._escapeFocusReceiver=n,this._popupPinElement=t,this._floating=!0,this._active)this.escaped();else{var i=null,f=!1,u=function(){i&&(i.cancel(),i=null);r._active||f||(r.activate(),r._showPopupMenu(),f=!0)};this._contributionPromise?(this._contributionPromise.then(u),i=y.delay(this,500,u)):u()}},t.prototype._showPopupMenu=function(){var i=this._getFirstMenuItem(),n=i.getSubMenu(),t=this._options.setFocus!==!1;n&&(n.show({immediate:!0,element:this._popupPinElement,align:this._align,setFocus:t}),t&&n.selectDefaultItem())},t.prototype._updateItemsWithContributions=function(n,t){if(this._contributedItems=t,n&&n.length>0&&n[0].childItems){var i=$.grep(n[0].childItems,function(n){return!n.isContribution});n[0].childItems=i.concat(t)}else n=[{childItems:t}];this._updateCombinedSource(n)},t.prototype._updateCombinedSource=function(t){n.prototype._updateCombinedSource.call(this,t);this._active&&this._showPopupMenu()},t.prototype.selectUp=function(){return!0},t.prototype.selectDown=function(t){var i=t&&t.redirected;return!i&&this._align!==rt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.selectFirstItem=function(){var t=this._getFirstMenuItem(),n=t.getSubMenu();return n._visible?n.selectFirstItem():!1},t.prototype.selectLeft=function(){return!0},t.prototype.selectRight=function(t){var i=t&&t.redirected;return!i&&this._align===rt.RightJustify?n.prototype.selectRight.call(this):!1},t.prototype.escaped=function(){this._floating&&(this._floating=!1,this._escapeFocusReceiver&&(this._escapeFocusReceiver.focus(),this._escapeFocusReceiver=null,typeof this._options.onPopupEscaped=="function"&&this._options.onPopupEscaped.call(this)))},t.prototype._hidePopup=function(){this._onHide&&this._onHide(this._escapeFocusReceiver);n.prototype._hidePopup.call(this)},t.enhancementTypeName="tfs.menu.popup",t}(ct);t.PopupMenuO=vt;kt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(vt);t.PopupMenu=kt;b.initClassPrototype(vt,{_align:rt.RightJustify,_floating:!1,_hidden:!1,_escapeFocusReceiver:null});ii=function(n){function i(t){return n.call(this,t)||this}return __extends(i,n),i.prototype.initialize=function(){var t=this._element.data();n.prototype.initialize.call(this);this._bind(t.commandAction||"click",nt(this,this.onCommandExecute));t.commandCompleteEvent&&this._bind(window,t.commandCompleteEvent,nt(this,this.onCommandComplete))},i.prototype.onCommandExecute=function(){var n=this._element.data();return n.commandName&&(this._element.prop("disabled",!0),this._element.prop("aria-disabled",!0),t.menuManager.executeCommand(new c.CommandEventArgs(n.commandName,n.commandArg,this))),!1},i.prototype.onCommandComplete=function(){this._element.prop("disabled",!1);this._element.prop("aria-disabled",!1)},i}(e.BaseControl);e.Enhancement.registerEnhancement(at,".menu-bar.enhance");e.Enhancement.registerEnhancement(kt,".menu-popup.enhance");e.Enhancement.registerEnhancement(ii,".single-command");t.sortMenuItems=fi;b.tfsModuleLoaded("VSS.UI.Controls.Menus",t)});

define("VSS/Controls/Splitter",["require","exports","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/UI","VSS/LoaderPlugins/Css!Splitter"],function(n,t,i,r,u,f,e){var o;Object.defineProperty(t,"__esModule",{value:!0});t.Splitter=t.SplitterO=void 0;var s=f.delegate,h=e.domElem,c=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._screenXY="pageX",i._cssPosProp="left",i._cssSizeProp="width",i._leftFix=!0,i._deltaMultiplier=1,i._dragStart=!1,i._ignoreWindowResize=!1,t&&t.initialSize&&(i._fixedSidePixels=t.initialSize),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"splitter",vertical:!0,fixedSide:"left"},t))},t.prototype._enhance=function(t){var i,r;n.prototype._enhance.call(this,t);this.leftPane=t.children(".leftPane");this.handleBar=t.children(".handleBar");this.rightPane=t.children(".rightPane");this.handleBar.append(h("div","handleBar-hitTarget"));i=this._options;t.hasClass(o.VERTICAL_CLASS)?i.vertical=!0:t.hasClass(o.HORIZONTAL_CLASS)?i.vertical=!1:i.vertical===!0?t.addClass(o.VERTICAL_CLASS):t.addClass(o.HORIZONTAL_CLASS);i.expandState?this.expandState=i.expandState:this.getElement().hasClass("left-expand")?this.expandState="left":this.getElement().hasClass("right-expand")&&(this.expandState="right");this.getElement().hasClass("right-fix")?i.fixedSide="right":i.fixedSide==="right"?t.addClass("right-fix"):i.fixedSide="left";r=i.collapsedLabel;r||(r=t.data().collapsedLabel);r&&this.setCollapsedLabel(r)},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._setupHandleBar();var t=this._options;this.setMaxWidth(t.maxWidth);this.setMinWidth(t.minWidth);this._configureCssProps();this._isCollapsed()||this._setInitialSize();this._attachEvents();(this._options.enableToggleButton||this._isToggleButtonEnabled())&&(this.getElement().addClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME),this._ensureToggleButton(),this._isToggleButtonHotkeyEnabled()&&this._bind($(window.document),"keyup",s(this,this._onDocumentKeyup)));this.getElement().hasClass(o._noSplitCssClass)&&this._fixedSide.toggle(!1)},t.prototype._setupHandleBar=function(){var n=this.handleBar;n.attr({tabindex:this.isExpanded()?"0":"-1",role:"separator","aria-label":u.SplitterLabel});this._setAriaOrientation(this._options.vertical)},t.prototype._setInitialSize=function(){var n=0;this._options.initialSize>0&&(n=this._options.initialSize);n<=0&&(n=this.getElement().data().initialSize);n&&this.resize(n,!0,!1)},t.prototype.setMinWidth=function(n){this._minWidth=n;this.setAttribute("aria-valuemin",n,this.handleBar)},t.prototype.setMaxWidth=function(n){this._maxWidth=n;this.setAttribute("aria-valuemax",n,this.handleBar)},t.prototype._getAdjustedSize=function(n){var t=this._minWidth,i=this._maxWidth;return typeof t=="number"&&n<t&&(n=t),typeof i=="number"&&n>i&&(n=i),n},t.prototype.resize=function(n,t,i,r){var u,f,s,e,h;this.getElement().hasClass(o._noSplitCssClass)||this.getElement().is(":visible")&&(this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!1),n!==null&&n!==undefined&&(n<0?n=0:(e=this.getElement()[this._cssSizeProp]()-this.handleBar[this._cssSizeProp](),n>e&&(h=this.leftPane[this._cssSizeProp](),e<h&&(e=h),n=e))),u=n===null||n===undefined?"":n,i?(s=this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED,f=this._createAnimationOption(this._cssSizeProp,u+"px"),this._fixedSide.animate(f,s),f=this._createAnimationOption(this._cssPosProp,u+"px"),this._fillSide.animate(f,s),this.handleBar.animate(f,s,r)):(this._fixedSide.css(this._cssSizeProp,u),this._fillSide.css(this._cssPosProp,u),this.handleBar.css(this._cssPosProp,u),r&&r()),this._fixedSidePixels=n,this._layoutToggleButton(i),this.setAttribute("aria-valuenow",n,this.handleBar),t||this._fireWindowResize())},t.prototype.toggleExpanded=function(n){if((n===undefined||n!==this.isExpanded())&&(this.expandState?(this.removeExpand(),this.handleBar.attr("tabindex","0")):(this._options.fixedSide==="left"?this._expandInternal("right"):this._expandInternal("left"),this.handleBar.attr("tabindex","-1")),this.getElement().toggleClass(o.COLLAPSED_CLASS_NAME,!this.isExpanded()),this._setToggleButtonTooltip(),this._fireWindowResize(),this._fire("changed",this),this._options.onToggle))this._options.onToggle(this.isExpanded())},t.prototype.expand=function(){this.toggleExpanded(!0)},t.prototype.collapse=function(){this.toggleExpanded(!1)},t.prototype.isExpanded=function(){return!this.expandState},t.prototype.removeExpand=function(n){this.getElement().removeClass("left-expand");this.getElement().removeClass("right-expand");this.expandState=null;n?(this._layoutToggleButton(),this._fireWindowResize()):this.resize(this._fixedSidePixels)},t.prototype._expandInternal=function(n){var t=this.getElement();n||(n="left");n==="left"?t.removeClass("right-expand").addClass("left-expand"):t.removeClass("left-expand").addClass("right-expand");this.expandState=n;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._layoutToggleButton();this.setAttribute("aria-valuenow",0,this.handleBar)},t.prototype.getFixedSidePixels=function(){return this._fixedSidePixels},t.prototype.toggleSplit=function(n,t,i){var r=this,u;n?(this.getElement().removeClass(o._noSplitCssClass),this._savedFixedSidePixels!==undefined&&(this._fixedSidePixels=this._savedFixedSidePixels,this._savedFixedSidePixels=undefined),this._fixedSide.css("display",""),this.expandState?(this._expandInternal(this.expandState),this.getElement().addClass(o.COLLAPSED_CLASS_NAME),this._setToggleButtonTooltip(),this._fireWindowResize()):t?(u=this._fixedSidePixels||i,this.resize(0,!0,!1),this.resize(u,!0,!0)):this.resize(this._fixedSidePixels||i)):(this._savedFixedSidePixels=this._fixedSidePixels,this.resize(0,!0,t,function(){r.getElement().addClass(o._noSplitCssClass);r.getElement().removeClass(o.COLLAPSED_CLASS_NAME);r._fixedSide.css(r._cssSizeProp,"").css("display","none");r._fillSide.css(r._cssPosProp,"");r.handleBar.css(r._cssPosProp,"");r._fireWindowResize()}))},t.prototype.noSplit=function(n){this.toggleSplit(!1,n)},t.prototype.split=function(n,t){this.toggleSplit(!0,n,t)},t.prototype.toggleOrientation=function(n,t){if(n=Boolean(n),this._options.vertical!==n){var i=this.getElement();i.removeClass("left-expand");i.removeClass("right-expand");this.expandState=null;this._fixedSide.css(this._cssSizeProp,"");this._fillSide.css(this._cssPosProp,"");this.handleBar.css(this._cssPosProp,"");this._options.vertical=n;i.toggleClass(o.VERTICAL_CLASS,n);i.toggleClass(o.HORIZONTAL_CLASS,!n);this._configureCssProps();this._setAriaOrientation(n);this.resize(t)}},t.prototype.vertical=function(){this.toggleOrientation(!0)},t.prototype.horizontal=function(){this.toggleOrientation(!1)},t.prototype._setAriaOrientation=function(n){this.setAttribute("aria-orientation",n===!1?"vertical":"horizontal",this.handleBar)},t.prototype.setCollapsedLabel=function(n){var i=this,t;this.handleBar.children(":not(.handleBar-hitTarget)").remove();n&&(t=$(h("div","handlebar-label")).prependTo(this.handleBar).attr("title",n).bind("mousedown",function(n){i.toggleExpanded(!0);n.preventDefault();n.stopPropagation()}),$(h("span","handlebar-label-text")).appendTo(t).text(n))},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._options.vertical===!1?this.getElement().addClass(o.HORIZONTAL_CLASS):this.getElement().addClass(o.VERTICAL_CLASS);this._options.expandState&&(this.expandState=this._options.expandState,this.getElement().addClass(this.expandState==="left"?"left-expand":"right-expand"));this._options.fixedSide==="right"&&this.getElement().addClass("right-fix");this.leftPane=$(h("div","leftPane")).appendTo(this.getElement());this.handleBar=$(h("div","handleBar")).appendTo(this.getElement());this.rightPane=$(h("div","rightPane")).appendTo(this.getElement());this.handleBar.append(h("div","handleBar-hitTarget"));this._options.collapsedLabel&&this.setCollapsedLabel(this._options.collapsedLabel)},t.prototype._configureCssProps=function(){var n=this._leftFix=this._options.fixedSide==="left";n?(this._deltaMultiplier=1,this._fixedSide=this.leftPane,this._fillSide=this.rightPane):(this._deltaMultiplier=-1,this._fixedSide=this.rightPane,this._fillSide=this.leftPane);this._options.vertical===!1?(this._screenXY="pageX",this._cssSizeProp="width",this._cssPosProp=n?"left":"right"):(this._screenXY="pageY",this._cssSizeProp="height",this._cssPosProp=n?"top":"bottom");this._isCollapsed()&&(this.expandState=this._options.fixedSide==="left"?"right":"left")},t.prototype._attachEvents=function(){var n=this;this._bind(this.handleBar,"mousedown",s(this,this._handleBarMouseDown));this._bind(this.handleBar,"dblclick",s(this,this._handleBarDoubleClick));this._bind(this.handleBar,"mouseover",function(){n.handleBar.addClass("hover")});this._bind(this.handleBar,"mouseout",function(){n.handleBar.removeClass("hover")});this._bind(this.handleBar,"selectstart",function(){return!1});this._bind(this.handleBar,"keydown",this._handleBarKeydown.bind(this));e.attachResize(this.getElement(),s(this,this._onWindowResize))},t.prototype._ensureToggleButton=function(){if(!this._$toggleButton){var t=this.getElement(),n=t.find(".toggle-button");n.length===0&&(this._$toggleButtonIcon=$("<span/>").addClass("bowtie-icon"),n=$("<button/>").addClass("toggle-button").append(this._$toggleButtonIcon),n.insertBefore(t.children(".handleBar")));this._$toggleButton=n;this._setToggleButtonTooltip();this._layoutToggleButton();this._$toggleButton.click(s(this,this._onToggleButtonClick))}},t.prototype._layoutToggleButton=function(n){var t,i,r=this.isExpanded();this._$toggleButton&&(r?(this._measureFixedSide(),t=this._fixedSidePixels-(o.TOGGLE_BUTTON_MARGIN+o.TOGGLE_BUTTON_LENGTH)):t=o.TOGGLE_BUTTON_MARGIN,this._$toggleButtonIcon&&this._setToggleButtonIconClass(r),n?(i=this._createAnimationOption(this._cssPosProp,t+"px"),this._$toggleButton.animate(i,this._options.animationSpeed||o.DEFAULT_ANIMATION_SPEED)):this._$toggleButton.css(this._cssPosProp,t))},t.prototype._setToggleButtonIconClass=function(n){var t=this._options.fixedSide==="left",i="bowtie-icon ";i+=this._options.vertical?n?t?"bowtie-chevron-up":"bowtie-chevron-down":t?"bowtie-chevron-down":"bowtie-chevron-up":n?t?"bowtie-chevron-left":"bowtie-chevron-right":t?"bowtie-chevron-right":"bowtie-chevron-left";this._$toggleButtonIcon.removeClass().addClass(i)},t.prototype._setToggleButtonTooltip=function(){var n=this._options,t=this._$toggleButton;t&&(this._isCollapsed()?t.attr({title:n.toggleButtonCollapsedTooltip?n.toggleButtonCollapsedTooltip:u.ExpandSplitterTooltip,"aria-expanded":"false"}):t.attr({title:n.toggleButtonExpandedTooltip?n.toggleButtonExpandedTooltip:u.CollapseSplitterTooltip,"aria-expanded":"true"}))},t.prototype.setOnToggle=function(n){this._options.onToggle=n},t.prototype._measureFixedSide=function(){this._fixedSidePixels=this._cssSizeProp==="width"?this._fixedSide.outerWidth():this._fixedSide.outerHeight()},t.prototype._handleBarMouseDown=function(n){n.preventDefault();this._dragStart={pointer:n[this._screenXY],originalSize:this._isCollapsed()?n[this._screenXY]:this._fixedSide[this._cssSizeProp]()};this.getElement().addClass("dragging");this._ensureHandleBarClone();this._setupDragEvents();this._ensureOverlay()},t.prototype._handleBarKeydown=function(n){var t=this._options.vertical!==!1,i=!this._isCollapsed();switch(n.keyCode){case e.KeyCode.LEFT:i&&!t&&this._moveSeparator("left");break;case e.KeyCode.RIGHT:i&&!t&&this._moveSeparator("right");break;case e.KeyCode.UP:i&&t&&this._moveSeparator("left");break;case e.KeyCode.DOWN:i&&t&&this._moveSeparator("right")}},t.prototype._moveSeparator=function(n){var t=25*(this._options.fixedSide===n?-1:1);typeof this._fixedSidePixels!="number"&&this._measureFixedSide();this.resize(this._getAdjustedSize(this._fixedSidePixels+t))},t.prototype._isToggleButtonEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_ENABLED_CLASS_NAME)},t.prototype._isToggleButtonHotkeyEnabled=function(){return this.getElement().hasClass(o.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME)},t.prototype._isCollapsed=function(){return this.getElement().hasClass(o.COLLAPSED_CLASS_NAME)},t.prototype._onDocumentKeyup=function(n){if(n.ctrlKey&&n.altKey&&n.keyCode===e.KeyCode.SPACE&&this._isToggleButtonHotkeyEnabled())return this.toggleExpanded(),!1},t.prototype._onToggleButtonClick=function(n){return this.toggleExpanded(),!1},t.prototype._ensureHandleBarClone=function(){this._$handleBarClone||(this._$handleBarClone=$("<div/>").addClass("handleBar-clone").css(this._cssPosProp,this._dragStart.originalSize+"px").css(this._cssSizeProp,o.HANDLE_BAR_CLONE_SIZE).appendTo(this.getElement()))},t.prototype._removeHandleBarClone=function(){this._$handleBarClone&&(this._$handleBarClone.remove(),this._$handleBarClone=null)},t.prototype._setupDragEvents=function(){this._bind(window.document,"mousemove",s(this,this._documentMouseMove),!0);this._bind(window.document,"mouseup",s(this,this._documentMouseUp),!0)},t.prototype._ensureOverlay=function(){this._splitterOverlay||(this._splitterOverlay=$(h("div","overlay")),this.getElement().append(this._splitterOverlay),this._bind(this._splitterOverlay,"mousemove",s(this,this._documentMouseMove)),this._bind(this._splitterOverlay,"mouseup",s(this,this._documentMouseUp)),this._bind(this._splitterOverlay,"selectstart",function(){return!1}))},t.prototype._removeOverlay=function(){this._splitterOverlay&&(this._splitterOverlay.remove(),this._splitterOverlay=null)},t.prototype._clearDragEvents=function(){this._removeOverlay();this._unbind(window.document,"mousemove");this._unbind(window.document,"mouseup")},t.prototype._documentMouseMove=function(n){var t;if(this._dragStart)return t=n[this._screenXY]-this._dragStart.pointer,t&&this._ensureOverlay(),this._ensureHandleBarClone(),this._$handleBarClone.css(this._cssPosProp,+(this._dragStart.originalSize+this._deltaMultiplier*t)+"px"),!1},t.prototype._documentMouseUp=function(n){var i,r,t;if(this._dragStart)return i=n[this._screenXY]-this._dragStart.pointer,r=!1,Math.abs(i)>1&&(r=!0,t=this._dragStart.originalSize+this._deltaMultiplier*i,t=this._getAdjustedSize(t),this._isToggleButtonEnabled()&&t<=o.AUTO_COLLAPSE_THRESHOLD?this.toggleExpanded(!1):(this.expandState&&this.removeExpand(!0),this.resize(t))),this._dragStart=null,this.getElement().removeClass("dragging"),this._removeHandleBarClone(),this._clearDragEvents(),r&&this._fire("changed",this),!1},t.prototype._onWindowResize=function(){this._ignoreWindowResize||this.expandState||this.resize(this._fixedSidePixels,!0)},t.prototype._fireWindowResize=function(){try{this._ignoreWindowResize=!0;var n=document.createEvent("Event");n.initEvent("resize",!1,!0);window.dispatchEvent(n)}finally{this._ignoreWindowResize=!1}},t.prototype.attachResize=function(n){this._ignoreWindowResize=!1;n&&this._onWindowResize()},t.prototype.detachResize=function(){this._ignoreWindowResize=!0},t.prototype._createAnimationOption=function(n,t){var i={};return i[n]=t,i},t.prototype._handleBarDoubleClick=function(){this.toggleExpanded()},t.prototype._dispose=function(){n.prototype._dispose.call(this);this.unregisterEvents()},t.prototype.unregisterEvents=function(){e.detachResize(this.getElement())},t.enhancementTypeName="tfs.splitter",t._noSplitCssClass="no-split",t.CORE_CSS_CLASS="splitter",t.HORIZONTAL_CLASS="horizontal",t.VERTICAL_CLASS="vertical",t.TOGGLE_BUTTON_LENGTH=16,t.TOGGLE_BUTTON_MARGIN=2,t.COLLAPSED_CLASS_NAME="collapsed",t.TOGGLE_BUTTON_ENABLED_CLASS_NAME="toggle-button-enabled",t.TOGGLE_BUTTON_HOTKEY_ENABLED_CLASS_NAME="toggle-button-hotkey-enabled",t.AUTO_COLLAPSE_THRESHOLD=20,t.DEFAULT_ANIMATION_SPEED=800,t.HANDLE_BAR_CLONE_SIZE=5,t}(i.Control);t.SplitterO=c;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(c);t.Splitter=o;i.Enhancement.registerJQueryWidget(o,o.CORE_CSS_CLASS);i.Enhancement.registerEnhancement(o,"."+o.CORE_CSS_CLASS)});

define("VSS/Controls/Navigation",["require","exports","VSS/Common/Constants/Platform","VSS/Context","VSS/Controls","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Events/Handlers","VSS/Controls/Menus","VSS/Navigation/Services","VSS/Controls/Notifications","q","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Controls/Splitter","VSS/Telemetry/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls","VSS/LoaderPlugins/Css!PivotView"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){function ct(n){var t;return n&&n.length===1&&(t=n.data("item"),t||(t={text:n.find("a").first().html(),title:n.data("title")||null,id:n.data("id"),link:n.find("a").first().attr("href"),selected:n.hasClass("selected"),encoded:n.data("encoded")||!1,disabled:n.hasClass("disabled")},n.data("item",t))),t}function wt(n,t){t=t||ct(n);t&&(t.disabled?(n.attr("disabled","disabled"),n.addClass("disabled"),n.removeClass("selected"),n.attr("aria-disabled","true")):(n.prop("disabled",!1),n.removeClass("disabled"),n.toggleClass("selected",t.selected),n.removeAttr("aria-disabled")),t.selected?n.children("a").attr("aria-selected","true"):n.children("a").attr("aria-selected","false"))}var ht,ut,ft,lt,at,vt,ot,st,pt,dt;Object.defineProperty(t,"__esModule",{value:!0});t.FullScreenHelper=t.NavigationLink=t.TabbedNavigationView=t.NavigationViewTab=t.PivotView=t.PivotFilter=t.TriSplitNavigationView=t.NavigationView=void 0;var rt=k.delegate,it=nt.domElem,et=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._onHistoryNavigate=function(n,t){i._onNavigate(t||{})},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({attachNavigate:!1,titleElementSelector:".hub-title",hubSplitterSelector:".hub-content > .splitter"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._options.attachNavigate===!0&&this._attachNavigate()},t.prototype.onNavigate=function(){},t.prototype._getViewTitle=function(){return this._element.find(".hub-title").eq(0)},t.prototype.setViewTitle=function(n,t){this._element.find(this._options.titleElementSelector).text(n||"").attr("title",t||n||"");this.setWindowTitle(n)},t.prototype.setViewTitleContent=function(n,t){this._element.find(this._options.titleElementSelector).html(t||"").attr("title",n||"");this.setWindowTitle(n)},t.prototype.setWindowTitle=function(n){document.title=d.format(this._getPageTitleString(),n||"")},t.prototype.setLeftHubPaneVisibility=function(n){var i=this._element.find(this._options.hubSplitterSelector),t=u.Enhancement.getInstance(w.Splitter,i);t&&n!==this._leftPaneVisible&&(this._leftPaneVisible=n,t.toggleSplit(n))},t.prototype.setFullScreenMode=function(n,t){t===void 0&&(t=!1);var i=$(document.body),r=$(".tfs-host-notifications");i.toggleClass("no-chrome",n);i.toggleClass("full-screen-mode",n);r.toggleClass("visible",r.css("display")!="none");this.setLeftHubPaneVisibility(!n||t)},t.prototype._setTitleMode=function(){},t.prototype._getPageTitleString=function(){return c.getDefaultPageTitleFormatString()},t.prototype._attachNavigate=function(){this._historyNavigated=!1;var n=c.getHistoryService();n.attachNavigate(this._onHistoryNavigate);this._historyNavigated||this._onNavigate(n.getCurrentState()||{});this._historyNavigated=!1},t.prototype._onNavigate=function(n){this._historyNavigated=!0;this.onNavigate(n)},t.prototype._dispose=function(){n.prototype._dispose.call(this);this._options.attachNavigate===!0&&c.getHistoryService().detachNavigate(this._onHistoryNavigate)},t.ACTION_CONTRIBUTION="contribution",t}(u.BaseControl);t.NavigationView=et;ht=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({leftPaneSelector:".hub-content > .splitter > .leftPane",rightPaneSelector:".hub-content > .splitter > .rightPane"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._leftPane=this.getElement().find(this._options.leftPaneSelector);this._rightPane=this.getElement().find(this._options.rightPaneSelector)},t.getInstance=function(){return t._instance||(t._instance=u.Enhancement.enhance(t,".hub-view",{})),t._instance},t.prototype.getLeftPane=function(){return this._leftPane},t.prototype.getRightPane=function(){return this._rightPane},t}(et);t.TriSplitNavigationView=ht;ut=function(){function n(n){this._options=n||{};this._items=this._options.items||[]}return n.toItem=function(n){var t;return n&&n.length===1&&(t=n.data("item"),t||(t={text:n.find("span.anchor").first().text(),title:n.data("title")||null,value:n.data("value"),selected:n.hasClass("selected"),encoded:n.data("encoded")||!1},n.data("item",t))),t},n.domToItems=function(t,i){var r=[];return t.children("li.pivot-filter-item"+(i||"")).each(function(){r.push(n.toItem($(this)))}),r},n.setElementContent=function(n,t){var i=t.selectedTitle||t.title,r=t.selectedText||t.text,c=t.encoded,h=t.icon,f,e,s;n.empty();n.removeData("title");i&&(f=n.data("tooltipControl"),f?f.setTextContent(i):(e={},i===r?e.onlyShowWhenOverflows=n:e.setAriaDescribedBy=!0,n.data("tooltipControl",v.RichContentTooltip.add(i,n,e))),n.data("title",i));h&&$("<span />").addClass(h).addClass("selected-icon").appendTo(n);r&&(s=$("<span />").attr("id",u.getHtmlId()),c?s.html(r):s.text(r),s.appendTo(n))},n.prototype.getTypeName=function(){var n=this.constructor;return n.typeName||"select"},n.prototype.getItems=function(t){return n.domToItems(this._element,t)},n.prototype._toItem=function(t){return n.toItem(t)},n.prototype._updateItem=function(n,t){t=t||this._toItem(n);t&&(t.disabled?(n.attr("disabled","disabled"),n.addClass("disabled"),n.removeClass("selected")):(n.prop("disabled",!1),n.removeClass("disabled"),n.toggleClass("selected",t.selected)))},n.prototype._toggleItem=function(n,t){var i=this._toItem(n);return i&&(typeof t=="undefined"&&(t=!i.selected),i.selected=t,this._updateItem(n,i)),i},n.prototype._selectFirstEnabledItem=function(n){var t,i;return $.each(n,function(){if(!this.disabled&&(t||(t=this),this.selected))return i=this,!1}),!i&&t&&(t.selected=!0,i=t),i},n.prototype._fireChange=function(n,t){n.trigger("filter-changed",[t])},n.prototype._selectItem=function(n,t){var r,i=n.next("li:not([disabled])");return i.length===0&&(i=n.siblings("li:not([disabled])").first()),i.length>0&&(this._toggleItem(n,!1),r=this._toggleItem(i,!0),t&&i.find("span.anchor").focus()),r},n.prototype._onChange=function(n){var r=$(n.target),t,u,i;t=r.closest("li");u=r.closest("span.anchor");t.length>0&&(i=this._selectItem(t,!0),i&&this._fireChange(this._element,i));u.length>0&&n.preventDefault()},n.prototype.enhance=function(){this._element=this._options.filterContainer.find("ul.pivot-filter-items");this._items=this.getItems();this._attachChange(this._element);this.addAccessibility()},n.prototype.populate=function(){var t=this._items,i=this._ensureElement(),r=i.siblings("span.title"),n=r.attr("id");n||(r?(n=String(u.getHtmlId()),r.attr("id",n)):n="");i.children().remove();t&&t.length>0&&(this._selectFirstEnabledItem(t),$.each(t,function(){var t=$(it("li","pivot-filter-item")),r,f,e,o;t.data("item",this);this.disabled?(t.attr("disabled","disabled"),t.addClass("disabled")):this.selected&&t.addClass("selected");r=this.title;r||this.encoded||(r=this.text);r&&(v.RichContentTooltip.add(r,t,r===this.text?{onlyShowWhenOverflows:t}:undefined),t.data("title",r));this.value&&t.data("value",this.value);o=String(u.getHtmlId());f=$(it("span")).attr({id:o,role:"button","aria-labelledby":"".concat(n," ").concat(o),tabIndex:0}).addClass("anchor");e=f;this.icon&&($("<span />").addClass(this.icon).appendTo(f),e=$("<span />").appendTo(f));e.addClass("text");this.encoded?e.html(this.text):e.text(this.text);t.append(f);i.append(t)}),this._attachChange(i))},n.prototype.updateItems=function(n){this._items=n;this.populate()},n.prototype.getItem=function(n){var t,i=this._items;return typeof n=="number"?t=i[n]:$.each(i,function(){if(this.value==n||this.text==n)return t=this,!1}),t},n.prototype.getSelectedItems=function(){return this.getItems(".selected")},n.prototype.getSelectedItem=function(){var n=this.getItems(".selected");return n&&n[0]},n.prototype.setSelectedItem=function(n){var t=this,i=this._items;typeof n!="object"&&(n=this.getItem(n));n&&($.each(i,function(){this.selected=!1}),n.selected=!0,this._element.children("li").each(function(){t._updateItem($(this))}))},n.prototype.addAccessibility=function(){var r=this,t=this._options.filterContainer.children("span.title"),n,i;t.length===1&&(n=t.attr("id"),n||(n=String(u.getHtmlId()),t.attr("id",n)),i="span.anchor",this._element.is(i)&&this._attachAriaLabels(this._element,n),this._element.find(i).each(function(t,i){r._attachAriaLabels($(i),n)}))},n.prototype._attachAriaLabels=function(n,t){var i=n.attr("id")||String(u.getHtmlId());n.attr({id:i,"aria-labelledby":"".concat(t," ").concat(i)})},n.prototype._ensureElement=function(){return this._element||(this._element=$(it("ul","pivot-filter-items")),this._element.appendTo(this._options.filterContainer)),this._element},n.prototype._attachChange=function(n){n.children().on("click",rt(this,this._onChange));n.children().on("keydown",nt.buttonKeydownHandler)},n}();tt.initClassPrototype(ut,{_options:null,_items:null,_element:null});ft=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.registerBehavior=function(n){t._behaviors[n.typeName]=n},t.createBehavior=function(n,i){var r;return $.each(n||[],function(n,i){return r=t._behaviors[i],r?!1:void 0}),r||(r=ut),new r(i)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"pivot-filter",behavior:"select"},t))},t.prototype._enhance=function(t){var r,i;n.prototype._enhance.call(this,t);i=t[0];r=i&&typeof i.className=="string"?i.className.split(" "):[];this._initBehavior(r);this._behavior.enhance()},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._attachEvents()},t.prototype.getSelectedItems=function(){return this._behavior.getSelectedItems()},t.prototype.getSelectedItem=function(){return this._behavior.getSelectedItem()},t.prototype.getItem=function(n){return this._behavior.getItem(n)},t.prototype.getItems=function(){return this._behavior.getItems()},t.prototype.setSelectedItem=function(n,t){t===void 0&&(t=!0);this._behavior.setSelectedItem(n,t)},t.prototype.updateItems=function(n,t){this._behavior.updateItems(n,t)},t.prototype._initBehavior=function(n){this._behavior=t.createBehavior(n,{align:this._options.align,items:this._options.items,filterContainer:this._element,useBowtieStyle:this._options.useBowtieStyle})},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._initBehavior([this._options.behavior]);this._buildDom()},t.prototype._buildDom=function(){var n=this._element,e=this._behavior,t=this._options,r,u,i,f;n.addClass(e.getTypeName());r=$(it("span","title"));i=t.text;u=t.useBowtieStyle;f=t.encoded;t.title&&(v.RichContentTooltip.add(t.title,n,t.title===i?{onlyShowWhenOverflows:n}:undefined),n.data("title",t.title));i&&(f?r.html(i):r.text(i));n.append(r);u&&(n.addClass("bowtie-pivot-filter"),$(it("span","drop-icon bowtie-icon bowtie-chevron-down")).appendTo(n));this._behavior.populate()},t.prototype._attachEvents=function(){this._bind(this._element,"filter-changed",rt(this,this._onFilterChanged))},t.prototype._onFilterChanged=function(n,t){return this._fire("changed",[t]),typeof this._options.change=="function"?this._options.change.call(this,t):void 0},t.enhancementTypeName="tfs.ui.pivotFilter",t._behaviors={},t}(u.Control);t.PivotFilter=ft;tt.initClassPrototype(ft,{_behavior:null});lt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._selectFirstEnabledItem=function(){},t.prototype._selectItem=function(n){var i=this,t,r=this._toItem(n);return r.selected||(n.siblings("li").each(function(){i._toggleItem($(this),!1)}),t=this._toggleItem(n,!0)),t},t.typeName="radio",t}(ut);ft.registerBehavior(lt);at=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype._selectFirstEnabledItem=function(){},t.prototype._selectItem=function(n){return this._toggleItem(n,!0)},t.typeName="checkbox",t}(ut);ft.registerBehavior(at);vt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._showItemIcons=!1,i}return __extends(t,n),t.prototype.getItems=function(t){return this._addCommandIdToItems(n.prototype.getItems.call(this,t))},t.prototype.populate=function(){var t,i,r,u=this._selectFirstEnabledItem(this._items),n;if(u)if(this._element&&this._element.remove(),this._disposeExistingPopup(),n=void 0,n=((r=(i=(t=this._options.filterContainer)===null||t===void 0?void 0:t.context)===null||i===void 0?void 0:i.attributes["aria-labelledby"])===null||r===void 0?void 0:r.value)||"",n=n?" aria-labelledby='"+n+"'":"",this._element=$("<span tabIndex='0' class='selected anchor' role='combobox' aria-expanded='false'"+n+"/>").appendTo(this._options.filterContainer),ut.setElementContent(this._element,u),this._options.useBowtieStyle){this._options.filterContainer.on("click",rt(this,this._onDrop));this._options.filterContainer.on("keydown",nt.buttonKeydownHandler)}else{this._element.on("click",rt(this,this._onDrop));this._element.on("keydown",nt.buttonKeydownHandler)}},t.prototype.enhance=function(){this._element=this._options.filterContainer.find("ul.pivot-filter-items");this._items=this.getItems();this._element.remove();this.populate()},t.prototype.updateItems=function(t,i){this._showItemIcons=i&&i.showItemIcons;n.prototype.updateItems.call(this,this._addCommandIdToItems(t))},t.prototype.getSelectedItems=function(){return[this.getSelectedItem()]},t.prototype.getSelectedItem=function(){var n;return $.each(this._items,function(){if(this.selected===!0)return n=this,!1}),n},t.prototype.setSelectedItem=function(n,t){t===void 0&&(t=!0);var i=this._items;n&&n!==this.getSelectedItem()&&($.each(i,function(){this.selected=!1}),n.selected=!0,ut.setElementContent(this._element,n),t&&this._fireChange(this._element,n))},t.prototype._addCommandIdToItems=function(n){return $.map(n,function(n){return n.id||(n.id=n.text),n})},t.prototype._onDrop=function(n){var f=this,e=$(n.target),t=this._options.filterContainer,r=this._items,i;return this._disposeExistingPopup(),i=u.BaseControl.createIn(h.PopupMenu,t,{align:this._options.align||"left-bottom",showIcon:this._showItemIcons,items:[{childItems:r}],useBowtieStyle:this._options.useBowtieStyle,onDeactivate:function(){t.removeClass("active");f._element.attr("aria-expanded","false");t.children("ul.menu-popup").hide()},executeAction:rt(this,this._onExecute)}),k.delay(this,10,function(){var u,n,f;t.addClass("active");this._element.attr("aria-expanded","true");i.popup(e,t);u=g.first(r,function(n){return n.selected});n=i.getItems()[0].getSubMenu();u?(f=n.getItem(u.id),f?f.select():n.selectFirstItem()):n.selectFirstItem()}),this._popupMenu=i,this._element.attr("aria-controls",i.getElement().attr("id")),!1},t.prototype._onExecute=function(n){this._options.filterContainer.removeClass("active");this.setSelectedItem(n.get_commandSource()._item)},t.prototype._disposeExistingPopup=function(){this._popupMenu&&(this._popupMenu.dispose(),delete this._popupMenu)},t.typeName="dropdown",t}(ut);ft.registerBehavior(vt);u.Enhancement.registerEnhancement(ft,".pivot-filter.enhance");ot=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._contributionsInitialized=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"pivot-view",tagName:"ul"},t))},t.prototype._enhance=function(t){n.prototype._enhance.call(this,t);this._options.items=this.getItems();var i=this._element.data("contributionId");i&&(this._options.contributionId=i,this._options.getContributionContext&&typeof this._options.getContributionContext=="function"&&(this._contributionContext=this._options.getContributionContext()),this.refreshContributedItems())},t.prototype.getItems=function(n){var t=[];return this._element.children("li"+(n||"")).each(function(){t.push(ct($(this)))}),t},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.getElement().attr("role","tablist");this._attachEvents()},t.prototype.setExtensionContainer=function(n){this._extensionContainer=n},t.prototype.showExtensionTab=function(n,t){f.createContributedControl(this._extensionContainer,n,t)},t.prototype.setContributionContext=function(n){this._contributionContext=n},t.prototype._getTabFromContribution=function(n,t){var i=this,e,o,u,f,r=this._contributionContext,s,h;return e=t&&typeof t.isDisabled=="function"?t.isDisabled(r):a.resolve(!1),o=t&&typeof t.isInvisible=="function"?t.isInvisible(r):a.resolve(!1),t&&typeof t.name=="function"?(s=t.name,u=s(r)):u=t&&typeof t.name=="string"?a.resolve(t.name):a.resolve(n.properties.name),t&&typeof t.title=="function"?(h=t.title,f=h(r)):f=t&&typeof t.title=="string"?a.resolve(t.title):n.properties.title?a.resolve(n.properties.title):a.resolve(null),a.all([e,o,u,f]).then(function(t){var s=t[0],h=t[1],o=t[2],l=t[3],u,r,f,e;return h?null:(u=n.properties.action,r="",i._options.generateContributionLink&&typeof i._options.generateContributionLink=="function"?r=i._options.generateContributionLink(n.id):(f=c.getHistoryService().getCurrentState(),f.contributionId=n.id,r="#"+c.getHistoryService().getFragmentActionLink(u||et.ACTION_CONTRIBUTION,f)),e=!1,i._options.getEnabledState&&typeof i._options.getEnabledState=="function"&&(e=!0),{disabled:e&&!i._options.getEnabledState(n.id)?!0:s,encoded:!1,id:n.id,link:r,text:o,title:l||o,contributed:!0,action:u})})},t.prototype.refreshContributedItems=function(n){var t=this;return n===void 0&&(n=!1),(!this._contributionsInitialized||n)&&typeof this._options.contributionId=="string"?p.getService(e.ExtensionService).getContributionsForTargets([this._options.contributionId]).then(function(n){var i=[];return n.forEach(function(n){var u=a.resolve(null),r=n.properties.dynamic,e;r!==!0&&r!==!1&&(r=typeof n.properties.name!="string");r&&(u=f.getBackgroundInstance(n,n.properties.registeredObjectId||n.id));e=u.then(function(i){return t._getTabFromContribution(n,i)});i.push(e)}),a.allSettled(i).then(function(n){Array.isArray(t._options.items)?(t._options.items=t._options.items.filter(function(n){return!n.contributed}),t._options.items=t._options.items.concat(n.filter(function(n){return n&&n.state==="fulfilled"&&!!n.value}).map(function(n){return n.value}))):t._options.items=n.filter(function(n){return n.state==="fulfilled"}).map(function(n){return n.value})}).then(function(){t._contributionsInitialized=!0;t.updateItems()})}):(this._contributionsInitialized=!0,a.resolve(null))},t.prototype.focusSelectedPivot=function(){this.getElement().find("li.selected a").focus()},t.prototype.updateItems=function(n){var r=this,u=n&&$.contains(this.getElement()[0],document.activeElement),i=this._element,t;i.empty();this._itemIdToSelect&&(t=g.first(this._options.items,function(n){return(n.action||n.id)==r._itemIdToSelect}),t&&(this._itemIdToSelect=null,t.disabled||(this._options.items.forEach(function(n){n.selected=!1}),t.selected=!0)));this._populateItems(i);u&&this.getElement().find("li.selected a").focus()},t.prototype.setViewLink=function(n,t){var i=this.getView(n);i&&(i.link=t,this._element.find("li").each(function(i,r){var u=$(r);if(u.data("id")===n)return u.find("a").first().attr("href",t),!1}))},t.prototype.getSelectedView=function(){var n=this.getItems(".selected");return n&&n[0]},t.prototype.setViewEnabled=function(n,t){var r=this,i;if(i=this.getView(n),i){if(!i.contributed||!t){i.disabled=!t;return}p.getService(e.ExtensionService).getContribution(n).then(function(n){var t=f.getBackgroundInstance(n,n.properties.registeredObjectId||n.id).then(function(n){var t=r._contributionContext;n&&typeof n.isDisabled=="function"?r._makeThennable(n.isDisabled(t)).then(function(n){i.disabled=n}):i.disabled=!1})})}},t.prototype._makeThennable=function(n){return n&&typeof n.then=="function"?n:a.resolve(n)},t.prototype.getView=function(n,t){var i;return typeof n=="number"?i=this._options.items[n]:$.each(this._options.items,function(){if(this.id==n)return i=this,!1}),this._itemIdToSelect=!i&&t?t:null,i},t.prototype.setSelectedView=function(n){var t=this._options.items;if(typeof n!="object"&&(n=this.getView(n)),n){$.each(t,function(){this.selected=!1});n.selected=!0;this._element.find("li").each(function(){wt($(this),null)});this.onChanged(n);n.contributed&&n.id&&e.ExtensionHelper.publishTraceData(null,null,n.id)}},t.prototype.onChanged=function(n){this._fire("changed",[n])},t.prototype._createElement=function(){n.prototype._createElement.call(this);this._buildDom()},t.prototype._buildDom=function(){this._populateItems(this._element)},t.prototype._populateItems=function(n){var t=this._options.items,i,r;if(t){$.each(t,function(){if(!this.disabled&&(i||(i=this),this.selected))return r=this,!1});!r&&i&&(i.selected=!0);var u=!0,e=0,f=0;t.forEach(function(n){n&&!n.disabled&&f++});$.each(t,function(){var i=$(it("li")),r,t;i.data("item",this);i.attr("role","presentation");this.disabled?(i.attr("disabled","disabled"),i.addClass("disabled")):this.selected&&i.addClass("selected");r=this.title;this.id&&(i.data("id",this.id),i.attr("data-id",this.id));t=$(it("a"));this.disabled||(t.attr("aria-posinset",++e),t.attr("aria-setsize",f));t.on("keydown",nt.buttonKeydownHandler);!u||this.disabled||this.hidden?t.attr("tabindex","-1"):(t.attr("tabindex","0"),u=!1);t.attr("role","tab");this.disabled?(t.attr("aria-disabled","true"),t.attr("aria-selected","false")):this.selected?t.attr("aria-selected","true"):t.attr("aria-selected","false");this.link?t.attr("href",this.link):t.attr({href:"#"});this.encoded?t.html(this.text):t.text(this.text);r&&(v.RichContentTooltip.add(r,t,r===this.text?{onlyShowWhenOverflows:i}:undefined),i.data("title",r));i.append(t);n.append(i)})}},t.prototype._attachEvents=function(){this._bind("click",rt(this,this._onClick));this._bind("keydown",rt(this,this._onKeydown));this.getElement()[0].addEventListener("focus",this._onFocus.bind(this),!0)},t.prototype._onClick=function(n){if(!n||!(n.ctrlKey||n.metaKey||n.shiftKey||n.which===2)){var r=$(n.target),u=r.closest("li"),i=r.closest("a"),t;u.length>0&&(t=ct(u));i.length>0&&(d.caseInsensitiveContains(i.attr("href"),"#")||t&&t.disabled)&&(t&&!t.disabled&&this.setSelectedView(t),n.preventDefault(),i.attr("href")!=="#"&&(document.location.href=i.attr("href")))}},t.prototype._onFocus=function(n){var t=this.getElement(),i=n.target;t.find("a").attr("tabindex","-1");i.setAttribute("tabindex","0")},t.prototype._onKeydown=function(n){var t=n.originalEvent,r,u,i,f;if(!t.ctrlKey&&!t.altKey&&!t.metaKey){if(r=$(t.target),t.keyCode===nt.KeyCode.ENTER||t.keyCode===nt.KeyCode.SPACE){r.find("a").click();return}(t.keyCode===nt.KeyCode.LEFT||t.keyCode===nt.KeyCode.RIGHT)&&(u=r.closest("li"),i=void 0,t.keyCode===nt.KeyCode.RIGHT?(i=u.nextAll("li:visible").first(),i.length===0&&(i=this.getElement().children("li:visible").first())):(i=u.prevAll("li:visible").first(),i.length===0&&(i=this.getElement().children("li:visible").last())),f=i.children("a"),f.focus())}},t.enhancementTypeName="tfs.ui.pivotView",t}(u.Control);t.PivotView=ot;u.Enhancement.registerEnhancement(ot,".pivot-view.enhance");st=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.onNavigate=function(){},t.prototype.onNavigateAway=function(){},t}(u.BaseControl);t.NavigationViewTab=st;var bt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"error-tab"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._messageControl=u.BaseControl.createIn(l.MessageAreaControl,$("<div class='tabbed-navigation-error' />").appendTo(this._element),{closeable:!1})},t.prototype.setContent=function(n,t,i,r){this._messageControl.setMessage({type:i,header:n,content:t});this._messageControl.setErrorDetailsVisibility(r)},t.TAB_ID="error",t}(st),yt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"info-tab"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this)},t.prototype.setHeader=function(n,t){this._$description||(this._$description=$(it("div","information-summary")).prependTo(this._element));this._$title||(this._$title=$(it("div","information-title")).prependTo(this._element));this._$title.text(n);this._$description.html(t)},t.prototype.appendInformation=function(n,t){return u.BaseControl.createIn(l.InformationAreaControl,$(it("div")).appendTo(this._element),{caption:n,collapsed:t})},t.TAB_ID="info",t}(st),kt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._currentNavigationContextId=0,i._lastParsedNavigationContextId=0,i._showingError=!1,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({tabs:null,tabOptions:null,attachNavigate:!0,hubContentSelector:".right-hub-content .hub-pivot-content",pivotTabsSelector:".right-hub-content .hub-pivot .views .pivot-view",hubSplitterSelector:".hub-splitter"},t))},t.prototype.initialize=function(){this._hubContent=this._element.find(this._options.hubContentSelector);this._options.tabs&&(this._tabsControl=u.Enhancement.ensureEnhancement(ot,this._element.find(this._options.pivotTabsSelector)),this._tabsMap={},this._tabOptionsMap={},this.updateTabs(this._options.tabs),this._tabs={});n.prototype.initialize.call(this)},t.prototype.updateTabs=function(n){var t=this;Object.keys(n).forEach(function(i){t._tabsMap[(""+i).toUpperCase()]=n[i]});this._options.tabOptions&&Object.keys(this._options.tabOptions).forEach(function(n){t._tabOptionsMap[(""+n).toUpperCase()]=t._options.tabOptions[n]})},t.prototype.getTab=function(n){return n=(""+n).toUpperCase(),this._tabs[n]},t.prototype.showError=function(n){var i=tt.getErrorMessage(n),t="";n.stack&&(t=$("<div />").text(n.stack));this.showErrorContent(i,t,l.MessageAreaType.Error,!1)},t.prototype.showErrorContent=function(n,t,i,r){var f,e;if(this._tabs){this._showingError=!0;f=this._getErrorTab();f.setContent(n,t,i,r);this._showTab(f);this._hubContent.show();this.onNavigate(this.getState())}else e=u.BaseControl.createIn(l.MessageAreaControl,$(it("div","tabbed-navigation-error")).appendTo(this._hubContent),{closeable:!1}),e.setMessage({type:i,header:n,content:t}),e.setErrorDetailsVisibility(r)},t.prototype.showInformationTab=function(n,t){if(this._tabs){this._updateTabsControl(yt.TAB_ID,this.getRawState(),this._currentParsedState);this._showingInfo=!0;var i=this._getInfoTab();i.setHeader(n,t);this._showTab(i);this._hubContent.show();this.onNavigate(this.getState())}else this._$infoContent=$(it("div","information-section")).appendTo(this._hubContent),$(it("div","information-title")).appendTo(this._$infoContent).text(n||""),$(it("div","information-summary")).text(t||"").appendTo(this._$infoContent)},t.prototype.appendInformationContent=function(n,t){var i,r;return this._tabs?(r=this._getInfoTab(),i=r.appendInformation(n,t)):this._$infoContent&&(i=u.BaseControl.createIn(l.InformationAreaControl,this._$infoContent,{caption:n,collapsed:t})),i},t.prototype.appendSectionTitle=function(n){this._tabs?$(it("div","information-title")).appendTo(this._getInfoTab().getElement()).append(n):this._$infoContent&&$(it("div","information-title")).appendTo(this._$infoContent).append(n)},t.prototype.appendSectionSummary=function(n){this._tabs?$(it("div","information-summary")).appendTo(this._getInfoTab().getElement()).append(n):this._$infoContent&&$(it("div","information-summary")).appendTo(this._$infoContent).append(n)},t.prototype.appendElement=function(n){this._tabs?n.appendTo(this._getInfoTab().getElement()):this._$infoContent&&n.appendTo(this._$infoContent)},t.prototype.refreshCurrentTab=function(){this._onNavigate(this._currentRawState)},t.prototype.getCurrentAction=function(){return this._currentTabId},t.prototype.getState=function(){return this._currentParsedState||{}},t.prototype.setState=function(n){this._currentParsedState=n},t.prototype.getEmptyState=function(){var n={};return $.each(c.getHistoryService().getCurrentState(),function(t){n[t]=null}),n},t.prototype.getRawState=function(){return this._currentRawState||{}},t.prototype.parseStateInfo=function(n,t,i){i(n,t)},t.prototype.getTabVisibility=function(){return!0},t.prototype.getTabLabel=function(){},t.prototype.setHubPivotVisibility=function(n){this._tabsControl.getElement().parents(".hub-pivot").first().toggleClass("hidden",!n)},t.prototype._getErrorTab=function(){return this._errorTab||(this._errorTab=this._createTab(bt)),this._errorTab},t.prototype._getInfoTab=function(){return this._infoTab||(this._infoTab=this._createTab(yt)),this._infoTab},t.prototype._onNavigate=function(n){var i=this,t;this._currentRawState=n;t=++this._currentNavigationContextId;this.parseStateInfo(n.action,n,function(r,u){i._onParseStateInfoSuccess(r,n,u,t)});this._skipTabHideOnAsyncNavigate&&(this._lastParsedNavigationContextId===t||this._showingError||this._showingInfo||this._hubContent.hide(),this._skipTabHideOnAsyncNavigate=!1)},t.prototype._redirectNavigation=function(n,t,i){this._skipTabHideOnAsyncNavigate=!0;i?c.getHistoryService().replaceHistoryPoint(n,t):c.getHistoryService().addHistoryPoint(n,t)},t.prototype._onParseStateInfoSuccess=function(n,t,i,r){var u;if(this._currentParsedState=i||{},this._lastParsedNavigationContextId=r,this._hubContent.show(),this._tabs)if(this._updateTabsControl(n,t,i),u=this._getTab(n),u){if(this._showTab(u),this._showingError=!1,this._currentTabId=n,typeof u.onNavigate=="function")u.onNavigate(t,i);this.onNavigate(i)}else this.showError(d.format(y.NavigationViewUnknownTabErrorFormat,n));else this.onNavigate(i)},t.prototype._updateTabsControl=function(n,t,i){var r=this;Object.keys(this._tabsMap).forEach(function(u){var o,e=(""+u).toLowerCase(),f=r._tabsControl.getView(e,n);f&&(f.link=c.getHistoryService().getFragmentActionLink(e,t),f.selected=u===(""+n).toUpperCase(),f.disabled=!r.getTabVisibility(e,n,t,i),o=r.getTabLabel(e,n,t,i),o&&(f.text=o))});this._tabsControl.updateItems(!0)},t.prototype._showTab=function(n){this._currentTab!==n&&(this._currentTab&&(this._currentTab.onNavigateAway(),this._currentTab.hideElement()),n&&n.showElement(),this._currentTab=n)},t.prototype._getTab=function(n){var t,i;return n=(""+n).toUpperCase(),t=this._tabs[n],t||(i=this._tabsMap[n],i&&(t=this._createTab(i,this._tabOptionsMap[n]),this._tabs[n]=t)),t},t.prototype._createTab=function(n,t){var i=$("<div />").addClass("navigation-view-tab").appendTo(this._hubContent);return u.Enhancement.enhance(n,i,$.extend({navigationView:this},t))},t}(et);t.TabbedNavigationView=kt;pt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._navigationLinkOptions=t||{},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({tagName:"a"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._navigateHandler=rt(this,this.onNavigate);var t=c.getHistoryService();t.attachNavigate(this._navigateHandler);this._navigationLinkOptions.text?this._element.text(this._navigationLinkOptions.text):this._navigationLinkOptions.$content&&this._navigationLinkOptions.$content.appendTo(this._element);this._navigationLinkOptions.target&&this._element.attr("target",this._navigationLinkOptions.target);this._navigationLinkOptions.title&&this._element.attr("title",this._navigationLinkOptions.title);this.updateLink(this._navigationLinkOptions.initialState||t.getCurrentState())},t.prototype.dispose=function(){n.prototype.dispose.call(this);c.getHistoryService().detachNavigate(this._navigateHandler)},t.prototype.onNavigate=function(n,t){this.updateLink(t)},t.prototype.updateLink=function(n){this._element.attr("href",this.getLocation(n))},t.prototype.getLocation=function(n){return this._navigationLinkOptions.getUrl?this._navigationLinkOptions.getUrl.call(this,n):(n=$.extend({},n,this._navigationLinkOptions.state),c.getHistoryService().getFragmentActionLink(null,n))},t}(u.BaseControl);t.NavigationLink=pt,function(n){function ft(n,t){if(u=t||{},e=n,!k){c.getHistoryService().attachNavigate(it);$(window).on("keydown",at);k=!0}it()}function g(){return t}function h(n,i,r,s,h,l){if(i===void 0&&(i=!0),r===void 0&&(r=!1),s===void 0&&(s=!0),h===void 0&&(h=!1),l===void 0&&(l=!1),t=n,ht.getInstance().setFullScreenMode(t,r),e&&vt(),i&&c.getHistoryService().addHistoryPoint(undefined,p(),undefined,s,!0),h&&c.getHistoryService().replaceHistoryPoint(undefined,p(),undefined,s,!0),f&&f.invokeHandlers(v,this,null),u&&u.publishCIData!==!1&&yt(i),u&&u.setFullScreenCallback&&typeof u.setFullScreenCallback=="function"&&u.setFullScreenCallback(),!l){var a=document.createEvent("Event");a.initEvent("resize",!1,!0);window.dispatchEvent(a)}}function p(i){var r={};return i=i===undefined?t:i,r[n.FULLSCREEN_HASH_PARAMETER]=i,r}function tt(){return"bowtie-icon "+(t?"bowtie-view-full-screen-exit":"bowtie-view-full-screen")}function et(){return t?y.ExitFullScreenModeTooltip:y.EnterFullScreenModeTooltip}function ot(n){l().subscribe(a,n)}function st(n){l().unsubscribe(a,n)}function ct(n){l().subscribe(v,n)}function lt(n){l().unsubscribe(v,n)}function at(n,t,i,r,u){var f=!0;return n instanceof jQuery.Event?f=n.isDefaultPrevented():n instanceof KeyboardEvent&&(f=n.defaultPrevented),t=n.keyCode||t,i=n.ctrlKey||i,r=n.shiftKey||r,u=n.altKey||u,!(i||r||u)&&!f&&t&&t===nt.KeyCode.ESCAPE?(g()&&h(!1),!1):void 0}function it(){var i=c.getHistoryService().getCurrentState(),r=i&&d.localeIgnoreCaseComparer(i[n.FULLSCREEN_HASH_PARAMETER],"true")===0;h(r,!1,u.showLeftLane===!0,!1,!1,!!r==!!t)}function ut(){return{id:w,title:t?y.ExitFullScreenModeTooltip:y.EnterFullScreenModeTooltip,icon:tt(),showText:!1,action:rt}}function vt(){var n=e.getItem(w),t;n?(n.update(ut()),n.removeHighlight()):(t=e.getItems(),t.push(ut()),e.updateItems(t))}function yt(n){var u={isToggle:n,isFullScreen:t,Url:window.location.pathname,HashUrl:window.location.hash,UserId:r.getDefaultWebContext().user.id,ScreenWidth:window.innerWidth,ScreenHeight:window.innerHeight};f&&f.invokeHandlers(a,this,u);b.publishEvent(new b.TelemetryEventData(i.WebAccessCustomerIntelligenceConstants.Area,i.WebAccessCustomerIntelligenceConstants.FullScreenModeFeature,u))}function l(){return f||(f=new s.NamedEventCollection),f}var rt;n.FULLSCREEN_HASH_PARAMETER="fullScreen";var w="fullscreen-toggle",a="fullscreen-ci",v="fullscreen-url-update-event",t,k,e,f,u;n.initialize=ft;n.getFullScreen=g;n.setFullScreen=h;n.getUrlData=p;n.getFullScreenIcon=tt;n.getFullScreenTooltip=et;n.attachFullScreenCI=ot;n.detachFullScreenCI=st;n.attachFullScreenUrlUpdateEvent=ct;n.detachFullScreenUrlUpdateEvent=lt;rt=function(){h(!t,u.addHistoryPoint!==!1,u.showLeftLane===!0)}}(dt=t.FullScreenHelper||(t.FullScreenHelper={}));tt.tfsModuleLoaded("VSS.UI.Controls.Navigation",t)});

define("VSS/Events/Document",["require","exports","VSS/Diag","VSS/Events/Action","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Utils/Array","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f,e,o,s,h,c){function p(){return o.getLocalService(a)}function y(){return o.getLocalService(l)}var v,l,a;Object.defineProperty(t,"__esModule",{value:!0});t.getRunningDocumentsTable=t.getService=t.DocumentService=t.RunningDocumentsTable=void 0;v=c.handleError;l=function(){function n(){var n=this;this._runningDocEntries=[];this._registerUnloadEvent();u.getService().attachEvent(f.HubEventNames.PostXHRNavigate,function(){n._runningDocEntries=[]})}return n.prototype.add=function(n,t){var r={moniker:n,document:t};return this._runningDocEntries.push(r),r},n.prototype.remove=function(n){this._runningDocEntries=s.subtract(this._runningDocEntries,[n])},n.prototype.isModified=function(n){if(n){var t=this._runningDocEntries.filter(function(t){return t.moniker===n})[0];if(!t)throw new Error("Document ".concat(n," not found."));return t.document.isDirty()}return this._isAnyModified()},n.prototype.beginSave=function(n,t){function e(n){v(n,t,i)}function u(){var t=r[f++];t?t.beginSave(function(){h.delay(i,0,u)},e):typeof n=="function"&&n.call(i)}var i=this,r=[],f=0;$.each(this._runningDocEntries,function(n,t){t.document.isDirty()&&typeof t.document.beginSave=="function"&&r.push(t.document)});u()},n.prototype.getUnsavedItemsMessage=function(){for(var s,f,n=[],t,r,h,u,i=0,o=this._runningDocEntries.length;i<o;i++)if(s=this._runningDocEntries[i],u=s.document,u.isDirty()&&typeof u.getDirtyDocumentTitles=="function"){for(f=u.getDirtyDocumentTitles(6),r=0,h=f.length;r<h;r++){if(t=f[r],n.length===5){n.push(e.UnsavedChangesMore);break}t.length>55&&(t=t.substr(0,52)+"...");n.push(t)}if(n.length>5)break}return n.length===0?e.UnsavedChanges:e.UnsavedChangesWithNames+"\n"+n.join("\n")},n.prototype._isAnyModified=function(){for(var i,n=0,t=this._runningDocEntries.length;n<t;n++)if(i=this._runningDocEntries[n],i.document.isDirty())return!0;return!1},n.prototype._registerUnloadEvent=function(){var n=this,t;r.getService().registerActionWorker(r.CommonActions.ACTION_WINDOW_UNLOAD,function(){if(n.isModified())return n.getUnsavedItemsMessage()});t=$(window);t.bind("beforeunload",function(){try{return r.getService().performAction(r.CommonActions.ACTION_WINDOW_UNLOAD,{})}catch(n){alert(n)}})},n}();t.RunningDocumentsTable=l;a=function(){function n(){this._runningDocumentsTable=y()}return n.prototype.addDeleteListener=function(n){u.getService().attachEvent("tfs-document-delete",n)},n.prototype.removeDeleteListener=function(n){u.getService().detachEvent("tfs-document-delete",n)},n.prototype.addBuildPropertyChangedListener=function(n){u.getService().attachEvent("tfs-document-build-property-changed",n)},n.prototype.removeBuildPropertyChangedListener=function(n){u.getService().detachEvent("tfs-document-build-property-changed",n)},n.prototype.addBuildStoppedListener=function(n){u.getService().attachEvent("tfs-document-build-stopped",n)},n.prototype.removeBuildStoppedListener=function(n){u.getService().detachEvent("tfs-document-build-stopped",n)},n.prototype.addModifiedChangedListener=function(n){u.getService().attachEvent("tfs-document-modified-change",n)},n.prototype.removeModifiedChangedListener=function(n){u.getService().detachEvent("tfs-document-modified-change",n)},n.prototype.isModified=function(n){return this._runningDocumentsTable.isModified(n)},n.prototype.save=function(n,t){var i=this.getActiveDocument();if(i)i.save(n,t);else return this._runningDocumentsTable.beginSave(n,t)},n.prototype.getActiveDocument=function(){return this._activeDocument},n.prototype.setActiveDocument=function(n){this._activeDocument=n},n}();t.DocumentService=a;t.getService=p;t.getRunningDocumentsTable=y});

define("WorkItemTracking/Scripts/Utils/WIFormCIDataHelper",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Controls/Navigation","WorkItemTracking/Scripts/Utils/WitControlMode","VSS/Events/Document"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.WIFormCIDataHelper=void 0;var o;(function(n){function t(){return f.WitFormModeUtility.isMobileForm?r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING_MOBILE:r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING}function o(){var n={OpenInNewTabClicked:"True",FullScreenWhenClicked:u.FullScreenHelper.getFullScreen()?"True":"False"};i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_OPEN_WORK_ITEM_IN_NEW_TAB,n))}function s(){i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.WORKITEM_DISCUSSIONCONTROL,{Action:"Discussion.CommentSave"}))}function h(n,u){var s=e.getService().getActiveDocument(),o,f;s&&(o=s.getWorkItem());f={Tab:n};o&&(f.workItemSessionId=o.sessionId);$.extend(f,u||{});i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_TABSELECTION,f))}function c(n,u){var f={isExpanded:n};$.extend(f,u||{});i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_GROUPCOLLAPSED,f))}function l(n){i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_FIELDKEYBOARDSHORTCUT,{shortcut:"alt + ".concat(n)}))}function a(n,u,f){i.publishEvent(new i.TelemetryEventData(t(),r.WITPerformanceScenario.WORKITEM_FIELDCHANGED,{workItemSessionId:n,fieldRefName:"[NonEmail:".concat(u,"]"),controlType:f},Date.now()))}function v(n){i.publishEvent(new i.TelemetryEventData(t(),r.WITPerformanceScenario.WORKITEM_CLOSED,{workItemSessionId:n,action:"Closing workitem"},Date.now()))}function y(n,u,f){i.publishEvent(new i.TelemetryEventData(t(),r.WITCustomerIntelligenceFeature.CLASSIFICATION_MRU_VALUE_CHANGED,{isSuggestedValue:u,fieldRefName:"[NonEmail:".concat(f,"]")},Date.now()))}n.getArea=t;n.workItemOpenInNewTabEvent=o;n.discussionControlCommentSaveEvent=s;n.workItemTabClick=h;n.groupPanelCollapsed=c;n.fieldKeyboardShortcutPressed=l;n.fieldValueChanged=a;n.workItemDisposed=v;n.classificationPickerValueChanged=y})(o=t.WIFormCIDataHelper||(t.WIFormCIDataHelper={}))});

define("VSS/Identities/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ReadIdentitiesOptions=t.QueryMembership=t.GroupScopeType=t.FrameworkIdentityType=void 0,function(n){n[n.None=0]="None";n[n.ServiceIdentity=1]="ServiceIdentity";n[n.AggregateIdentity=2]="AggregateIdentity";n[n.ImportedIdentity=3]="ImportedIdentity"}(i=t.FrameworkIdentityType||(t.FrameworkIdentityType={})),function(n){n[n.Generic=0]="Generic";n[n.ServiceHost=1]="ServiceHost";n[n.TeamProject=2]="TeamProject"}(r=t.GroupScopeType||(t.GroupScopeType={})),function(n){n[n.None=0]="None";n[n.Direct=1]="Direct";n[n.Expanded=2]="Expanded";n[n.ExpandedUp=3]="ExpandedUp";n[n.ExpandedDown=4]="ExpandedDown"}(u=t.QueryMembership||(t.QueryMembership={})),function(n){n[n.None=0]="None";n[n.FilterIllegalMemberships=1]="FilterIllegalMemberships"}(f=t.ReadIdentitiesOptions||(t.ReadIdentitiesOptions={}));t.TypeInfo={CreateScopeInfo:{},FrameworkIdentityInfo:{},FrameworkIdentityType:{enumValues:{none:0,serviceIdentity:1,aggregateIdentity:2,importedIdentity:3}},GroupScopeType:{enumValues:{generic:0,serviceHost:1,teamProject:2}},IdentityBatchInfo:{},IdentityScope:{},IdentitySnapshot:{},QueryMembership:{enumValues:{none:0,direct:1,expanded:2,expandedUp:3,expandedDown:4}},ReadIdentitiesOptions:{enumValues:{none:0,filterIllegalMemberships:1}}};t.TypeInfo.CreateScopeInfo.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}};t.TypeInfo.FrameworkIdentityInfo.fields={identityType:{enumType:t.TypeInfo.FrameworkIdentityType}};t.TypeInfo.IdentityBatchInfo.fields={queryMembership:{enumType:t.TypeInfo.QueryMembership}};t.TypeInfo.IdentityScope.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}};t.TypeInfo.IdentitySnapshot.fields={scopes:{isArray:!0,typeInfo:t.TypeInfo.IdentityScope}}});

define("VSS/Graph/Contracts",["require","exports","VSS/Identities/Contracts"],function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.GraphTraversalDirection=void 0;var r;(function(n){n[n.Unknown=0]="Unknown";n[n.Down=1]="Down";n[n.Up=2]="Up"})(r=t.GraphTraversalDirection||(t.GraphTraversalDirection={}));t.TypeInfo={AadGraphMember:{},GraphScope:{},GraphScopeCreationContext:{},GraphServicePrincipal:{},GraphTraversalDirection:{enumValues:{unknown:0,down:1,up:2}},GraphUser:{},PagedGraphServicePrincipals:{},PagedGraphUsers:{}};t.TypeInfo.AadGraphMember.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.GraphScope.fields={scopeType:{enumType:i.TypeInfo.GroupScopeType}};t.TypeInfo.GraphScopeCreationContext.fields={scopeType:{enumType:i.TypeInfo.GroupScopeType}};t.TypeInfo.GraphServicePrincipal.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.GraphUser.fields={metadataUpdateDate:{isDate:!0}};t.TypeInfo.PagedGraphServicePrincipals.fields={graphServicePrincipals:{isArray:!0,typeInfo:t.TypeInfo.GraphServicePrincipal}};t.TypeInfo.PagedGraphUsers.fields={graphUsers:{isArray:!0,typeInfo:t.TypeInfo.GraphUser}}});

define("VSS/Profile/Contracts",["require","exports"],function(n,t){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ProfileState=t.AvatarSize=void 0,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(i=t.AvatarSize||(t.AvatarSize={})),function(n){n[n.Custom=0]="Custom";n[n.CustomReadOnly=1]="CustomReadOnly";n[n.ReadOnly=2]="ReadOnly"}(r=t.ProfileState||(t.ProfileState={}));t.TypeInfo={AttributesContainer:{},Avatar:{},AvatarSize:{enumValues:{small:0,medium:1,large:2}},CoreProfileAttribute:{},CreateProfileContext:{},Profile:{},ProfileAttribute:{},ProfileAttributeBase:{},ProfileState:{enumValues:{custom:0,customReadOnly:1,readOnly:2}}};t.TypeInfo.AttributesContainer.fields={attributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ProfileAttribute}};t.TypeInfo.Avatar.fields={size:{enumType:t.TypeInfo.AvatarSize},timeStamp:{isDate:!0}};t.TypeInfo.CoreProfileAttribute.fields={timeStamp:{isDate:!0}};t.TypeInfo.CreateProfileContext.fields={profileState:{enumType:t.TypeInfo.ProfileState}};t.TypeInfo.Profile.fields={applicationContainer:{typeInfo:t.TypeInfo.AttributesContainer},coreAttributes:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.CoreProfileAttribute},profileState:{enumType:t.TypeInfo.ProfileState},timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttribute.fields={timeStamp:{isDate:!0}};t.TypeInfo.ProfileAttributeBase.fields={timeStamp:{isDate:!0}}});

define("VSS/Graph/RestClient",["require","exports","VSS/Graph/Contracts","VSS/Profile/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u,f){"use strict";function et(n){return window.VSS&&window.VSS.VssSDKRestVersion&&ut[window.VSS.VssSDKRestVersion]?u.getClient(ut[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):u.getClient(y,undefined,undefined,undefined,n)}var h,c,o,l,s,e,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ft,ut;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.GraphHttpClient=t.GraphHttpClient3_1=t.GraphHttpClient3_2=t.GraphHttpClient4=t.GraphHttpClient4_1=t.GraphHttpClient5=t.GraphHttpClient5_1=t.GraphHttpClient5_2=t.GraphHttpClient6=t.GraphHttpClient6_1=t.GraphHttpClient7=t.GraphHttpClient7_1=t.GraphHttpClient7_2=t.CommonMethods7_1To7_2=t.CommonMethods6To7_2=t.CommonMethods5_1To7_2=t.CommonMethods5To7_2=t.CommonMethods4To7_2=t.CommonMethods3_2To7_2=t.CommonMethods3_1To7_2=void 0;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getDescriptor=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"048aee0a-7072-4cde-ab73-7af77b1e0b4e",resource:"Descriptors",routeTemplate:"_apis/{area}/{resource}/{storageKey}",routeValues:{storageKey:n},apiVersion:this.descriptorsApiVersion})},t}(f.VssHttpClient);t.CommonMethods3_1To7_2=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateUser=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,routeValues:{userDescriptor:t},apiVersion:this.usersApiVersion,data:n})},t.prototype.listUsers=function(n,t,r){var u={subjectTypes:n&&n.join(","),continuationToken:t,scopeDescriptor:r};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,responseIsCollection:!0,queryParams:u,apiVersion:this.usersApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphUsers:i,continuationToken:t?t.split(","):[]}})},t.prototype.getUser=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,routeValues:{userDescriptor:n},apiVersion:this.usersApiVersion})},t.prototype.deleteUser=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",routeValues:{userDescriptor:n},apiVersion:this.usersApiVersion})},t.prototype.createUser=function(n,t){var r={groupDescriptors:t&&t.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"005e26ec-6b77-4e4f-a986-b3827bf241f5",resource:"Users",routeTemplate:"_apis/{area}/{resource}/{userDescriptor}",responseType:i.TypeInfo.GraphUser,queryParams:r,apiVersion:this.usersApiVersion,data:n})},t.prototype.getSubject=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1d44a2ac-4f8a-459e-83c2-1c92626fb9c6",resource:"Subjects",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.subjectsApiVersion})},t.prototype.lookupSubjects=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"4dd4d168-11f2-48c4-83e8-756fa0de027c",resource:"SubjectLookup",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.subjectLookupApiVersion,data:n})},t.prototype.getStorageKey=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"eb85f8cc-f0f6-4264-a5b1-ffe2e4d4801f",resource:"StorageKeys",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.storageKeysApiVersion})},t.prototype.updateScope=function(n,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",routeValues:{scopeDescriptor:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.scopesApiVersion,data:t})},t.prototype.getScope=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",responseType:i.TypeInfo.GraphScope,routeValues:{scopeDescriptor:n},apiVersion:this.scopesApiVersion})},t.prototype.deleteScope=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",routeValues:{scopeDescriptor:n},apiVersion:this.scopesApiVersion})},t.prototype.createScope=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"21b5fea7-2513-41d0-af78-b8cdb0f328bb",resource:"Scopes",routeTemplate:"_apis/{area}/{resource}/{scopeDescriptor}",requestType:i.TypeInfo.GraphScopeCreationContext,responseType:i.TypeInfo.GraphScope,routeValues:{scopeDescriptor:t},apiVersion:this.scopesApiVersion,data:n})},t.prototype.traverseMemberships=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"5d59d874-746f-4f9b-9459-0e571f1ded8c",resource:"MembershipTraversals",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.membershipTraversalsApiVersion})},t.prototype.lookupMembershipTraversals=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"5d59d874-746f-4f9b-9459-0e571f1ded8c",resource:"MembershipTraversals",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",responseIsCollection:!0,queryParams:r,apiVersion:this.membershipTraversalsApiVersion,data:n})},t.prototype.getMembershipState=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1ffe5c94-1144-4191-907b-d0211cad36a8",resource:"MembershipStates",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},apiVersion:this.membershipStatesApiVersion})},t.prototype.listMemberships=function(n,t,i){var r={direction:t,depth:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e34b6394-6b30-4435-94a9-409a5eef3e31",resource:"MembershipsBatch",routeTemplate:"_apis/{area}/Memberships/{subjectDescriptor}",responseIsCollection:!0,routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.membershipsBatchApiVersion})},t.prototype.removeMembership=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.getMembership=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.checkMembershipExistence=function(n,t){return this._beginRequest({httpMethod:"HEAD",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion}).then(function(){return!0},function(n){if(n.status===404)return!1;throw n;})},t.prototype.addMembership=function(n,t){return this._beginRequest({httpMethod:"PUT",area:"Graph",locationId:"3fd2e6ca-fb30-443a-b579-95b19ed0934c",resource:"Memberships",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}/{containerDescriptor}",routeValues:{subjectDescriptor:n,containerDescriptor:t},apiVersion:this.membershipsApiVersion})},t.prototype.getMemberByDescriptor=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"b9af63a7-5db6-4af8-aae7-387f775ea9c6",resource:"Members",routeTemplate:"_apis/{area}/{resource}/{memberDescriptor}",routeValues:{memberDescriptor:n},apiVersion:this.membersApiVersion})},t.prototype.lookupMembers=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"3d74d524-ae3d-4d24-a9a7-f8a5cf82347a",resource:"MemberLookup",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.memberLookupApiVersion,data:n})},t.prototype.updateGroup=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},customHeaders:{"Content-Type":"application/json-patch+json"},apiVersion:this.groupsApiVersion,data:t})},t.prototype.listGroups=function(n,t,i){var r={scopeDescriptor:n,subjectTypes:t&&t.join(","),continuationToken:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",responseIsCollection:!0,queryParams:r,apiVersion:this.groupsApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphGroups:i,continuationToken:t?t.split(","):[]}})},t.prototype.getGroup=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},apiVersion:this.groupsApiVersion})},t.prototype.deleteGroup=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",routeValues:{groupDescriptor:n},apiVersion:this.groupsApiVersion})},t.prototype.createGroup=function(n,t,i){var r={scopeDescriptor:t,groupDescriptors:i&&i.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"ebbe6af8-0b91-4c13-8cf1-777c14858188",resource:"Groups",routeTemplate:"_apis/{area}/{resource}/{groupDescriptor}",queryParams:r,apiVersion:this.groupsApiVersion,data:n})},t.prototype.getCachePolicies=function(){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"beb83272-b415-48e8-ac1e-a9b805760739",resource:"CachePolicies",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.cachePoliciesApiVersion})},t}(h);t.CommonMethods3_2To7_2=c;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getProviderInfo=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"1e377995-6fa2-4588-bd64-930186abdcfa",resource:"ProviderInfo",routeTemplate:"_apis/{area}/Users/{userDescriptor}/{resource}",routeValues:{userDescriptor:n},apiVersion:this.providerInfoApiVersion})},t}(c);t.CommonMethods4To7_2=o;l=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getFederatedProviderData=function(n,t,i){var r={providerName:t,versionHint:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"5dcd28d6-632d-477f-ac6b-398ea9fc2f71",resource:"FederatedProviderData",routeTemplate:"_apis/{area}/{resource}/{subjectDescriptor}",routeValues:{subjectDescriptor:n},queryParams:r,apiVersion:this.federatedProviderDataApiVersion})},t}(o);t.CommonMethods5To7_2=l;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.querySubjects=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"05942c89-006a-48ce-bb79-baeb8abf99c6",resource:"SubjectQuery",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,apiVersion:this.subjectQueryApiVersion,data:n})},t.prototype.requestAccess=function(n){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Graph",locationId:"8d54bf92-8c99-47f2-9972-b21341f1722e",resource:"RequestAccess",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.requestAccessApiVersion,data:n})},t.prototype.setAvatar=function(n,t){return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",requestType:r.TypeInfo.Avatar,routeValues:{subjectDescriptor:t},apiVersion:this.avatarsApiVersion,data:n})},t.prototype.getAvatar=function(n,t,i){var u={size:t,format:i};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",responseType:r.TypeInfo.Avatar,routeValues:{subjectDescriptor:n},queryParams:u,apiVersion:this.avatarsApiVersion})},t.prototype.deleteAvatar=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"801eaf9c-0585-4be8-9cdb-b0efa074de91",resource:"Avatars",routeTemplate:"_apis/{area}/Subjects/{subjectDescriptor}/{resource}",routeValues:{subjectDescriptor:n},apiVersion:this.avatarsApiVersion})},t}(l);t.CommonMethods5_1To7_2=s;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.translate=function(n,t){var i={masterId:n,localId:t};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"9cacc4da-06e3-474a-a1fa-604dd34a2fa2",resource:"IdentityTranslation",routeTemplate:"_apis/{area}/{resource}",queryParams:i,apiVersion:this.identityTranslationApiVersion})},t}(s);t.CommonMethods6To7_2=e;a=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateServicePrincipal=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,routeValues:{servicePrincipalDescriptor:t},apiVersion:this.servicePrincipalsApiVersion,data:n})},t.prototype.listServicePrincipals=function(n,t){var r={continuationToken:n,scopeDescriptor:t};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,responseIsCollection:!0,queryParams:r,apiVersion:this.servicePrincipalsApiVersion},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphServicePrincipals:i,continuationToken:t?t.split(","):[]}})},t.prototype.getServicePrincipal=function(n){return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,routeValues:{servicePrincipalDescriptor:n},apiVersion:this.servicePrincipalsApiVersion})},t.prototype.deleteServicePrincipal=function(n){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",routeValues:{servicePrincipalDescriptor:n},apiVersion:this.servicePrincipalsApiVersion})},t.prototype.createServicePrincipal=function(n,t){var r={groupDescriptors:t&&t.join(",")};return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"e1dbb0ae-49cb-4532-95a1-86cd89cfcab4",resource:"ServicePrincipals",routeTemplate:"_apis/{area}/{resource}/{servicePrincipalDescriptor}",responseType:i.TypeInfo.GraphServicePrincipal,queryParams:r,apiVersion:this.servicePrincipalsApiVersion,data:n})},t.prototype.resolve=function(n){return this._beginRequest({httpMethod:"POST",area:"Graph",locationId:"2f0cae3a-74a3-4c40-a13b-974889698e6b",resource:"ResolveDisconnectedUsers",routeTemplate:"_apis/{area}/{resource}",apiVersion:this.resolveDisconnectedUsersApiVersion,data:n})},t.prototype.listMembers=function(n,t,i,r,u){var f={continuationToken:n,subjectTypes:t&&t.join(","),subjectKinds:i&&i.join(","),metaTypes:r&&r.join(","),scopeDescriptor:u};return this._beginRequest({httpMethod:"GET",area:"Graph",locationId:"8b9ecdb2-b752-485a-8418-cc15cf12ee07",resource:"Members",routeTemplate:"_apis/{area}/{resource}",responseIsCollection:!0,queryParams:f,apiVersion:this.membersApiVersion_8b9ecdb2},!0).then(function(n){var i=n[0],u=n[1],r=n[2],t=r.getResponseHeader("X-MS-ContinuationToken");return{graphMembers:i,continuationToken:t?t.split(","):[]}})},t}(e);t.CommonMethods7_1To7_2=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.cachePoliciesApiVersion=r.descriptorsApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.providerInfoApiVersion=r.requestAccessApiVersion=r.resolveDisconnectedUsersApiVersion=r.scopesApiVersion=r.servicePrincipalsApiVersion=r.storageKeysApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="7.2-preview.1",r.membersApiVersion=r.membersApiVersion_8b9ecdb2="7.2-preview.2",r}return __extends(t,n),t}(a);t.GraphHttpClient7_2=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="7.1",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.resolveDisconnectedUsersApiVersion=r.scopesApiVersion=r.servicePrincipalsApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="7.1-preview.1",r.membersApiVersion=r.membersApiVersion_8b9ecdb2="7.1-preview.2",r}return __extends(t,n),t}(a);t.GraphHttpClient7_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="7.0",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="7.0-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient7=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="6.1",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="6.1-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient6_1=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="6.0",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.identityTranslationApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="6.0-preview.1",r}return __extends(t,n),t}(e);t.GraphHttpClient6=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="5.2",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.2-preview.1",r}return __extends(t,n),t}(s);t.GraphHttpClient5_2=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.avatarsApiVersion=r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="5.1",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.requestAccessApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectQueryApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.1-preview.1",r}return __extends(t,n),t}(s);t.GraphHttpClient5_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="5.0",r.cachePoliciesApiVersion=r.federatedProviderDataApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="5.0-preview.1",r}return __extends(t,n),t}(l);t.GraphHttpClient5=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="4.1",r.cachePoliciesApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="4.1-preview.1",r}return __extends(t,n),t}(o);t.GraphHttpClient4_1=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.providerInfoApiVersion=r.storageKeysApiVersion="4.0",r.cachePoliciesApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="4.0-preview.1",r}return __extends(t,n),t}(o);t.GraphHttpClient4=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion=r.storageKeysApiVersion="3.2",r.cachePoliciesApiVersion=r.groupsApiVersion=r.memberLookupApiVersion=r.membersApiVersion=r.membershipsApiVersion=r.membershipsBatchApiVersion=r.membershipStatesApiVersion=r.membershipTraversalsApiVersion=r.scopesApiVersion=r.subjectLookupApiVersion=r.subjectsApiVersion=r.usersApiVersion="3.2-preview.1",r}return __extends(t,n),t}(c);t.GraphHttpClient3_2=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.descriptorsApiVersion="3.1",r}return __extends(t,n),t}(h);t.GraphHttpClient3_1=rt;ft=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(v);t.GraphHttpClient=ft;ut={"7.2":v,"7.1":y,"7.0":p,"6.1":w,"6.0":b,"5.2":k,"5.1":d,"5.0":g,"4.1":nt,"4.0":tt,"3.2":it,"3.1":rt};t.getClient=et});

define("VSS/Identities/Picker/Constants",["require","exports"],function(n,t){var i,r,u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.diacriticsRemovalMap=t.PromiseResultStatus=t.ConsumerId=t.PrefixType=t.TelemetryProperties=t.Telemetry=void 0;i=function(){function n(){}return n.Area="IdentityPicker",n.Scenario_GetMru_Rtt="IdentityPicker_MruService_GetMru_Rtt",n.Scenario_AddMru_Rtt="IdentityPicker_MruService_AddMru_Rtt",n.Scenario_RemoveMru_Rtt="IdentityPicker_MruService_RemoveMru_Rtt",n.Scenario_GetDirectory_Rtt="IdentityPicker_IdentityService_GetDirectory_Rtt",n.Scenario_GetConnections_Rtt="IdentityPicker_IdentityService_GetConnections_Rtt",n.Scenario_GetUserConnections_Rtt="IdentityPicker_IdentityService_GetUserConnections_Rtt",n.Scenario_PagingQuerySplit="IdentityPicker_PagingQuerySplit",n.Feature_DropdownControl="DropdownControl",n.Feature_SearchControl="SearchControl",n.Feature_IdCardDialogControl="IdCardDialogControl",n.Feature_DisplayControl="DisplayControl",n.Feature_TwoLayerCache="TwoLayerCache",n.Feature_RequestCache="RequestCache",n.Feature_Select_Mru_NoPrefix="Select_Mru_NoPrefix",n.Feature_Select_Mru_Prefix="Select_Mru_Prefix",n.Feature_Select_Mru_Dir="Select_Mru_Dir",n.Feature_Select_Dir="Select_Dir",n.Feature_Click_IdCard="Click_IdCard",n.Feature_Click_Remove_Mru="Click_Remove_Mru",n.Feature_ApiExceptions="Api_Exceptions",n}();t.Telemetry=i;r=function(){function n(){}return n.prefixType="p_prefixType",n.prefixLength="p_prefixLength",n.userId="p_userId",n.accountProjectCollectionTeam="p_accountProjectCollectionTeam",n.identityTypes="p_identityTypes",n.operationScopes="p_operationScopes",n.maxResults="p_maxResults",n.minResults="p_minResults",n.consumerId="p_consumerId",n.extensionId="p_extensionId",n.entityId="p_entityId",n.exceptionData="p_exceptionData",n.isMru="p_isMru",n.isNonMaterialized="p_isNonMaterialized",n.isTwoLayerCacheHit="p_isTwoLayerCacheHit",n.isDirSearchUid="p_isDirSearchUid",n}();t.TelemetryProperties=r;u=function(){function n(){}return n.SignInAddress="signInAddress",n.DomainSamAccountName="domainSamAccountName",n.EntityId="entityId",n.Vsid="vsid",n.ScopedPrefix="scopedPrefix",n.StringPrefix="stringPrefix",n}();t.PrefixType=u;f=function(){function n(){}return n.UnknownConsumer="UNKNOWN",n}();t.ConsumerId=f;e=function(){function n(){}return n.Fulfilled="fulfilled",n.Rejected="rejected",n}();t.PromiseResultStatus=e;t.diacriticsRemovalMap={A:"A","\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"A","\ua738":"AV","\ua73a":"AV","\ua73c":"AY",B:"B","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B",C:"C","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C",D:"D","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz",E:"E","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E",F:"F","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F",G:"G","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G",H:"H","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H",I:"I","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I",J:"J","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J",K:"K","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K",L:"L","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj",M:"M","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M",N:"N","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj",O:"O","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU",P:"P","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P",Q:"Q","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q",R:"R","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R",S:"S","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S",T:"T","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ",U:"U","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U",V:"V","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY",W:"W","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W",X:"X","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X",Y:"Y","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y",Z:"Z","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z",a:"a","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay",b:"b","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b",c:"c","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c",d:"d","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz",e:"e","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e",f:"f","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f",g:"g","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g",h:"h","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv",i:"i","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i",j:"j","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j",k:"k","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k",l:"l","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj",m:"m","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m",n:"n","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj",o:"o","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo",p:"p","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p",q:"q","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q",r:"r","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r",s:"s","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s",t:"t","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz",u:"u","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u",v:"v","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy",w:"w","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w",x:"x","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x",y:"y","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y",z:"z","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"}});

define("VSS/Identities/Picker/RestClient",["require","exports","VSS/WebApi/Constants","VSS/WebApi/RestClient"],function(n,t,i,r){var u,f;Object.defineProperty(t,"__esModule",{value:!0});t.CommonIdentityPickerHttpClient=t.AbstractIdentityPickerHttpClient=void 0;u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetIdentities=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetIdentities"};},t.prototype.beginGetIdentityImageLocation=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetImageLocation"};},t.prototype.beginGetConnections=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetConnections"};},t.prototype.beginGetIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginGetMru"};},t.prototype.beginPatchIdentityFeatureMru=function(){throw{source:"AbstractIdentityPickerHttpClient",message:"A concrete httpclient should extend AbstractIdentityPickerHttpClient and implement beginPatchMru"};},t}(r.VssHttpClient);t.AbstractIdentityPickerHttpClient=u;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetIdentities=function(n){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentitiesLocationId,httpMethod:"POST",data:n})},t.prototype.beginGetIdentityImageLocation=function(n){var r=this,u={objectId:n};return t._identityImageLocation||(t._identityImageLocation=this._beginGetLocation(i.CommonIdentityPickerResourceIds.ServiceArea,i.CommonIdentityPickerResourceIds.IdentityAvatarLocationId)),t._identityImageLocation.then(function(n){return r.getRequestUrl(n.routeTemplate,n.area,n.resourceName,u,{})})},t.prototype.beginGetConnections=function(n,t){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityConnectionsLocationId,httpMethod:"GET",routeValues:{objectId:n},data:t})},t.prototype.beginGetIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"GET",routeValues:{objectId:n,featureId:t},data:r})},t.prototype.beginPatchIdentityFeatureMru=function(n,t,r){return this._beginRequest({area:i.CommonIdentityPickerResourceIds.ServiceArea,locationId:i.CommonIdentityPickerResourceIds.IdentityFeatureMruLocationId,httpMethod:"PATCH",routeValues:{objectId:n,featureId:t},data:r})},t._identityImageLocation=null,t}(u);t.CommonIdentityPickerHttpClient=f});

define("VSS/Identities/Picker/Cache",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/Constants","VSS/Telemetry/Services"],function(n,t,i,r,u,f){var s,e,o,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TwoLayerCache=t.RequestCache=t.HashCache=t.CacheableTypes=void 0;s=function(){function n(){}return n.guessQueryTokenType=function(t){return r.isGuid(t)&&!r.isEmptyGuid(t)?e.Guid:n._isValidEmail(t)?e.Email:n._isPotentialEntityId(t)?e.UniqueIdentifier:e.Unknown},n._isPotentialEntityId=function(n){var t=n.split(".");return t.length==6&&r.isGuid(t[5])&&!r.isEmptyGuid(t[5])?!0:!1},n._isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n}(),function(n){n[n.Unknown=0]="Unknown";n[n.UniqueIdentifier=1]="UniqueIdentifier";n[n.Guid=2]="Guid";n[n.Email=3]="Email"}(e=t.CacheableTypes||(t.CacheableTypes={}));o=function(){function n(){this._cache={};this._config={expirationIntervalS:86400}}return n.prototype.get=function(n){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};if(!this._cache.hasOwnProperty(n)||!this._cache[n])return null;var t=this._cache[n];return(new Date).getTime()/1e3>t.expiryTimeS?(delete this._cache[n],null):this._cache[n].item},n.prototype.set=function(n,t){if(!n)throw{message:"invalid (null/undefined) key",parameter:"key",source:"HashCache add"};var i={item:t,expiryTimeS:(new Date).getTime()/1e3+this._config.expirationIntervalS};this._cache[n]=i},n.prototype.clear=function(){var n=this._getKeys(),t;if(n&&n.length!=0)for(t in n)delete this._cache[t]},n.prototype.configure=function(n){this._config=n},n.prototype._getKeys=function(){return Object.keys(this._cache)},n}();t.HashCache=o;h=function(){function n(){this._config={delayIntervalMS:n._defaultDelayIntervalMS};this._cache=new o;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})}return n.prototype.getPromise=function(n){this._setOrResetTimer();var t=this._cache.get(n);return t?t:null},n.prototype.setPromise=function(n,t){this._setOrResetTimer();this._cache.set(n,t)},n.prototype.configure=function(n){this._config=n;this._cache.configure({expirationIntervalS:this._config.delayIntervalMS/1e3})},n.prototype._setOrResetTimer=function(){var n=this;this._timeoutHandle&&(clearTimeout(this._timeoutHandle),this._timeoutHandle=null);this._timeoutHandle=window.setTimeout(i.delegate(this,function(){n._cache.clear()}),this._config.delayIntervalMS)},n._defaultDelayIntervalMS=6e4,n}();t.RequestCache=h;c=function(){function n(n){this._redirectors={};this.configure(n);this._objectCache=new o}return n.prototype.configure=function(n){if(!n||!n.getUniqueIdentifier)throw{source:"TwoLayerCache configure",message:"missing config or missing the required getUniqueIdentifier property",parameter:"config"};this._config=n},n.prototype.addRedirector=function(n){if(n===null||n===undefined)throw{source:"TwoLayerCache addRedirector",message:"invalid null/undefined cacheType",parameter:"cacheType"};if(this._redirectors.hasOwnProperty(n.toString()))throw{source:"TwoLayerCache addRedirector",message:"redirector with supplied cacheType already exists: currently at most one redirector supported for a CacheType",parameter:"cacheType"};this._redirectors[n.toString()]=new o},n.prototype.get=function(n,t){return this._queryCache(n,t)},n.prototype.set=function(n,t,i){var u,r,f;if(u=i?i:s.guessQueryTokenType(n).toString(),r=this._config.getUniqueIdentifier(t),!r)throw{source:"TwoLayerCache set",message:"could not retrieve a valid unique identifier from the value"};if(u==e.UniqueIdentifier.toString()||r==n||this._redirectors.hasOwnProperty(u.toString())){if(u==e.UniqueIdentifier.toString()||r==n){this._objectCache.set(n,t);return}f=this._redirectors[u];f.set(n,r);this._objectCache.set(r,t);return}},n.prototype._queryCache=function(n,t){var i,r;return i=t?t:s.guessQueryTokenType(n).toString(),i==e.UniqueIdentifier.toString()?this._objectCache.get(n):this._redirectors.hasOwnProperty(i.toString())?(r=this._redirectors[i].get(n),!r)?null:this._objectCache.get(r):this._objectCache.get(n)},n}();t.TwoLayerCache=c;l=function(){function n(){}return n.traceCacheHit=function(n,t){var r=n!=null,i={};i[u.TelemetryProperties.isTwoLayerCacheHit]=r;f.publishEvent(new f.TelemetryEventData(u.Telemetry.Area,t,i))},n}()});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("VSS/Identities/Picker/Services",["require","exports","VSS/Context","VSS/Locations","VSS/Performance","VSS/Service","VSS/Telemetry/Services","VSS/User/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Identities/Picker/RestClient","VSS/Identities/Picker/Cache","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","q","VSS/LWP"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var b,w,k,d;Object.defineProperty(t,"__esModule",{value:!0});t.MruService=t.IdentityService=t.ServiceHelpers=void 0;b=s.delegate;w=function(){function n(){}return n.getOperationScopeList=function(n){var t=[];return n.IMS&&t.push("ims"),n.Source&&t.push("source"),n.AAD&&t.push("aad"),n.AD&&t.push("ad"),n.WMD&&t.push("wmd"),n.GHB&&t.push("ghb"),t},n.getQueryTypeHint=function(n){var t=void 0;return n?(n.UID&&(t="uid"),t):t},n.getIdentityTypeList=function(t){var i=[];return t.User&&i.push(n.UserEntity),t.Group&&i.push(n.GroupEntity),t.ServicePrincipal&&i.push(n.ServicePrincipalEntity),i},n.getConnectionTypeList=function(n){var t=[];return n.successors?t.push("successors"):n.successors&&t.push("predecessors"),n.managers&&t.push("managers"),n.directReports&&t.push("directReports"),t},n.getDefaultIdentityImage=function(t){return t.entityType.toLowerCase().trim()==n.GroupEntity?t.originDirectory.toLowerCase().trim()==n.VisualStudioDirectory?n.DefaultVsoGroupImage:n.DefaultRemoteGroupImage:n.DefaultUserImage},n.getDistinct=function(n){return n.filter(function(n,t,i){return i.indexOf(n)==t})},n.isAuthenticatedMember=function(){return o.getService().hasClaim(o.UserClaims.Member)},n.getPrefixTypeForTelemetry=function(n){var t,r;return h.isGuid(n)?v.PrefixType.Vsid:(t=n.indexOf("@"),t&&n.indexOf(".",t))?v.PrefixType.SignInAddress:(r=n.indexOf("\\"),r&&r==n.lastIndexOf("\\"))?i.getPageContext().webAccessConfiguration.isHosted?v.PrefixType.ScopedPrefix:v.PrefixType.DomainSamAccountName:n.startsWith("vss.ds.v1")?v.PrefixType.EntityId:v.PrefixType.StringPrefix},n.addScenarioProperties=function(t,i,r,u,f,e){return u&&(i[v.TelemetryProperties.identityTypes]=n.getIdentityTypeList(u)),r&&(i[v.TelemetryProperties.operationScopes]=n.getOperationScopeList(r)),f&&(i[v.TelemetryProperties.maxResults]=f.maxResults,i[v.TelemetryProperties.minResults]=f.minResults),i[v.TelemetryProperties.consumerId]=e?e.consumerId:v.ConsumerId.UnknownConsumer,i[v.TelemetryProperties.userId]=t&&t.getWebContext()&&t.getWebContext().user?t.getWebContext().user.id:"",i[v.TelemetryProperties.accountProjectCollectionTeam]=n._getHostMetadata(t),i},n._getHostMetadata=function(n){var t="",i="",r="",u="";return n&&n.getWebContext()&&(t=n.getWebContext().account?n.getWebContext().account.name:"",i=n.getWebContext().collection?n.getWebContext().collection.name:"",r=n.getWebContext().project?n.getWebContext().project.name:"",u=n.getWebContext().team?n.getWebContext().team.name:""),"account["+t+"]/collection["+i+"]/project["+r+"]/team["+u+"]"},n._defaultProperties=["DisplayName","IsMru","ScopeName","SamAccountName","Active","SubjectDescriptor"],n._defaultUserProperties=["Department","JobTitle","Mail","MailNickname","PhysicalDeliveryOfficeName","SignInAddress","Surname","Guest","TelephoneNumber"],n._defaultGroupProperties=["Description"],n.DefaultUserImage=r.urlHelper.getVersionedContentUrl("ip-content-user-default.png"),n.DefaultVsoGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-vso-group-default.png"),n.DefaultRemoteGroupImage=r.urlHelper.getVersionedContentUrl("ip-content-aad-group-default.png"),n.VisualStudioDirectory="vsd",n.AzureActiveDirectory="aad",n.ActiveDirectory="ad",n.WindowsMachineDirectory="wmd",n.SourceDirectory="src",n.GitHubDirectory="ghb",n.UserEntity="user",n.GroupEntity="group",n.ServicePrincipalEntity="servicePrincipal",n.OptionsMinResultsKey="MinResults",n.OptionsMaxResultsKey="MaxResults",n.ExtensionData_ExtensionIdKey="ExtensionId",n.ExtensionData_ProjectScopeNameKey="ProjectScopeName",n.ExtensionData_CollectionScopeNameKey="CollectionScopeName",n.ExtensionData_ConstraintListKey="Constraints",n.ExtensionData_NoServiceIdentities="NoServiceIdentities",n.GetIdentities_Prefix_Separator=";",n}();t.ServiceHelpers=w;k=function(n){function t(){var i=__construct(this,n,[]),r,u,f;for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return u={getUniqueIdentifier:function(n){return n&&n.identities&&n.identities.length==1?n.identities[0].entityId:null}},i._qtrCache=new l.TwoLayerCache(u),i._qtrCache.addRedirector(l.CacheableTypes.Email),i._qtrCache.addRedirector(l.CacheableTypes.Guid),i._qtrRequestAggregator=new l.RequestCache,i._entityImageRequestAggregator=new l.RequestCache,f=p.getLWPService("IVssContributionService"),i.identitySearchService=t.resolveIdentitySearchService(),i}return __extends(t,n),t.resolveIdentitySearchService=function(){return __awaiter(this,void 0,void 0,function(){var i,r,n,f,t,e,o,u,s,h;return __generator(this,function(c){switch(c.label){case 0:c.trys.push([0,7,,8]);i=p.getLWPService("IVssContributionService");r=i.getContributionsByType("ms.vss-features.preferred-identity-search-service-name");n=[];for(f in r)n.push(f);t=0;c.label=1;case 1:if(!(t<n.length))return[3,6];e=n[t];o=r[e];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,i.getService(o.serviceId)];case 3:return(u=c.sent(),u)?[2,u]:[3,5];case 4:return s=c.sent(),[3,5];case 5:return t++,[3,1];case 6:return[3,8];case 7:return h=c.sent(),[3,8];case 8:return[2,undefined]}})})},t.prototype.getIdentities=function(n,i,r,f,o,s){var tt=this,k,p,h,rt,ct,ft,lt,g,at,et,vt,yt,l,ut,it,st,bt,nt;if(!i){it={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw it;}if(!r){it={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw it;}if(k=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetDirectory_Rtt),p={},p=w.addScenarioProperties(this,p,i,r,f,s),p[v.TelemetryProperties.prefixType]=w.getPrefixTypeForTelemetry(n),p[v.TelemetryProperties.prefixLength]=n.length,p[v.TelemetryProperties.isDirSearchUid]=Boolean(o&&o.UID),h={},rt={},!n)return rt;for(l=[],ct=n.split(w.GetIdentities_Prefix_Separator),ft=0;ft<ct.length;ft++)lt=ct[ft].trim(),lt&&l.push(lt);l=w.getDistinct(l);l.forEach(function(n){h[n.toLowerCase()]=y.defer();rt[n.toLowerCase()]=h[n.toLowerCase()].promise});for(g in h){if(at=t.getUniqueRequestString(g,i,r,f?f.extensionData:null,f?f.getFilterByScope():null),et=this._qtrCache.get(at),et){et.queryToken=g;h[g].resolve(et);l=t._removeQueryToken(g,l);continue}if(vt=this._qtrRequestAggregator.getPromise(at),vt){yt=b(this,function(n){vt.then(b(tt,function(t){h&&h[n]&&h[n].resolve(t)}),b(tt,function(t){h&&h[n]&&h[n].reject(t)}))});yt(g);l=t._removeQueryToken(g,l);continue}}if(l.length==0)return rt;for(ut=0;ut<l.length;ut++)this._qtrRequestAggregator.setPromise(t.getUniqueRequestString(l[ut],i,r,f?f.extensionData:null,f?f.getFilterByScope():null),h[l[ut].toLowerCase()].promise);n=l.join(w.GetIdentities_Prefix_Separator);var pt=w.getIdentityTypeList(r),wt=w.getOperationScopeList(i),ot=w.getQueryTypeHint(o);if(pt.length==0||wt.length==0){it={source:"IdentityService",parameter:"identityType or operationScope",message:"queried identityType or operationScope is/are unsupported"};throw it;}f&&f.httpClient?st=f.httpClient:(bt=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),st=bt);var kt=pt,dt=wt,d={};f&&f.minResults&&(d[w.OptionsMinResultsKey]=f.minResults);f&&f.maxResults&&(d[w.OptionsMaxResultsKey]=f.maxResults);f&&f.extensionData&&(d[w.ExtensionData_ExtensionIdKey]=f.extensionData.extensionId,d[w.ExtensionData_ProjectScopeNameKey]=f.extensionData.projectScopeName,d[w.ExtensionData_CollectionScopeNameKey]=f.extensionData.collectionScopeName,d[w.ExtensionData_ConstraintListKey]=f.extensionData.constraints);nt=w._defaultProperties;r.User&&(nt=nt.concat(w._defaultUserProperties));r.Group&&(nt=nt.concat(w._defaultGroupProperties));var ni=function(n){if(n.results.length<1)return u;var s=function(n){if(k&&k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_End_"+n&&n.results[0]?a.CommonHelpers.GetStringHashCode(n.results[0].queryToken).toString():""),n&&n.results.length!=0){n.results[0].identities.forEach(function(n){n.image||(n.image=w.getDefaultIdentityImage(n))});tt._cacheQueryTokenResult(n.results[0],t.getUniqueRequestString(n.results[0].queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null));var u=n.results[0].queryToken;u&&h[u.toLowerCase().trim()]&&h[u.toLowerCase().trim()].resolve(n.results[0])}},o=function(n){for(var i in h)h[i].reject(n);p[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,p))},u,c=function(n){var e,c,l;n.identities&&n.identities.length==0&&n.pagingToken?(e=f&&f.getFilterByScope(),c={query:n.queryToken,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:e?e.filterByAncestorEntityIds:[],filterByEntityIds:e?e.filterByEntityIds:[],pagingToken:n.pagingToken,options:d},ot&&(c.queryTypeHint=ot),k.addSplitTiming(v.Telemetry.Scenario_PagingQuerySplit+"_Start_"+a.CommonHelpers.GetStringHashCode(n.queryToken).toString()),l=tt.fetchIdentitiesWithInjectionsAsync(st,c).then(s,o),u&&u.push(l)):n.identities&&n.identities.length>=0?(n.identities.forEach(function(n){n.image||(n.image=w.getDefaultIdentityImage(n))}),tt._cacheQueryTokenResult(n,t.getUniqueRequestString(n.queryToken.trim(),i,r,f?f.extensionData:null,f?f.getFilterByScope():null)),n.queryToken&&h[n.queryToken.toLowerCase().trim()]&&h[n.queryToken.toLowerCase().trim()].resolve(n)):o()};n.results.forEach(c,tt);u&&u.length>0?y.allSettled(u).then(function(){k.addData(p);k.end()},function(){k.addData(p);k.end()}):(k.addData(p),k.end())},ti=function(n){for(var i in h)h[i].reject(n);p[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,p));k.end()},ht=f&&f.getFilterByScope(),gt={query:n,identityTypes:kt,operationScopes:dt,properties:nt,filterByAncestorEntityIds:ht?ht.filterByAncestorEntityIds:[],filterByEntityIds:ht?ht.filterByEntityIds:[],options:d};return ot&&(gt.queryTypeHint=ot),this.fetchIdentitiesWithInjectionsAsync(st,gt).then(ni,ti),rt},t.prototype.fetchIdentitiesWithInjectionsAsync=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r,u;return __generator(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,this.identitySearchService];case 1:return i=f.sent(),i&&(r=i.getScopeId(),r&&(t.operationScopes=["ims"],t.options=__assign({ScopeId:r},t.options))),[3,3];case 2:return u=f.sent(),[3,3];case 3:return[2,n.beginGetIdentities(t)]}})})},t.prototype.getIdentityImages=function(n,i){var h=this,l,r,e,o,a,f,s,v,u;if(!n||n.length<=0){l={source:"IdentityService",parameter:"identities",message:"identities null or undefined or empty list"};throw l;}r={};e={};i&&i.httpClient?o=i.httpClient:(a=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),o=a);u=t._getEntityIdsAsQueryTokens(n);u.forEach(function(n){r[n]=y.defer();e[n]=r[n].promise});for(f in r)if(s=this._entityImageRequestAggregator.getPromise(f),s){v=b(this,function(n){s.then(b(h,function(t){r&&r[n]&&r[n].resolve(t)}),b(h,function(t){r&&r[n]&&r[n].reject(t)}))});v(f);u=t._removeQueryToken(f,u);continue}else this._entityImageRequestAggregator.setPromise(f,r[f].promise);return u.length==0?e:(u.forEach(function(n){var t=function(t){var i;t&&t.trim()&&(i={},i[n]=t.trim(),r[n].resolve(i))};o.beginGetIdentityImageLocation(n).then(t)}),e)},t.prototype.getIdentityConnections=function(n,i,r,f,o,s,h){var l,p,a,b,tt,k,it;if(!w.isAuthenticatedMember())return null;if(!n){l={source:"IdentityService",parameter:"identity",message:"identity null or undefined or empty list"};throw l;}if(!i){l={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw l;}if(!r){l={source:"IdentityService",parameter:"identityType",message:"identityType null or undefined"};throw l;}if(!f){l={source:"IdentityService",parameter:"connectionType",message:"connectionType null or undefined"};throw l;}var rt=h?h:1,d=w.getIdentityTypeList(r),g=w.getOperationScopeList(i),nt=w.getConnectionTypeList(f);if(d.length==0||g.length==0||nt.length==0){l={source:"IdentityService",parameter:"identityType or operationScope or connectionType",message:"queried identityType or operationScope or connectionType is/are unsupported"};throw l;}p=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetConnections_Rtt);a={};a=w.addScenarioProperties(this,a,i,r,o,s);a[v.TelemetryProperties.entityId]=n.entityId;b=y.defer();tt=b.promise;o&&o.httpClient?k=o.httpClient:(it=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=it);var ut=w._defaultProperties.concat(w._defaultUserProperties).concat(w._defaultGroupProperties).concat("Manager"),ft={identityTypes:d,operationScopes:g,connectionTypes:nt,depth:rt,properties:ut},et=function(n){n&&n.successors&&n.successors.forEach(function(n){n.image||(n.image=w.getDefaultIdentityImage(n))});p.addData(a);p.end();b.resolve(n)},ot=function(n){a[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);p.addData(a);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,a));p.end();b.reject(n)};return k.beginGetConnections(n.entityId,ft).then(et,ot),tt},t._getEntityIdsAsQueryTokens=function(n){var t=[];return n.forEach(function(n){(n.entityType.trim().toLowerCase()==w.UserEntity||n.entityType.trim().toLowerCase()==w.GroupEntity)&&t.push(n.entityId)}),t},t.prototype._cacheQueryTokenResult=function(n,t){n.queryToken&&n.queryToken.trim()&&n.identities&&n.identities.length==1&&t&&this._qtrCache.set(t,n)},t._removeQueryToken=function(n,t){var i=-1;return t.some(function(t,r){if(n==t.toLowerCase())return i=r,!0}),i>=0&&t.splice(i,1),t},t._getExceptionData=function(n){return n?n.serverError?n.serverError.typeName:n.name:""},t.getUniqueRequestString=function(n,i,r,u,f){var e=w.getIdentityTypeList(r).join(","),o=w.getOperationScopeList(i).join(",");return(n+";"+o+";"+e+";"+t.getExtensionUniqueRequestString(u)+";"+a.FilterByScope.GetHashCode(f).toString()).trim().toLowerCase()},t.getExtensionUniqueRequestString=function(n){return n?a.CommonHelpers.GetStringHashCode(n.collectionScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.projectScopeName).toString()+a.CommonHelpers.GetStringHashCode(n.extensionId).toString()+a.CommonHelpers.GetStringListHashCode(n.constraints).toString():""},t.MIN_RESULTS=40,t.MAX_RESULTS=40,t}(f.VssService);t.IdentityService=k;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getMruIdentities=function(n,i,r,f,o){var l,h,p,s,a,k,b,d;if(!w.isAuthenticatedMember())return null;if(!n){s={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw s;}if(i&&i.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){s={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw s;}if(i="me",r&&r.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){s={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw s;}if(r="common",l=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_GetMru_Rtt),h={},h=w.addScenarioProperties(this,h,null,null,f,o),p=w.getOperationScopeList(n),p.length==0){s={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw s;}a=y.defer();k=a.promise;f&&f.httpClient?b=f.httpClient:(d=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),b=d);var g=w._defaultProperties.concat(w._defaultUserProperties).concat(w._defaultGroupProperties),nt={operationScopes:p,properties:g,filterByAncestorEntityIds:f&&f.filterByScope?f.filterByScope.filterByAncestorEntityIds:[],filterByEntityIds:f&&f.filterByScope?f.filterByScope.filterByEntityIds:[]},tt=function(n){l.addData(h);l.end();a.resolve(n.mruIdentities)},it=function(n){h[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);l.addData(h);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,h));l.end();a.reject(n)};return b.beginGetIdentityFeatureMru(i,r,nt).then(tt,it),k},t.prototype.removeMruIdentities=function(n,i,r,f,o,s){var a,l,b,h,p,d,k,g;if(!w.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r="me",f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f="common",a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_RemoveMru_Rtt),l={},l=w.addScenarioProperties(this,l,null,null,o,s),b=w.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}p=y.defer();d=p.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"remove",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();p.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();p.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t.prototype.addMruIdentities=function(n,i,r,f,o,s){var b,h,a,l,p,d,k,g;if(!w.isAuthenticatedMember())return null;if(!n||n.length==0){h={source:"IdentityService",parameter:"objectIds",message:"objectIds null or undefined or empty"};throw h;}if(!i){h={source:"IdentityService",parameter:"operationScope",message:"operationScope null or undefined"};throw h;}if(r&&r.trim().toLowerCase()!=t.DEFAULT_IDENTITY_ID){h={source:"IdentityService",parameter:"identityId",message:"identityId can only be 'me'"};throw h;}if(r=t.DEFAULT_IDENTITY_ID,f&&f.trim().toLowerCase()!=t.DEFAULT_FEATURE_ID){h={source:"IdentityService",parameter:"featureId",message:"featureId can only be 'common'"};throw h;}if(f=t.DEFAULT_FEATURE_ID,b=w.getOperationScopeList(i),b.length==0){h={source:"IdentityService",parameter:"operationScope",message:"queried operationScope is unsupported"};throw h;}a=u.getScenarioManager().startScenario(v.Telemetry.Area,v.Telemetry.Scenario_AddMru_Rtt);l={};l=w.addScenarioProperties(this,l,null,null,o,s);p=y.defer();d=p.promise;o&&o.httpClient?k=o.httpClient:(g=this.getConnection().getHttpClient(c.CommonIdentityPickerHttpClient),k=g);var nt=[{op:"add",value:n,operationScopes:b}],tt=function(n){a.addData(l);a.end();p.resolve(n.result)},it=function(n){l[v.TelemetryProperties.exceptionData]=t._getExceptionData(n);a.addData(l);e.publishEvent(new e.TelemetryEventData(v.Telemetry.Area,v.Telemetry.Feature_ApiExceptions,l));a.end();p.reject(n)};return k.beginPatchIdentityFeatureMru(r,f,nt).then(tt,it),d},t._getExceptionData=function(n){return n?n.serverError?n.serverError.typeName:n.name:""},t.DEFAULT_IDENTITY_ID="me",t.DEFAULT_FEATURE_ID="common",t}(f.VssService);t.MruService=d});

/*!
 * jQuery UI Button 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/button",["jquery","./controlgroup","./checkboxradio","./keycode","./widget"],t):t(jQuery)}(function(t){"use strict";var i;return t.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,i=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(i.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(i){i.keyCode===t.ui.keyCode.SPACE&&(i.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(i,o){var s="iconPosition"!==i,n=s?this.options.iconPosition:o,e="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,o),this._attachIcon(n),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var i=void 0===t.showLabel?this.options.showLabel:t.showLabel,o=void 0===t.icon?this.options.icon:t.icon;i||o||(t.showLabel=!0),this._super(t)},_setOption:function(t,i){"icon"===t&&(i?this._updateIcon(t,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,i),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,i),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.trigger("blur"))},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,i){"text"!==t?("showLabel"===t&&(this.options.text=i),"icon"===t&&(this.options.icons.primary=i),"icons"===t&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",i)}}),t.fn.button=(i=t.fn.button,function(o){var s="string"==typeof o,n=Array.prototype.slice.call(arguments,1),e=this;return s?this.length||"instance"!==o?this.each(function(){var i,s=t(this).attr("type"),h="checkbox"!==s&&"radio"!==s?"button":"checkboxradio",a=t.data(this,"ui-"+h);return"instance"===o?(e=a,!1):a?"function"!=typeof a[o]||"_"===o.charAt(0)?t.error("no such method '"+o+"' for button widget instance"):(i=a[o].apply(a,n))!==a&&void 0!==i?(e=i&&i.jquery?e.pushStack(i.get()):i,!1):void 0:t.error("cannot call methods on button prior to initialization; attempted to call method '"+o+"'")}):e=void 0:(n.length&&(o=t.widget.extend.apply(null,[o].concat(n))),this.each(function(){var s=t(this).attr("type"),n="checkbox"!==s&&"radio"!==s?"button":"checkboxradio",e=t.data(this,"ui-"+n);if(e)e.option(o||{}),e._init&&e._init();else{if("button"===n)return void i.call(t(this),o);t(this).checkboxradio(t.extend({icon:!1},o))}})),e}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button});

/*!
 * jQuery UI Dialog 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(i){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/dialog",["jquery","./button","./draggable","./mouse","./resizable","./focusable","./keycode","./position","./safe-active-element","./safe-blur","./tabbable","./unique-id","./version","./widget"],i):i(jQuery)}(function(i){"use strict";return i.widget("ui.dialog",{version:"1.13.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=i(this).css(t).offset().top;e<0&&i(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&i.fn.draggable&&this._makeDraggable(),this.options.resizable&&i.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?i(t):this.document.find(t||"body").eq(0)},_destroy:function(){var i,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(i=t.parent.children().eq(t.index)).length&&i[0]!==this.element[0]?i.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:i.noop,enable:i.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||i.ui.safeBlur(i.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var o=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+i(this).css("z-index")}).get(),n=Math.max.apply(null,s);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),o=!0),o&&!e&&this._trigger("focus",t),o},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=i(i.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var i=this._focusedElement;i||(i=this.element.find("[autofocus]")),i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=i.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||i.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(i){i.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=i("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===i.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===i.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),o=e.first(),s=e.last();t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==o[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){o.trigger("focus")}),t.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=i("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){i(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=i("<button type='button'></button>").button({label:i("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),t=i("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(i){this.options.title?i.text(this.options.title):i.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=i("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=i("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),i.isEmptyObject(e)||Array.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(i.each(e,function(e,o){var s,n;o="function"==typeof o?{click:o,text:e}:o,o=i.extend({type:"button"},o),s=o.click,n={icon:o.icon,iconPosition:o.iconPosition,showLabel:o.showLabel,icons:o.icons,text:o.text},delete o.click,delete o.icon,delete o.iconPosition,delete o.showLabel,delete o.icons,"boolean"==typeof o.text&&delete o.text,i("<button></button>",o).button(n).appendTo(t.uiButtonSet).on("click",function(){s.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,e=this.options;function o(i){return{position:i.position,offset:i.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,s){t._addClass(i(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",e,o(s))},drag:function(i,e){t._trigger("drag",i,o(e))},stop:function(s,n){var a=n.offset.left-t.document.scrollLeft(),l=n.offset.top-t.document.scrollTop();e.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(i(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",s,o(n))}})},_makeResizable:function(){var t=this,e=this.options,o=e.resizable,s=this.uiDialog.css("position"),n="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";function a(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,o){t._addClass(i(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",e,a(o))},resize:function(i,e){t._trigger("resize",i,a(e))},stop:function(o,s){var n=t.uiDialog.offset(),l=n.left-t.document.scrollLeft(),h=n.top-t.document.scrollTop();e.height=t.uiDialog.height(),e.width=t.uiDialog.width(),e.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(h>=0?"+":"")+h,of:t.window},t._removeClass(i(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",o,a(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=i(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=i.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var i=this.document.data("ui-dialog-instances");return i||(i=[],this.document.data("ui-dialog-instances",i)),i},_minHeight:function(){var i=this.options;return"auto"===i.height?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(t){var e=this,o=!1,s={};i.each(t,function(i,t){e._setOption(i,t),i in e.sizeRelatedOptions&&(o=!0),i in e.resizableRelatedOptions&&(s[i]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var o,s,n=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:i("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((o=n.is(":data(ui-draggable)"))&&!e&&n.draggable("destroy"),!o&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((s=n.is(":data(ui-resizable)"))&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var i,t,e,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),i=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-i),e="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-i):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,o.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=i(this);return i("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!i(t.target).closest(".ui-dialog").length||!!i(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=i.fn.jquery.substring(0,4),e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(i){if(!e){var o=this._trackingInstances()[0];o._allowInteraction(i)||(i.preventDefault(),o._focusTabbable(),"3.4."!==t&&"3.5."!==t||o._delay(o._restoreTabbableFocus))}}.bind(this)),this.overlay=i("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var i=this.document.data("ui-dialog-overlays")-1;i?this.document.data("ui-dialog-overlays",i):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==i.uiBackCompat&&i.widget("ui.dialog",i.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(i,t){"dialogClass"===i&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),i.ui.dialog});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Identities/Picker/Controls",["require","exports","react","react-dom","VSS/Controls/PopupContent","VSS/FeatureAvailability/Services","VSS/Common/Constants/Platform","VSS/Context","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Identities/Picker/Common","VSS/Identities/Picker/Constants","VSS/Identities/Picker/Services","VSS/Identities/Picker/Cache","VSS/Controls/Notifications","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/Telemetry/Services","VSS/VSS","q","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabbable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){var lt,wt,dt,st,pt,kt,gt,ft,at,ni,bt,yt,ti,ii;Object.defineProperty(t,"__esModule",{value:!0});t.EntityOperationsFacade=t.SourceType=t.SourceId=t.EntityFactory=t.IdentityDisplayControl=t.EDisplayControlType=t.IdentityPickerControlSize=t.IdentityPickerSearchControl=t.IdCardDialog=t.IdentityPickerDropdownControl=void 0;var fi=nt.domElem,ut=d.delegate,ot=nt.KeyCode,ht;(function(n){n[n.SelectNone=-1]="SelectNone";n[n.SelectFirstItem=0]="SelectFirstItem"})(ht||(ht={}));lt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._numItemsDisplayed=0,i._scrollTimeout=100,i._loadOnCreate=!1,i._isFiltered=!0,i._isRepositioning=!1,"eventOptions"in t&&t.eventOptions||(t.eventOptions={uniqueId:ft.getRandomString()}),i.initializeOptionsInternal(t),i}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){this._identityType=n.identityType?n.identityType:{User:!0};this._operationScope=n.operationScope?n.operationScope:{IMS:!0};this._size=n.size!==null&&n.size!==undefined?n.size:st.Large;this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null});this._showContactCard=this._options.showContactCard;this._displayedEntities=[];this._showOnlyMruIdentities=!1;this._enableDirectorySearch();this._options.showMru&&this._disableDirectorySearch();this._isSearchActive=!1;this._preDropdownRender=n.preDropdownRender?n.preDropdownRender:null;this._onDirectorySearchFinished=n.onDirectorySearchFinished?n.onDirectorySearchFinished:null;this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1;this._elementAlign=this._options.alignment&&this._options.alignment.elementAlign?this._options.alignment.elementAlign:"left-top";this._baseAlign=this._options.alignment&&this._options.alignment.baseAlign?this._options.alignment.baseAlign:"left-bottom";this._positioningElement=this._options.alignment&&this._options.alignment.positioningElement?this._options.alignment.positioningElement:null;this._prefix="";v.ServiceHelpers.isAuthenticatedMember()||(this._showContactCard=!1,this._disableDirectorySearch(),this._options.showMru=!1,this._loadOnCreate=!1);this._controlLoaded=null;this._loadOnCreate&&this.load();n.eventOptions&&(this._eventOptions=n.eventOptions)},t.prototype.initializeOptions=function(i){var r=t.DROPDOWN_BASE_CLASS+" "+ft.FIXED_POSTIION_CLASS;n.prototype.initializeOptions.call(this,$.extend({coreCssClass:r,pageSize:i.pageSize?i.pageSize:10},i))},t.prototype.initialize=function(){var i=this,r,u,f;n.prototype.initialize.call(this);r=function(n){n.preventDefault()};this._element.on("mousedown.identityPickerDropdown",ut(this,r));u=function(){return i._scrollTimeout!==null&&(clearTimeout(i._scrollTimeout),i._scrollTimeout=null),i._scrollTimeout=window.setTimeout(ut(i,i._loadNextPage),100),!1};this._options.smallScreenRender&&(this._$suggestedPeople=$("<div/>").addClass("search"),$("<span/>").addClass("status-message").text(w.IdentityPicker_SuggestedPeople).appendTo(this._$suggestedPeople),this._$suggestedPeople.appendTo(this._element));f=this._options.useRemainingSpace?"":Math.min((ft.getSizePx(this._size)+t.IMAGE_MARGINS_PX)*this._options.pageSize-10,t.MAX_HEIGHT)+"px";this._$itemsContainer=$("<ul/>").addClass("items").attr({role:"listbox",id:s.getId().toString(),"aria-label":w.IdentityPicker_AriaLabel}).css({"max-height":f});this._$liveStatus=$("<div/>").addClass("visually-hidden").attr("aria-live","polite");this._element.append(this._$itemsContainer).append(this._$liveStatus);this._$itemsContainer.scroll(ut(this,u))},t.prototype.getItemsListId=function(){return this._$itemsContainer.length?this._$itemsContainer.attr("id"):""},t.prototype.load=function(){return this._getEntityOperationsFacade().load({loadMru:this._options.showMru,filterByScope:this._options.getFilterByScope()})},t.prototype.addIdentitiesToMru=function(n){var r=this,i;if(v.ServiceHelpers.isAuthenticatedMember())try{if(!n||n.length==0)return;if(i=n.filter(function(n){if(!at.isStringPrefixedLocalId(n))return!0}),!i||i.length==0)return;var u=function(n){r._element&&n==!0&&r._getEntityOperationsFacade().refreshUserMru(r._options.getFilterByScope())},f=function(){},e=b.getService(v.MruService);e.addMruIdentities(i,{IMS:!0},v.MruService.DEFAULT_IDENTITY_ID,v.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(u,f);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype.isVisible=function(){return this._isVisible},t.prototype.isFiltered=function(){return this._isVisible&&this._isFiltered},t.prototype.showAllMruIdentities=function(n){var t=this,i;if(n===void 0&&(n=!0),!this._options.showMru){i={source:"showAllMruIdentities",message:"The showMru option needs to be enabled to call showAllMruIdentities"};throw i;}return this.load().then(ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}),ut(this,function(){return t._getUserMruEntitiesPostLoad(n)}))},t.prototype.getIdentities=function(n,t){var i=this;return t===void 0&&(t=!0),this.load().then(ut(this,function(){return i._getIdentitiesPostLoad(n,t)}),ut(this,function(){return i._getIdentitiesPostLoad(n,t)}))},t.prototype.show=function(){var n=this;this.load().then(ut(this,function(){n._showPostLoad()}),ut(this,function(){n._showPostLoad()}))},t.prototype.hide=function(n,i){var r=this,u;if(i===void 0&&(i=!1),this._isVisible=!1,this._element&&(this._element.hide(),this._element.parents().off(".identityPickerDropdown"),["scroll","resize"].map(function(n){document.removeEventListener(n,ut(r,r._handleScrollAndResize))}),this._isRepositioning=!1),!i&&this._options.onHide)this._options.onHide(n);u={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};c.getService().fire(t.HIDE_DROPDOWN_EVENT_INTERNAL,u)},t.prototype.getSelectedIndex=function(){return this._selectedIndex==-1?null:this._selectedIndex<this._displayedEntities.length-1?this._selectedIndex:this._displayedEntities.length-1},t.prototype.getSelectedItem=function(){return this._selectedIndex==-1||this._selectedIndex>this._displayedEntities.length-1?null:this._displayedEntities[this._selectedIndex]},t.prototype.handleKeyEvent=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this.isVisible()?this._prevItem():!0;case ot.DOWN:return this.isVisible()?this._nextItem():(this.show(),!0);case ot.PAGE_UP:return this.isVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this.isVisible()?this._nextPage():!0;case ot.ENTER:return this.isVisible()&&this._searchButtonClickDelegate(),!0;case ot.ESCAPE:return this.isVisible()?(this.hide(n),n.stopPropagation(),!1):!0;case ot.RIGHT:return this.isVisible()&&this._showContactCard&&this._selectedIndex!=-1?(n.stopPropagation(),$(".identity-picker-contact-card-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0;case ot.DELETE:if(this.isVisible()&&this._options.showMru){var t=this.getSelectedItem();return t&&t.isMru&&et.isDirectoryEntityType(t)?(n.stopPropagation(),$(".identity-picker-delete-icon",this._indexedEntityMap[this._selectedIndex]).click(),!1):!0}return!0;default:return!0}},t.prototype.getPrefix=function(){return this._prefix},t.prototype.updatePrefix=function(n){this._prefix=n?n.toLowerCase().trim():"";this._prefix||(this._isSearchActive=!1,this._disableDirectorySearch())},t.prototype.dispose=function(){this._element&&(this._element.off(".identityPickerDropdown"),this._element.parents().off(".identityPickerDropdown"));n.prototype.dispose.call(this)},t.prototype.reset=function(){this._resetSearchStatuses();this._prefix="";this._enableDirectorySearch();this._displayedEntities=[];this._alterStateAndRender(!1,!1);this._disableDirectorySearch()},t.getClassSelector=function(n){return"."+n},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t.prototype._getUserMruEntitiesPostLoad=function(n){var t=this;return n===void 0&&(n=!0),this._isFiltered=!1,this._showOnlyMruIdentities=!0,this._isDropdownVisibleInitially=this._isVisible,this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())||this._alterStateAndRender(!0,!1,n),this.load().then(ut(this,function(){return t.getIdentities(t._prefix,n)}))},t.prototype._enableDirectorySearch=function(){this._isDirectorySearchEnabled=!0},t.prototype._disableDirectorySearch=function(){this._isDirectorySearchEnabled=!1},t.prototype._resetSearchStatuses=function(){this._isSearchActive=!1;this._disableDirectorySearch()},t.prototype._getIdentitiesPostLoad=function(n,t){var i,r;return(t===void 0&&(t=!0),i=rt.defer(),!this._element)?(i.reject(null),i.promise):(this._showLoading(),this._isDropdownVisibleInitially=this._isVisible,this._isSearchActive=!1,this._displayedEntities=[],this._options.showMru&&(this._mruEntities=this._getEntityOperationsFacade().getMruEntitiesUnchecked(this._options.getFilterByScope()),r=v.ServiceHelpers.getIdentityTypeList(this._identityType),this._mruEntities=this._mruEntities.filter(function(n){return r.indexOf(n.entityType.trim().toLowerCase())>=0})),(!n||n.trim().length===0)&&!this._options.smallScreenRender&&(this._resetSearchStatuses(),!this._showOnlyMruIdentities))?(this._prefix=n,this._enableDirectorySearch(),this._alterStateAndRender(!0,!0),this._disableDirectorySearch(),i.resolve([]),i.promise):(n=n.toLowerCase().trim(),this._prefix=n,this._showOnlyMruIdentities)?(this._displayedEntities=this._mruEntities?this._mruEntities:[],this._alterStateAndRender(!1,!1,t),this._showOnlyMruIdentities=!1,this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):(this._options.showMru&&(this._displayedEntities=yt.filterEntities(this._mruEntities,n)),this._isFiltered=!0,this._options.showMru&&!this._isDirectorySearchEnabled)?(this._alterStateAndRender(!0,!1,t),this._getImagesForDisplayedEntities(),i.resolve(this._displayedEntities),i.promise):this._getDirectoryEntitiesWithRender(n,i)},t.prototype._getDirectoryEntitiesWithRender=function(n,t){return this._isSearchActive=!0,this._alterStateAndRender(!0),this._getDirectoryEntities(n,t)},t.prototype._checkIfServerException=function(n){return!n||!("serverError"in n)||!n.serverError||!("typeKey"in n.serverError)?!1:!0},t.prototype._getMessageForIpsAuthorizationException=function(n){if(n.serverError.typeKey.trim()=="IdentityPickerAuthorizationException"&&n.serverError.customProperties!=null){var i=n.serverError.customProperties.identityPickerAuthorizationExceptionType,t=w.IdentityPicker_ErrorAuthorizationException;return i==kt.IsGuestUser&&(t=w.IdentityPicker_GuestUserException),t}return null},t.prototype._getDirectoryEntities=function(n,i,r){var u=this,s,c;r===void 0&&(r=!1);var f=function(t){u._element&&(u._isSearchActive=!1,n===u._prefix&&n.length>=1&&(u._displayedEntities=t?t.identities:[],u._alterStateAndRender(!0)),u._onDirectorySearchFinished&&u._onDirectorySearchFinished(u._displayedEntities,n),i.resolve(u._displayedEntities))},e=function(r){if(r&&h.logError("_getDirectoryEntities/getIdentitiesErrorCallback:"+JSON.stringify(r)),n===u._prefix)if(u._checkIfServerException(r)){var f=u._getMessageForIpsAuthorizationException(r);f&&u._showError($("<span/>").text(f+" [").append($("<a><\/a>").attr("href",t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK).text(w.IdentityPicker_ErrorMoreDetails).attr("target","_blank")).append($("<span/>").text("]")))}else u._showError(w.IdentityPicker_ErrorLoadingIdentities);u._isSearchActive=!1;i.reject(r?r:null)},o=this._options.getFilterByScope();return l.FilterByScope.isFilterByScopeEmpty(o)?f(null):(s={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,sources:this._options.showMru?[ct.Directory,ct.Mru]:[ct.Directory],filterByScope:o},c=this._getEntityOperationsFacade().search(s).then(function(n){for(var t in n.queryTokenResponse)n.queryTokenResponse[t].then(ut(u,f),ut(u,e))},e)),i.promise},t.prototype._getImagesForDisplayedEntities=function(){var n=this,i=function(i){if(n._element){if(!i)return;n._displayedEntities.forEach(ut(n,function(r){i.hasOwnProperty(r.entityId)&&i[r.entityId]&&(r.image=i[r.entityId],$(t.getClassSelector(t.AVATAR_CLASS),n._$itemsContainer).each(function(n,t){t.hasAttribute("data-objectid")&&t.getAttribute("data-objectid")===r.entityId&&t.setAttribute("src",i[r.entityId])}))}))}},r=function(n){n&&h.logError("_getImagesForDisplayedEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},sources:[ct.Directory]};this._getEntityOperationsFacade().getImagesForEntities(this._displayedEntities,u).then(i,r)},t.prototype._showPostLoad=function(){var n=this,i;if(this._element){this._isVisible=!0;this._element.show();this._setPosition();this._element.parents().on("scroll.identityPickerDropdown resize.identityPickerDropdown",ut(this,this._handleScrollAndResize));["scroll","resize"].map(function(t){document.addEventListener(t,ut(n,n._handleScrollAndResize))});this._isRepositioning=!1;i={uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};c.getService().fire(t.SHOW_DROPDOWN_EVENT_INTERNAL,i)}},t.prototype._handleScrollAndResize=function(){var n=this;this._isRepositioning||(this._isRepositioning=!0,d.delay(this,500,ut(this,function(){n._isRepositioning=!1;n._setPosition()})))},t.prototype._constructDropdown=function(n,t,i){n===void 0&&(n=!1);t===void 0&&(t=!0);i===void 0&&(i=!0);this._indexedEntityMap={};t&&this._setupDom();n?this._setSelectedIndex(this._selectedIndex<this._displayedEntities.length?this._selectedIndex:this._isSearchActive?this._displayedEntities.length-1:-1,!0,nt.Positioning.VerticalScrollBehavior.Top):(this._selectedIndex=ht.SelectNone,i&&this._numItemsDisplayed>0?this._setSelectedIndex(ht.SelectFirstItem,!1):this._setSelectedIndex(ht.SelectNone,!1))},t.prototype._removeIdentityFromMru=function(n){var i=this;try{if(at.isStringPrefixedLocalId(n))return;var r=function(n){i._element&&n==!0&&i._getEntityOperationsFacade().refreshUserMru(i._options.getFilterByScope())},u=function(){},f=b.getService(v.MruService);f.removeMruIdentities([n],{IMS:!0},v.MruService.DEFAULT_IDENTITY_ID,v.MruService.DEFAULT_FEATURE_ID,{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(r,u);this._disableDirectorySearch()}catch(t){if(t!==Object(t)||!("source"in t)||t.source!="MruService")throw t;}},t.prototype._alterStateAndRender=function(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!0),this._element){if(n||this.hide(void 0,!0),this._prefix&&this._prefix.trim().length!=0||(this._isSearchActive=!1),this._displayedEntities=this._displayedEntities||[],this._preDropdownRender&&(this._displayedEntities=this._preDropdownRender(this._displayedEntities,this._isDirectorySearchEnabled)),this._constructDropdown(t,!0,i),!this._isSearchActive&&!this._prefix&&this._displayedEntities.length==0){this.hide();return}n&&(!this._isDropdownVisibleInitially||this._isVisible)&&this.show()}},t.prototype._fireActiveDescendantUpdate=function(n){var i={activeDescendantId:n,uniqueId:this._eventOptions?this._eventOptions.uniqueId:null};c.getService().fire(t.UPDATE_ACTIVE_DESCENDANT_ID,i)},t.prototype._setSelectedIndex=function(n,t,i){i===void 0&&(i=nt.Positioning.VerticalScrollBehavior.Bottom);var r=n!==null&&n!==undefined&&this._indexedEntityMap&&this._indexedEntityMap[n]&&(this._selectedIndex!==n||!this._indexedEntityMap[this._selectedIndex].hasClass("selected"));r?(this._selectedIndex=n,this._clearItemsSelection(this._element.find(".search")),this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(this._indexedEntityMap[this._selectedIndex]),t&&this._scrollItemIntoView(this._selectedIndex,i)):isNaN(n)||(this._selectedIndex=n)},t.prototype._scrollItemIntoView=function(n,t){n!==null&&n!==undefined&&nt.Positioning.scrollIntoViewVertical(this._indexedEntityMap[n],t)},t.prototype._setPosition=function(){var n,i,r,u,e,f,o;this._element&&(n=this._getPositioningElement(),this._options.width?this._element.width(this._options.width):(i=n.outerWidth()-t.DROPDOWN_BORDER_PX,this._element.width(i<t.MIN_WIDTH?t.MIN_WIDTH:i)),n.is(":visible")&&nt.Positioning.position(this.getElement(),n,{elementAlign:this._elementAlign,baseAlign:this._baseAlign,overflow:"fit-flip"}),r=$(window),u=this._element.offset().top+this._element.height()-r.height()-r.scrollTop(),u>0&&(e=parseInt(this._$itemsContainer.css("max-height")),this._$itemsContainer.css("max-height",e-u+"px")),this._options.useRemainingSpace&&(this._element.width(""),this._element.css("left",""),this._element.addClass("use-remaining-space"),f=this._element.position().top,o="calc(100% - "+f+"px)",this._element.css("max-height",o),this._element.css("top",f+"px")),this._options.smallScreenRender&&this._element.addClass("small-screen"))},t.prototype._getPositioningElement=function(){var n=this._positioningElement;return typeof n=="function"&&(n=n()),n||(n=this.getElement().parent()),n},t.prototype._showLoading=function(){this._$liveStatus.detach();this._$itemsContainer.detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._$liveStatus.text(w.IdentityPicker_LoadingIdentities);this._$itemsContainer.empty().attr("aria-busy","true").appendTo(this._element);var n=$("<div/>").addClass("search").appendTo(this._element),t=s.BaseControl.createIn(k.StatusIndicator,n,{center:!1,message:w.IdentityPicker_LoadingIdentities});t.start()},t.prototype._showError=function(n){var t=typeof n=="string"||n instanceof String?$("<span/>").text(n):n,i,r;this._$liveStatus.text(t.text());i=$(".search",this._element).empty().addClass("search-error");r=s.BaseControl.createIn(p.MessageAreaControl,i,{closeable:!1,message:{header:t,type:p.MessageAreaType.Error},showIcon:!1})},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(!0),this._selectedIndex<this._displayedEntities.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._options.pageSize),this._setSelectedIndex(n<this._displayedEntities.length?n:this._displayedEntities.length-1,!0,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._displayedEntities.length-this._options.pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._options.pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,!0,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextItem=function(){if(this._selectedIndex===this._displayedEntities.length-1){var n=this._element.find(".search");n.is(":visible")?(this._selectedIndex=ht.SelectNone,this._clearItemsSelection(this._$itemsContainer.find("li")),this._selectItem(n)):this._setSelectedIndex(ht.SelectFirstItem,!0)}else this._selectedIndex<this._displayedEntities.length-1&&this._setSelectedIndex(this._selectedIndex+1,!0);return!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._displayedEntities&&this._displayedEntities.length?(this._clearItemsSelection(this._element.find(".search")),this._setSelectedIndex(this._displayedEntities.length-1,!0)):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,!0,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._selectItem=function(n){var t=n.attr("id")?n.attr("id"):s.getId().toString();n.addClass("selected").attr({id:t,"aria-selected":"true"});this._fireActiveDescendantUpdate(t)},t.prototype._clearItemsSelection=function(n){n.removeClass("selected").attr("aria-selected","false")},t.prototype._createItem=function(n){var t=this,r={deleteIconClickDelegate:ut(this,function(n,i){var r=t._mruEntities.indexOf(n);r>=0&&t._mruEntities.splice(r,1);r=t._displayedEntities.indexOf(n);r>=0&&t._displayedEntities.splice(r,1);i.remove();n.localId&&n.localId.trim()&&t._removeIdentityFromMru(n.localId);t._numItemsDisplayed=Math.min(t._displayedEntities.length,Math.max(t._options.pageSize,t._numItemsDisplayed));t._$searchResultStatus.remove();t._$searchResultStatus=t._constructSearchResultStatus();t._showAdditionalInformation()}),entityListItemClickDelegate:ut(this,function(n){if(t._logSelectedEntity(n),typeof t._options.onItemSelect=="function")t._options.onItemSelect(n)})},u={operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null},f={consumerId:this._options.consumerId},e=this._displayedEntities[n],i=(new ui).withIdentityServiceOptions(u).withIdentityExtensionOptions(f).withPrefix(this._prefix&&this._prefix.trim()&&!this._showOnlyMruIdentities?this._prefix:"").withEntity(e).forControlOfSize(this._size).registerCallbacks(r).withContactCard(this._showContactCard,this._options.focusElementOnContactCardClose).withHoverSupport(!this._options.useRemainingSpace).withSmallScreenRender(this._options.smallScreenRender).withDialogAppendTo(this._options.dialogAppendTo).build();return this._indexedEntityMap[n]=i,i},t.prototype._logSelectedEntity=function(n){var r=!1,u=!1,i,t,f;try{i=a.Telemetry.Feature_DropdownControl;(n.originDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory||n.localDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory)&&(r=!0);n.isMru&&(u=!0);this._prefix?this._options.showMru?i=this._isDirectorySearchEnabled?a.Telemetry.Feature_Select_Mru_Dir:a.Telemetry.Feature_Select_Mru_Prefix:this._isDirectorySearchEnabled&&(i=a.Telemetry.Feature_Select_Dir):this._options.showMru&&(i=a.Telemetry.Feature_Select_Mru_NoPrefix);t={};t[a.TelemetryProperties.prefixType]=v.ServiceHelpers.getPrefixTypeForTelemetry(this._prefix);t[a.TelemetryProperties.prefixLength]=this._prefix.length;t[a.TelemetryProperties.consumerId]=this._options&&this._options.consumerId?this._options.consumerId:null;t[a.TelemetryProperties.extensionId]=this._options&&this._options.extensionData&&this._options.extensionData.extensionId?this._options.extensionData.extensionId:null;t[a.TelemetryProperties.identityTypes]=v.ServiceHelpers.getIdentityTypeList(this._options.identityType);t[a.TelemetryProperties.operationScopes]=v.ServiceHelpers.getOperationScopeList(this._options.operationScope);t[a.TelemetryProperties.isMru]=u;t[a.TelemetryProperties.isNonMaterialized]=!r;t[a.TelemetryProperties.maxResults]=this._options&&this._options.maxResults?this._options.maxResults:v.IdentityService.MAX_RESULTS;t[a.TelemetryProperties.minResults]=this._options&&this._options.minResults?this._options.minResults:v.IdentityService.MIN_RESULTS;t[a.TelemetryProperties.entityId]=n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?at.STRING_ENTITY_TYPE:n.entityId;t[a.TelemetryProperties.consumerId]=this._options.consumerId;f=b.getService(v.IdentityService);t=v.ServiceHelpers.addScenarioProperties(b.getService(v.IdentityService),t);tt.publishEvent(new tt.TelemetryEventData(a.Telemetry.Area,i,t))}catch(e){}},t.prototype._setupDom=function(){var n,t,i;this._$liveStatus.text("").detach();this._$itemsContainer.empty().removeAttr("aria-busy").detach();this._element.empty();this._$liveStatus.appendTo(this._element);this._setupEntitiesInDom();n=!1;!this._isDirectorySearchEnabled&&this._options.showMru&&this._prefix&&!this._showOnlyMruIdentities&&(t=this._constructSearchButton().appendTo(this._element),this._$itemsContainer.attr("aria-owns",t.attr("id")),n=!0,this._displayedEntities&&this._displayedEntities.length||(this._selectedIndex=ht.SelectNone,this._selectItem(t)));this._displayedEntities&&this._displayedEntities.length>0&&(this._$searchResultStatus=this._constructSearchResultStatus());n&&(i=this._$liveStatus.text(),this._$liveStatus.text((i?i+". ":"")+w.IdentityPicker_SearchButtonShownInDropdown));this._showAdditionalInformation()},t.prototype._showAdditionalInformation=function(){this._displayedEntities.length===0&&(this._isSearchActive||this._options.showMru&&!this._getEntityOperationsFacade().isUserMruReady(this._options.getFilterByScope())?this._showLoading():(!this._options.showMru||this._isDirectorySearchEnabled&&this._prefix||this._showOnlyMruIdentities)&&(this._$liveStatus.text(w.IdentityPicker_NoResult),(this._options.showNoIdentitiesFound||this._options.showNoIdentitiesFound===undefined||this._options.showNoIdentitiesFound===null)&&this._constructInformativeMessage(w.IdentityPicker_NoResult).appendTo(this._element)));this._$suggestedPeople&&(this._displayedEntities.length>0?this._$suggestedPeople.show():this._$suggestedPeople.hide())},t.prototype._setupEntitiesInDom=function(){var n,i;if(this._options.smallScreenRender&&this._$suggestedPeople.appendTo(this._element),this._$itemsContainer.empty().appendTo(this._element),this._displayedEntities.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._displayedEntities.length,Math.max(this._options.pageSize,this._numItemsDisplayed)),n=0;n<this._numItemsDisplayed;n++)n>this._displayedEntities.length-1||(i=this._createItem(n),i&&(this._$itemsContainer.append(i),this._options.smallScreenRender||i.height(i.height()+t.IMAGE_MARGINS_PX)))},t.prototype._constructSearchResultStatus=function(){var n=$("<div/>").addClass("search-result-status").appendTo(this._element),t,i;return this._displayedEntities.length==1&&this._numItemsDisplayed==this._displayedEntities.length?(t=g.format(w.IdentityPicker_SingleResultStatus,this._displayedEntities.length),this._$liveStatus.text(t),n.text(t)):this._displayedEntities.length>1&&this._numItemsDisplayed<=this._displayedEntities.length?(i=g.format(w.IdentityPicker_MultipleResultStatus,this._displayedEntities.length),this._$liveStatus.text(i),n.text(i)):n.hide(),n},t.prototype._constructSearchButton=function(){var n=$("<div/>").addClass("search").attr({role:"button option","aria-label":w.IdentityPicker_SearchButtonLabel,tabindex:"0",id:s.getId().toString()}),t=$("<span/>").addClass("bowtie-icon bowtie-search identity-picker-search-icon"),i=$("<span/>").addClass("status-message").text(w.IdentityPicker_SearchButton);return n.append(t).append(i),n.click(ut(this,this._searchButtonClickDelegate)),n},t.prototype._constructInformativeMessage=function(n){return $("<div/>").addClass("no-result").append($("<span/>").addClass("status-message").text(n).attr("role","alert"))},t.prototype._loadNextPage=function(n){var u,r,i;if(n===void 0&&(n=!1),u=this._$itemsContainer.scrollTop()+this._$itemsContainer.outerHeight()>=this._$itemsContainer[0].scrollHeight-5,n||u){for(r=this._numItemsDisplayed;r<this._numItemsDisplayed+Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);r++)i=this._createItem(r),i&&(this._$itemsContainer.append(i),i.height(i.height()+t.IMAGE_MARGINS_PX));this._numItemsDisplayed+=Math.min(this._displayedEntities.length-this._numItemsDisplayed,this._options.pageSize);this._$searchResultStatus.remove();this._$searchResultStatus=this._constructSearchResultStatus()}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._searchButtonClickDelegate=function(){this._enableDirectorySearch();this.getIdentities(this._prefix)},t.SHOW_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-show",t.HIDE_DROPDOWN_EVENT_INTERNAL="identity-picker-dropdown-hide",t.UPDATE_ACTIVE_DESCENDANT_ID="identity-picker-dropdown-update-active-descendant-id",t.DROPDOWN_BASE_CLASS="identity-picker-dropdown",t.IMAGE_MARGINS_PX=8,t.MIN_WIDTH=300,t.MAX_HEIGHT=240,t.DROPDOWN_BORDER_PX=2,t.IP_AUTHORIZATION_EXCEPTION_DETAILS_LINK="https://aka.ms/c0eo4d",t.AVATAR_CLASS="identity-picture",t}(s.Control);t.IdentityPickerDropdownControl=lt;wt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._scrollTimeout=100,i._pageSize=10,i._selectedIndex=ht.SelectNone,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:402,height:70,resizable:!1,modal:!1,draggable:!0,autoOpen:!0,closeOnEscape:!1,cssClass:"idcard-dialog-content",closeText:w.CloseButtonLabelText},t))},t.prototype.initialize=function(){var u,i,f,e;n.prototype.initialize.call(this);this._previousFocusedElement=$(document.activeElement);this._element.dialog(this._options);this._$idCardDialog=this._element.closest(t.JQUERY_UI_DIALOG_CLASS).addClass("idcard-dialog").attr("visibility","hidden");this._$idCardDialog.on("dialogclose.contactCard",ut(this,this._onIdCardClose));this._$idCardDialog.on("keydown.contactCard",ut(this,this._onKeyDown));if(this._$idCardDialog.css("z-index",t._getHigherZIndex("div"+t.JQUERY_UI_DIALOG_CLASS)),$(".ui-icon-closethick",this._$idCardDialog).addClass("bowtie-icon bowtie-navigate-close"),this._repositionDialog(),this._$idCardDialog.hide(),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),u=$(".cards-container"),u.length>0&&r.unmountComponentAtNode(u[0]),this._$idCardDialog.attr("id",t.ID_CARD_DIALOG_ID),this._options.identity){if(i=this._options.identity,!et.isDirectoryEntityType(i)){f={source:"IdCardDialog initialize",message:"The IdCardDialog can only be initialized with a user or group IEntity"};throw f;}e=et.getUniqueIdentifierForDisambiguation(i);this._$idCardDialog.attr("data-prefix",e.toLowerCase());this._getIdentitiesSuccess({queryToken:null,identities:[i]});!ft.isOnPremiseEnvironment()&&i.localDirectory&&i.localDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory&&this._operationScope&&(this._operationScope.AAD||this._operationScope.Source)&&this._getDirectoryEntities(i.entityId)}else this._$idCardDialog.attr("data-prefix",this._options.uniqueIdentifier.toLowerCase()),this._getDirectoryEntities(this._options.uniqueIdentifier)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t._getHigherZIndex=function(n){var t,i=1001;return $(n).each(function(n,r){t=$(r).css("z-index");!isNaN(t)&&t>i&&(i=t)}),++i},t.prototype._repositionDialog=function(){var t={elementAlign:"left-top",baseAlign:"left-bottom",overflow:"none-none"},n,i,r;this._options.anchorContainer?(n=$(this._options.anchorContainer).offset(),t.leftOffsetPixels=n.left,t.topOffsetPixels=n.top,t.skipZIndexSetting=!0):n=this._options.anchor.offset();nt.Positioning.position(this._$idCardDialog,this._options.anchor,t);i=this._options.leftValue&&this._options.leftValue>0?this._options.leftValue:n.left;i+this._$idCardDialog.outerWidth()<$(window).width()+$(window).scrollLeft()?this._$idCardDialog.css("left",i):this._$idCardDialog.css("left",i-this._$idCardDialog.outerWidth()+this._options.anchor.outerWidth());r=this._options.topValue&&this._options.topValue>0?this._options.topValue:n.top+this._options.anchor.outerHeight();r+this._$idCardDialog.outerHeight()<$(window).height()+$(window).scrollTop()?this._$idCardDialog.css("top",r):this._$idCardDialog.css("top",r-this._$idCardDialog.outerHeight()-this._options.anchor.outerHeight())},t.prototype._getDirectoryEntities=function(n){var t=this,i={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},r=this._getEntityOperationsFacade().search(i).then(function(n){for(var i in n.queryTokenResponse)n.queryTokenResponse[i].then(ut(t,t._getIdentitiesSuccess),ut(t,t._getIdentitiesFailure))},this._getIdentitiesFailure)},t.prototype._getIdentitiesFailure=function(){c.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._getIdentitiesSuccess=function(n){var r,u;if(!n||!n.identities||n.identities.length<1){this._getIdentitiesFailure(n);return}this._identity=n.identities[0];var o=f.FeatureAvailabilityService.isFeatureEnabled(e.WebPlatformFeatureFlags.ReactProfileCard),s=this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.UserEntity,i=this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.GroupEntity,h=window.top!==window.self,l=this._options.useOfficeFabricProfileCard!==null&&this._options.useOfficeFabricProfileCard!==undefined?this._options.useOfficeFabricProfileCard:!h;if(o&&l&&(s||i))this._displayReactIdCard(i);else{if(!v.ServiceHelpers.isAuthenticatedMember())return;r=et.getUniqueIdentifierForDisambiguation(this._identity);u=et.getSignInAddress(this._identity);(this._$idCardDialog.attr("data-prefix")&&r.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0||u.toLowerCase().indexOf(this._$idCardDialog.attr("data-prefix").toLowerCase())===0)&&this._element&&this._displayIdCard()}c.getService().fire(t.IDCARD_LOADED_EVENT)},t.prototype._displayReactIdCard=function(n){var t=this,s=$("body").eq(0),f=s.find(".cards-container"),u,e,o,h;if(f.length===0&&(f=$("<div class='cards-container' />").appendTo(s)),u=this._options.anchor,u&&u.attr("role")==="row"&&(u=u.children()),e=u[0],this._options.leftValue!==undefined&&this._options.topValue!==undefined&&this._options.leftValue!==null&&this._options.topValue!==null&&(e={x:this._options.leftValue,y:this._options.topValue}),o=function(){r.unmountComponentAtNode(f[0]);$(".ui-dialog-content",$(".idcard-dialog")).dialog("close")},n){var c=function(n){var i=b.getService(v.IdentityService);return i.getIdentityConnections(n,t._operationScope,{User:!0,Group:!0},{successors:!0},{httpClient:t._options.httpClient},{consumerId:t._options.consumerId})},l=function(n){var i={identityServiceOptions:{operationScope:t._operationScope,identityType:t._identityType,httpClient:null,extensionData:null},identityExtensionOptions:{consumerId:t._options?t._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:["Directory"]};return t._getEntityOperationsFacade().search(i).then(function(n){var t=Object.keys(n.queryTokenResponse)[0];return n.queryTokenResponse[t].then(function(n){return n.identities[0]})})},y=u[0],p={getEntityFromUniqueAttribute:l,identity:this._identity,onDismissCallback:o,onRequestConnectionInformation:c,target:y};it.using(["VSSUI/IdentityCard"],function(n){var t=i.createElement(n.IdentityCard,p);r.render(t,f[0])})}else h={identity:this._identity,target:e,entityOperationsFacade:this._getEntityOperationsFacade(),consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer,onDismissCallback:o},it.using(["VSS/Identities/Picker/PersonaCard"],function(n){var t=i.createElement(n.PersonaCard,h);r.render(t,f[0])})},t.prototype._displayIdCard=function(){var n=this,t,o,s,e,h,y;this._$idCardDialog.attr("data-objectid",this._identity.entityId);$("body").on("mousedown.contactCard",ut(this,this._onIdCardBlur));$(".ui-dialog-buttonpane",this._$idCardDialog).hide();this._element.empty();$(".identity-picker-idcard-header").empty();var l=$("<div/>").addClass("identity-picker-idcard-header").prependTo($(".ui-dialog-titlebar",this._$idCardDialog)),b=$("<div/>").addClass("identity-picker-idcard-image").appendTo(l),a=$("<div/>").addClass("identity-picker-idcard-basicinfo").appendTo(l),f=et.getDisplayName(this._identity),k=v.ServiceHelpers.getDefaultIdentityImage(this._identity),d=ft.createImgElement(k,this._identity.image?this._identity.image:"","user-picture-card");if(d.attr("alt",f).appendTo(b),t=et.getSignInAddress(this._identity),t.trim()||this._options.uniqueIdentifier&&ft.isValidEmail(this._options.uniqueIdentifier)&&(t=this._options.uniqueIdentifier),o=$("<div/>").addClass("identity-picker-idcard-basicinfo-name").appendTo(a).text(f),u.RichContentTooltip.addIfOverflow(f,o,{menuContainer:o}),s=$("<div/>").addClass("identity-picker-idcard-ellipsis-overflow").appendTo(a),ft.isValidEmail(t)?$("<a/>").attr({"aria-label":w.IdentityPicker_IdCardSendEmail,href:"mailto:"+t,tabindex:"0"}).text(t).appendTo(s):s.text(t),this._$liveStatus=$("<div/>").addClass("visually-hidden").attr("aria-live","polite").appendTo(this._$idCardDialog),$(".ui-dialog-title",this._$idCardDialog).text(g.format(w.IdentityPicker_ContactCardInformation,f)),this._$idCardDialog.attr("name",f),e=(new ri).getIdentityAttributes(this._identity),this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.UserEntity){h=e.toRows();for(y in h)this._element.append(h[y])}else if(this._identity.entityType.trim().toLowerCase()==v.ServiceHelpers.GroupEntity){var p=$("<div/>").addClass("identity-picker-idcard-row").attr("role","tablist").appendTo(this._element),i=$("<span/>").addClass("identity-picker-idcard-tab").text(w.IdentityPicker_IdCardInfo).attr({tabindex:"0",id:"identity-picker-idcard-tab-info",role:"tab","aria-selected":"true"}).appendTo(p),r=$("<span/>").addClass("identity-picker-idcard-tab identity-picker-idcard-unselected-tab").text(w.IdentityPicker_IdCardMembers).attr({tabindex:"0",id:"identity-picker-idcard-tab-members",role:"tab","aria-selected":"false"}).appendTo(p),c=e.toRows()[0].attr({role:"tabpanel","aria-labelledby":"identity-picker-idcard-tab-info"});this._element.append(c);this._constructMemberTabContent().appendTo(this._element);this._getDirectoryMemberEntities(this._identity);i.click(ut(this,function(){i.hasClass("identity-picker-idcard-unselected-tab")&&(i.removeClass("identity-picker-idcard-unselected-tab"),i.attr("aria-selected","true"),r.attr("aria-selected","false"),r.addClass("identity-picker-idcard-unselected-tab"),n._$groupMembersContainer.parent().hide(),c.show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"))}));r.click(ut(this,function(){r.hasClass("identity-picker-idcard-unselected-tab")&&(r.removeClass("identity-picker-idcard-unselected-tab"),r.attr("aria-selected","true"),i.attr("aria-selected","false"),i.addClass("identity-picker-idcard-unselected-tab"),c.hide(),n._setSelectedIndex(ht.SelectFirstItem,nt.Positioning.VerticalScrollBehavior.Top),n._$groupMembersContainer.parent().show(),n._element.css("height","auto"),n._$idCardDialog.css("height","auto"),n._groupMembers.length?n._groupMembers.length==1?n._$liveStatus.text(w.IdentityPicker_MembersSingleResultStatus):n._$liveStatus.text(g.format(w.IdentityPicker_MembersMultipleResultStatus,n._groupMembers.length)):n._$liveStatus.text(w.IdentityPicker_NoMembers))}))}e.isEmpty()?$(".ui-dialog-titlebar",this._$idCardDialog).addClass("no-content"):$(".ui-dialog-titlebar",this._$idCardDialog).removeClass("no-content");this._element.css("height","auto");this._repositionDialog();this._$idCardDialog.show();this._$idCardDialog.attr("visibility","");this._$idCardDialog.attr("tabindex","-1");this._$idCardDialog.focus()},t.prototype._constructMemberTabContent=function(){var n=$("<div/>").addClass(t.ID_CARD_MEMBERS_DROPDOWN_CLASS+" "+t.ID_CARD_LIST_CLASS).attr({role:"tabpanel","aria-busy":"true","aria-labelledby":"identity-picker-idcard-tab-members"}).hide(),i;return this._$groupMembersContainer=$("<ul/>").attr({role:"list","aria-labelledby":"identity-picker-idcard-tab-members",tabindex:"0"}).appendTo(n).css({"max-height":Math.min((ft.getSizePx(st.Large)+t.IMAGE_MARGINS_PX)*this._pageSize-10,t.MAX_HEIGHT)+"px"}),i=$("#identity-picker-idcard-tab-members-description.visually-hidden"),i.length||(i=$("<div/>").text(w.IdentityPicker_IdCardMembersTabDescription).attr("id","identity-picker-idcard-tab-members-description").addClass("visually-hidden").appendTo("<body>")),this._$groupMembersContainer.attr("aria-describedby","identity-picker-idcard-tab-members-description"),this._$loading=$("<div/>").addClass("identity-picker-idcard-word-wrap identity-picker-idcard-error").text(w.IdentityPicker_IdCardLoadingMembers).appendTo(n),n},t.prototype._getDirectoryMemberEntities=function(n){var t=this,r=b.getService(v.IdentityService),u=function(n){if(t._element){if(!n)return;t._groupMembers.forEach(ut(t,function(i){n.hasOwnProperty(i.entityId)&&n[i.entityId]&&(i.image=n[i.entityId],$(".identity-picture",t._$groupMembersContainer).each(function(t,r){r.hasAttribute("data-objectid")&&r.getAttribute("data-objectid")===i.entityId&&(r.setAttribute("src",n[i.entityId]),r.setAttribute("class","identity-picture small"))}))}))}},f=function(n){n&&h.logError("_getDirectoryMemberEntities/getIdentityImagesErrorCallback:"+JSON.stringify(n))},e=function(n){if(t._element){if(!n||!n.successors){ut(t,i)();return}if(t._groupMembers=n.successors,t._groupMembers&&t._groupMembers.length>0){t._groupMembers=ft.sortGroupMembersByName(t._groupMembers);t._groupMembers.forEach(function(n){(!n.image||n.image.trim())&&(n.image=v.ServiceHelpers.getDefaultIdentityImage(n))});var r={identityServiceOptions:{operationScope:t._operationScope,identityType:{User:!0,Group:!0},httpClient:t._options.httpClient,extensionData:t._options.extensionData},identityExtensionOptions:{consumerId:t._options.consumerId},sources:[ct.Directory]};t._getEntityOperationsFacade().getImagesForEntities(t._groupMembers,r).then(u,f);t._$loading.hide();t._renderMembersList()}else t._$loading.text(w.IdentityPicker_IdCardNoMembers);t._$groupMembersContainer.parent().removeAttr("aria-busy")}},i=function(n){t._element&&(t._$groupMembersContainer.parent().removeAttr("aria-busy"),t._$loading.text(w.IdentityPicker_IdCardErrorLoadingMembers));n&&h.logError("_displayIdCard/getConnectionsErrorCallback:".concat(JSON.stringify(n)))};r.getIdentityConnections(n,this._operationScope,{User:!0,Group:!0},{successors:!0},{httpClient:this._options.httpClient},{consumerId:this._options.consumerId}).then(ut(this,e),ut(this,i))},t.prototype._isMembersListVisible=function(){return this._$groupMembersContainer&&this._$groupMembersContainer.length&&this._$groupMembersContainer.parent()&&this._$groupMembersContainer.parent().is(":visible")},t.prototype._onIdCardBlur=function(n){this._element.hasClass("ui-dialog-content")&&n&&!$(n.target).closest("#"+t.ID_CARD_DIALOG_ID).length&&!$(n.target).is("#"+t.ID_CARD_DIALOG_ID)&&this._element.dialog("close")},t.prototype._onIdCardClose=function(){this._options.focusElementOnClose&&this._options.focusElementOnClose.is(":visible")?this._options.focusElementOnClose.focus():this._previousFocusedElement.focus();$("body").off("mousedown.contactCard");this._$idCardDialog.off(".contactCard");this._element.dialog("destroy")},t.prototype._onKeyDown=function(n){if(!n||!n.keyCode)return!0;switch(n.keyCode){case ot.UP:return this._isMembersListVisible()?this._prevItem():!0;case ot.DOWN:return this._isMembersListVisible()?this._nextItem():!0;case ot.PAGE_UP:return this._isMembersListVisible()?this._prevPage():!0;case ot.PAGE_DOWN:return this._isMembersListVisible()?this._nextPage():!0;case ot.ENTER:case ot.SPACE:return $(document.activeElement).hasClass("identity-picker-idcard-tab")&&$(document.activeElement).hasClass("identity-picker-idcard-unselected-tab")?(n.stopPropagation(),$(document.activeElement).click(),!1):$(document.activeElement).hasClass("ui-dialog-titlebar-close")?(n.stopPropagation(),this._element.dialog("close"),!1):this._isMembersListVisible()&&this._selectedIndex!=ht.SelectNone?(n.stopPropagation(),$("li",this._$groupMembersContainer).eq(this._selectedIndex).click(),!1):!0;case ot.ESCAPE:case ot.LEFT:return n.stopPropagation(),this._element.dialog("close"),!1;case ot.TAB:var r=$(":tabbable",this._$idCardDialog),t=r.first(),i=r.last();return i.length&&n.target===i[0]&&!n.shiftKey?(t.focus(),!1):t.length&&n.target===t[0]&&n.shiftKey?(i.focus(),!1):!0;default:return!0}},t.prototype._createItem=function(n){var i=this,e,h,o,f,r,c;return n?(h=v.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(e=n.image),o=et.getDisplayName(n),f=et.getSignInAddress(n),f=g.isGuid(f)?"":f,r=$("<li/>").attr("role","listitem").attr("id",s.getId().toString()).height(40),u.RichContentTooltip.addIfOverflow(o,r,{menuContainer:r}),ft.createImgElement(h,e,"identity-picture small",n.entityId).addClass(e&&e.trim()?"":"hidden").appendTo(r),c=$("<div/>").addClass("item-text-container").append($("<div/>").addClass("title large").text(o)).append($("<div/>").addClass("subtitle large").text(f)).appendTo(r),c.css("max-width",this._element.width()-t.MEMBERS_TAB_LEFT_PADDING_PX-t.IMAGE_MARGINS_PX-ft.getSizePx(st.Large)-ft.IDENTITY_ITEM_BUFFER_WIDTH_PX),r.click(ut(this,function(u){u.stopPropagation();var f={identity:n,anchor:r,leftValue:u.pageX!==undefined?u.pageX:r.offset().left,topValue:u.pageY!==undefined?u.pageY:r.offset().top,operationScope:i._operationScope,identityType:i._identityType,httpClient:i._options.httpClient?i._options.httpClient:null,focusElementOnClose:i._options.focusElementOnClose&&i._options.focusElementOnClose.is(":visible")?i._options.focusElementOnClose:i._previousFocusedElement,appendTo:i._options.appendTo,consumerId:i._options.consumerId};s.Enhancement.enhance(t,"<div/>",f)})),r):null},t.prototype._renderMembersList=function(){var n=this,r=function(){return n._scrollTimeout!==null&&(clearTimeout(n._scrollTimeout),n._scrollTimeout=null),n._scrollTimeout=window.setTimeout(ut(n,n._loadNextPage),100),!1},t,i;if(this._$groupMembersContainer.empty(),this._$groupMembersContainer.addClass("items"),this._$groupMembersContainer.scroll(ut(this,r)),this._groupMembers.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._groupMembers.length,this._pageSize),t=0;t<Math.min(this._groupMembers.length,this._pageSize);t++)i=this._createItem(this._groupMembers[t]),i&&this._$groupMembersContainer.append(i)},t.prototype._loadNextPage=function(){var t=this._$groupMembersContainer.scrollTop()+this._$groupMembersContainer.outerHeight()>=this._$groupMembersContainer[0].scrollHeight-5,n;if(t){for(n=this._numItemsDisplayed;n<this._numItemsDisplayed+Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize);n++)this._$groupMembersContainer.append(this._createItem(this._groupMembers[n]));this._numItemsDisplayed+=Math.min(this._groupMembers.length-this._numItemsDisplayed,this._pageSize)}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._nextItem=function(){return this._selectedIndex===this._groupMembers.length-1?this._setSelectedIndex(ht.SelectFirstItem):this._selectedIndex<this._groupMembers.length-1&&this._setSelectedIndex(this._selectedIndex+1),!1},t.prototype._prevItem=function(){return this._selectedIndex===-1&&this._groupMembers&&this._groupMembers.length?this._setSelectedIndex(this._groupMembers.length-1):this._selectedIndex>0&&this._setSelectedIndex(this._selectedIndex-1,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._nextPage=function(){var n=-1;return this._loadNextPage(),this._selectedIndex<this._groupMembers.length-1&&this._selectedIndex!==-1&&(n=this._selectedIndex+this._pageSize),this._setSelectedIndex(n<this._groupMembers.length?n:this._groupMembers.length-1,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._prevPage=function(){var n=0;return this._selectedIndex===-1?n=this._groupMembers.length-this._pageSize:this._selectedIndex>0&&(n=this._selectedIndex-this._pageSize),this._setSelectedIndex(n>=0?n:ht.SelectFirstItem,nt.Positioning.VerticalScrollBehavior.Top),!1},t.prototype._setSelectedIndex=function(n,t){var i,u,r,f;t===void 0&&(t=nt.Positioning.VerticalScrollBehavior.Bottom);i=$("li",this._$groupMembersContainer);u=n!==null&&n!==undefined&&i.length&&i.eq(n).length&&(this._selectedIndex!==n||!i.eq(this._selectedIndex).hasClass("selected"));u?(this._selectedIndex=n,i.removeClass("selected").attr("aria-selected","false").removeAttr("id"),r=i.eq(this._selectedIndex),f=r.attr("id")?r.attr("id"):s.getId().toString(),r.addClass("selected").attr({id:f,"aria-selected":"true"}),this._$liveStatus.text(g.format(w.IdentityPicker_SelectedMember,et.getDisplayName(this._groupMembers[n]))),nt.Positioning.scrollIntoViewVertical(r,t)):isNaN(n)||(this._selectedIndex=n)},t.IDCARD_LOADED_EVENT="idcard-finished-loading",t.MAX_HEIGHT=240,t.IMAGE_MARGINS_PX=8,t.MEMBERS_TAB_LEFT_PADDING_PX=11,t.ID_CARD_LIST_CLASS="identity-picker-idcard-list",t.ID_CARD_MEMBERS_DROPDOWN_CLASS=lt.DROPDOWN_BASE_CLASS,t.JQUERY_UI_DIALOG_CLASS=".ui-dialog",t.ID_CARD_DIALOG_ID="idcard-dialog",t}(s.Control);t.IdCardDialog=wt;dt=function(n){function t(i,r){var u,f;return r===void 0&&(r=!1),u=n.call(this,i)||this,u._resolvedIEntity=null,u._loadOnCreate=!1,u._previousInput="",u._isSearchEverIssued=!1,u._readOnlyMode=!1,u._showMruExpander=!1,u._trackTabKeyDown=!1,u._queryTokensRequested={},u._onDocumentLoad=function(){u._$container.is(":visible")?u._recalculateInputWidth():setTimeout(u._onDocumentLoad,50)},u._recalculateInputWidth=function(){if(u._$input)if(u._controlWidth=Math.max(u._$container.width(),t.DEFAULT_WIDTH),u._$input.prev(".identity-picker-resolved")[0]){var n=u._$input.prev(".identity-picker-resolved"),f=u._$container[0].scrollHeight>u._$container.innerHeight(),i=u._$container.offset().left+Math.max(u._$container.outerWidth(),t.DEFAULT_WIDTH)-n.offset().left-n.outerWidth()-parseInt(n.css("margin-right"))-parseInt(u._$container.css("padding-right"))-parseInt(u._$container.css("border-right-width"))-(f?ft.SCROLL_BAR_WIDTH_PX:0)-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-1,r=u._$input.attr("placeholder").length;i>(r?r:15)*6?u._$input.outerWidth(i):u._$input.outerWidth(u._controlWidth-ft.SCROLL_BAR_WIDTH_PX-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0))}else u._$input.outerWidth(u._controlWidth-(u._showMruExpander?t.TRIANGLE_WIDTH_PX:0)-(u._options.smallScreenRender?u._$closeInput.outerWidth():0))},r||(f=i,f.dropdownContainer||(f.dropdownContainer=ut(u,function(){return $("body")})),u.initializeOptionsInternal(f)),u}return __extends(t,n),t.prototype.initializeOptionsInternal=function(n){if(this._identityType=n.identityType?n.identityType:{User:!0},this._operationScope=n.operationScope?n.operationScope:{IMS:!0},this._size=n.size!==null&&n.size!==undefined?n.size:st.Medium,this._dropdownContainerDelegate=n.dropdownContainer,this._preDropdownRender=this._options.callbacks&&n.callbacks.preDropdownRender?n.callbacks.preDropdownRender:null,this._onDirectorySearchFinished=this._options.callbacks&&n.callbacks.onDirectorySearchFinished?n.callbacks.onDirectorySearchFinished:null,this._loadOnCreate=n.loadOnCreate?n.loadOnCreate:!1,n.placeholderText&&n.placeholderText.trim())this._placeholderText=n.placeholderText;else{var t=v.ServiceHelpers.getIdentityTypeList(this._identityType);this._placeholderText=this._generatePlaceHolder(t)}this._controlLoaded=null;this._delaySearchTimeOutValue=n.delaySearchTimeoutValue||0},t.prototype.initialize=function(){var i=this,r,e,u,f,o,h;n.prototype.initialize.call(this);r=this._options.items;this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._$container=this._element.parent();this._controlWidth=Math.max(this._$container.innerWidth(),t.DEFAULT_WIDTH);this._element.addClass("identity-picker-search-box");this._options.smallScreenRender&&this._element.addClass("small-screen");this._element.height(ft.getSizePx(this._size)+t.OUTER_PADDING_PX);e=function(n){$(n.target).hasClass("identity-picker-input")||$(n.target).hasClass("identity-picker-search-multiple-name")||$(n.target).hasClass(t.SEARCH_MRU_TRIANGLE_CLASS)||i.focusOnSearchInput()};this._element.on("click.identityPicker",ut(this,e));this._element.on("remove.identityPicker",ut(this,this.dispose));if(this._$input=$("<input>").attr("type","text").attr("spellcheck","false").attr("autocomplete","off").attr("placeholder",this._placeholderText).addClass("identity-picker-input").attr("role","combobox").attr("aria-autocomplete","list").attr("aria-expanded","false"),!this._options.required||this._$input.attr("required","true"),!this._options.ariaDescribedby||this._$input.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),this._options.excludeAriaLabel||this._$input.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText),this._options.elementId&&this._$input.attr("id",this._options.elementId),this._$input.appendTo(this._element),ft.styleElementBySize(this._$input,this._size,!0),this._options.multiIdentitySearch&&(f=s.getId().toString(),u=$("<label/>").addClass("visually-hidden").attr("id",f).appendTo(this._element),this._$input.attr("aria-describedby",this._getAriaDescribedby(f))),this._options.smallScreenRender&&(this._$closeInput=this._createCloseButton(),ft.styleElementBySize(this._$closeInput,this._size,!1),this._$closeInput.hide(),this._$closeInput.appendTo(this._element),this._$closeInput.mousedown(ut(this,function(n){i._setInputText("");i.focusOnSearchInput();i._recalculateInputWidth();n.preventDefault();i._$closeInput.hide()}))),this._options.showMruTriangle=this._options.forceOpen?!1:this._options.showMruTriangle,this._showMruExpander=this._options.showMruTriangle?!0:!1,this._isReadOnly()&&(this._showMruExpander=!1),this._showMruExpander){this._$mruTriangle=$("<span/>").addClass(t.SEARCH_MRU_TRIANGLE_CLASS).addClass("bowtie-icon bowtie-triangle-down").appendTo(this._element);this._$mruTriangle.on("mousedown.identityPicker",ut(this,function(n){i._onMruTriangleMousedown(n)}));this._$mruTriangle.on("click.identityPicker",ut(this,function(n){i._onMruTriangleClick(n)}))}this._recalculateInputWidth();$(window).on("resize.identityPicker",ut(this,function(){i._recalculateInputWidth()}));this._$input.on("focus.identityPicker",ut(this,function(){i._$currentlyFocusedItem=null;i._options.multiIdentitySearch&&(i._selectedItems.length||i._unresolvedItems.length?u.text(g.format(w.IdentityPicker_SelectedIdentities,i._selectedItems.length+i._unresolvedItems.length)):u&&u.text(""));i._$container.triggerHandler("focus")}));if(this._options.showMruOnClick&&this._options.showMru)this._$input.on("mouseup.identityPicker",ut(this,function(n){i._identityPickerDropdown&&!i._identityPickerDropdown.isVisible()&&n.button===0&&i._showAllMruInDropdown(!1,!0)}));if(this._options.multiIdentitySearch&&(this._options.highlightResolved=!1,this._options.watermark=null),this._options.highlightResolved||(this._options.watermark=null),this._options.watermark&&this._showWatermark(),this._options.getFilterByScope||(this._options.getFilterByScope=function(){return null}),this._showContactCard=this._options.showContactCard==!1?!1:!0,v.ServiceHelpers.isAuthenticatedMember()){this._element.on("keydown.identityPicker",ut(this,this._onInputKeyDown));this._$input.on("keyup.identityPicker",ut(this,this._onInputKeyUp));this._$input.on("blur.identityPicker",ut(this,this._onInputBlur));this._$input.on("input.identityPicker",ut(this,this._onInputChange));this._$input.on("click.identityPicker",ut(this,this._onInputClick));this._externalEventDelegate=ut(this,this._onInputBlur);this._dropdownShowEventDelegate=ut(this,this._attachHandlersOnShowDropdown);this._dropdownHideEventDelegate=ut(this,this._detachHandlersOnHideDropdown);this._updateActiveDescendantIdEventDelegate=ut(this,this._updateActiveDescendantId);o=this._dropdownContainerDelegate();this._identityPickerDropdownUniqueId=ft.getRandomString();c.getService().attachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);c.getService().attachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);c.getService().attachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);h={pageSize:this._options.pageSize,useRemainingSpace:this._options.useRemainingSpace,smallScreenRender:this._options.smallScreenRender,dialogAppendTo:this._options.dialogAppendTo,onItemSelect:ut(this,function(n){if(i._resolveItem(n),i.focusOnSearchInput(),i._options.callbacks&&i._options.callbacks.onItemSelect)i._options.callbacks.onItemSelect(n)}),identityType:this._identityType,operationScope:this._operationScope,httpClient:this._options.httpClient?this._options.httpClient:null,showContactCard:this._showContactCard,showMru:this._isShowMruEnabledInDropdown(),showNoIdentitiesFound:this._options.showNoIdentitiesFound,getFilterByScope:this._options.getFilterByScope,preDropdownRender:this._preDropdownRender,onDirectorySearchFinished:this._onDirectorySearchFinished,loadOnCreate:this._loadOnCreate,extensionData:this._options.extensionData,size:this._options.dropdownSize!==null&&this._options.dropdownSize!==undefined?this._options.dropdownSize:st.Large,width:this._options.dropdownWidth,focusElementOnContactCardClose:this._$input,eventOptions:{uniqueId:this._identityPickerDropdownUniqueId},alignment:{positioningElement:this._$container},consumerId:this._options.consumerId};this._identityPickerDropdown=s.create(lt,o,h);this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId})}else this._showContactCard=!1,this._loadOnCreate=!1,this._options.showMru=!1,this._options.forceOpen=!1,this.enableReadOnlyMode();r&&((typeof r=="string"||r instanceof String)&&r?this.setEntities([],r.trim().split(";")):r instanceof Array&&r.length>0&&this.setEntities(r,[]));this._loadOnCreate&&this.load();this._options.forceOpen&&this._showAllMruInDropdownWithoutDefaultSelection();$(this._onDocumentLoad)},t.prototype.load=function(){var n=this;return this._controlLoaded?this._controlLoaded.promise:(this._controlLoaded=rt.defer(),this._identityPickerDropdown.load().then(ut(this,function(){n._controlLoaded.resolve(!0)}),ut(this,function(){n._controlLoaded.resolve(!1)})))},t.prototype.getIdentitySearchResult=function(){return{resolvedEntities:this._selectedItems,unresolvedQueryTokens:this._unresolvedItems}},t.prototype.clear=function(){this._element&&(this._clearSearchControl(),!this._options.multiIdentitySearch&&this._options.watermark&&this._showWatermark())},t.prototype.isDropdownVisible=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isVisible()},t.prototype.isDropdownFiltered=function(){return this._identityPickerDropdown&&this._identityPickerDropdown.isFiltered()},t.prototype.addIdentitiesToMru=function(n){if(v.ServiceHelpers.isAuthenticatedMember()){var t=n.map(function(n){if(et.isDirectoryEntityType(n))return n.localId});this._identityPickerDropdown.addIdentitiesToMru(t)}},t.prototype.setEntities=function(n,t,i){var o=n?n.length:0,s=t?t.length:0,l,a,u,e,r,h,c,f;if(o+s!=0){if(!this._options.multiIdentitySearch&&o+s>1){l={source:"setEntities",message:"Can't set more than one entity for a single select control"};throw l;}if(a={UID:!0},s>0){if(u="",this._options.multiIdentitySearch||(u=t[0]?t[0].trim():u),this._options.showTemporaryDisplayName){this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove();e=[];for(f in t)r=t[f].trim(),r.charAt(r.length-1)==">"&&r.indexOf("<")>=0?(h=r.substring(0,r.indexOf("<")-1).trim(),c=r.substring(r.indexOf("<")+1,r.length-1).trim(),e.push(c),this._createTemporaryItem(h,c.toLowerCase()),this._options.multiIdentitySearch||(u=h)):e.push(r);t=e}this._resolveInputToIdentities(t.join(";"),a,i,u)}if(o>0)for(f in n)n[f]&&this._resolveItem(n[f])}},t.prototype.getDropdownPrefix=function(){return this._identityPickerDropdown?this._identityPickerDropdown.getPrefix():""},t.prototype.showMruDropdown=function(){this._showMruExpander&&this._$mruTriangle.trigger("click")},t.prototype.focusOnSearchInput=function(){if(this._$currentlyFocusedItem=null,this._$input.is(":visible"))this._$input.focus();else{var n=$(".identity-picker-resolved:visible",this._element);n.length<=0?(this._$input.show(),this._$input.focus()):($(n[0]).focus(),this._$currentlyFocusedItem=$(n[0]))}this._$container.triggerHandler("focus")},t.prototype.enableReadOnlyMode=function(){this._readOnlyMode=!0;this._showMruExpander=!1;this._hideMruTriangle();this._$container.addClass("identity-picker-readonly");$(".identity-picker-resolved-name",this._element).removeAttr("tabindex");$(".identity-picker-watermark-name",this._element).removeAttr("tabindex");$(".identity-picker-resolved-close",this._element).hide();$(".identity-picker-resolved-name",this._element).attr("aria-label",g.format(w.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText));this._element.removeAttr("aria-label");var n=$(".identity-picker-resolved",this._element);n.removeAttr("aria-describedby");n.attr("tabindex","-1");n.attr("aria-disabled","true");$("visually-hidden",n).remove();this._$input.attr("disabled","");this._$input.removeAttr("role");this._$input.removeAttr("aria-expanded")},t.prototype.disableReadOnlyMode=function(){this._readOnlyMode=!1;this._showMruExpander=this._options.showMruTriangle?!0:!1;this._showMruTriangle();this._$container.removeClass("identity-picker-readonly");this._element.attr("aria-label",this._options.ariaLabel?this._options.ariaLabel:this._placeholderText);$(".identity-picker-watermark-name",this._element).attr("tabindex","0");var t=$(".identity-picker-resolved",this._element),n=$(".identity-picker-resolved-name",this._element);n.length&&(this._options.highlightResolved&&n.attr("tabindex","0"),n.removeAttr("aria-label"),this._element.find(".identity-picker-resolved-close").show(),this._showContactCard&&!this._options.highlightResolved&&t.attr("aria-haspopup","true"));this._$input.prop("disabled",!1);this._$input.attr("role","combobox");this._$input.attr("aria-expanded","false");this._options.highlightResolved||t.attr("tabindex","0");this._setResolvedItemRole(t,n.text())},t.prototype.hasPendingRequests=function(){return this._queryTokensRequested&&Object.keys(this._queryTokensRequested).length>0},t.prototype.dispose=function(){this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._dropdownShowEventDelegate&&c.getService().detachEvent(lt.SHOW_DROPDOWN_EVENT_INTERNAL,this._dropdownShowEventDelegate);this._dropdownHideEventDelegate&&c.getService().detachEvent(lt.HIDE_DROPDOWN_EVENT_INTERNAL,this._dropdownHideEventDelegate);this._updateActiveDescendantIdEventDelegate&&c.getService().detachEvent(lt.UPDATE_ACTIVE_DESCENDANT_ID,this._updateActiveDescendantIdEventDelegate);this._identityPickerDropdown&&this._identityPickerDropdown.dispose();this._$input&&this._$input.off(".identityPicker");this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.off(".identityPicker");this._element&&this._element.off(".identityPicker");$(window).off("resize.identityPicker");n.prototype.dispose.call(this)},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t.prototype._isReadOnly=function(){return this._readOnlyMode||!v.ServiceHelpers.isAuthenticatedMember()},t.prototype._hideMruTriangle=function(){this._$mruTriangle&&this._$mruTriangle.addClass("identity-picker-element-hide")},t.prototype._showMruTriangle=function(){this._showMruExpander&&this._$mruTriangle&&this._$mruTriangle.removeClass("identity-picker-element-hide")},t.prototype._getAriaDescribedby=function(n){var t=this._$input.attr("aria-describedby");return t?t.concat(" "+n):n},t.prototype._resetSearchControl=function(n,t){n===void 0&&(n=!0);t===void 0&&(t=!0);this._options.watermark&&!this._options.forceOpen?n?this._showWatermark():this._clearWatermark():(this._$input.show(),this._recalculateInputWidth());this._showMruTriangle();t&&this.focusOnSearchInput()},t.prototype._clearSearchControl=function(){$(".identity-picker-resolved",this._element).off(".identityPicker").remove();this._queryTokensRequested={};this._options.multiIdentitySearch||this._resetSearchControl(!1,!1);this._selectedItems=[];this._unresolvedItems=[];this._$currentlyFocusedItem=null;this._resolvedIEntity=null;this._setInputText("");this._fireInvalidInput()},t.prototype._showAllMruInDropdownWithoutDefaultSelection=function(n){n===void 0&&(n=!0);this._showAllMruInDropdown(n,!1)},t.prototype._showAllMruInDropdown=function(n,t){var i=this,r;n===void 0&&(n=!0);t===void 0&&(t=!0);r=function(t){i._element&&((t&&t.length>0||n)&&i._showDropdown(),i._$input.off("input.identityPicker"),i.focusOnSearchInput(),d.delay(i,0,function(){i._$input.on("input.identityPicker",ut(i,i._onInputChange))}))};this._isSearchEverIssued=!0;this._identityPickerDropdown.showAllMruIdentities(t).then(r)},t.prototype._showProgressCursor=function(){this._fire(t.SEARCH_STARTED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","progress")},t.prototype._stopProgressCursor=function(){this._fire(t.SEARCH_FINISHED_EVENT,null);$(".identity-picker-input",this._element).css("cursor","text")},t.prototype._fireInvalidInput=function(){this._fire(t.INVALID_INPUT_EVENT,null)},t.prototype._fireValidInput=function(){this._fire(t.VALID_INPUT_EVENT,null)},t.prototype._fireRemoveResolvedInput=function(n){this._fire(t.RESOLVED_INPUT_REMOVED_EVENT,n?!0:null)},t.prototype._updateActiveDescendantId=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&this._$input.attr("aria-activedescendant",n.activeDescendantId)},t.prototype._isShowMruEnabledInDropdown=function(){return this._options.showMru||this._showMruExpander},t.prototype._attachHandlersOnShowDropdown=function(n){if(n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId){if(this._element)this._element.parents().on("scroll.identityPicker resize.identityPicker",ut(this,this._onInputBlur));this.isDropdownVisible()&&(this._$input.attr("aria-expanded","true"),this._$input.attr("aria-owns",this._identityPickerDropdown.getItemsListId()));c.getService().attachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate)}},t.prototype._detachHandlersOnHideDropdown=function(n){n&&n.uniqueId&&this._identityPickerDropdownUniqueId&&this._identityPickerDropdownUniqueId===n.uniqueId&&(this._element&&this._element.parents().off("scroll.identityPicker resize.identityPicker"),this._$input.attr("aria-expanded","false"),this._$input.removeAttr("aria-activedescendant"),c.getService().detachEvent(t.DIALOG_MOVE_EVENT,this._externalEventDelegate))},t.prototype._hideDropdown=function(n){this._identityPickerDropdown&&!this._options.forceOpen&&(this._detachHandlersOnHideDropdown({uniqueId:this._identityPickerDropdownUniqueId}),this._identityPickerDropdown.hide(n),this._$input.removeAttr("aria-activedescendant"))},t.prototype._showDropdown=function(){this._attachHandlersOnShowDropdown({uniqueId:this._identityPickerDropdownUniqueId});this._identityPickerDropdown.show()},t.prototype._compareInputOnInputChangeEvent=function(n){return n=n?n:"",this._previousInput==n},t.prototype._setInputText=function(n){n=n?n:"";this._$input.val(n);this._previousInput=n;this._options.smallScreenRender&&n&&this._$closeInput.show()},t.prototype._resetPreviousInput=function(){this._previousInput=""},t.prototype._onInputChange=function(n){var i=this,t;this._delaySearchTimer||(t=function(){i._inputChangeActions(n)},this._delaySearchTimer=new d.DelayedFunction(this,this._delaySearchTimeOutValue,"inputFieldChanged",t));this._delaySearchTimer.reset()},t.prototype._inputChangeActions=function(n){var t=this.getInputText(),i,r,u,f;if(this._options.smallScreenRender&&(t?this._$closeInput.show():this._$closeInput.hide()),this._compareInputOnInputChangeEvent(t))return!0;if(t=t?t:"",this._previousInput=t,this._resolvedIEntity=null,this._recalculateInputWidth(),t&&t.indexOf(";")<=0?this._fireInvalidInput():this._fireInputValidityEvent(),!t||!this._options.multiIdentitySearch||t.indexOf(";")<0){if(this._isSearchEverIssued=!0,t&&!this._options.multiIdentitySearch){i=t.split(";");r="";for(u in i)if(f=i[u]?i[u].trim():"",f){r=f;break}t=r}return this._identityPickerDropdown.getIdentities(t),!0}this._resolveInputToIdentities(this.getInputText());n.stopPropagation()},t.prototype._onInputClick=function(n){var t=this.getInputText();t&&(this._isSearchEverIssued?this._showDropdown(n):this._options.showMru&&this._showAllMruInDropdown(!1))},t.prototype._onMruTriangleMousedown=function(n){n.preventDefault();n.stopPropagation()},t.prototype._onMruTriangleClick=function(n){if(this._isReadOnly())return!1;this.isDropdownVisible()?this._hideDropdown(n):this._showAllMruInDropdownWithoutDefaultSelection();this.focusOnSearchInput();n.stopPropagation()},t.prototype._isDropdownHovered=function(){return this._identityPickerDropdown.getElement()&&$(this._identityPickerDropdown.getElement()).filter(":hover").length>0},t.prototype._isContactCardHovered=function(){return $(".idcard-dialog").length>0&&$(".idcard-dialog").filter(":hover").length>0},t.prototype._onInputBlur=function(n){if(this._identityPickerDropdown&&!this._isDropdownHovered()&&!($(".idcard-dialog").length||$(".idcard-dialog-content").length)&&this._$input.is(":visible")){var t=!1;this._trackTabKeyDown&&(this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&(this._resolveSelectedItem(!0),t=!0),this._trackTabKeyDown=!1);this._options.highlightResolved&&!t&&(this._resolvedIEntity?this._resolveItem(this._resolvedIEntity):this._options.watermark&&!this.getInputText()&&(this._showWatermark(),this._showMruTriangle()));this.isDropdownVisible()&&this._hideDropdown(n);this._options.callbacks&&this._options.callbacks.onInputBlur&&this._options.callbacks.onInputBlur()}},t.prototype._focusOnResolvedItem=function(n){n.is(":visible")?(n.focus(),this._$container.triggerHandler("focus")):this.focusOnSearchInput()},t.prototype._onInputKeyDown=function(n){var i,t;if(!n||this._isReadOnly())return!0;if(n.keyCode===ot.ESCAPE&&this.isDropdownVisible()&&n.stopPropagation(),n.keyCode===ot.UP)return this.isDropdownVisible()&&this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!0;if(n.keyCode===ot.DOWN)return this._identityPickerDropdown&&(this._identityPickerDropdown.isVisible()?this._identityPickerDropdown.handleKeyEvent(n):this._isShowMruEnabledInDropdown()?this._showAllMruInDropdown():this._showDropdown(n)),n.preventDefault(),!0;if(n.keyCode===ot.TAB)return this._trackTabKeyDown=!0,!0;if(n.keyCode===ot.ENTER)return this.isDropdownVisible()?(this.focusOnSearchInput(),this._resolveSelectedItem(),!1):this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;if(n.keyCode===ot.RIGHT&&this._showContactCard&&this.isDropdownVisible()&&this._identityPickerDropdown.getSelectedItem()&&this._$input[0].selectionEnd==this._$input.val().length||n.keyCode===ot.DELETE&&this._isShowMruEnabledInDropdown()&&this.isDropdownVisible()&&(i=this._identityPickerDropdown.getSelectedItem(),i&&i.isMru&&et.isDirectoryEntityType(i)))return this._identityPickerDropdown.handleKeyEvent(n),n.preventDefault(),!1;if(!this._$currentlyFocusedItem&&this._$input[0]===document.activeElement&&this._$input[0].selectionStart>0)return!0;if(this._options.callbacks&&this._options.callbacks.onKeyPress)this._options.callbacks.onKeyPress(n.keyCode);switch(n.keyCode){case ot.LEFT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem&&this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!this._$currentlyFocusedItem&&(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._$currentlyFocusedItem=this._$input.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem),!1):!0:!0;case ot.RIGHT:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(this._$currentlyFocusedItem.blur(),this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),!1):!0:!0;case ot.BACKSPACE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.prev(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.prev(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):(this._selectedItems&&this._selectedItems.length>0||this._unresolvedItems&&this._unresolvedItems.length>0)&&this._$input[0]===document.activeElement&&!this._$input[0].selectionStart?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._removeFromUnresolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.DELETE:return this._options.multiIdentitySearch?this._$currentlyFocusedItem?(t=this._$currentlyFocusedItem,this._$currentlyFocusedItem.next(".identity-picker-resolved")[0]?(this._$currentlyFocusedItem=this._$currentlyFocusedItem.next(".identity-picker-resolved"),this._focusOnResolvedItem(this._$currentlyFocusedItem)):this.focusOnSearchInput(),this._removeFromResolved(t.attr("data-signin")),this._removeFromUnresolved(t.attr("data-signin")),t.off(".identityPicker").remove(),this._recalculateInputWidth(),!1):!0:this._selectedItems&&this._selectedItems.length>0?(this._removeFromResolved(this._$input.prev(".identity-picker-resolved").attr("data-signin")),this._$input.prev(".identity-picker-resolved").off(".identityPicker").remove(),this._resetSearchControl(),!1):!0;case ot.SPACE:return this._options.multiIdentitySearch&&this._$currentlyFocusedItem?(this._$currentlyFocusedItem.click(),!1):!0;default:return!0}},t.prototype._fireInputValidityEvent=function(){!this.getInputText().length&&this._selectedItems&&this._selectedItems.length>0&&(!this._unresolvedItems||!this._unresolvedItems.length)?this._fireValidInput():this._fireInvalidInput()},t.prototype._resolveSelectedItem=function(n){if(n===void 0&&(n=!1),this.isDropdownVisible()){var t=this._identityPickerDropdown.getSelectedItem();if(t&&(this._resolveItem(t,!0,null,n),this._options.callbacks&&this._options.callbacks.onItemSelect))this._options.callbacks.onItemSelect(t)}},t.prototype._onInputKeyUp=function(n){return n&&n.keyCode!==ot.DOWN&&n.keyCode!==ot.UP&&n.keyCode!==ot.RIGHT&&this._identityPickerDropdown&&this._identityPickerDropdown.handleKeyEvent(n),!0},t.prototype._removeFromUnresolved=function(n){for(var i=this._getSearchPrefix(n).toLowerCase(),t=this._unresolvedItems.indexOf(i);t>=0;)this._unresolvedItems.splice(t,1),t=this._unresolvedItems.indexOf(i);this._fireInputValidityEvent()},t.prototype._removeFromResolved=function(n,t){function r(t){var i=et.getUniqueIdentifierForDisambiguation(t);return i.toLowerCase()===n.toLowerCase()?($(".idcard-dialog").each(function(){if($(this).is(":visible")&&$(this).attr("data-prefix")&&n.toLowerCase().indexOf($(this).attr("data-prefix").toLowerCase())===0)return $(".ui-dialog-content",$(this)).dialog("close"),!1}),!1):!0}var i=this._selectedItems.filter(r);i.length!=this._selectedItems.length&&(this._selectedItems=i,this._fireInputValidityEvent(),this._fireRemoveResolvedInput(t))},t.prototype.getInputText=function(){return this._$input.val().trim()},t.prototype._resolveInputToIdentities=function(n,i,r,u){var f=this,b=function(n){if(f._element){if(!n||!n.queryToken||!n.identities){l();return}if(n.identities.length!=1)if(i&&i.UID){var e=g.htmlEncode(n.queryToken),r={entityId:t.INACTIVE_ENTITY_ID_PREFIX+"_"+e,entityType:t.INACTIVE_ENTITY_TYPE,originDirectory:ft.VisualStudioDirectory,originId:t.INACTIVE_ORIGIN_ID_PREFIX+"_"+e,isMru:!1,active:!1,displayName:u?u:n.queryToken,signInAddress:n.queryToken,samAccountName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",2)[1]:"",scopeName:ft.isOnPremiseEnvironment()&&n.queryToken.indexOf("\\")>=0?n.queryToken.split("\\",1)[0]:""};r.image=v.ServiceHelpers.getDefaultIdentityImage(r);f._resolveItem(r,!1,n.queryToken)}else f._fireInvalidInput();else n.queryToken.toLowerCase().trim()in f._queryTokensRequested&&f._resolveItem(n.identities[0],!1,n.queryToken);f._hideDropdown();f._stopProgressCursor()}},l=function(n){f._element&&(f._stopProgressCursor(),f._fireValidInput());n&&h.logError("_resolveInputToIdentities/getIdentitiesErrorCallback:"+JSON.stringify(n))},p=n.split(v.ServiceHelpers.GetIdentities_Prefix_Separator),o=[],y,s,w,k,e,d,nt,c;for(s in p)y=p[s]?p[s].trim():"",y.length>0&&(o.push(y),this._unresolveItem(y));this._options.multiIdentitySearch||(this._queryTokensRequested={});for(s in o)this._queryTokensRequested[o[s].toLowerCase().trim()]=!0;if(w=o.length,w)for(this._showProgressCursor(),k=function(){var n=o.slice(50*c,50*c+50);d={identityServiceOptions:{operationScope:r?r:e._operationScope,identityType:e._identityType,httpClient:e._options.httpClient,extensionData:e._options.extensionData},identityExtensionOptions:{consumerId:e._options?e._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n.join(";"),queryTypeHint:i,sources:[ct.Directory],filterByScope:e._options.getFilterByScope()};nt=e._getEntityOperationsFacade().search(d).then(function(t){if(f._options.retainInputIdentitiesSequenceWithinPage)f._resolveIdentityResponseInSequence(t,n,b,l);else for(var i in t.queryTokenResponse)t.queryTokenResponse[i].then(b,l)},l)},e=this,c=0;c<=w/50;c++)k()},t.prototype._resolveIdentityResponseInSequence=function(n,i,r,u){var o=this,f=[];for(var e in n.queryTokenResponse)n.queryTokenResponse.hasOwnProperty(e)&&f.push(n.queryTokenResponse[e]);rt.allSettled(f).then(function(n){for(var l,e,v,k,f,s,y,d,p=[],w=[],h=0,b=n;h<b.length;h++)f=b[h],f.state===a.PromiseResultStatus.Fulfilled?p.push(f.value):f.state===a.PromiseResultStatus.Rejected&&w.push(f.reason);for(l={},p.forEach(function(n){return l[n.queryToken]=n}),e=0,v=i;e<v.length;e++)k=v[e],f=l[k],f&&r(f);for(s=0,y=w;s<y.length;s++)d=y[s],u(d);c.getService().fire(t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL,o)},u)},t.prototype._replaceAndCleanup=function(n){for(var i=!1,t=new RegExp("(( *;+ *)+|^ *)("+n.replace(/[.^$*+?()[{\\|\]-]/g,"\\$&")+")(( *;+ *)+| *$)","gi");this.getInputText().search(t)>=0;)this._setInputText(this.getInputText().replace(t,";")),i=!0;return t=new RegExp("^( *;+ *)+$"),this.getInputText().search(t)||this._setInputText(""),i},t.prototype._findInSelectedItems=function(n){var i=-1,t,r;if(!n)return i;for(t=0,r=this._selectedItems.length;t<r;t++)if(this._selectedItems[t].entityId===n.entityId){i=t;break}return i},t.prototype._showIdCardDialog=function(n){if(this._showContactCard&&v.ServiceHelpers.isAuthenticatedMember()){var t={identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,topValue:n.topValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo,useOfficeFabricProfileCard:this._options.useOfficeFabricProfileCard};s.Enhancement.enhance(wt,"<div/>",t)}},t.prototype._clearWatermark=function(){this.isDropdownVisible()&&this._hideDropdown();!this._options.forceOpen&&this._identityPickerDropdown&&this._identityPickerDropdown.reset();this._$input.hide();this._options.smallScreenRender&&this._$closeInput.hide();this._setInputText("")},t.prototype._showWatermark=function(){var n=this,a=this._isControlInFocus(),r,i,e,s,h,c,f,o,l;this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH);this._clearWatermark();r=this._options.watermark;i=$("<span/>").addClass("identity-picker-resolved").addClass("identity-picker-resolved-single-search");i.attr("tabindex","-1");i.blur(ut(this,function(t){n._identityPickerDropdown&&!n._isDropdownHovered()&&!n._isContactCardHovered()&&i.is(":visible")&&(n.isDropdownVisible()&&n._hideDropdown(t),n._options.callbacks&&n._options.callbacks.onInputBlur&&n._options.callbacks.onInputBlur())}));ft.styleElementBySize(i,this._size,!0);this._options.smallScreenRender?e=$("<span/>").addClass("icon identity-picker-text-search-icon bowtie-icon bowtie-search"):(h=v.ServiceHelpers.getDefaultIdentityImage(r),r.image&&(s=r.image),e=ft.createImgElement(h,s,"user-picture-resolved",r.entityId));ft.styleElementBySize(e,this._size,!1);c=et.getDisplayName(r);f=$("<span/>").addClass("identity-picker-watermark-name").addClass("text-cursor").text(c);i.append(e).append(f).insertBefore(this._$input);i.width(this._controlWidth-t.OUTER_PADDING_PX-(this._showMruExpander?t.TRIANGLE_WIDTH_PX:0));f.attr("tabindex","0");o=function(t){t.stopPropagation();i.off(".identityPicker").remove();n._$input.show();n._showMruTriangle();n._recalculateInputWidth();n.focusOnSearchInput();n._setInputText("")};f.on("focus.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;o(t)}));i.on("mousedown.identityPicker",ut(this,function(t){if(n._isReadOnly())return!1;t.preventDefault();o(t);n._showAllMruInDropdown(!1)}));a&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&(l=ft.createTooltip(r,this._options.callbacks.getCustomTooltip()),u.RichContentTooltip.add(l,f,{showOnFocus:!this._options.smallScreenRender}))},t.prototype._createTemporaryItem=function(n,t){var i=$("<span/>").addClass("identity-picker-resolved identity-picker-temp").attr("data-signin",ft.replaceBackslash(t)).attr("tabindex","-1"),f,r;ft.styleElementBySize(i,this._size,!0);f=ft.createImgElement(v.ServiceHelpers.DefaultUserImage,"","user-picture-resolved");ft.styleElementBySize(f,this._size,!1);r=$("<span/>").addClass("identity-picker-resolved-name").text(n);this._options.multiIdentitySearch?(i.addClass("identity-picker-resolved-bg"),r.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([]))):(i.addClass("identity-picker-resolved-single-search"),this._options.highlightResolved||(i.attr("tabindex","0"),i.addClass("identity-picker-resolved-single-bg")),$(".identity-picker-resolved",this._element).off(".identityPicker").remove());this._options.highlightResolved&&r.addClass("text-cursor");i.append(f).append(r).insertBefore(this._$input);this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide());this._isControlInFocus()&&this.focusOnSearchInput();this._options.callbacks&&this._options.callbacks.getCustomTooltip&&u.RichContentTooltip.add(n,r,{showOnFocus:!this._options.smallScreenRender})},t.prototype._isControlInFocus=function(){var n=$(document.activeElement);return n.length>0&&(this._element.is(n[0])||this._element.has(n[0]).length>0)},t.prototype._createResolvedItem=function(n){var t=$("<span/>").addClass("identity-picker-resolved").attr("data-signin",ft.replaceBackslash(n));return this._isReadOnly()||t.attr("tabindex","-1"),this._options.multiIdentitySearch?t.addClass("identity-picker-resolved-bg"):(t.addClass("identity-picker-resolved-single-search"),this._showMruExpander&&this._options.highlightResolved&&t.addClass("identity-picker-drop-icon-padding"),this._options.highlightResolved||(t.attr("tabindex","0"),!this._options.ariaDescribedby||t.attr("aria-describedby",this._getAriaDescribedby(this._options.ariaDescribedby)),t.addClass("identity-picker-resolved-single-bg"))),t},t.prototype._setResolvedItemRole=function(n,t){n.attr("role","button").attr("aria-disabled","false").attr("aria-label",g.format(w.IdentityPicker_ButtonResolvedItemLabel,g.htmlEncodeJavascriptAttribute(t)));var i=s.getId().toString(),r=$("<div/>").attr("id",i).addClass("visually-hidden").appendTo(n);n.attr("aria-describedby",this._getAriaDescribedby(i));this._options.highlightResolved?r.text(w.IdentityPicker_FocusChangeValue):r.text(g.format(w.IdentityPicker_ButtonResolvedItemDescription,g.htmlEncodeJavascriptAttribute(t))+". "+(this._showContactCard&&!this._options.highlightResolved?w.IdentityPicker_EnterSpaceMessage+". ":"")+w.IdentityPicker_DeleteBackspaceMessage)},t.prototype._resolveItem=function(n,i,r,f){var e=this,d,c,a,o,nt,tt,y,l,s,h,k,p,b;if(i===void 0&&(i=!0),r===void 0&&(r=null),f===void 0&&(f=!1),this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),n){if(d=this._isControlInFocus(),!this._options.multiIdentitySearch&&this._selectedItems&&this._selectedItems.length>0&&this._clearSearchControl(),this.isDropdownVisible()&&this._hideDropdown(),!this._options.forceOpen&&(this._options.multiIdentitySearch||!this._options.highlightResolved)&&this._identityPickerDropdown&&this._identityPickerDropdown.reset(),this._resetPreviousInput(),i&&this._setInputText(""),c=r?this._getSearchPrefix(r):"",c&&(this._replaceAndCleanup(c.toLowerCase()),this._removeFromUnresolved(c.toLowerCase()),this._element.find('.identity-picker-resolved[data-signin="'+ft.replaceBackslash(c.toLowerCase())+'"][data-unresolved="true"]').off(".identityPicker").remove()),this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(c.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove()),this._findInSelectedItems(n)!=-1){this._fireInputValidityEvent();return}if(this._selectedItems.push(n),$(".ui-dialog-content",$(".idcard-dialog:visible")).dialog("close"),a=et.getUniqueIdentifierForDisambiguation(n),this._$input.width(10),o=this._createResolvedItem(a.toLowerCase()),ft.styleElementBySize(o,this._size,!0),tt=v.ServiceHelpers.getDefaultIdentityImage(n),n.image&&(nt=n.image),y=ft.createImgElement(tt,nt,"user-picture-resolved",n.entityId),ft.styleElementBySize(y,this._size,!1),l=et.getDisplayName(n),this._options.smallScreenRender&&this._$closeInput.hide(),s=this._createCloseButton(),this._options.multiIdentitySearch&&s.addClass("identity-picker-resolved-bg"),this._options.highlightResolved||s.addClass("identity-picker-resolved-single-bg"),ft.styleElementBySize(s,this._size,!1),s.click(ut(this,function(n){if(e._removeFromResolved(a.toLowerCase(),!0),o.off(".identityPicker").remove(),e._identityPickerDropdown&&e._identityPickerDropdown.updatePrefix(""),e._resolvedIEntity=null,!e._options.multiIdentitySearch){e._resetSearchControl();return}e._recalculateInputWidth();e.focusOnSearchInput();n.stopPropagation()})),o.append(y).append(s).insertBefore(this._$input),h=$("<span/>").addClass("identity-picker-resolved-name").text(l),this._readOnlyMode&&h.attr("aria-label",g.format(w.ReadOnlyPrefix,this._options.ariaLabel?this._options.ariaLabel:this._placeholderText)),this._options.multiIdentitySearch&&h.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([y,s])),this._options.highlightResolved?h.addClass("text-cursor"):et.isDirectoryEntityType(n)&&h.addClass("pointer-cursor"),n.active!==!1||et.isAadGroup(n)||h.addClass("identity-picker-inactive-name"),this._isReadOnly()?s.hide():this._setResolvedItemRole(o,l),o.append(h),this._options.multiIdentitySearch?this._recalculateInputWidth():(this._$input.hide(),this._options.smallScreenRender&&this._$closeInput.hide(),this._showMruExpander&&this._hideMruTriangle(),this._options.watermark&&$(".identity-picker-resolved:has(> .identity-picker-watermark-name)",this._element).off(".identityPicker").remove(),this._options.highlightResolved&&!this._isReadOnly()&&h.attr("tabindex","0")),k=function(t){t.stopPropagation();e._resolvedIEntity=n;e._removeFromResolved(a.toLowerCase());o.off(".identityPicker").remove();e._$input.show();e._showMruTriangle();e._recalculateInputWidth();e.focusOnSearchInput();e._setInputText(l);e._identityPickerDropdown&&e._identityPickerDropdown.updatePrefix(l);e._$input.select()},this._options.highlightResolved)h.on("focus.identityPicker",ut(this,function(n){if(e._isReadOnly())return!1;k(n)}));p=function(t){if($.contains(s[0],t.target)||s[0]===t.target)return!0;if(e._isReadOnly())return!1;if(b)return b=!1,!1;if(b=!0,t.preventDefault(),e._options.highlightResolved)k(t);else if(t.stopPropagation(),et.isDirectoryEntityType(n)){e._showIdCardDialog({anchor:o,identity:n,leftValue:0,consumerId:e._options.consumerId});var i=function(n){n.stopPropagation();o.off("click.identityPicker",i)};o.on("click.identityPicker",i)}e._options.highlightResolved&&e._showAllMruInDropdownWithoutDefaultSelection(!1)};b=!1;o.on("mousedown.identityPicker",ut(this,function(n){p(n)}));o.on("click.identityPicker",ut(this,function(n){p(n)}));if(!this._options.multiIdentitySearch&&!this._options.highlightResolved)o.on("keypress.identityPicker",ut(this,function(n){n&&n.keyCode===ot.ENTER&&p(n)}));o.blur(ut(this,function(n){e._identityPickerDropdown&&!e._isDropdownHovered()&&!e._isContactCardHovered()&&o.is(":visible")&&(e.isDropdownVisible()&&e._hideDropdown(n),e._options.callbacks&&e._options.callbacks.onInputBlur&&e._options.callbacks.onInputBlur())}));this._isReadOnly()||!this._showContactCard||this._options.highlightResolved||o.attr("aria-haspopup","true");this._fireInputValidityEvent();this._$container[0].scrollTop=this._$container[0].scrollHeight;d&&!f&&this.focusOnSearchInput();this._options.highlightResolved&&v.ServiceHelpers.isAuthenticatedMember()&&u.RichContentTooltip.add(ft.createTooltip(n),h,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._getItemNameContainerMaxWidth=function(n){var t=this._controlWidth-ft.SCROLL_BAR_WIDTH_PX;for(var i in n)n.hasOwnProperty(i)&&(t-=parseInt(n[i].css("width"),10));return t},t.prototype._createCloseButton=function(){var n=$("<span/>").addClass("identity-picker-resolved-close-icon bowtie-icon");return n.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete"),$("<span/>").addClass("identity-picker-resolved-close").append(n)},t.prototype._getSearchPrefix=function(n){var t=/^.*[(<{\[]\s*([^\s]+@[^\s]+\.[^\s]+[^)>}\]])\s*[)>}\]]+\s*$/.exec(n);return t&&t[0]===n?t[1]:n},t.prototype._unresolveItem=function(n){var o=this,f,i,h,r,e,c,l;if(this._controlWidth=Math.max(this._$container.width(),t.DEFAULT_WIDTH),this._resetPreviousInput(),n){if(f=this._getSearchPrefix(n),this._unresolvedItems.indexOf(f.toLowerCase())!=-1){this._replaceAndCleanup(n.toLowerCase());return}if(!this._replaceAndCleanup(n.toLowerCase()))return;this._options.showTemporaryDisplayName&&(this._options.multiIdentitySearch?this._element.find('.identity-picker-temp[data-signin="'+ft.replaceBackslash(f.toLowerCase())+'"]').remove():$(".identity-picker-temp",this._element).remove());this._fireInvalidInput();this._unresolvedItems.push(f.toLowerCase());this._$input.width(10);i=this._createResolvedItem(f.toLowerCase()).attr("data-unresolved","true");ft.styleElementBySize(i,this._size,!0);h=$("<span/>").addClass("identity-picker-resolved-close-icon bowtie-icon bowtie-edit-delete");h.addClass(this._options.smallScreenRender?"bowtie-edit-remove":"bowtie-edit-delete");r=$("<span/>").addClass("identity-picker-resolved-close").append(h);this._options.multiIdentitySearch?r.addClass("identity-picker-resolved-bg"):this._options.highlightResolved||r.addClass("identity-picker-resolved-single-bg");ft.styleElementBySize(r,this._size,!1);r.click(ut(this,function(){o._removeFromUnresolved(n.toLowerCase());i.off(".identityPicker").remove();o._recalculateInputWidth();o.focusOnSearchInput()}));i.append(r).insertBefore(this._$input);e=$("<span/>").addClass("identity-picker-unresolved-name").text(g.decodeHtmlSpecialChars(n));this._options.multiIdentitySearch&&e.addClass("identity-picker-search-multiple-name").css("max-width",this._getItemNameContainerMaxWidth([r]));i.attr("role","button").attr("aria-label",g.format(w.IdentityPicker_ButtonUnresolvedItemLabel,n));c=s.getId().toString();l=$("<div/>").attr("id",c).addClass("visually-hidden").appendTo(i);l.text(g.format(w.IdentityPicker_ButtonUnresolvedItemDescription,n)+". "+w.IdentityPicker_DeleteBackspaceMessage);i.attr("aria-describedby",c);i.append(e);this._recalculateInputWidth();this.focusOnSearchInput();this._$container[0].scrollTop=this._$container[0].scrollHeight;u.RichContentTooltip.add(w.IdentityPicker_UnresolvedIdentity+": "+n,e,{showOnFocus:!this._options.smallScreenRender})}},t.prototype._generatePlaceHolder=function(n){return this._isInArray(v.ServiceHelpers.UserEntity,n)&&this._isInArray(v.ServiceHelpers.GroupEntity,n)?w.IdentityPicker_PlaceholderTextUserGroup:this._isInArray(v.ServiceHelpers.UserEntity,n)&&!this._isInArray(v.ServiceHelpers.GroupEntity,n)?w.IdentityPicker_PlaceholderTextUser:!this._isInArray(v.ServiceHelpers.UserEntity,n)&&this._isInArray(v.ServiceHelpers.GroupEntity,n)?w.IdentityPicker_PlaceholderTextGroup:w.IdentityPicker_PlaceholderTextPrefix},t.prototype._isInArray=function(n,t){return t.indexOf(n)>=0},t.INVALID_INPUT_EVENT="identity-picker-search-invalid-input",t.VALID_INPUT_EVENT="identity-picker-search-valid-input",t.RESOLVED_INPUT_REMOVED_EVENT="identity-picker-resolved-input-removed",t.SEARCH_STARTED_EVENT="identity-picker-search-started",t.SEARCH_FINISHED_EVENT="identity-picker-search-finished",t.DIALOG_MOVE_EVENT="dialog-move",t.SEQUENCED_IDENTITIES_IN_PAGE_RESOLVED_EVENT_INTERNAL="identity-picker-sequenced-identities-in-page-resolved-internal",t.SEARCH_MRU_TRIANGLE_CLASS="identity-picker-search-drop-icon",t.DEFAULT_WIDTH=140,t.OUTER_PADDING_PX=2,t.TRIANGLE_WIDTH_PX=19,t.NAME_PADDING_PX=8,t.INACTIVE_ENTITY_TYPE="inactive_entitytype",t.INACTIVE_ENTITY_ID_PREFIX="INACTIVE_ENTITY_ID",t.INACTIVE_ORIGIN_ID_PREFIX="INACTIVE_ORIGIN_ID",t}(s.Control);t.IdentityPickerSearchControl=dt,function(n){n[n.Small=0]="Small";n[n.Medium=1]="Medium";n[n.Large=2]="Large"}(st=t.IdentityPickerControlSize||(t.IdentityPickerControlSize={})),function(n){n[n.AvatarText=0]="AvatarText";n[n.AvatarOnly=1]="AvatarOnly";n[n.TextOnly=2]="TextOnly"}(pt=t.EDisplayControlType||(t.EDisplayControlType={})),function(n){n[n.ExpiredAccessToken=0]="ExpiredAccessToken";n[n.IsGuestUser=1]="IsGuestUser"}(kt||(kt={}));gt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._displayedEntity=null,i._identityType=t.identityType?t.identityType:{User:!0},i._operationScope=t.operationScope?t.operationScope:{IMS:!0},i._size=t.size!==null&&t.size!==undefined?t.size:st.Medium,i._turnOffHover=t.turnOffHover?t.turnOffHover:!1,i}return __extends(t,n),t.prototype.initialize=function(){var t,i;if(n.prototype.initialize.call(this),v.ServiceHelpers.isAuthenticatedMember()||(this._turnOffHover=!0),t=this._options.item,!t||(typeof t=="string"||t instanceof String)&&!t.trim()){i={source:"IdentityDisplayControl.initialize()",message:"The item argument to the IdentityDisplayControl cannot be null or empty"};throw i;}this._displayType=this._options.displayType?this._options.displayType:pt.AvatarText;(typeof t=="string"||t instanceof String)&&t?(t=t.trim(),this._displayString(t),this._resolveStringToEntity(t)):this._displayEntity(t,"")},t.prototype.getDisplayedEntity=function(){if(this._displayedEntity)return this._displayedEntity;throw{source:"getResolvedEntity",message:"No resolved entity found."};},t.prototype._getEntityOperationsFacade=function(){return this._entityOperationsFacade||(this._entityOperationsFacade=b.getService(yt)),this._entityOperationsFacade},t.prototype._resolveStringToEntity=function(n){var t=this,r=function(i){if(t._element){if(!i||!i.queryToken||!i.identities)return;if(i.identities.length!=1)return;t._getEntityOperationsFacade().queryTokenEntityImageCache.set(n,i.identities[0].image);t._displayEntity(i.identities[0],n)}},i=function(n){n&&h.logWarning("_resolveStringToEntity/getIdentitiesErrorCallback:"+JSON.stringify(n))},u={identityServiceOptions:{operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient,extensionData:this._options.extensionData},identityExtensionOptions:{consumerId:this._options?this._options.consumerId:a.ConsumerId.UnknownConsumer},prefix:n,queryTypeHint:{UID:!0},sources:[ct.Directory]},f=this._getEntityOperationsFacade().search(u).then(function(n){for(var u in n.queryTokenResponse)n.queryTokenResponse[u].then(ut(t,r),ut(t,i))},i)},t.prototype._showIdCardDialog=function(n){v.ServiceHelpers.isAuthenticatedMember()&&s.Enhancement.enhance(wt,"<div/>",{identity:n.identity,anchor:n.anchor,leftValue:n.leftValue,operationScope:this._operationScope,identityType:this._identityType,httpClient:this._options.httpClient?this._options.httpClient:null,consumerId:this._options.consumerId,appendTo:this._options.dialogAppendTo})},t.prototype._displayString=function(n){var t=$("<span/>").addClass("identity-picker-display").attr("data-item",n).attr("tabindex","-1"),i,r,f,e;this._turnOffHover||u.RichContentTooltip.add(this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n,t);ft.styleElementBySize(t,this._size,!0);i=null;this._displayType!=pt.TextOnly&&(r=this._getEntityOperationsFacade().queryTokenEntityImageCache.get(n),f=r?r:v.ServiceHelpers.DefaultUserImage,i=ft.createImgElement(f,"","user-picture-resolved"),ft.styleElementBySize(i,this._size,!1),t.append(i));this._displayType!=pt.AvatarOnly?(e=$("<span/>").addClass("identity-picker-resolved-name").text(this._options.friendlyDisplayName?this._options.friendlyDisplayName:n),t.append(e)):i.attr("alt",this._options.friendlyDisplayName?this._options.friendlyDisplayName+" <"+n+">":n);t.appendTo(this._element)},t.prototype._displayEntity=function(n,i){var r=this,f,o,c,s,l,a;if(n){this._displayedEntity=n;var e=et.getDisplayName(this._displayedEntity),y=et.getUniqueIdentifierForDisambiguation(this._displayedEntity),u=$("<span/>").addClass("identity-picker-display").attr("data-signin",ft.replaceBackslash(y.toLowerCase())).attr("tabindex","-1");if(ft.styleElementBySize(u,this._size,!0),f=null,o=null,this._displayType!=pt.TextOnly&&(c=v.ServiceHelpers.getDefaultIdentityImage(this._displayedEntity),f=ft.createImgElement(c,this._displayedEntity.image?this._displayedEntity.image:"","user-picture-resolved",this._displayedEntity.entityId),ft.styleElementBySize(f,this._size,!1),u.append(f)),this._displayType!=pt.AvatarOnly?(o=$("<span/>").addClass("identity-picker-resolved-name").text(e),$('.identity-picker-display[data-item="'+i+'"]',this._element).remove(),u.append(o)):(s=et.getSignInAddress(this._displayedEntity),f.attr("alt",e!==s?e+" <"+s+">":e)),l=function(){var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]');n.length&&$(".ui-dialog-content",n).dialog("close")},a=function(){r._hoverIdCardEnterTimer=new d.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL,"showDisplayControlContactCard",function(){r._element.parent().length>0&&r._element.is(":visible")&&r._showIdCardDialog({anchor:u,identity:r._displayedEntity,leftValue:0,consumerId:r._options.consumerId})})},!this._turnOffHover&&et.isDirectoryEntityType(this._displayedEntity))u.on("mouseenter",function(){r._hoverIdCardEnterTimer?r._hoverIdCardEnterTimer.reset():(a(),r._hoverIdCardEnterTimer.start())}).on("mouseleave",function(){r._hoverIdCardEnterTimer&&r._hoverIdCardEnterTimer.cancel();var n=$('.idcard-dialog[data-objectid="'+r._displayedEntity.entityId+'"]'),i=function(){r._hoverIdCardExitTimer?r._hoverIdCardExitTimer.reset():(r._hoverIdCardExitTimer=new d.DelayedFunction(r,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL,"closeDisplayControlContactCard",l),r._hoverIdCardExitTimer.start())};n&&n.length&&n.mouseenter(function(){r._hoverIdCardExitTimer.cancel();n.mouseleave(function(){i()})});i()});this._element.empty();u.appendTo(this._element)}},t.DEFAULT_HOVER_WAIT_ENTER_INTERVAL=800,t.DEFAULT_HOVER_WAIT_EXIT_INTERVAL=200,t.MIN_WIDTH=100,t.OUTER_PADDING_PX=2,t}(s.Control);t.IdentityDisplayControl=gt;ft=function(){function n(){}return n.styleElementBySize=function(n,t,i){i===void 0&&(i=!0);switch(t){case st.Small:i?n.addClass("element-height-small"):n.addClass("element-2d-small");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-small-compensate-padding");break;case st.Medium:i?n.addClass("element-height-medium"):n.addClass("element-2d-medium");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-medium-compensate-padding");break;case st.Large:i?n.addClass("element-height-large"):n.addClass("element-2d-large");n.hasClass("identity-picker-resolved-single-search")&&n.addClass("element-height-large-compensate-padding")}},n.createImgElement=function(n,t,i,r){t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");var u=$("<img>").css("background","url('".concat(n,"') no-repeat")).css("background-size","100%").attr("src",t?t:n).attr("alt","").attr("draggable","false").on("dragstart",function(){return!1});u.on("error",function(){u.attr("src")&&u.attr("src")===n?(u.off("error"),u.css("background-color","#7d7d7d").css("background-size","100%")):u.attr("src",n)});u.on("load",function(){u.attr("src")&&u.attr("src")!==n&&u.css("background-image","none")});return i&&u.addClass(i),r&&u.attr("data-objectid",r),u},n.getRandomString=function(){return Math.random().toString(36).substring(5)},n.getSizePx=function(n){switch(n){case st.Small:return 16;case st.Medium:return 24;case st.Large:return 32}},n.isValidEmail=function(n){var t=n.split("@");return t.length===2&&t[0].length>=1&&t[1].length>=1?!0:!1},n.isOnPremiseEnvironment=function(){return!o.getPageContext().webAccessConfiguration.isHosted==!0},n.sortGroupMembersByName=function(n){return n.sort(function(n,t){return!n||!n.displayName?-1:!t||!t.displayName?1:n.displayName.toLocaleLowerCase().localeCompare(t.displayName.toLocaleLowerCase())})},n.createTooltip=function(t,i){var u,r,f;return i?i:t?(u=t.displayName&&t.displayName.trim()?t.displayName:"",r="",n.isOnPremiseEnvironment()?t.samAccountName&&t.samAccountName.trim()&&(r="("+(t.scopeName&&t.scopeName.trim()?t.scopeName+"\\":"")+t.samAccountName+")"):t.signInAddress&&t.signInAddress.trim()&&(r="<"+t.signInAddress+">"),f="",t.active!==!1||et.isAadGroup(t)||(f=" - "+(t.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity?w.IdentityPicker_InactiveUser:t.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity?w.IdentityPicker_InactiveGroup:w.IdentityPicker_InactiveIdentity)),(u?u:"")+(r?" "+r:"")+f):""},n.replaceBackslash=function(n){return n.replace(/\\/g,"%")},n.UserEntityType=v.ServiceHelpers.UserEntity,n.GroupEntityType=v.ServiceHelpers.GroupEntity,n.VisualStudioDirectory=v.ServiceHelpers.VisualStudioDirectory,n.AzureActiveDirectory=v.ServiceHelpers.AzureActiveDirectory,n.SourceDirectory=v.ServiceHelpers.SourceDirectory,n.FIXED_POSTIION_CLASS="identity-picker-fixed-position",n.SCROLL_BAR_WIDTH_PX=20,n.IDENTITY_ITEM_BUFFER_WIDTH_PX=18,n}();at=function(){function n(){}return n.createStringEntity=function(t,i){var r=g.htmlEncode(t),u={entityId:n.STRING_ENTITY_ID_PREFIX+"_"+r,entityType:n.STRING_ENTITY_TYPE,originDirectory:n.STRING_DIRECTORY,originId:n.STRING_ORIGIN_ID_PREFIX+"_"+r,localDirectory:n.STRING_DIRECTORY,localId:n.STRING_LOCAL_ID_PREFIX+"_"+r,isMru:!1,displayName:r};return u.image=i||v.ServiceHelpers.getDefaultIdentityImage(u),u},n.isStringEntityId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_ENTITY_ID_PREFIX)==0?!0:!1},n.isStringPrefixedLocalId=function(t){return!t||!t.trim()?!1:t.indexOf(n.STRING_LOCAL_ID_PREFIX)==0},n.STRING_ENTITY_TYPE="string_entitytype",n.STRING_ENTITY_ID_PREFIX="STRING_ENTITYID",n.STRING_DIRECTORY="STRING_DIRECTORY",n.STRING_ORIGIN_ID_PREFIX="STRING_ORIGINID",n.STRING_LOCAL_ID_PREFIX="STRING_LOCALID",n}();t.EntityFactory=at;var et=function(){function n(){}return n.isDirectoryEntityType=function(n){return n.entityType?n.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity:!1},n.isAadGroup=function(n){return n.entityType&&n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity&&n.originDirectory.toLowerCase().trim()==v.ServiceHelpers.AzureActiveDirectory},n.getUniqueIdentifierForDisambiguation=function(n){return ft.isOnPremiseEnvironment()||n.entityType.toLowerCase().trim()!=v.ServiceHelpers.UserEntity?n.entityId:n.signInAddress&&ft.isValidEmail(n.signInAddress)?n.signInAddress:n.entityId},n.getDisplayName=function(t){return t.displayName&&t.displayName.trim()?t.displayName:n.getSignInAddress(t,n.isGitHubIdentity(t))},n.isGitHubIdentity=function(n){return n.originDirectory&&n.originDirectory.toLowerCase().trim()==v.ServiceHelpers.GitHubDirectory},n.getNonDiacriticDisplayName=function(n){return this.replaceDiacriticCharacters(this.getDisplayName(n))},n.replaceDiacriticCharacters=function(n){var t,i,r;if(n){for(t=n,i=0;i<t.length;i++)r=t.charAt(i),r in a.diacriticsRemovalMap&&(t=t.replace(r,a.diacriticsRemovalMap[r]));return t}return n},n.getSignInAddress=function(n,t){return(t===void 0&&(t=!1),ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim())?(n.scopeName&&n.scopeName.trim()?n.scopeName+"\\":"")+n.samAccountName:!t&&n.signInAddress&&n.signInAddress.trim()?n.signInAddress:!t&&n.mail&&n.mail.trim()?n.mail:n.mailNickname&&n.mailNickname.trim()?n.mailNickname:""},n}(),ri=function(){function n(){}return n.prototype.getIdentityAttributes=function(n){if(n.entityType.trim().toLowerCase()==v.ServiceHelpers.UserEntity)return new ti(n);if(n.entityType.trim().toLowerCase()==v.ServiceHelpers.GroupEntity)return new ii(n);throw{source:"getIdentityAttributes",message:"identity entityType do not match existing type"};},n}(),vt=function(){function n(n,t,i){this._displayTitle=n;this._displayContent=t;this._needWordWrap=i?i:!1}return n.prototype.getDisplayTitle=function(){return this._displayTitle},n.prototype.getDisplayContent=function(){return this._displayContent},n.prototype.constructAttribute=function(n){var r=$("<div/>").addClass("identity-picker-idcard-attribute-name").attr("id","identity-picker-idcard-attribute-name_"+n).text(this.getDisplayTitle()),i=this.getDisplayContent(),t=$("<div/>").addClass("identity-picker-idcard-ellipsis-overflow"),f;return u.RichContentTooltip.addIfOverflow(i,t,{menuContainer:t}),this._isValidSendEmailAttribute()?f=$("<a/>").attr({"aria-labelledby":"identity-picker-idcard-attribute-name_"+n,href:"mailto:"+i,tabindex:"0"}).text(i).appendTo(t):t.text(this.getDisplayContent()),this._needWordWrap&&t.addClass("identity-picker-idcard-word-wrap"),[r,t]},n.prototype._isValidSendEmailAttribute=function(){return w.IdentityPicker_IdCardMail.toLowerCase()==this.getDisplayTitle().toLowerCase().trim()&&ft.isValidEmail(this.getDisplayContent())},n}(),ui=function(){function n(){this._withContactCard=!1;this._smallScreenRender=!1;this._withContactCard=!0;this._focusElementOnContactCardClose=null}return n.prototype.withPrefix=function(n){return this._prefix=n,this},n.prototype.withEntity=function(n){return this._entity=n,this},n.prototype.withContactCard=function(n,t){return this._withContactCard=n,this._withContactCard&&(this._focusElementOnContactCardClose=t),this},n.prototype.forControlOfSize=function(n){return this._size=n,this},n.prototype.withIdentityServiceOptions=function(n){return this._identityServiceOptions=n,this},n.prototype.withIdentityExtensionOptions=function(n){return this._identityExtensionOptions=n,this},n.prototype.withHoverSupport=function(n){return this._supportsHover=n,this},n.prototype.withSmallScreenRender=function(n){return this._smallScreenRender=n,this},n.prototype.withDialogAppendTo=function(n){return this._dialogAppendTo=n,this},n.prototype.registerCallbacks=function(n){return this._callbacks=n,this},n.prototype.build=function(){var i=this,t,c,f,e,o,s,r,l,h,v,y;if(!this._entity||this._size===null||this._size===undefined||!this._identityServiceOptions||!this._identityServiceOptions.identityType||!this._identityServiceOptions.operationScope||!this._callbacks)return null;if(t=$("<li/>").attr("role","option"),this._smallScreenRender&&(c=$("<i/>").addClass("ms-Icon ms-Icon--CheckMark"),f=$("<span/>").addClass("container"),c.appendTo(f),e=$("<span/>").addClass("selected-fade"),f.appendTo(e),e.appendTo(t)),ft.styleElementBySize(t,this._size,!0),n._appendImage(this._entity,t,this._size),o=et.isGitHubIdentity(this._entity),s=!o&&this._withContactCard&&et.isDirectoryEntityType(this._entity),this._entity.isMru&&et.isDirectoryEntityType(this._entity)&&(r=$("<div/>").addClass("bowtie-icon bowtie-edit-delete bowtie-icon-small identity-picker-delete-icon").attr("role","button").appendTo(t),u.RichContentTooltip.add(w.IdentityPicker_RemoveFromMru,r,{menuContainer:r}),ft.styleElementBySize(r,this._size,!1),s&&r.addClass("with-idcard"),r.hide(),l=ut(this,function(){var n={};n[a.TelemetryProperties.entityId]=i._entity.entityId;n[a.TelemetryProperties.consumerId]=i._identityExtensionOptions?i._identityExtensionOptions.consumerId:a.ConsumerId.UnknownConsumer;tt.publishEvent(new tt.TelemetryEventData(a.Telemetry.Area,a.Telemetry.Feature_Click_Remove_Mru,n));i._callbacks.deleteIconClickDelegate(i._entity,t)}),this._callbacks.deleteIconClickDelegate&&r.click(l)),s&&!et.isGitHubIdentity(this._entity)&&n._appendIdCard(this._entity,t,this._size,this._identityServiceOptions,this._identityExtensionOptions,this._callbacks,this._focusElementOnContactCardClose,this._dialogAppendTo),h=n._appendTextContainer(this._entity,t,this._size,this._prefix,this._smallScreenRender),this._size==st.Small&&(v=this._entity.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?this._entity.displayName:et.getSignInAddress(this._entity,o),u.RichContentTooltip.add(v,h,{menuContainer:h})),y=function(){var n,r;i._smallScreenRender&&(n=17,d.delay(null,n,function(){t.children(".selected-fade").attr("class","selected-fade-active")}),r=400,d.delay(null,n+r,function(){t.children(".selected-fade").attr("class","selected-fade")}));i._callbacks.entityListItemClickDelegate(i._entity)},this._callbacks.entityListItemClickDelegate&&t.click(y),this._entity.isMru&&this._supportsHover)t.on("mouseenter",ut(this,function(){t.children(".identity-picker-delete-icon").show()})).on("mouseleave",ut(this,function(){t.children(".identity-picker-delete-icon").hide()}));return t},n._appendTextContainer=function(t,i,r,u,f){var s,o,e;return f===void 0&&(f=!1),s=et.isGitHubIdentity(t)&&!(t.displayName&&t.displayName.trim()),s?o=$("<div/>").addClass("item-text-container").append($("<div/>").append($("<div/>").addClass("bowtie-icon bowtie-brand-github list-icon")).addClass("title-only").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))):(o=$("<div/>").addClass("item-text-container").append($("<div/>").addClass("title").addClass(r==st.Large?"large":"").append(n._highlightPrefix(et.getDisplayName(t),u,!0))),e=et.getSignInAddress(t,et.isGitHubIdentity(t)),e=g.isGuid(e)?"":e,r!=st.Small&&e&&e.trim()&&o.append($("<div/>").append($("<div/>").addClass(et.isGitHubIdentity(t)?"bowtie-icon bowtie-brand-github list-icon":"")).addClass("subtitle").addClass(r==st.Large?"large":"").append(n._highlightPrefix(e,u)))),o.appendTo(i),f||o.height(ft.getSizePx(r)+lt.IMAGE_MARGINS_PX),o},n._appendImage=function(n,t,i){var f=v.ServiceHelpers.getDefaultIdentityImage(n),r,u;n.image&&(r=n.image);u=ft.createImgElement(f,r,r&&r.trim()?"identity-picture":"identity-picture hidden",n.entityId).appendTo(t);ft.styleElementBySize(u,i,!1)},n._appendIdCard=function(n,t,i,r,f,e,o,h){var c=$("<div/>").addClass("bowtie-icon bowtie-contact-card identity-picker-contact-card-icon").attr("role","button").appendTo(t),l;u.RichContentTooltip.add(w.IdentityPicker_ShowContactCardTitle,c,{menuContainer:c});ft.styleElementBySize(c,i,!1);l=ut(this,function(t){t.stopPropagation();var u={identity:n,anchor:c,operationScope:r.operationScope,identityType:r.identityType,httpClient:r.httpClient?r.httpClient:null,focusElementOnClose:o,leftValue:c.offset().left,topValue:c.offset().top+c.outerHeight(),consumerId:f.consumerId,appendTo:h},i={};i[a.TelemetryProperties.entityId]=n.entityId;i[a.TelemetryProperties.consumerId]=f?f.consumerId:a.ConsumerId.UnknownConsumer;tt.publishEvent(new tt.TelemetryEventData(a.Telemetry.Area,a.Telemetry.Feature_Click_IdCard,i));s.Enhancement.enhance(wt,"<div/>",u)});c.click(l)},n._highlightPrefix=function(n,t,i){var u;if(i===void 0&&(i=!1),!n)return null;var o=et.replaceDiacriticCharacters(n),s=et.replaceDiacriticCharacters(t),r=o.toLowerCase().indexOf(s.toLowerCase()),f=function(n,t,i){return $("<span/>").append(g.htmlEncode(n.substring(0,i))).append($("<b>").text(n.substr(i,t))).append(g.htmlEncode(n.substr(i+t)))},e=function(n,t,i,r){for(var u=et.replaceDiacriticCharacters(n),e=et.replaceDiacriticCharacters(t);i>0&&u.charAt(i-1)!=r;)i=u.toLowerCase().indexOf(e.toLowerCase(),i+1);return i>0?f(n,t.length,i):null};if(r){if(r>0){if(i&&(u=e(n,t,r," "),u)||ft.isOnPremiseEnvironment()&&t.indexOf("\\")<0&&(u=e(n,t,r,"\\"),u))return u}else if(ft.isOnPremiseEnvironment()&&t.indexOf("\\")>0)if(t=t.substring(t.indexOf("\\")+1),r=o.toLowerCase().indexOf(s.toLowerCase()),r){if(i&&(u=e(n,t,r," "),u))return u}else return f(n,t.length,r)}else return f(n,t.length,r);return $("<span/>").text(n)},n}(),ct=function(){function n(){}return n.Directory="Directory",n.Mru="Mru",n.Persistent="Persistent",n.String="String",n}();t.SourceId=ct,function(n){n[n.Sync=0]="Sync";n[n.Async=1]="Async"}(ni=t.SourceType||(t.SourceType={}));bt=function(){function n(){}return n.PreferFirst="preferfirst",n.PreferSecond="prefersecond",n}();yt=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._mruEntities={},t._syncSources={},t._requestStack=[],t._deferredStack=[],t._userMruReady={},t._entityRetrieverPrepComplete={},t._mruEntitiesPromise={},t._mruEntities={},t.registerSyncSource({id:ct.Mru,sourceType:ni.Sync,getEntities:t._mruSourceGetEntitiesHandler,sortRank:10}),t.queryTokenEntityImageCache=new y.HashCache,t}return __extends(t,n),t.prototype.registerSyncSource=function(n){if(!(n.id in this._syncSources)){for(var t in this._syncSources)if(this._syncSources[t].sortRank==n.sortRank)return;this._syncSources[n.id]=n}},t.prototype.search=function(n){var i=this,e,u,f;if(!n.sources||n.sources.length==0||!n.identityServiceOptions){e={source:"EntityOperationsFacade: search",message:"missing arguments"};throw e;}var o=rt.defer(),s=o.promise,r=l.FilterByScope.GetHashCode(n.filterByScope);return typeof this._requestStack[r]=="undefined"&&(this._requestStack[r]=[]),this._requestStack[r].push(n),typeof this._deferredStack[r]=="undefined"&&(this._deferredStack[r]=[]),this._deferredStack[r].push(o),u=ut(this,function(){for(var e=function(){var e=i._requestStack[r].pop(),o=i._deferredStack[r].pop();n=[];f=i._getRegisteredSyncSourcesSorted().filter(function(n){return e.sources.indexOf(n)!=-1});f&&f.forEach(ut(i,function(r){var u=i._syncSources[r].getEntities.bind(i),f=u(n,e);n=t.mergeEntities(f,n)}));u={entityResponse:[],queryTokenResponse:{}};e.sources.indexOf(ct.Directory)!=-1&&(u.queryTokenResponse=i._directorySourceGetEntities(n,e));n.length>0?i.getImagesForEntities(n,e).then(function(t){n.forEach(ut(i,function(n){t.hasOwnProperty(n.entityId)&&(n.image=t[n.entityId])}));u.entityResponse=n;o.resolve(u)}):o.resolve(u)},n,f,u;i._requestStack[r].length>0;)e()}),f=this.load({loadMru:n.sources.indexOf(ct.Mru)!=-1,filterByScope:n.filterByScope}),f.isFulfilled()?u():f.then(u,u),s},t.prototype.isUserMruReady=function(n){return this._userMruReady[l.FilterByScope.GetHashCode(n)]},t.prototype.getMruEntitiesUnchecked=function(n){return this._mruEntities[l.FilterByScope.GetHashCode(n)]},t.prototype.refreshUserMru=function(n){return this._getUserMruEntities(null,null,n)},t.prototype.load=function(n){var i=this,t=l.FilterByScope.GetHashCode(n.filterByScope);return this._entityRetrieverPrepComplete[t]&&(!n.loadMru||this._userMruReady[t])?this._entityRetrieverPrepComplete[t].promise:(this._entityRetrieverPrepComplete[t]=rt.defer(),n.loadMru?this._mruEntitiesPromise[t]?this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)})):(this._mruEntitiesPromise[t]=this._getUserMruEntities(null,null,n.filterByScope),this._mruEntitiesPromise[t].then(ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!0)}),ut(this,function(){i._entityRetrieverPrepComplete[t].resolve(!1)}))):this._entityRetrieverPrepComplete[t].resolve(!0),this._entityRetrieverPrepComplete[t].promise)},t.filterEntities=function(n,t){return!n||n.length==0?[]:n.filter(function(n){return n.displayName&&et.getNonDiacriticDisplayName(n).toLowerCase().indexOf(et.replaceDiacriticCharacters(t))==0?!0:ft.isOnPremiseEnvironment()&&n.samAccountName&&n.samAccountName.trim().toLowerCase().indexOf(t)==0||ft.isOnPremiseEnvironment()&&n.scopeName&&n.samAccountName&&(n.scopeName+"\\"+n.samAccountName).trim().toLowerCase().indexOf(t)==0||n.signInAddress&&n.signInAddress.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&n.mail&&n.mail.trim().toLowerCase().indexOf(t)==0||!n.signInAddress&&!n.mail&&n.mailNickname&&n.mailNickname.trim().toLowerCase().indexOf(t)==0?!0:!1})},t.mergeEntities=function(n,i,r){var u,f,e;if(r===void 0&&(r=bt.PreferFirst),u={},f=[],!n&&!i)return[];if(!i||i.length==0)return n?n:[];if(!n||n.length==0)return i?i:[];n.forEach(function(n){var i=t._getMergingKeyFromEntity(n);u[i]=u.hasOwnProperty(i)?t._mergeSimilarEntities(u[i],n,r):n});i.forEach(function(n){var i=t._getMergingKeyFromEntity(n),f;i in u?(f=t._mergeSimilarEntities(u[i],n,r),u[i]=f):u[i]=n});for(e in u)u[e].isMru?f.unshift(u[e]):f.push(u[e]);return f},t.prototype.getImagesForEntities=function(n,t){var r=rt.defer(),s=r.promise,e={},c=b.getService(v.IdentityService),u,f,o;try{u=c.getIdentityImages(n,{httpClient:t&&t.identityServiceOptions&&t.identityServiceOptions.httpClient?t.identityServiceOptions.httpClient:null});f=[];for(o in u)f.push(u[o]);rt.allSettled(f).then(function(n){n.forEach(function(n){if(n.state==a.PromiseResultStatus.Fulfilled){if(!n.value||Object.keys(n.value).length!=1||!Object.keys(n.value)[0]||!Object.keys(n.value)[0].trim())return;var i=Object.keys(n.value)[0],t=n.value[i];if(!t||!t.trim())return;e[i]=t}else n.state==a.PromiseResultStatus.Rejected&&n.reason&&h.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n.reason))});r.resolve(e)},function(n){n&&h.logError("_getImagesForEntities/_getImagesForEntitiesErrorCallback:"+JSON.stringify(n));r.reject(n)})}catch(i){if(i!==Object(i)||!("source"in i)||i.source!="IdentityService")throw i;}return s},t._getMergingKeyFromEntity=function(n){var t,i;return ft.isOnPremiseEnvironment()&&n&&n.entityType&&n.localId&&n.localDirectory.toLowerCase().trim()==v.ServiceHelpers.VisualStudioDirectory&&(n.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity||n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity)?n.localId:n.entityType.toLowerCase().trim()==v.ServiceHelpers.UserEntity?(t=et.getSignInAddress(n),i=t?t:n.entityId,i):n.entityType.toLowerCase().trim()==v.ServiceHelpers.GroupEntity?n.displayName&&n.displayName.trim()?n.mailNickname&&n.mailNickname.trim()?n.displayName+n.mailNickname:n.mail&&n.mail.trim()?n.displayName+n.mail:n.displayName:n.entityId:n.entityType.toLowerCase().trim()==at.STRING_ENTITY_TYPE?n.entityId:void 0},t._mergeSimilarEntities=function(n,i,r){var f,u,e;if(r===void 0&&(r=bt.PreferFirst),n==null)return i;if(i==null)return n;f={entityId:t._computeValue("entityId",n,i,r),entityType:t._computeValue("entityType",n,i,r),originDirectory:t._computeValue("originDirectory",n,i,r),originId:t._computeValue("originId",n,i,r),localDirectory:t._computeValue("localDirectory",n,i,r),localId:t._computeValue("localId",n,i,r)};u=["displayName","scopeName","department","jobTitle","mail","mailNickname","physicalDeliveryOfficeName","signInAddress","surname","guest","description","image","isMru","samAccountName","active","telephoneNumber",];for(e in u)f[u[e]]=t._computeValue(u[e],n,i,r);return f},t._computeValue=function(n,t,i,r){r===void 0&&(r=bt.PreferFirst);return r==bt.PreferFirst?t[n]?typeof t[n]=="string"||t[n]instanceof String?t[n].trim()?t[n]:i[n]:t[n]:i[n]:i[n]?typeof i[n]=="string"||i[n]instanceof String?i[n].trim()?i[n]:t[n]:i[n]:t[n]},t._filterMruEntitiesByIdentityType=function(n,t){if(!n.identityServiceOptions||!n.identityServiceOptions.identityType)return t;var i=v.ServiceHelpers.getIdentityTypeList(n.identityServiceOptions.identityType);return t.filter(function(n){return i.indexOf(n.entityType.trim().toLowerCase())>=0})},t.prototype._mruSourceGetEntitiesHandler=function(n,i){var r=t._filterMruEntitiesByIdentityType(i,this._mruEntities[l.FilterByScope.GetHashCode(i.filterByScope)]);return i.prefix&&(r=t.filterEntities(r,i.prefix)),r},t.prototype._directorySourceGetEntities=function(n,i){var e=this,c,o,u,l;if(!i||!i.prefix)return{};var r={},s={},a=b.getService(v.IdentityService);try{c={httpClient:i.identityServiceOptions.httpClient,minResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:n?n.length>v.IdentityService.MIN_RESULTS?0:v.IdentityService.MIN_RESULTS-n.length:v.IdentityService.MIN_RESULTS,maxResults:i.identityServiceOptions.minResults?i.identityServiceOptions.minResults:v.IdentityService.MAX_RESULTS,extensionData:i.identityServiceOptions.extensionData,getFilterByScope:function(){return i.filterByScope}};o=a.getIdentities(i.prefix,i.identityServiceOptions.operationScope,i.identityServiceOptions.identityType,c,i.queryTypeHint,i.identityExtensionOptions);for(u in o)l=ut(this,function(u){o[u].then(ut(e,function(f){i.prefix&&i.prefix.length>=1&&(f.identities=f&&f.identities?t.mergeEntities(f.identities,n):n);f.identities.length>0?e.getImagesForEntities(f.identities,i).then(function(n){f.identities.forEach(function(t){n.hasOwnProperty(t.entityId)&&(t.image=n[t.entityId])});r[u].resolve(f)}):r[u].resolve(f)}),ut(e,function(n){n&&h.logWarning("_directorySourceGetEntities/getIdentitiesErrorCallback:"+JSON.stringify(n));r[u].reject(n?n:null)}))}),l(u),r[u]=rt.defer(),s[u]=r[u].promise}catch(f){if(f!==Object(f)||!("source"in f)||f.source!="IdentityService")throw f;}return s},t.prototype._getRegisteredSyncSourcesSorted=function(){var n=this,t=Object.keys(this._syncSources);return t.sort(function(t,i){return n._syncSources[t].sortRank>n._syncSources[i].sortRank?1:-1}),t},t.prototype._getUserMruEntities=function(n,t,i){var f=this,e=rt.defer(),c=e.promise,r=l.FilterByScope.GetHashCode(i),o,s,h;try{return(this._userMruReady[r]=!1,o=ut(this,function(n){f._userMruReady[r]=!0;f._mruEntities[r]=n.filter(function(n){return n.active!==!1});f._mruEntities[r].forEach(function(n){n.image=v.ServiceHelpers.getDefaultIdentityImage(n)});e.resolve(!0)}),s=ut(this,function(){f._mruEntities[r]=[];e.resolve(!1)}),l.FilterByScope.isFilterByScopeEmpty(i))?rt(o([])):(h=b.getService(v.MruService),h.getMruIdentities({IMS:!0},v.MruService.DEFAULT_IDENTITY_ID,v.MruService.DEFAULT_FEATURE_ID,{httpClient:n?n.httpClient:null,filterByScope:i},{consumerId:t?t.consumerId:a.ConsumerId.UnknownConsumer}).then(o,s))}catch(u){if(u!==Object(u)||!("source"in u)||u.source!="MruService")throw u;}return c},t}(b.VssService);t.EntityOperationsFacade=yt;ti=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[];return n.jobTitle&&t.push(new vt(w.IdentityPicker_IdCardJobTitle,n.jobTitle)),n.mailNickname&&!g.isGuid(n.mailNickname)&&t.push(new vt(w.IdentityPicker_IdCardAlias,n.mailNickname)),n.physicalDeliveryOfficeName&&t.push(new vt(w.IdentityPicker_IdCardOffice,n.physicalDeliveryOfficeName)),n.department&&t.push(new vt(w.IdentityPicker_IdCardDepartment,n.department)),t},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var i=[],n,r,t,u,f;for(r in this._attributes)t=parseInt(r),this._isEven(t)?(n&&i.push(n),n=$("<div/>").addClass("identity-picker-idcard-row"),u=$("<div/>").addClass("identity-picker-idcard-left-attribute").appendTo(n),this._appendAttributeBlock(t,u)):(f=$("<div/>").addClass("identity-picker-idcard-right-attribute").appendTo(n),this._appendAttributeBlock(t,f));return n&&i.push(n),i},n.prototype._isEven=function(n){return n%2==0},n._idCardEntityAttributeCounter=0,n}();ii=function(){function n(n){this._attributes=this._mapEntityPropertiesToAttributes(n)}return n.prototype._mapEntityPropertiesToAttributes=function(n){var t=[],i=new vt(w.IdentityPicker_IdCardDescription,n.description?n.description:"",!0);return t.push(i),n.scopeName&&t.push(new vt(w.IdentityPicker_IdCardGroupSource,this._getScopeNameByDirectoryType(n))),n.mail&&t.push(new vt(w.IdentityPicker_IdCardMail,n.mail)),n.mailNickname&&!g.isGuid(n.mailNickname)&&t.push(new vt(w.IdentityPicker_IdCardAlias,n.mailNickname)),t},n.prototype._getScopeNameByDirectoryType=function(n){var t=n.originDirectory.trim().toLowerCase()==v.ServiceHelpers.VisualStudioDirectory?w.IdentityPicker_IdCardImsGroupSource:w.IdentityPicker_IdCardAadGroupSource;return g.format(t,n.scopeName)},n.prototype.isEmpty=function(){return!(this._attributes.length>0)},n.prototype._appendAttributeBlock=function(t,i){var r=this._attributes[t].constructAttribute(n._idCardEntityAttributeCounter++);for(var u in r)r[u].appendTo(i)},n.prototype.toRows=function(){var t=$("<div/>").addClass("identity-picker-idcard-info"),r,n,u,f,e,o,i;if(this._isValidIndex(1))for(r=$("<div/>").addClass("identity-picker-idcard-column").appendTo(t),n=1;this._isValidIndex(n);)u=$("<div/>").addClass("identity-picker-idcard-row").appendTo(r),f=$("<div/>").addClass("identity-picker-idcard-left-attribute").appendTo(u),this._appendAttributeBlock(n,f),n++;return this._attributes[0].getDisplayContent()&&(e=$("<div/>").addClass("identity-picker-idcard-column").appendTo(t),o=$("<div/>").addClass("identity-picker-idcard-left-attribute").appendTo(e),this._appendAttributeBlock(0,o)),i=[],i.push(t),i},n.prototype._isValidIndex=function(n){return typeof this._attributes[n]!="undefined"},n._idCardEntityAttributeCounter=0,n}()});

define("TfsCommon/Scripts/WITIdentityHelpers",["require","exports","VSS/Locations","VSS/Identities/Picker/Controls","VSS/Utils/String","VSS/WebApi/Constants"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.WITIdentityHelpers=void 0;var e=function(){function n(){}return n.isAADIdentity=function(n){return u.equals(n.originDirectory,"aad",!0)&&n.originId&&!n.localId},n.isServicePrincipal=function(n){var t,i;return(i=(t=n.subjectDescriptor)===null||t===void 0?void 0:t.startsWith("aadsp"))!==null&&i!==void 0?i:!1},n.isTfsGroup=function(n){var t=n.displayName.indexOf("\\");return u.equals(n.entityType,"Group",!0)&&u.startsWith(n.displayName,"[")&&t!==-1&&u.endsWith(n.displayName.substring(0,t),"]")},n.getVsIdFromGroupUniqueName=function(t){var i,r,f,e;return t?(r="",f=t.lastIndexOf(n.IDENTITY_UNIQUENAME_SEPARATOR),i=f===-1?t:t.substr(0,f),u.startsWith(i,n.TFS_GROUP_PREFIX)&&(e=i.substr(3).trim(),r=u.isGuid(e)?e:""),r):""},n.getDescriptorFromUniqueName=function(t){return t?t.indexOf(n.DESCRIPTOR_PREFIX)!==0?"":t.replace(/desc:/i,""):""},n.getUniquefiedIdentityName=function(t){var i,r,f;return t?(i=t.signInAddress||t.mail||t.samAccountName,n.isServicePrincipal(t)&&(i=t.originId),n.isAADIdentity(t)?(r=u.equals(t.entityType,"Group",!0),f=r?n.AAD_IDENTITY_GROUP_PREFIX:n.AAD_IDENTITY_USER_PREFIX,(t.signInAddress||t.mail)&&!r?u.format("{0} {1}{2}{3}\\{4}{5}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,f,t.originId,t.signInAddress||t.mail,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):u.format("{0} {1}{2}{3}{4}",t.displayName,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,f,t.originId,n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END)):n.isTfsGroup(t)?t.localId?u.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,t.localId.toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName:i?i.indexOf("@")===-1&&t.scopeName&&!n.isServicePrincipal(t)?u.format("{0} {1}{2}\\{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t.scopeName,i,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):u.format("{0} {1}{2}{3}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,i,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.subjectDescriptor?u.format("{0} {1}{2}{3}{4}",t.displayName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.DESCRIPTOR_PREFIX,t.subjectDescriptor,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):t.displayName||""):""},n.getUniqueIdentityNameForContextIdentity=function(t,i){return t?u.format("{0} {1}{2}{3}",i,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,t,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):i||""},n.getFriendlyDistinctDisplayName=function(t,i){return i.displayName&&i.entityId&&!n.isTfsGroup(i)?t:i.displayName||""},n.parseUniquefiedIdentityName=function(t){var p,w;if(!t)return null;var o=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START),h=t.lastIndexOf(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END),v=!1,l=!1,s=t;o>=0&&h>o&&(l=!0,s=s.replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START).replace(n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END));o=s.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START);h=s.lastIndexOf(n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END);var a=s,c="",e="",y="",f="";return o>=0&&h>o&&h===s.length-1&&(a=s.substr(0,o).trim(),l?(f=s.substr(o+1,h-o-1).trim(),f.indexOf(n.AAD_IDENTITY_USER_PREFIX)===0?f=f.substr(n.AAD_IDENTITY_USER_PREFIX.length):f.indexOf(n.AAD_IDENTITY_GROUP_PREFIX)===0&&(v=!0,f=f.substr(n.AAD_IDENTITY_GROUP_PREFIX.length)),p=f.lastIndexOf("\\"),p>0&&(e=f.substr(p+1).trim(),e.indexOf("@")!==-1?(c=e,f=f.substr(0,p).trim()):(a=t,f="",v=!1))):(e=s.substr(o+1,h-o-1).trim(),w=n.getVsIdFromGroupUniqueName(e),y=n.getDescriptorFromUniqueName(e),e.indexOf("@")!==-1||e.indexOf("\\")!==-1||e.indexOf(n.DESCRIPTOR_PREFIX)!==-1||w||u.isGuid(e)?(c=e,w!==""&&(f=w,v=!0,c="")):a=t)),f||c||y?{localId:l?undefined:f,displayName:a,signInAddress:c,originDirectory:l?"aad":"vsd",entityId:y||f||c,entityType:v?"Group":"User",originId:l?f:undefined,subjectDescriptor:y}:r.EntityFactory.createStringEntity(a,i.urlHelper.getVersionedContentUrl("notassigned-user.svg"))},n.getEntityIdentifier=function(n,t,i){var e=u.equals(n.entityType||"",r.EntityFactory.STRING_ENTITY_TYPE,!0),f;return e?"":(f=n.subjectDescriptor||n.localId||n.signInAddress||n.mail,t)?f:i&&!f?"":f?"".concat(n.displayName," <").concat(f,">"):n.displayName},n.getDistinctDisplayNameFromGraphSubject=function(t,i){return t?this.isGraphGroup(t)&&(i||t.originId)&&t.principalName?u.format("{0} {1}{2}{3}{4}",t.principalName,n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START,n.TFS_GROUP_PREFIX,(i||t.originId).toUpperCase(),n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END):this.isGraphUser(t)&&t.mailAddress?"".concat(t.displayName," <").concat(t.mailAddress,">"):t.displayName:undefined},n.isGraphGroup=function(n){return u.equals(n.subjectKind,f.SubjectKind.Group,!0)},n.isGraphUser=function(n){return u.equals(n.subjectKind,f.SubjectKind.User,!0)},n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<",n.IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_START="<<",n.AAD_IDENTITY_UNIQUEFIEDNAME_SEPERATOR_END=">>",n.TFS_GROUP_PREFIX="id:",n.AAD_IDENTITY_USER_PREFIX="user:",n.AAD_IDENTITY_GROUP_PREFIX="group:",n.IDENTITY_UNIQUENAME_SEPARATOR="\\",n.DESCRIPTOR_PREFIX="desc:",n}();t.WITIdentityHelpers=e});

define("WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper",["require","exports","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/String","VSS/Graph/RestClient","VSS/Service","VSS/WebApi/Constants","TfsCommon/Scripts/WITIdentityHelpers","VSS/Error","VSS/VSS","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Utils/String"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){function nt(n){w(n)&&n.identityRef&&n.identityRef.descriptor&&(b[n.identityRef.descriptor]=!0)}function k(n,t){var u=w(n),f=d(n),i,r;if(!t||u||f){if(u)return i=n,t?i.identityRef:i.distinctDisplayName||i.identityRef.displayName;if(f)return r=n,t?r:r.displayName}else return g(n);return n}function w(n){if(n&&n.identityRef!==undefined){var t=n;return t.distinctDisplayName&&!v[t.distinctDisplayName]&&(v[t.distinctDisplayName]=t),t.identityRef&&t.identityRef.descriptor&&!y[t.identityRef.descriptor]&&(y[t.identityRef.descriptor]=t),!0}return!1}function d(n){return!!(n&&n.displayName!==undefined)}function g(n){if(v[n])return v[n].identityRef;var t=i.IdentityHelper.parseUniquefiedIdentityName(n),r=i.IdentityHelper.getIdentityImageUrlByIdentity(t);return t&&t.isAadIdentity?{displayName:n}:t&&{displayName:t.displayName,uniqueName:t.uniqueName,imageUrl:r,_links:{avatar:{href:r}}}}function tt(n){if(n&&n.subjectDescriptor){var t={distinctDisplayName:o.WITIdentityHelpers.getUniquefiedIdentityName(n),identityRef:{displayName:n.displayName,descriptor:n.subjectDescriptor}};return y[n.subjectDescriptor]||(y[n.subjectDescriptor]=t),v[t.distinctDisplayName]||(v[t.distinctDisplayName]=t),t}return null}function it(n){if(w(n))return n;var t=k(n,!0);return t||(t={displayName:n}),{distinctDisplayName:n,identityRef:t}}function rt(n){var f=w(n),r=f?n.identityRef:n,t,u;return r?(t=r._links,u=r.imageUrl,t&&t.avatar&&t.avatar.href)?t.avatar.href:u?u:i.IdentityHelper.getIdentityImageUrlByIdentity(n):i.IdentityHelper.getIdentityImageUrlByIdentity(null)}function ut(n){var t,i;return!n||n.length===0?n:(t={},n.forEach(function(n){return t[n.distinctDisplayName]=n}),i=Object.keys(t).sort(r.localeIgnoreCaseComparer),i.map(function(n){return t[n]}))}function ft(n){return __awaiter(this,void 0,void 0,function(){var i,r,t,u,f,c;return __generator(this,function(l){switch(l.label){case 0:if(!(n&&n.descriptor))return[3,7];if(i=y[n.descriptor],i&&b[n.descriptor])return[2,Promise.resolve(i)];et();l.label=1;case 1:return l.trys.push([1,6,,7]),[4,p.lookupSubjects({lookupKeys:[n]})];case 2:return(r=l.sent(),r=r.value,!r[n.descriptor])?[3,5]:(t=r[n.descriptor],u=void 0,!(t.descriptor&&a.startsWith(t.descriptor,e.SubjectType.AadGroup,a.localeIgnoreCaseComparer)))?[3,4]:[4,p.getStorageKey(t.descriptor)];case 3:f=l.sent();f&&(u=f.value);l.label=4;case 4:return i={distinctDisplayName:o.WITIdentityHelpers.getDistinctDisplayNameFromGraphSubject(t,u),identityRef:{descriptor:t.descriptor,displayName:t.displayName,imageUrl:t._links&&t._links.avatar&&t._links.avatar.href,_links:t._links}},v[i.distinctDisplayName]=i,y[i.identityRef.descriptor]=i,b[i.identityRef.descriptor]=!0,[2,i];case 5:return[3,7];case 6:return c=l.sent(),s.publishErrorToTelemetry({name:"UnableToResolveWorkItemIdentityRef",message:h.getErrorMessage(c)}),[3,7];case 7:return[2,{distinctDisplayName:n&&n.displayName,identityRef:n}]}})})}function et(){p||(p=f.VssConnection.getConnection().getHttpClient(u.GraphHttpClient5,e.ServiceInstanceTypes.SPS))}Object.defineProperty(t,"__esModule",{value:!0});t.resolveIdentityRefToWorkItemIdentityRef=t.uniqueSortWorkItemIdentityRefObjects=t.getAvatarUrl=t.convertWorkItemIdentityRefFromFieldValue=t.createWorkItemIdentityRefFromEntity=t.createIdentityRefFromDistinctDisplayName=t.isIdentityRef=t.isWorkItemIdentityRef=t.convertPotentialIdentityRefFromFieldValue=t.setResolvedByDescriptorIfWorkItemIdentityRef=void 0;var v={},y={},b={},p;c.getService().attachEvent(l.HubEventNames.PreXHRNavigate,function(){v={};y={};b={};p=null});t.setResolvedByDescriptorIfWorkItemIdentityRef=nt;t.convertPotentialIdentityRefFromFieldValue=k;t.isWorkItemIdentityRef=w;t.isIdentityRef=d;t.createIdentityRefFromDistinctDisplayName=g;t.createWorkItemIdentityRefFromEntity=tt;t.convertWorkItemIdentityRefFromFieldValue=it;t.getAvatarUrl=rt;t.uniqueSortWorkItemIdentityRefObjects=ut;t.resolveIdentityRefToWorkItemIdentityRef=ft});

define("WorkItemTracking/Scripts/Utils/WorkItemRichTextHelper",["require","exports","VSS/Utils/String"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemRichTextHelper=void 0;var r;(function(n){function t(n,t,i){var u="<style>\nhtml, body\n{\n    height: 100%;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n}\nhtml {\n    overflow: hidden;\n}\nbody\n{\n    font-family: Segoe UI, Helvetica Neue, Helvetica, Arial, Verdana;\n    color: #222222;\n    background-color: #ffffff;\n    font-size: 14px;\n    word-break: break-word;\n    margin:0;\n    padding: 5px;\n    box-sizing: border-box;\n    overflow: auto;\n}\n\nbody.invalid\n{\n    background-color: #ffc;\n}\n\nP\n{\n    line-height: 1.5em;\n    margin: 0;\n}\n\nbody.watermark {\n    color: #999999;\n    font-style: italic;\n}\n\nimg \n{ \n    max-width: 100%; \n}\n\na, a:visited {\n    color: #007acc;\n}\n\n\na.mention-link {\n    text-decoration: none;\n}\n\n.mention-widget-workitem {\n    background: rgba(244, 244, 244, 1);\n    padding: 2px .333em;\n    display: inline;\n    word-break: break-word;\n    margin: 0 1px;\n    border-radius: 2px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: normal;\n    border-left: 2px solid transparent;\n}\n\n.mention-widget-workitem-no-access {\n    background: rgba(244, 244, 244, 1);\n    padding: 2px .333em;\n    display: inline;\n    word-break: break-word;\n    margin: 0 1px;\n    border-radius: 2px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: normal;\n}\n\n.mention-widget-workitem-typeid {\n    color: rgba(16, 110, 190, 1);\n}\n\n.mention-widget-workitem-title {\n    color: rgba(0, 0, 0, .9);\n    font-weight: 600;\n}\n\n.mention-widget-workitem-state {\n    border-left: 1px solid rgba(200, 200, 200, 1);\n    padding: 0px 8px 0px 4px;\n    display: inline-flex;\n    align-items: center;\n    margin: 4px 2px 4px 8px;\n    line-height: 14px;\n    vertical-align: bottom;\n    color: rgba(0, 0, 0, .9);\n    height: 16px;\n}\n\n.workitem-state-color {\n    border: 3px solid transparent;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    margin: 0px 4px;\n    background-clip: padding-box;\n}\n\n.mention-preview-person {\n    color: rgba(16, 110, 190, 1);\n    font-weight: bold;\n    background-color: rgba(244, 244, 244, 1);\n}\n\n.mention-preview-me {\n    color: rgba(218, 10, 0, 1);\n}\n\n.mention-preview-person-clickable {\n    cursor: pointer;\n}\n\n.mention-widget {\n    color: $communication-foreground;\n    cursor: pointer;\n}\n\n.mention-widget * {\n    cursor: pointer;\n}\n\n.mention-card {\n    box-shadow: 0 0 20px gray;\n}\n\n.work-item-type-icon-host {\n    display: inline-block;\n}\n\n.work-item-type-icon {\n    min-width: 14px;\n    display: inline;\n}\n\n.secondary-text {\n    color: rgba(0, 0, 0, .55)\n}\n\n.work-item-type-icon-no-tooltip {\n    margin-right: 5px;\n}\n\n.mention-widget-item {\n    background: rgba(244, 244, 244, 1);\n    padding: 0 .333em;\n    display: inline;\n    word-break: break-word;\n}\n\n.mention-widget-typeid {\n    color: rgba(16, 110, 190, 1);\n}\n\n.mention-widget-title {\n    color: rgba(0, 0, 0, .9)\n}\n\n".concat(i||"","\n<\/style>"),r="";return t&&(r+='<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">'),"<head>"+r+u+"<\/head>"}function r(n){var r=$.parseHTML(n),t=!0;return $.each(r,function(n,r){return t=r.textContent!==undefined&&r.textContent.trim()===i.empty&&(r.innerHTML===undefined||r.innerHTML!==undefined&&r.tagName!=="IMG"&&r.innerHTML.indexOf("img")===-1&&r.innerHTML.indexOf("li")===-1),t?void 0:t}),t}n.getPageHtml=t;n.isHtmlVisuallyBlank=r})(r=t.WorkItemRichTextHelper||(t.WorkItemRichTextHelper={}))});

define("WorkItemTracking/Scripts/WorkItemMetadataCacheStampManager",["require","exports","q","VSS/Service","VSS/Utils/String","VSS/Contributions/Services","VSS/WebApi/Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/CustomerIntelligence","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource","VSS/Error"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemMetadataCacheStampManager=void 0;var a=function(){function n(n){this._cachedPromises={};this._workItemMetaDataCacheStamps={};this._tfsContext=n}return n.prototype.ensureStampsForCurrentProject=function(t,i){var s=this,o,u;return i===void 0&&(i=!1),o=t.toUpperCase(),u=r.getService(f.WebPageDataService),u.ensureDataProvidersResolved([{id:n.MetadataStampsKey,properties:{serviceInstanceType:e.ServiceInstanceTypes.TFS}}],i).then(function(){var t=u.getPageData(n.MetadataStampsKey);t&&t.data&&s._setCacheStamps(t.data,o)})},n.prototype.getMetadataCacheStamp=function(n,t){var f=this,e=o.TfsContext.getDefault().navigation.projectId,r=(t||e||"").toUpperCase(),u;return r?(u=function(){return f._workItemMetaDataCacheStamps[r]?f._workItemMetaDataCacheStamps[r][n]:null},!this._workItemMetaDataCacheStamps[r])?this._cachedPromises[r]?this._cachedPromises[r].then(function(){return u()},function(){return u()}):(this._cachedPromises[r]=this._ensureMetadataCacheStamps(r,e,t),this._cachedPromises[r].then(function(){return delete f._cachedPromises[r],u()},function(n){return delete f._cachedPromises[r],l.publishErrorToTelemetry(n),u()})):i(u()):i(null)},n.prototype._fetchMetadataCacheStamps=function(n){var t=i.defer(),r={controller:"wit",action:"getMetadataCacheStamps",routeData:{project:n}};return(new c.WorkItemStoreLevelWITDataSource).getDataAsync(r,{projectId:n},!0).then(function(n){t.resolve(n.data)},function(){t.resolve(null)}),t.promise},n.prototype._ensureMetadataCacheStamps=function(t,e,o){var c=this,a=!o||u.equals(o,e||"",!0),l=function(n){c._workItemMetaDataCacheStamps[t]=n?n.workItemMetadataCacheStamp:null;c.workItemTypesEtag=n?n.rawWorkItemTypesEtagForCI:null};return a?(s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMPAGEDATA,!0),r.getService(f.ExtensionService).getContribution(n.MetadataStampsKey).then(function(){s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMPAGEDATA,!1);var t=c.getPageData(n.MetadataStampsKey);return t&&t.data&&l(t.data),i(null)})):(s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMAPI,!0),this._fetchMetadataCacheStamps(o).then(function(n){return s.PerfScenarioManager.addSplitTiming(h.PerformanceEvents.WORKITEMTRACKING_GETMETADATACACHESTAMP_FROMAPI,!1),l(n),i(null)}))},n.prototype._setCacheStamps=function(n,t){this._workItemMetaDataCacheStamps[t]=n?n.workItemMetadataCacheStamp:null;this.workItemTypesEtag=n?n.rawWorkItemTypesEtagForCI:null},n.prototype.addStampToParams=function(n,t,i,r){var u=function(n){return n?t?(t.stamp=n,t):{stamp:n}:t};this.getMetadataCacheStamp(n,r).then(function(n){i(u(n))})},n.prototype.getPageData=function(n){return r.getService(f.WebPageDataService).getPageData(n)},n.prototype._getApiLocation=function(n,t){return this._tfsContext.getActionUrl(n||"","wit",$.extend({project:"",team:"",area:"api"},t))},n.MetadataStampsKey="ms.vss-work-web.work-item-cache-data-provider",n}();t.WorkItemMetadataCacheStampManager=a});

define("Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService",["require","exports","Presentation/Scripts/TFS/FeatureRef/TFS.AgileCommon","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/Utils/String"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.TeamAwarenessService=t.TeamSettingsContributionId=void 0;t.TeamSettingsContributionId="ms.vss-work-web.team-wit-settings-data-provider";var o=function(n){function o(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._teamSettingsById={},t}return __extends(o,n),o.contextSupports=function(n){return n&&n.currentTeam&&!!n.currentTeam.identity.id},o.prototype.beginGetTeamMembers=function(n,t,r){var e=this;return u.Debug.assertParamIsBool(t,"includeGroups"),u.Debug.assertParamIsNumber(r,"maxResults"),new Promise(function(u,o){return f.getService(i.TeamService,e.getWebContext()).beginGetTeamMembers(n,t,r,u,o)})},o.prototype.beginGetTeamSettings=function(n){var s=this,o=f.getService(r.WebPageDataService,this.getWebContext()),i=o.getPageData(t.TeamSettingsContributionId);return i&&e.equals(i.teamId,n,!0)?Promise.resolve(i):o.getDataAsync(t.TeamSettingsContributionId,null,{teamId:n}).then(function(t){return u.Debug.assert(e.equals(t&&t.teamId,n,!0),"Retrieved teamSettings teamId does not match what was requested"),s._teamSettingsById[t.teamId]=t,t})},o.prototype.getTeamSettings=function(n){var s=f.getService(r.WebPageDataService,this.getWebContext()),i=s.getPageData(t.TeamSettingsContributionId),o;if(i&&e.equals(i.teamId,n,!0))return this._teamSettingsById[i.teamId]=i,i;if(this._teamSettingsById[n])return this._teamSettingsById[n];o="Team settings for team ".concat(n," not found in JSON island");u.Debug.fail(o);throw new Error(o);},o}(f.VssService);t.TeamAwarenessService=o});

define("Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.WorkItemTracking.Constants",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTrackingRestResources=t.WitConstants=t.QueryResultFormat=void 0,function(n){n[n.Json=0]="Json";n[n.Html=1]="Html"}(i=t.QueryResultFormat||(t.QueryResultFormat={})),function(n){n.WorkItemsLocationId="72C7DDF8-2CDC-4F60-90CD-AB71C14A399B";n.QueriesLocationId="A67D190C-C41F-424B-814D-0E906F659301";n.WorkItemTypeFieldsLocationId="BD293CE5-3D25-4192-8E67-E8092E879EFB";n.WorkItemRuleEngineLocationId="1A3A1536-DCA6-4509-B9C3-DD9BB2981506";n.AreaName="wit";n.DefaultPreviewApiVersion="1.0-Preview.2";n.DefaultReleaseApiVersion="1.0"}(r=t.WitConstants||(t.WitConstants={})),function(n){n.WorkItems="workItems"}(u=t.WorkItemTrackingRestResources||(t.WorkItemTrackingRestResources={}))});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi",["require","exports","q","VSS/Diag","VSS/WebApi/RestClient","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.WorkItemTracking.Constants"],function(n,t,i,r,u,f){var e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTrackingHttpClient=t.AttachmentsLocationId=t.DefaultAttachmentChunkSize=t.AttachmentUploadType=void 0,function(n){n[n.Queries=0]="Queries";n[n.WorkItemTypeFields=1]="WorkItemTypeFields";n[n.WorkItemRuleEngine=2]="WorkItemRuleEngine";n[n.Attachments=3]="Attachments"}(e||(e={})),function(n){n.Simple="Simple";n.Chunked="Chunked"}(o=t.AttachmentUploadType||(t.AttachmentUploadType={}));t.DefaultAttachmentChunkSize=5e6;t.AttachmentsLocationId="E07B5FA4-1499-494D-A496-64B860FD64FF";s=function(n){function u(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._baseRootRequestPath=t,i}return __extends(u,n),u.prototype.beginGetRootQueries=function(n,t){var i=this._getQueryRequestOptions(n,t);return i.responseIsCollection=!0,this._beginRequest(i)},u.prototype.beginGetQueries=function(n,t,i){var u=this._getQueryRequestOptions(n,t,{query:i});return this._beginRequest(u)},u.prototype.beginGetQueriesByPath=function(n,t,i){var u=this._getQueryRequestOptions(n,t);return $.extend(u.data,{query:i}),this._beginRequest(u)},u.prototype.beginCreateQueryDefinition=function(n,t,i,u){return this._postQueryItem(n,{name:t,wiql:i,isFolder:!1},u)},u.prototype.beginCreateQueryFolder=function(n,t,i){return this._postQueryItem(n,{name:t,isFolder:!0},i)},u.prototype.beginMoveQueryItem=function(n,t,i){return this._postQueryItem(n,{id:t},i)},u.prototype.beginUpdateQueryDefinition=function(n,t,i){return this._patchQueryItem(n,{id:t,wiql:i})},u.prototype.beginRenameQueryItem=function(n,t,i){return this._patchQueryItem(n,{id:t,name:i})},u.prototype.beginDeleteQueryItem=function(n,t){var i=this._getRequestOptions(e.Queries,"DELETE",null,{query:t,project:n});return this._beginRequest(i)},u.prototype._beginGetLocation=function(n,t){var r=i.defer();switch(t){case u.WorkItemTypeFieldsLocation.id:r.resolve(u.WorkItemTypeFieldsLocation);break;case u.QueryLocation.id:r.resolve(u.QueryLocation);break;case u.AttachmentsLocation.id:r.resolve(u.AttachmentsLocation)}return r.promise},u.prototype._postQueryItem=function(n,t,i){var r=this._getRequestOptions(e.Queries,"POST",t,{query:i,project:n});return this._beginRequest(r)},u.prototype._patchQueryItem=function(n,t){var i=this._getRequestOptions(e.Queries,"PATCH",t,{query:t.id,project:n});return this._beginRequest(i)},u.prototype._getRequestOptions=function(n,i,r,u){switch(n){case e.Queries:return{httpMethod:i,area:f.WitConstants.AreaName,locationId:f.WitConstants.QueriesLocationId,routeValues:u,data:$.extend(this._getDefaultParameters(),r),responseIsCollection:!1};case e.WorkItemTypeFields:return{httpMethod:i,area:f.WitConstants.AreaName,locationId:f.WitConstants.WorkItemTypeFieldsLocationId,routeValues:u,data:$.extend(this._getDefaultParameters(),r),responseIsCollection:!1};case e.Attachments:return{httpMethod:i,area:f.WitConstants.AreaName,locationId:t.AttachmentsLocationId,routeValues:u,data:$.extend(this._getDefaultParameters(),r),responseIsCollection:!1}}},u.prototype._getQueryRequestOptions=function(n,t,i){return this._getRequestOptions(e.Queries,"GET",{$depth:t,$expand:"minimal"},$.extend({project:n},i))},u.prototype.beginGetWorkItemTypeFields=function(n,t,i){var u=this._getRequestOptions(e.WorkItemTypeFields,"GET",null,{project:n,type:t,field:i});return this._beginRequest(u)},u.prototype.getAttachmentUrl=function(n,t,i,r){var e={id:t,project:n},f=u.AttachmentsLocation;return this.getRequestUrl(f.routeTemplate,f.area,f.resourceName,e,{fileName:i,download:r,"api-version":"5.0-preview.2"})},u.prototype.beginAttachmentUpload=function(n,i,u,f,e,o){var s=f?f:t.DefaultAttachmentChunkSize;return i.size>s?this.beginAttachmentUploadChunked(n,i,u,s,e,o):this.beginAttachmentUploadSimple(n,i,u,o)},u.prototype.beginAttachmentUploadChunked=function(n,t,i,u,f,e){var s=this,o;return o=jQuery.Deferred(),this._registerAttachment(n,t,i,e).then(function(r){s._uploadAttachment(n,r.id,t,u,f,e,i).then(function(){return o.resolve(r)},function(n){return o.reject(n)})}),o.promise()},u.prototype.beginAttachmentUploadSimple=function(n,t,i,u){var s=this;var e=jQuery.Deferred(),f=new FileReader,h=!1,c=function(n){h=!0;e.reject(n)};try{f.readAsArrayBuffer(t)}catch(l){c(l)}return f.onerror=function(n){c(n)},f.onloadend=function(){if(!h&&f.readyState===f.DONE){var t=new Uint8Array(f.result),r=$.extend(s._getAttachmentUploadRequestParams("POST",n,o.Simple,i,null,u),{data:t,isRawData:!0});s._beginRequest(r).then(function(n){return e.resolve(n)},function(n){return e.reject(n)})}},e.promise()},u.prototype._registerAttachment=function(n,t,i,r){var u=this._getAttachmentUploadRequestParams("POST",n,o.Chunked,i,null,r);return this._beginRequest(u)},u.prototype._uploadAttachment=function(n,i,u,f,e,s,h){function y(){var t;typeof u.slice=="function"&&(!e||e())?t=u.slice(v,l+1):c.reject();var n=new FileReader,i=!1,r=function(n){i=!0;c.reject(n)};try{n.readAsArrayBuffer(t)}catch(o){r(o)}n.onerror=function(n){r(n)};n.onloadend=function(){if(!i&&n.readyState===n.DONE){var t=$.extend(p,{data:new Uint8Array(n.result),isRawData:!0,customHeaders:{"Content-Range":"bytes "+v+"-"+l+"/"+a}});w._beginRequest(t).then(function(){return l<a-1?(v+=f,l=Math.min(l+f,a-1),y()):c.resolve(),null},function(n){return c.reject(n)})}}}var c;c=jQuery.Deferred();(!f||f<=0)&&(f=t.DefaultAttachmentChunkSize);var a=u.size,v=0,l=Math.min(f,a)-1,p=this._getAttachmentUploadRequestParams("PUT",n,o.Chunked,h,i,s),w=this;return y(),c.promise()},u.prototype._getAttachmentUploadRequestParams=function(n,i,r,u,e,o){var s={area:f.WitConstants.AreaName,locationId:t.AttachmentsLocationId,queryParams:{uploadType:r,areaPath:u,fileName:o},routeValues:{project:i},httpMethod:n,apiVersion:f.WitConstants.DefaultReleaseApiVersion};return e?$.extend(s,{routeValues:{id:e,project:i}}):s},u.prototype._getDefaultParameters=function(){return{"api-version":f.WitConstants.DefaultReleaseApiVersion}},u.QueryLocation={id:f.WitConstants.QueriesLocationId,area:f.WitConstants.AreaName,maxVersion:"2.0",minVersion:"2.0",releasedVersion:"2.0",resourceName:"queries",resourceVersion:2,routeTemplate:"{project}/_apis/{area}/{resource}/{*query}"},u.WorkItemTypeFieldsLocation={id:f.WitConstants.WorkItemTypeFieldsLocationId,area:f.WitConstants.AreaName,maxVersion:"2.0",minVersion:"1.0",releasedVersion:"1.0",resourceName:"workItemTypesField",resourceVersion:1,routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}"},u.AttachmentsLocation={id:t.AttachmentsLocationId,area:f.WitConstants.AreaName,resourceName:"attachments",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",resourceVersion:1,minVersion:"1.0",maxVersion:"2.0",releasedVersion:"1.0"},u}(u.VssHttpClient);t.WorkItemTrackingHttpClient=s});

define("TFS/WorkItemTracking/BatchRestClient",["require","exports","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u){"use strict";function e(){return i.getClient(f)}Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.WorkItemTrackingHttpBatchClient=void 0;var f=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._batchApiVersion="4.0-preview",i}return __extends(t,n),t.prototype.createWorkItemsBatch=function(n,t,i){for(var f,u=[],e="/".concat(t,"/_apis/wit/workitems/$").concat(i,"?api-version=").concat(this._batchApiVersion),r=0,o=n.length;r<o;r++)f={method:"PATCH",uri:e,headers:{"Content-Type":"application/json-patch+json"},body:n[r]},u.push(f);return this._beginBatchRequest(u)},t.prototype.updateWorkItemsBatch=function(n){var t=this,i=n.map(function(n){return t._createBatchRequest(n[0],"PATCH","workItems",n[1])});return this._beginBatchRequest(i)},t.prototype.destroyWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"DELETE","recyclebin");return this._beginBatchRequest(t)},t.prototype.restoreWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"PATCH","recyclebin",[{op:"replace",path:"/IsDeleted",value:!1},]);return this._beginBatchRequest(t)},t.prototype.deleteWorkItemsBatch=function(n){var t=this._createBatchRequests(n,"DELETE","workItems");return this._beginBatchRequest(t)},t.prototype.getQueriesBatch=function(n){var t=this._createBatchRequests(n,"GET","queries");return this._beginQueryBatchRequest(t)},t.prototype._createBatchRequests=function(n,t,i,r){for(var e,f=[],u=0,o=n.length;u<o;u++)e=this._createBatchRequest(n[u],t,i,r),f.push(e);return f},t.prototype._createBatchRequest=function(n,t,i,r){return{method:t,uri:"/_apis/wit/".concat(i,"/").concat(n,"?api-version=").concat(this._batchApiVersion),headers:{"Content-Type":"application/json-patch+json"},body:r}},t.prototype._beginBatchRequest=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"A5AD93C8-56B7-4CB0-A9C0-8419DBD7FC71",resource:"batch",routeTemplate:"_apis/{area}/${resource}",data:n,apiVersion:this._batchApiVersion})},t.prototype._beginQueryBatchRequest=function(n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"batch",routeTemplate:"_apis/{area}/${resource}",data:n,apiVersion:this._batchApiVersion})},t.serviceInstanceId=u.ServiceInstanceTypes.TFS,t}(r.VssHttpClient);t.WorkItemTrackingHttpBatchClient=f;t.getClient=e});

define("VSS/Utils/Html",["require","exports","VSS/Diag","VSS/Utils/Array","VSS/Utils/String","VSS/Utils/Url"],function(n,t,i,r,u,f){var e,c,a,p;Object.defineProperty(t,"__esModule",{value:!0});t.Utils=t.TemplateEngine=t.HtmlNormalizer=void 0,function(n){function h(n,t){var i,r,u,f,e;if(t){if(Array.isArray(t)){for(i=0;i<t.length;i++)n[t[i].toUpperCase()]=0;return}for(r=0,u=Object.keys(t);r<u.length;r++)f=u[r],e=t[f],n[f.toUpperCase()]=e?e:0}}function c(n){h(e,n)}function t(n,t,i,u){var f={attributes:{},eolBefore:t,eolAfter:i};r[n.toUpperCase()]=f;h(f.attributes,u)}function v(n){(n||[]).forEach(function(n){return t(n,!1,!1)})}function nt(n){(n||[]).forEach(function(n){return l[n.toUpperCase()]=0})}function y(){r||(r={},t("a",!1,!1,{charset:0,href:0,hreflang:0,name:0,rel:0,rev:0,shape:0,tabindex:0,target:{_BLANK:0},type:0}),t("blockquote",!0,!0,["cite"]),t("br",!1,!0,["clear"]),t("caption",!0,!0,["align"]),t("col",!0,!0,["align","char","charoff","span","valign","width"]),t("colgroup",!0,!0,["align","char","charoff","span","valign","width"]),t("del",!1,!1,["cite","datetime"]),t("dir",!0,!0,["compact"]),t("div",!0,!0,["align"]),t("dl",!0,!0,["compact"]),t("font",!1,!1,["color","face","size"]),t("h1",!0,!0,["align"]),t("h2",!0,!0,["align"]),t("h3",!0,!0,["align"]),t("h4",!0,!0,["align"]),t("h5",!0,!0,["align"]),t("h6",!0,!0,["align"]),t("hr",!0,!0,["align","size","width"]),t("img",!1,!1,["align","alt","border","height","hspace","ismap","longdesc","name","src","usemap","vspace","width","alt2","src2"]),t("video",!0,!0,["border","height","src","width","controls","poster","muted","loop"]),t("ins",!1,!1,["cite","datetime"]),t("li",!0,!0,["type","value"]),t("map",!1,!1,["name"]),t("menu",!0,!0,["compact"]),t("input",!0,!0,{checked:0,disabled:0,type:{CHECKBOX:0,TEXT:0}}),t("ol",!0,!0,["compact","start","type"]),t("p",!0,!0,["align"]),t("pre",!0,!0,["width"]),t("q",!1,!1,["cite"]),t("table",!0,!0,["align","border","cellpadding","cellspacing","frame","rules","summary","width","caption"]),t("tbody",!1,!1,["align","char","charoff","valign"]),t("td",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("tfoot",!0,!0,["align","char","charoff","valign"]),t("th",!0,!0,["abbr","align","axis","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]),t("thead",!0,!0,["align","char","charoff","valign"]),t("tr",!0,!0,["align","char","charoff","valign"]),t("ul",!0,!0,["compact","type"]),t("dd",!0,!0,[]),t("dt",!0,!0,[]),t("details",!1,!1,["open"]),v(["abbr","acronym","address","b","bdo","big","center","cite","code","dfn","em","i","summary","figure","figcaption"]),v(["kbd","s","samp","small","span","strike","strong","sub","sup","tt","u","var","mark"]),v(["annotation","math","mfrac","mi","mn","mo","mover","mrel","mrow","mspace","msqrt","mstyle","msub","msubsup","msup","mtext","semantics"]))}function p(){var i,r,n,t,f,e;if(!u){for(u={},i=["b","i","u","em","small","strong","sub","sup","ins","del","mark","font","code","pre","h1","h2","h3","h4","h5","h6","strike","ul","ol","dl","table","tbody","colgroup","col","tfoot","thead"],r={li:{tagToReplace:"p"},dt:{tagToReplace:"p"},dd:{tagToReplace:"p"},tr:{tagToReplace:"div"},th:{tagToReplace:"span",afterTagText:" "},td:{tagToReplace:"span",afterTagText:" "}},n=0;n<i.length;n++)u[i[n].toUpperCase()]={tagToReplace:""};for(t=0,f=Object.keys(r);t<f.length;t++)e=f[t],u[e.toUpperCase()]=r[e]}}function tt(){l||(l={},nt(["script","style","option","select","textarea"]))}function it(){e||(e={},c(["dir","lang","title","style","id","class","contenteditable"]),c({role:{BUTTON:0,CHECKBOX:0,CELL:0,COLUMNHEADER:0,COMBOBOX:0,GRID:0,GRIDCELL:0,HEADING:0,LINK:0,LISTBOX:0,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:0,RADIOGROUP:0,ROW:0,ROWGROUP:0,ROWHEADER:0,SWITCH:0,TAB:0,TABLIST:0,TOOLTIP:0,TREE:0,TREEGRID:0,TREEITEM:0}}),c(["aria-label","aria-labelledby","aria-describedby"]),c({"aria-hidden":{TRUE:0,FALSE:0}}),c({"aria-disabled":{TRUE:0,FALSE:0}}))}function rt(){o||(o={},h(o,["src","href","cite","longdesc"]),h(o,["background-image","list-style-image"]))}function ut(){if(!s){s={};var n=function(n,t){return n&&n.toUpperCase()==="IMG"&&t&&t.toUpperCase()==="SRC"};s.BLOB=function(t,i,r){if(!n(t,i))return!1;var e=r.indexOf(":"),u=r.substr(e+1);return u.indexOf(":")>=0?f.isSafeProtocol(u):!0};s.DATA=function(t,i,r){return n(t,i)?r.toUpperCase().search("DATA:IMAGE/\\w+;")===0:!1}}}function ft(){a||(a={},h(a,["background","background-attachment","background-color","background-image","background-position","background-repeat","border","border-bottom","border-bottom-color","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-style","border-top-width","border-width","break-after","break-before","break-inside","caption-side","clear","color","float","font","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","table-layout","text-align","text-decoration","text-indent","text-transform","vertical-align","white-space","width","word-spacing"]))}function et(n,t){return n&&t?n.toUpperCase()===t.toUpperCase():!1}function ot(n){return n?(y(),n.toUpperCase()in r):!1}function st(n){return w(n,!0)}function ht(n){return w(n,!1)}function w(n,t){if(n){y();var i=n.toUpperCase();if(i in r)return t?r[i].eolBefore:r[i].eolAfter}return!1}function ct(n){if(n){p();var t=u[n.toUpperCase()];if(t!==undefined&&t.tagToReplace!=null&&t.tagToReplace.length===0)return!0}return!1}function lt(n){if(n){p();var t=u[n.toUpperCase()];if(t&&t.tagToReplace&&t.tagToReplace.length>0)return t}return null}function at(n){return n?(tt(),n.toUpperCase()in l):!1}function vt(n,t,i){var s;if(t){it();var u=t.toUpperCase(),f=i.invalidAttributes,o=i.validAttributes;if(f&&o&&u in f&&u in o)throw new Error("".concat(u," is specified in additionalInvalidAttributes and additionalValidAttributes. Attributes may only appear in either the whitelist or blacklist."));if(o&&u in o)return!0;if(u in e)return f&&u in f?!1:!0;if(n&&(y(),s=r[n.toUpperCase()],s))return u in s.attributes}return!1}function yt(n,t,i){var f=t.toUpperCase(),u=r[n.toUpperCase()].attributes[f];return u?i.toUpperCase()in u:(u=e[f],u)?i.toUpperCase()in u:!0}function b(n){return n&&(rt(),n.toUpperCase()in o)?!0:!1}function k(n,t,i,r){var u,e,o;return(e=i.indexOf(":"),e<0||f.isSafeProtocol(i))?!0:(o=i.substr(0,e),r.invalidProtocols&&o.toUpperCase()in r.invalidProtocols)?!1:(ut(),u=s[o.toUpperCase()],typeof u=="function"&&u(n,t,i)===!0)?!0:!1}function pt(n,t){if(n){if(ft(),n=n.toUpperCase(),t.invalidStyles&&n in t.invalidStyles)return!1;if(t.validStyles&&n in t.validStyles||n in a)return!0}return!1}function d(n){var t=n;return t?(t=t.replace(/&/g,"&amp;"),t=t.replace(/"/g,"&quot;"),t=t.replace(/>/g,"&gt;"),t.replace(/</g,"&lt;")):""}function g(n,t,i){i=i||'"';var r=$("<div bogusAttribute="+i+t+i+">");return r.attr("bogusAttribute")}function wt(n,t,i){var u=[],r;return(t.split(";")||[]).forEach(function(t){if(t=(t||"").trim(),t){var f=t.split(":",2),r=(f[0]||"").trim(),e=r.toUpperCase();f.length===2&&pt(r,i)&&(!b(r)||k(n,r,(f[1]||"").trim(),i))&&u.push(t)}}),r=u.join(";"),r?'style="'+d(r)+'"':""}function bt(n,t){var r,u;if(n&&t)try{return r=g(n,t,""),decodeURI(r),u=decodeURI(f.Uri.parse(encodeURI(r)).absoluteUri),n.replace(t,d(u))}catch(e){return n.replace(t,"Invalid uri value")}return n}function kt(n,t,i,r,u,f,e,o){var s=i.substr(r,u);if(b(t)){if(k(n,t,g(t,s,f).trim(),e))return bt(i,s)}else{if(t.toUpperCase()==="STYLE")return wt(n,s,e);if(yt(n,t,s))return o&&"A"===n.toUpperCase()&&"TARGET"===t.toUpperCase()&&"_BLANK"===s.toUpperCase()&&o.updateAttribute("rel","noopener noreferrer"),i}return""}var r,l,e,o,s,a,u;n.areTagsEqual=et;n.isAllowedTag=ot;n.shouldAddEolBeforeTag=st;n.shouldAddEolAfterTag=ht;n.isFormattingRemovalTag=ct;n.getFormattingReplacementTag=lt;n.isSpecialTag=at;n.isAllowedAttribute=vt;n.cleanAttribute=kt}(e||(e={})),function(n){function s(n){return n>="0"&&n<="9"||n>="A"&&n<="Z"||n>="a"&&n<="z"?!0:!1}function i(n,t){u.lastIndex=t;var i=u.exec(n);return i?i.index:n.length}function h(n,t){f.lastIndex=t;var i=f.exec(n);return i?i.index:n.length}function t(n,t,i){var r=n.indexOf(i,t);return r>=0?r+i.length:n.length}function r(n,t){o.lastIndex=t;var i=o.exec(n);return i?{offset:i.index,name:n.substr(t,i.index-t)}:{offset:n.length,name:n.substr(t,n.length-t)}}function c(n,u,f){for(var c=n.length,o=0,p,l,w,g,b,a,v,it,nt,k,tt,d,y;o<c;){if(l=o,o=n.indexOf("<",o),o<0&&(o=c),o>l){u.writeText(n,l,o-l);continue}if(l=o++,p=n.charAt(o),o<c&&p==="!"){if(o++,o+1<c&&n.substr(o,2)==="--"){o+=2;o=t(n,o,"-->");continue}if(o+6<c&&n.substr(o,7)==="[CDATA["){o+=7;o=t(n,o,"]\]>");continue}o=t(n,o,">");continue}if(o<c&&p==="?"){o++;o=t(n,o,">");continue}if(b=!1,o<c&&p==="/"&&(b=!0,o++),o=i(n,o),a=r(n,o),o=a.offset,v=a.name,e.isSpecialTag(v)){for(o=t(n,o,">");o<c;)if(o=t(n,o,"<"),o+2<c&&n.substr(o,3)==="!--")o=t(n,o,"-->");else if(o<c&&n.charAt(o)==="/"){if(o++,o=i(n,o),a=r(n,o),o=a.offset,it=a.name,e.areTagsEqual(v,it)){o=t(n,o,">");break}}else o<c&&o++;continue}if(!e.isAllowedTag(v)||f.removeFormatting&&e.isFormattingRemovalTag(v))if(f.encodeUnknownText){u.writeEncodedText(n,l,o-l);continue}else{o=t(n,o,">");continue}if(d=v,y=null,f.removeFormatting&&(y=e.getFormattingReplacementTag(v),y&&y.tagToReplace.length!==0)){d=y.tagToReplace;o=t(n,o,">");u.writeTag(n,l,d,b);b&&y.afterTagText!=null&&y.afterTagText.length>0&&u.writeText(y.afterTagText,0,y.afterTagText.length);continue}for(u.writeTag(n,l,d,b);o<c;){if(l=o,o=i(n,o),o<c&&n.charAt(o)==="/"&&o++,o<c&&n.charAt(o)===">"){o++;u.writeEndOfTag(n,l,o-l,d);break}if(o<c&&s(n.charAt(o))){if(a=r(n,o),o=a.offset,nt=a.name,o=i(n,o),w=0,g=0,o<c&&n.charAt(o)==="=")if(o++,o=i(n,o),w=o,p=n.charAt(o),k=null,o<c&&(p==="'"||p==='"')){for(k=p,o++,w=o;o<c&&n.charAt(o)!==k;)o++;g=o;o<c&&n.charAt(o)===k&&o++}else o=h(n,o),g=o;e.isAllowedAttribute(v,nt,f)&&(tt=e.cleanAttribute(v,nt,n.substr(l,o-l),w-l,g-w,k,f,u),tt&&u.writeAttribute(tt));continue}o<c&&n.charAt(o)!==">"&&o++}}}var u=/\S/g,f=/[\s|>]/g,o=/[^\w\:\-]/g;n.parse=c}(c||(c={}));var s=function(){function n(n){this.text=n}return n.prototype.render=function(n){n.append(this.text)},n}(),o=function(){function n(n,t){this.tag=n.toUpperCase();this.root=t===!0}return n._getEmptyTags=function(){if(!n._emptyTags){var t={};t.AREA=!0;t.BASE=!0;t.BASEFONT=!0;t.BGSOUND=!0;t.BR=!0;t.COL=!0;t.EMBED=!0;t.FRAME=!0;t.HR=!0;t.IMG=!0;t.INPUT=!0;t.ISINDEX=!0;t.LINK=!0;t.META=!0;t.PARAM=!0;t.WBR=!0;t.IFRAME=!1;t.MARQUEE=!1;n._emptyTags=t}return n._emptyTags},n.hasEndTag=function(n){var t=this._getEmptyTags(),i=!0;return n in t&&(i=!t[n]),i},n.canTagHaveChild=function(n){var t=this._getEmptyTags();return!(n in t)},n.prototype.getChildren=function(){return this._children||(this._children=[]),this._children},n.prototype.getAttributes=function(){return this._attributes||(this._attributes=[]),this._attributes},n.prototype.getHasClosingTag=function(){return this.empty===!0?!1:n.hasEndTag(this.tag)},n.prototype.getCanHaveChildren=function(){return this.tagClosed===!0?!1:n.canTagHaveChild(this.tag)},n.prototype.render=function(n){var t,r,i,u,e=!1,f;if(this.tag)for(n.append("<"),n.append(this.tag),i=this.getAttributes(),t=0,r=i.length;t<r;t++)n.append(" "),n.append(i[t].trim());if(u=this.getChildren(),u.length>0)for(e=!0,this.tag&&n.append(">"),t=0,r=u.length;t<r;t++)u[t].render(n);this.tag&&(e?(n.append("<\/"),n.append(this.tag),n.append(">")):this.getHasClosingTag()?(n.append("><\/"),n.append(this.tag),n.append(">")):(f=n.toString().slice(-1),f!=" "&&f!='"'&&f!="'"&&i&&i.length>0&&n.append(" "),n.append("/>")))},n}(),v=function(){function n(){this._strings=[]}return n.prototype.append=function(n){var t=this._strings;return n&&(t[t.length]=n),this},n.prototype.clear=function(){return this._strings=[],this},n.prototype.toString=function(){return this._strings.join("")},n}(),y=function(){function n(){this._textAccumulator="";this._lastWriteWasEol=!0}return n.prototype.writeText=function(n,t,i){this._textAccumulator+=n.substr(t,i);this._lastWriteWasEol=!1},n.prototype.writeEncodedText=function(n,t,i){this._textAccumulator+=u.htmlEncode(n.substr(t,i));this._lastWriteWasEol=!1},n.prototype.writeTag=function(n,t,i,r){var u=i.toUpperCase();(r?e.shouldAddEolAfterTag(i):e.shouldAddEolBeforeTag(i))&&this._writeEols()},n.prototype.writeEndOfTag=function(){},n.prototype.writeAttribute=function(){},n.prototype.updateAttribute=function(){},n.prototype.finish=function(){},n.prototype.toString=function(){return this._textAccumulator.replace("\u00a0\r\n","\r\n").trim()},n.prototype._writeEols=function(){this._lastWriteWasEol||(this._textAccumulator+="\r\n",this._lastWriteWasEol=!0)},n}(),h=function(){function n(){this.root=new o("",!0);this.elements=[]}return n.prototype.writeText=function(n,t,i){var r=this.elements;r[r.length]=new s(n.substr(t,i))},n.prototype.writeEncodedText=function(n,t,i){var r=this.elements;r[r.length]=new s(u.htmlEncode(n.substr(t,i)))},n.prototype.writeTag=function(n,t,i,r){var u,h,c=this.elements,e,f,l=i.toUpperCase();if(r===!0){for(f=[];c.length>0;)if(h=c.pop(),h instanceof s)f[f.length]=h;else if(u=h,u.tag!==l||u.tagClosed){if(u.getCanHaveChildren())for(e=h.getChildren();f.length>0;)e[e.length]=f.pop();f[f.length]=u;u=null}else break;for(u||(u=new o(i)),e=u.getChildren();f.length>0;)e[e.length]=f.pop()}else u=new o(i);u.tagClosed=r;c[c.length]=u},n.prototype.writeEndOfTag=function(n,t,i,r){var u,f,e=this.elements,s=r.toUpperCase();i>1&&(f=n.substr(t,i),f.charAt(f.length-2)==="/"&&e.length>0&&(u=e[e.length-1],u instanceof o&&u.tag===s&&(u.empty=!0,u.tagClosed=!0)))},n.prototype.writeAttribute=function(n){var t,i=this.elements;i.length>0&&(t=i[i.length-1],t instanceof o&&t.getAttributes().push(n))},n.prototype.updateAttribute=function(n,t){var f=this.elements,e=f[f.length-1];if(e instanceof o){var i=e.getAttributes(),s=r.findIndex(i,function(t){return u.startsWith(t.trim().toUpperCase(),n.toUpperCase())}),h=" ".concat(n,'="').concat(t,'"');s===-1?i.push(h):i[s]=h}},n.prototype.finish=function(){for(var t,u=this.elements,f=this.root,n=[],i,r;u.length>0;)if(t=u.pop(),t instanceof s)n[n.length]=t;else{if(t.getCanHaveChildren())for(i=t.getChildren();n.length>0;)i[i.length]=n.pop();n[n.length]=t}for(r=f.getChildren();n.length>0;)r[r.length]=n.pop()},n.prototype.toString=function(){var n=new v;return this.root.render(n),n.toString()},n}(),l;(function(n){function t(n){var i=null,t,r,u;if(n)for(i={},t=0,r=n;t<r.length;t++)u=r[t],i[u.toUpperCase()]=0;return i}function i(n){return n===void 0&&(n={}),{invalidAttributes:t(n.additionalInvalidAttributes),validAttributes:t(n.additionalValidAttributes),invalidStyles:t(n.additionalInvalidStyles),validStyles:t(n.additionalValidStyles),removeFormatting:n.removeFormatting||!1,encodeUnknownText:n.encodeUnknownText||!1,invalidProtocols:t(n.additionalInvalidProtocols)}}function u(n){var t=new h;return r(n,t,i())}function f(n,t,u,f,e,o,s){var c=new h;return r(n,c,i({additionalInvalidAttributes:t,additionalValidAttributes:u,additionalInvalidStyles:f,additionalValidStyles:e,encodeUnknownText:o,additionalInvalidProtocols:s}))}function e(n){var t=new h;return r(n,t,i({additionalInvalidAttributes:["CLASS","STYLE"],removeFormatting:!0}))}function o(n){var t=new h;return r(n,t,i({encodeUnknownText:!0}))}function s(n){var t=new y;return r(n,t,i({encodeUnknownText:!0}))}function r(n,t,i){return c.parse(n,t,i),t.finish(),t.toString()}n.normalize=u;n.normalizeStripAttributes=f;n.removeFormatting=e;n.sanitize=o;n.convertToPlainText=s})(l=t.HtmlNormalizer||(t.HtmlNormalizer={}));a=function(){function n(){}return n._replaceSimpleTemplateTokens=function(t,i){for(var r=t,e=/\$\{([^\$\}]+)\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getEncodedTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceUnencodedTemplateTokens=function(t,i){for(var r=t,e=/\{\{html ([^\$\}]+)\}\}/ig,u,o,f;(u=e.exec(r))!==null;)o=u[1],f=n._getTextPropertyValue(i,o),r=n._replaceMatch(r,u,f),e.lastIndex=u.index+f.length;return r},n._replaceForEachTemplateTokens=function(t,i){for(var f=t,a=/\{\{each \s*([^ \}]+)\}\}((?:.|\r|\n)*)\{\{\/each\}\}/ig,c=/\$\{\$value(?:\.([^\}]+))?\}/ig,r,v,y,e,o,s,p,l,u,h,w;(r=a.exec(f))!==null;){if(v=r[1],y=r[2],e="",o=n._getPropertyValue(i,v),Array.isArray(o))for(h=0,w=o.length;h<w;h+=1){for(u=y,c.lastIndex=0;(s=c.exec(u))!==null;)p=s[1],l=n._getEncodedTextPropertyValue(o[h],p),u=n._replaceMatch(u,s,l),c.lastIndex=s.index+l.length;e+=u}f=n._replaceMatch(f,r,e);a.lastIndex=r.index+e.length}return f},n._replaceMatch=function(n,t,i){return n.substring(0,t.index)+i+n.substring(t.index+t[0].length)},n._getEncodedTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":u.htmlEncode(r.toString())},n._getTextPropertyValue=function(t,i){var r=n._getPropertyValue(t,i);return r===undefined?"":r.toString()},n._getPropertyValue=function(n,t){if(t===undefined||t.length===0)return n;for(var r=t.split("."),i=n;r.length>0&&i!==undefined;)i=i[r.shift()];return i},n.tmpl=function(t,i){var r=t;return r=n._replaceSimpleTemplateTokens(r,i),r=n._replaceUnencodedTemplateTokens(r,i),n._replaceForEachTemplateTokens(r,i)},n}();t.TemplateEngine=a,function(n){function t(t){if(t===null||t===undefined)return!0;if(t.length>=n.ISEMPTY_MINIMAL_CONTENT_LENGTH)return!1;var i=l.removeFormatting(t);return i===""||i==="<BR>"||i==="<BR/>"||i==="<P>&nbsp;<\/P>"||i==="<P><\/P>"||i==="<P><BR/><\/P>"||i==="<BR>\r\n"||i==="<BR>\r\n"||i==="<DIV><BR/><\/DIV>"||i==="<DIV><DIV><BR/><\/DIV><\/DIV>"}n.ISEMPTY_MINIMAL_CONTENT_LENGTH=500;n.isEmpty=t}(p=t.Utils||(t.Utils={}))});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking",["require","exports","VSS/VSS","Presentation/Scripts/TFS/FeatureRef/CSSNodeEvents","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Caching/WorkItemIndexDBCacheManager","Presentation/Scripts/TFS/MVCToDataProviderDataSources/MVCToDataProviderDataSource","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","Presentation/Scripts/TFS/MVCToDataProviderDataSources/WITDataSource","Presentation/Scripts/TFS/TFS.OM.Identities","TFS/WorkItemTracking/RestClient","VSS/Contributions/Services","VSS/Error","VSS/Events/Services","VSS/FeatureAvailability/Services","VSS/Identities/Picker/Common","VSS/Service","WorkItemTracking/Scripts/Form/UserLayoutSettings","WorkItemTracking/Scripts/LinkForm","WorkItemTracking/Scripts/OM/DataSources/index","WorkItemTracking/Scripts/OM/DataSources/WorkItemTypeCategoriesDataSource","WorkItemTracking/Scripts/OM/NodesCacheManager","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemMetadataCacheInformationManager","WorkItemTracking/Scripts/RegisterLinkForms","WorkItemTracking/Scripts/Utils/NodeHelpers","WorkItemTracking/Scripts/Utils/PerfScenarioManager","WorkItemTracking/Scripts/Utils/RemoteWorkItemUtils","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper","WorkItemTracking/Scripts/Utils/WorkItemRichTextHelper","WorkItemTracking/Scripts/WorkItemMetadataCacheStampManager","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Core.Utils","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Array","VSS/Utils/Number","VSS/Utils/File","VSS/Diag","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Events/Action","VSS/Events/Handlers","VSS/Events/Services","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi","TFS/WorkItemTracking/BatchRestClient","VSS/Utils/Html","VSS/Telemetry/Services","q","VSS/Service","WorkItemTracking/Scripts/CustomerIntelligence","VSS/Contributions/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi){function br(n){return n&&n.isIdentity}function tr(n,t){var i=new Error(n);return $.each(t,function(n,t){i[n]=t}),i}function kr(n){return tr(ni.WorkItemBulkSaveFailed,{name:tt.Exceptions.WorkItemBulkSaveException,results:n})}function eu(n){return tr(pt.format(ni.ProjectDoesNotExist,n),{name:tt.Exceptions.ProjectDoesNotExistException,projectName:n})}function ou(n){return tr(pt.format(ni.WorkItemLinkTypeEndDoesNotExist,n),{name:tt.Exceptions.LinkTypeEndDoesNotExistException,linkTypeEnd:n})}function su(n){return tr(pt.format(ni.WorkItemLinkTypeDoesNotExists,n),{name:tt.Exceptions.LinkTypeDoesNotExistException,linkType:n})}function hu(n){var t=n.getInfoText().text;return tr(t,{name:tt.Exceptions.WorkItemSaveFailedDueToInvalidStatusException,detail:t,workItem:n})}var nr,cr,ur,dr,pi,fr,er,or,yi,ar,bi,ir,lr,wi,rr,di,gr,vr,ki,sr,yr,nu,pr;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemDataManager=t.WorkItemIdentityScope=t.FieldValidationKey=t.ServerDefaultValue=t.RuleEngine=t.RuleValueFrom=t.Attachment=t.WorkItemLink=t.Hyperlink=t.ExternalLink=t.Link=t.Field=t.WorkItem=t.FieldDefinition=t.WorkItemType=t.WorkItemStore=t.Project=t.createError=t.isIdentityPickerSupportedForField=void 0;var wr=i.queueCallbacks,hr=i.queueRequest,gi=i.handleError,tu=i.getErrorMessage,iu=/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i,ru=2,uu=/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F-\u009F]/g,fu=/(^[\uD800-\uDFFF]$)|[^\uD800-\uDBFF](?=[\uDC00-\uDFFF])|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/g;t.isIdentityPickerSupportedForField=br;t.createError=tr,function(n){n[n.WorkItemMissingOrUpdated=600122]="WorkItemMissingOrUpdated";n[n.ResourceLinkNotFoundException=600180]="ResourceLinkNotFoundException"}(cr||(cr={}));ur=function(){function n(n,t){var i=this;this._onCSSNodesInvalidated=function(){o.traceMessage(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"onCSSNodesInvalidated",ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_CSSNODECACHEINVALIDATED,"The CSS Node cache was invalidated");i.nodesCacheManager.clearCache()};this.store=n;this.id=t.id;this.name=t.name;this.guid=t.guid;this.workItemTypeNames=t.workItemTypes;this.fieldIds=t.fieldIds;this.extras=t.extras||{};this.process=t.process;this.visibility=t.visibility;this.relatedData={};Array.isArray(this.workItemTypeNames)&&this.workItemTypeNames.sort(pt.localeIgnoreCaseComparer);this.workItemTypes={};this.nodesCacheManager=new nt.NodesCacheManager(this);v.getService().attachEvent(r.CSSNodesInvalidated,this._onCSSNodesInvalidated)}return n.prototype.getApiLocation=function(n,t){return this._getApiLocation(!1,n,t)},n.prototype.getApiLocationIncludingTeam=function(n,t){return this._getApiLocation(!0,n,t)},n.prototype.path=function(){return this.store.path()+"/"+this.name},n.prototype.beginGetWorkItemType=function(n,t,i){this.beginGetWorkItemTypes([n],function(n){return t(n[0])},i)},n.prototype.beginGetWorkItemTypes=function(n,t,i,r){var f=this,p,rt,k,a,s,d,g,ut,e,et,lt;var o=0,nt=!1,v=[],h=[],at=this.store.fields&&this.store.fields.length>0,ot=y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading);ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPES,!0);var c=function(){o--;nt||o!==0||(v.length>0?f._constructWITsAsync(v).then(function(){ct()},l):ct())},ht=!1,ct=function(){var o,a,b,e,s,y,c,p,l,w,i,u;for(ht,ht=!0,ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPES,!1),o=0,a=h;o<a.length;o++)b=a[o],b.finish();if(h=[],typeof t=="function"){if(e=[],ot)for(s=0,y=n;s<y.length;s++)i=y[s],u=i.toUpperCase(),e.push(f.workItemTypes[u]);else if(r)for(c=0,p=v;c<p.length;c++)i=p[c],u=i.name.toUpperCase(),e.push(f.workItemTypes[u]);else for(l=0,w=n;l<w.length;l++)i=w[l],u=i.toUpperCase(),e.push(f.workItemTypes[u]);t(e)}},l=function(n){for(var u,t=0,r=h;t<r.length;t++)u=r[t],u.error();h=[];nt||(nt=!0,typeof i=="function"&&i.apply(f,[n]))},tt=function(n){var u=wr(f,$.noop,$.noop),t,r,e;for(h.push(u),t=0,r=n;t<r.length;t++)e=r[t],f.workItemTypes[e.toUpperCase()]=u.register;f.store.witDataManager.beginGetWorkItemTypeData(f.guid,n).then(function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],v.push(r);c()},i)},it=[];for(p=0,rt=n;p<rt.length;p++)e=rt[p],k=this.workItemTypes[e.toUpperCase()],k?typeof k=="function"&&(o++,k(c,l)):it.push(e);for(it.sort(),s=[],d=0,g=0,ut=it;g<ut.length;g++)e=ut[g],et=e.length+11,d+et>1024&&(d=0,a=null),a?a.push(e):(a=[e],s.push(a),o++),d+=et;if(o++,at?c():this.store.beginGetFields().then(c).catch(l),lt=this.store.userSettingsLoaded===undefined,lt&&(o++,st.WitFormModeUtility.ensureWitFormModeLoaded().then(function(){f.store.userSettingsLoaded=!0;w.getService(b.WorkItemFormUserLayoutSettingsService).ensureSettingsAreLoaded().then(function(){c()},l)},l)),ot)while(s.length>0)tt(s.pop());else if(r)tt([]);else while(s.length>0)tt(s.pop())},n.prototype.getWorkItemTypes=function(n,t){var i=this;return ci.Promise(function(r,u){return i.beginGetWorkItemTypes(n,r,u,t)})},n.prototype._constructWITsAsync=function(n){for(var r,v,u,o,s,h,t=this,i=ci.defer(),f={},c=[],l=[],y=function(){for(var r,u=!1,s=function(n){var i=new fr(t,n),r=n.name.toUpperCase();t.workItemTypes[r]=i},f=0,h=n;f<h.length;f++){var e=h[f],c=e.fields,o=void 0;for(r=0;r<c.length;r++)if(o=c[r],!t.store.fieldMap[o]&&!t.store.fieldMapById[o]){u=!0;break}u?l.push(e):s(e)}u?t.store.refreshFields().then(function(){for(var r,n=0,t=l;n<t.length;n++)r=t[n],s(r);i.resolve(null)},function(n){i.reject(n)}):i.resolve(null)},p=function(r){for(var e,u=0,f=n;u<f.length;u++)e=f[u].name,delete t.workItemTypes[e.toUpperCase()];i.reject(r)},e=0,a=n;e<a.length;e++)if(r=a[e],r.rules&&r.rules.globals&&r.rules.globals.length>0)for(v=r.rules.globals,u=0,o=v;u<o.length;u++)s=o[u],f[s]=s;for(h in f)f.hasOwnProperty(h)&&c.push(h);return this.store.beginEnsureConstantSets(c,y,p),i.promise},n.prototype.getWorkItemType=function(n){var i=n.toUpperCase(),t=this.workItemTypes[i];if(t&&typeof t!="function")return t},n.prototype.beginQuery=function(n,t,i,r){this.store.beginQuery(this.guid,n,t,i,r)},n.prototype.beginSearch=function(n,t,i,r){this.store.beginSearch(this,n,t,i,r)},n.prototype.beginUpdateColumnOptions=function(n,t,i,r){(new e.WorkItemStoreLevelWITDataSource).postDataAsync({controller:"wit",action:"updateColumnOptions"},{persistenceId:n,fields:t}).then(function(){return i}).catch(r)},n.prototype.beginGetWorkItemCategories=function(n,t){this.store.beginGetWorkItemCategories(this,n,t)},n.prototype.beginGetVisibleWorkItemTypeNames=function(n,t){var i=[tt.WorkItemCategoryConstants.HIDDEN];this._beginGetWorkItemTypeNames(n,i,t)},n.prototype.beginGetValidWorkItemTypeNames=function(n,t){var i=[tt.WorkItemCategoryConstants.HIDDEN,tt.WorkItemCategoryConstants.TEST_CASE,tt.WorkItemCategoryConstants.TEST_PLAN,tt.WorkItemCategoryConstants.TEST_SUITE];this._beginGetWorkItemTypeNames(n,i,t)},n.prototype.beginGetValidWorkItemTypeNamesWithCategories=function(n,t){var i=[tt.WorkItemCategoryConstants.HIDDEN];this._beginGetWorkItemTypeNames(n,i,t)},n.prototype._beginGetWorkItemTypeNames=function(n,t,i){var r=this;this.beginGetWorkItemCategories(function(i){return __awaiter(r,void 0,void 0,function(){var e,r,f,o,s;return __generator(this,function(h){switch(h.label){case 0:return(e=[],r={},!!y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading))?[3,2]:(f=[],!!this.workItemTypeNames)?[3,2]:($.each(i,function(n,t){t.workItemTypeNames.forEach(function(n){f.some(function(t){return t===n})||f.push(n)})}),[4,this.getWorkItemTypes(f,!0)]);case 1:o=h.sent();this.workItemTypeNames=o.map(function(n){return n.name});h.label=2;case 2:return t&&$.each(t,function(n,t){if(i&&i[t]){var u=i[t];$.each(u.workItemTypeNames,function(n,t){r[t]=!0})}}),$.each(this.workItemTypeNames,function(n,t){r.hasOwnProperty(t)||e.push(t)}),s=Object.keys(r),typeof n=="function"&&n.call(this,e,s,i),[2]}})})},i)},n.prototype._getApiLocation=function(n,t,i){var r={};return n||(r.team=""),this.store.getTfsContext().getActionUrl(t||"","wit",$.extend({project:this.guid,area:"api"},r,i))},n}();t.Project=ur;dr=/^-(1|2|10|30)(\|.*)?$/;pi=function(n){function t(){var t=__construct(this,n,[]);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._ongoingDeleteOrRestoreOperationCt=0,t.constantSets={},t.allowedValues={},t.groups={},t.witCategories={},t.workItemTypeExtensions={},t.relatedData={},t._allProjectsLoaded=!1,t._allFieldsLoaded=!1,t._projectLoadingPromisesMap={},t._queryExecutingPromiseMap={},t}return __extends(t,n),t.prototype.dispose=function(){var n=this.relatedData[tt.RelatedDataKeys.WORKITEM_MANAGER_KEY];n&&n.dispose()},t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this.metadataCacheStampManager=new lt.WorkItemMetadataCacheStampManager(this.getTfsContext());this.witDataManager=new pr(this.getTfsContext(),this.metadataCacheStampManager)},t.prototype.isDeletingOrRestoring=function(){return this._ongoingDeleteOrRestoreOperationCt>0},t.prototype.path=function(){return dt.combinePaths(this.getConnection().getHostUrl(),"WorkItemStore")},t.prototype.getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(n||"","wit",$.extend({project:"",team:"",area:"api"},t))},t.prototype.getProjectApiLocationIncludingTeam=function(n,t,i){return this.getTfsContext().getActionUrl(t||"","wit",$.extend({project:n,area:"api"},i))},t.prototype.getWorkItemTypesEtagForCI=function(){return this.metadataCacheStampManager.workItemTypesEtag},t.prototype.getCurrentUserName=function(){return this.getCurrentUser().distinctDisplayName},t.prototype.getCurrentUser=function(){var n=this.getTfsContext().currentIdentity,t=n.displayName,i=n.uniqueName;return{distinctDisplayName:h.IdentityHelper.getDistinctDisplayName(t,i),identityRef:{id:n.id,displayName:t,uniqueName:i}}},t.prototype._loadFieldsFromServer=function(){var n=this,t,i;return this._getFieldsPromise?this._getFieldsPromise:(t=function(t){return n._getFieldsPromise=null,n._allFieldsLoaded=!0,t},i=function(t){n._getFieldsPromise=null;throw t;},this._getFieldsPromise=new Promise(function(t,i){return n.witDataManager.beginGetFields().then(function(i){n._prepareFields(i);t(n.fields)},i)}).then(t,i),this._getFieldsPromise)},t.prototype.beginGetFields=function(n){return(n===void 0&&(n=!1),this.fields&&(!n||this._allFieldsLoaded))?Promise.resolve(this.fields):this._loadFieldsFromServer()},t.prototype.refreshFields=function(){var n=this;return ci.Promise(function(t,i){n._loadFieldsFromServer().then(function(){return t(null)}).catch(i)})},t.prototype.getFieldDefinition=function(n){var t=(""+n).toUpperCase();return this.fieldMap[t]||this.fieldMapById[t]},t.prototype.beginGetProjects=function(n,t){var i=this;this._allProjectsLoaded?n(this.projects):this._allProjectsLoadingPromise=this._allProjectsLoadingPromise&&this._allProjectsLoadingPromise.isPending()?this._allProjectsLoadingPromise.then(function(t){return n(i.projects),t},function(n){return typeof t=="function"&&t(n),n}):this._loadProjects().then(function(t){var r,u,f;if(i.projects&&i.projects.length!==0)for(r=0,u=t.projects;r<u.length;r++)f=u[r],i.hasProject(f.guid)||i.projects.push(new ur(i,f));else i.projects=t.projects.map(function(n){return new ur(i,n)});return i._allProjectsLoaded=!0,n(i.projects),t},function(n){return typeof t=="function"&&t(n),n})},t.prototype.beginGetContributedLinkTypes=function(){var t=this;if(this._beginGetContributedLinkTypesPromise)return this._beginGetContributedLinkTypesPromise;var n=ci.defer(),i={},r=li.getService(vi.ExtensionService);return r.getContributionsForTargets(["ms.vss-work-web.workitem-artifact-links"]).then(function(r){$.each(r,function(n,t){var r=t.properties.toolId,u=t.properties.supportedArtifactTypes;$.each(u,function(n,u){var f=u.name,e=u.linkTypes;$.each(e,function(n,u){var e={linkType:u.id,tool:r,artifactName:f,linkTypeName:u.name,contributionId:t.id};i[u.id]=e})})});t.contributedLinkTypes=i;n.resolve(t.contributedLinkTypes)},function(t){n.reject(t)}),this._beginGetContributedLinkTypesPromise=n.promise,this._beginGetContributedLinkTypesPromise},t.prototype.getContributedLinkTypes=function(){if(this.contributedLinkTypes)return this.contributedLinkTypes},t.prototype._loadProjects=function(n){var t=this,r=function(n){ri.getService().fire(tt.Actions.NEW_PROJECT_DATA,t,n.projects);t._prepareFields(n.fields,!0)},i,f;return n?ci.Promise(function(i,u){return t.witDataManager.beginGetFieldProjectData(n).then(function(n){r(n);i(n)},u)}):(i=ci.defer(),f=y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading)?{includeFieldDefinitions:!0}:{includeFieldDefinitions:!1,includeProcessId:!1,includeProcessInfo:!1,includeWorkItemTypes:!1},this.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.TeamProjects,f,function(u){ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETPROJECTS_REQUEST,!0);n&&(u.namesOrIds=[n]);(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({controller:"wit",action:"teamProjects"},u,t.getTfsContext().navigation.collection.instanceId,at.WITCommonConstants.TeamProjects,"_").then(function(n){var t;n.requestHeaders&&ft.PerfScenarioManager.addData((t={},t["".concat(ai.PerformanceEvents.WORKITEMTRACKING_GETPROJECTS_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),t));ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETPROJECTS_REQUEST,!1);r(n.data);i.resolve(n.data)},function(n){i.reject(n)})},null),i.promise)},t.prototype.getProjects=function(){if(this.projects&&typeof this.projects!="function")return this.projects},t.prototype.getProject=function(n,t){t===void 0&&(t=!0);var r=t?this.getProjects():this.projects,i=bt.first(r||[],function(t){return pt.equals(t.name,n,!0)||pt.equals(t.guid,n,!0)});if(i)return i;if(t)throw eu(n);else return null},t.prototype.hasProject=function(n){return this.projects&&typeof this.projects!="function"?bt.arrayContains(n,this.projects,function(n,t){return pt.equals(t.name,n,!0)||pt.equals(t.guid,n,!0)}):!1},t.prototype.beginGetProject=function(n,t,i){var r=this,u=this.getProject(n,!1),f=function(){try{u=r.getProject(n);t.call(r,u)}catch(f){gi(f,i,r)}};u?t.call(this,u):this._allProjectsLoadingPromise&&this._allProjectsLoadingPromise.isPending()?this._allProjectsLoadingPromise=this._allProjectsLoadingPromise.then(function(n){return f(),n},function(n){return typeof i=="function"&&i(n),n}):this._projectLoadingPromisesMap[n]=this._projectLoadingPromisesMap[n]&&this._projectLoadingPromisesMap[n].isPending()?this._projectLoadingPromisesMap[n].then(function(n){return f(),n},function(n){return typeof i=="function"&&i(n),n}):this._loadProjects(n).then(function(n){if(n.projects&&n.projects.length===1){var t=new ur(r,n.projects[0]);r.projects?r.hasProject(t.guid)||r.projects.push(t):r.projects=[t]}return f(),n},function(n){return typeof i=="function"&&i(n),n})},t.prototype.beginGetTeamSettings=function(n){var r,t,i=ci.defer(),u=function(){r&&t&&(r.nodesCacheManager.addReferencedNodes(t.referencedNodes),i.resolve(t))},f;return this.beginGetProject(this.getTfsContext().navigation.projectId,function(n){r=n;u()},function(n){return i.reject(n)}),f=li.getService(fi.TeamAwarenessService),f.beginGetTeamSettings(n).then(function(n){t=n;u()},function(n){return i.reject(n)}),i.promise},t.prototype.beginGetWorkItemData=function(n,t,i,r,u,f){var s=this,e,h,o,c,l;if(n?Array.isArray(n)?n.length===0&&(e=new Error(ni.BeginGetWorkItemArgumentNull)):(h=+n,n=[h]):e=new Error(ni.BeginGetWorkItemArgumentNull),n)for(o=0,c=n.length;o<c;++o)if(n[o]=+n[o],n[o]===undefined){e=new Error(ni.WorkItemIdUndefined);break}else if(isNaN(n[o])){e=new Error(ni.WorkItemIdNaN);break}else if(n[o]<=0){e=new Error(ni.WorkItemIdOutOfRange);break}if(e){e.name="ArgumentException";gi(e,i,this);i&&a.publishErrorToTelemetry(e);return}l=function(n){typeof t=="function"&&(n&&n.length===1?t.call(s,n[0],i):t.call(s,n,i))};this.witDataManager.beginGetWorkItemData(n,r,!f,u).then(l,i)},t.prototype.beginGetWorkItem=function(n,t,i,r,u){var f=this;this.beginGetWorkItems([n],function(n){typeof t=="function"&&t.call(f,n&&n[0])},i,r,u)},t.prototype.getWorkItemsAsync=function(n,t,i,r){var u=this;return i===void 0&&(i=!1),r===void 0&&(r=!1),new Promise(function(f,e){return u.beginGetWorkItems(n,function(n){return f(n)},function(n){return e(n)},t,i,r)})},t.prototype.beginGetWorkItems=function(n,t,i,r,u,f){var e=this;u===void 0&&(u=!1);f===void 0&&(f=!1);this.beginGetWorkItemData(n,function(n){var f,h=0,o=[];n&&(f=Array.isArray(n)?n:[n]);var c=function(){typeof t=="function"&&t.call(e,o)},r=function(n){gi(n,i,e)},s=function(){var n,v;if(n=f&&f[h++],n){var t=null,i=null,a=!1,l=function(){if(t&&(!u||i)&&a)try{var f=t.create(n,i);f.extensionIds=f.extensionIds.concat(n.currentExtensions);o.push(f);yt.delay(e,0,s)}catch(h){r(h)}};e.beginGetLinkTypes(function(){a=!0;l()},r);u&&e.beginGetWorkItemTypeExtensions(n.currentExtensions,function(n){i=n;l()},r);v=n.projectId||n.fields[at.CoreField.TeamProject];e.beginGetProject(v,function(i){var u=n.fields[at.CoreField.WorkItemType];i.beginGetWorkItemType(u,function(n){t=n;l()},r)},r)}else c()};s()},i,r,undefined,f)},t.prototype.beginQuery=function(n,t,i,r,u){var o=this,f;this._queryExecutingPromiseMap[t]?this._queryExecutingPromiseMap[t].then(function(n){delete o._queryExecutingPromiseMap[t];typeof i=="function"&&i.call(o,n)},r):(f=function(i,r){var f=$.extend({wiql:t},u),o={controller:"wit",action:"query",routeData:{project:n||""}};(new e.WorkItemStoreLevelWITDataSource).postDataAsync(o,f).then(function(n){var t=n.data;i(t)}).catch(r)},i===null?this._queryExecutingPromiseMap[t]=new Promise(f):f(i,r))},t.prototype._beginWorkItemsBatchHelper=function(n,t,i,r){var f=this,u=[],e=[];u.push(n);var s=function(n){typeof i=="function"&&i.call(f,n)},h=function(n){gi(n,r,f)},o=function(){if(u.length>0){var n=u.pop();n.length>tt.PageSizes.SAVE&&u.push(n.splice(tt.PageSizes.SAVE));t(n).then(function(n){n&&n.count>0&&$.each(n.value,function(n,t){e.push(t)});yt.delay(f,0,o)},function(n){h(n)})}else s(e)};o()},t.prototype._beginDeleteWorkItems=function(n){var t=this,i=this.tfsConnection.getHttpClient(oi.WorkItemTrackingHttpBatchClient);return this._ongoingDeleteOrRestoreOperationCt++,i.deleteWorkItemsBatch(n).then(function(i){var u,r,f,e;if(t._ongoingDeleteOrRestoreOperationCt--,i.count>0)for(u=i.value,r=0,f=u.length;r<f;r++)e=u[r],e.code===204&&ri.getService().fire(tt.Actions.WORKITEM_DELETED,t,{workItemId:n[r]});return i},function(n){t._ongoingDeleteOrRestoreOperationCt--;throw n;})},t.prototype.beginDeleteWorkItemsBatch=function(n,t,i){var r=this;this._beginWorkItemsBatchHelper(n,function(n){return r._beginDeleteWorkItems(n)},t,i)},t.prototype._beginRestoreWorkItems=function(n){var t=this,i=this.tfsConnection.getHttpClient(oi.WorkItemTrackingHttpBatchClient);return this._ongoingDeleteOrRestoreOperationCt++,i.restoreWorkItemsBatch(n).then(function(n){if(t._ongoingDeleteOrRestoreOperationCt--,n.count>0){var i=n.value;i.forEach(function(n){if(n.code===200){var i=JSON.parse(n.body);ri.getService().fire(tt.Actions.WORKITEM_RESTORED,t,{workItemId:i.id})}})}return n},function(n){t._ongoingDeleteOrRestoreOperationCt--;throw n;})},t.prototype.beginRestoreWorkItemsBatch=function(n,t,i){var r=this;this._beginWorkItemsBatchHelper(n,function(n){return r._beginRestoreWorkItems(n)},t,i)},t.prototype._beginDestroyWorkItems=function(n){var t=this,i=this.tfsConnection.getHttpClient(oi.WorkItemTrackingHttpBatchClient);return this._ongoingDeleteOrRestoreOperationCt++,i.destroyWorkItemsBatch(n).then(function(i){var u,r,f,e;if(t._ongoingDeleteOrRestoreOperationCt--,i.count>0)for(u=i.value,r=0,f=u.length;r<f;r++)e=u[r],e.code===204&&ri.getService().fire(tt.Actions.WORKITEM_DESTROYED,t,{workItemId:n[r]});return i},function(n){t._ongoingDeleteOrRestoreOperationCt--;throw n;})},t.prototype.beginDestroyWorkItemsBatch=function(n,t,i){var r=this;this._beginWorkItemsBatchHelper(n,function(n){return r._beginDestroyWorkItems(n)},t,i)},t.prototype.beginSearch=function(n,t,i,r,u){var o=this,f;f={controller:"wit",action:"search",routeData:{project:n?n.guid:""}};(new e.WorkItemStoreLevelWITDataSource).getDataAsync(f,$.extend({searchText:t},u)).then(function(n){var t=n.data;typeof i=="function"&&i.call(o,t)}).catch(r)},t.prototype.beginGetLinkTypes=function(n,t){var i=this,r=function(){n&&n.call(i,i.linkTypes,i.registeredLinkTypes)};hr(this,this,"linkTypes",r,t,function(n,t){i.witDataManager.beginGetLinkTypes().then(function(t){i._bindLinkTypeEnds(t.witLinkTypes);i.registeredLinkTypes=t.registeredLinkTypes.filter(function(n){return k.isLinkFormRegistered(n)});n(t.witLinkTypes)},t)})},t.prototype.getRegisteredLinkTypes=function(){if(this.registeredLinkTypes&&typeof this.registeredLinkTypes!="function")return this.registeredLinkTypes},t.prototype.getLinkTypes=function(){if(this.linkTypes&&typeof this.linkTypes!="function")return this.linkTypes},t.prototype.getLinkTypesMap=function(){for(var n,t={},u=this.getLinkTypes(),i=0,r=u;i<r.length;i++)n=r[i],n.isDirectional&&(t[n.reverseEnd.name]=n),t[n.forwardEnd.name]=n;return t},t.prototype.getLinkTypeEnds=function(){var n=this.linkTypeEnds,u,t,r,i;if(n)return n;for(u=this.getLinkTypes(),n=[],t=0,r=u;t<r.length;t++)i=r[t],n.push(i.forwardEnd),i.isDirectional&&n.push(i.reverseEnd);return this.linkTypeEnds=n,n},t.prototype.findLinkType=function(n){for(var i,u=(""+n).toUpperCase(),f=this.getLinkTypes(),t=0,r=f;t<r.length;t++)if(i=r[t],i.referenceName.toUpperCase()===u)return i;throw su(n);},t.prototype.findLinkTypeEnd=function(n){for(var t,r=(""+n).toUpperCase(),f=this.getLinkTypeEnds(),i=0,u=f;i<u.length;i++)if((t=u[i],t.id===n)||t.name.toUpperCase()===r||t.immutableName.toUpperCase()===r)return t;throw ou(n);},t.prototype.beginGetAllowedValues=function(n,t,i,r,u){var s=this,o=this.getFieldDefinition(n),f=o.id.toString();f=t?f+"|"+t:f;f=i?f+"|"+i:f;hr(this,this.allowedValues,f,r,u,function(n,r){s.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.AllowedValues,null,function(u){var c=$.extend({projectId:t,workItemTypeName:i,fieldRefName:o.referenceName,fieldId:o.id.toString()},u),h={controller:"wit",action:"allowedValues"},l=s.getTfsContext().navigation.collection.instanceId;(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(h,c,l,h.action,f).then(function(t){var i=t.data;n(i)},r)})})},t.prototype.getAllowedValues=function(n,t,i){var r=this;return new Promise(function(u,f){r.beginGetAllowedValues(n,t,i,function(n){u(n)},function(n){f(n)})})},t.prototype.beginGetWorkItemCategories=function(n,t,i){var r=this,u=""+(n?n.id:0);hr(this,this.witCategories,u,t,i,function(t,i){r.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.WorkItemTypeCategories,null,function(r){g.beginGetWorkItemTypeCategories(n.guid,r).then(function(n){t(n)},i)})})},t.prototype.beginGetWorkItemTypeExtension=function(n,t,i){var r=this.workItemTypeExtensions[n];r?t(r):this.beginGetWorkItemTypeExtensions([n],function(n){t(n[0])},i)},t.prototype.beginGetWorkItemTypeExtensions=function(n,t,i){var r=this,o=[],u,s=0,h=0,f=[],c=function(){h===0&&t.call(r,f)},l=function(n){ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST,!0);var t={controller:"wit",action:"workItemTypeExtensions"};(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync(t,{extensionIds:n},r.getTfsContext().navigation.collection.instanceId,t.action,"_").then(function(n){var e,t,u;n.requestHeaders&&ft.PerfScenarioManager.addData((e={},e["".concat(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST,".ETAG")]=n.requestHeaders.getResponseHeader("ETag"),e));ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETTYPEEXTENSIONS_REQUEST,!1);t=n.data;t.forEach(function(n){var t=n.fields.map(function(n){return n.field});r._prepareFields(t,!0)});u=[];t.forEach(function(n){r.workItemTypeExtensions[n.id]=n;n.globals&&(u=u.concat(n.globals))});r.beginEnsureConstantSets(u,function(){f=f.concat(t);h--;c()},i)},i)};if(n&&n.length>0)if(n.forEach(function(n){if(r.workItemTypeExtensions[n])f.push(r.workItemTypeExtensions[n]);else{var t=n.length+15;s+t>1024&&(s=0,u=null);u?u.push(n):(u=[n],o.push(u),h++);s+=t}}),o.length===0)c();else while(o.length>0)l(o.pop());else t.call(this,f)},t.prototype.beginEnsureConstantSets=function(n,t,i){var r=this,h=[],o,y=0,p=0,f=0,w=!1,c,l,k,a,v,d,u;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS,!0);var g=function(n){w||(w=!0,ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS,!1),typeof i=="function"&&i.apply(r,n))},b=function(){f--;!w&&f<=0&&(ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS,!1),typeof t=="function"&&t.apply(r))},nt=function(n){for(var f,t=wr(r,b,g),i=0,u=n;i<u.length;i++)f=u[i],r.constantSets[f]=t.register;r.metadataCacheStampManager.addStampToParams(at.WITCommonConstants.ConstantSets,{ids:n},function(i){var u,f,o,h;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST,!0);u={controller:"wit",action:"constantSets"};f="_";n!=null&&(f=n.sort().reduce(function(n,t){return n+t}));o=new e.WorkItemStoreLevelWITDataSource;h=null;h=o.isDataProviderEnabled(u)?o.getDataProviderDataUsingIndexDB(u,i,r.getTfsContext().navigation.collection.instanceId,at.WITCommonConstants.ConstantSets,f).then(function(n){var e=n.resolvedFromCache,t=n.data,i,u;return t&&!e&&(i=t,u=$.extend(!0,{},i),o.updateIndexDBCache(u,r.getTfsContext().navigation.collection.instanceId,at.WITCommonConstants.ConstantSets,f)),t}):s.getMVCDataAsync(u,i,!1);h.then(function(i){var f,h,e,u,o,s;for(i.requestHeaders&&ft.PerfScenarioManager.addData((f={},f["".concat(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST,".ETAG")]=i.requestHeaders.getResponseHeader("ETag"),f)),ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETCONSTANTSETS_REQUEST,!1),h=i.data,u=0,o=n;u<o.length;u++)s=o[u],e=h[s],bt.flagSorted(e,pt.localeIgnoreCaseComparer),r.constantSets[s]=e;t.finish()},function(i){for(var e,u=0,f=n;u<f.length;u++)e=f[u],delete r.constantSets[e];t.error(i)})})};if(n){for(c=[],l=0,k=n;l<k.length;l++)u=k[l],a=this.constantSets[u],a?typeof a=="function"&&(f++,a(b,g)):c.push(u);for(c.sort(),v=0,d=c;v<d.length;v++)u=d[v],dr.test(u)?(h.push([u]),f++):(p=(u+"").length+5,y+p>1024&&(y=0,o=null),o?o.push(u):(o=[u],h.push(o),f++),y+=p)}while(h.length>0)nt(h.pop());f===0&&b()},t.prototype.invalidateExtensions=function(n){var t=this;Boolean(n)?$.each(n,function(n,i){delete t.workItemTypeExtensions[i]}):this.workItemTypeExtensions={}},t.prototype.getConstantSet=function(n){return this.constantSets[n]},t.prototype.beginPageWorkItems=function(n,t,i,r,u){var s=this,f,o;if(!Array.isArray(n))throw new Error("Invalid argument type: ids must be an array.");if(!Array.isArray(t))throw new Error("Invalid argument type: 'fields' must be an array.");f={workItemIds:n.join(","),fields:t.join(",")};u&&$.extend(f,u);o={controller:"wit",action:"pageWorkItems"};(new e.WorkItemStoreLevelWITDataSource).postDataWithCallback(o,f,function(n){var t=n.data;typeof i=="function"&&i.apply(s,[t])},r)},t.prototype.beginPageWorkItemsByIdRev=function(n,t,i,r,u){var f=this,o={workItemIds:n.join(","),workItemRevisions:t.join(","),fields:i.join(",")};(new e.WorkItemStoreLevelWITDataSource).postDataAsync({controller:"wit",action:"pageWorkItemsByIdRev"},o).then(function(n){var t=n.data;typeof r=="function"&&r.apply(f,[t])}).catch(u)},t.prototype.beginGetWorkItemResources=function(n,t,i){var r={ids:n};(new e.WorkItemStoreLevelWITDataSource).getDataAsync({controller:"wit",action:"ResourceLinks"},r).then(function(n){t(n.data)},i)},t.prototype.beginSaveWorkItems=function(n,t,i,r){r===void 0&&(r=!0);this._beginSaveWorkItemsInternal(n,{},{},t,i,r)},t.prototype._beginSaveWorkItemsInternal=function(n,t,i,r,u,f){var b=this,o,l,h,a,d,g,w,nt,s,c,it,rt,ut;f===void 0&&(f=!0);h=[];a={};gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.start");var k=function(n,t){for(var r,f,u=0,e=n;u<e.length;u++)r=e[u],f=a[r.id]?a[r.id]:a[r.tempId],f&&i[r.id]&&$.extend(f.changedFields,i[r.id]),r._setSavingStatus(t,f),r._setValidatingStatus(!1)},v=function(){try{if(l)l=kr(h),gi(l,u,b);else if(typeof r=="function"){gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.complete");gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.completedCallback.start");var t={workItems:n};r.call(b,t);gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItems.completedCallback.complete")}}finally{k(o,!1)}},y=function(n,t){l=new Error(t.message);f&&n.setError(l);h.push({workItem:n,error:t})},p=function(){var n,i,u,t,r,f;if(o&&o.length===h.length){for(n=0,i=o;n<i.length;n++)for(u=i[n],t=0,r=u.allLinks;t<r.length;t++)f=r[t],f.setState(!0);v()}},et=function(n,t){var i={},f,r,u;for(f in t)t.hasOwnProperty(f)&&(r=Number(f),u=n.fieldMapById[r],u&&(i[u.fieldDefinition.referenceName]=u,r===at.CoreField.IterationId?i[at.CoreFieldRefNames.IterationPath]=n.fieldMapById[at.CoreField.IterationPath]:r===at.CoreField.AreaId&&(i[at.CoreFieldRefNames.AreaPath]=n.fieldMapById[at.CoreField.AreaPath])));return i},ot=function(n,i){for(var u,f,s,r,e=[],o=0,h=i.deletedLinks;o<h.length;o++)u=h[o],u instanceof wi&&e.push({command:"remove",sourceId:n.id,targetId:u.getTargetId(),linkData:u.linkData});for(f=0,s=i.addedLinks;f<s.length;f++)r=s[f],r instanceof wi&&(t.hasOwnProperty(r.getTargetId())&&(r.linkData.ID=t[r.getTargetId()]),e.push({command:"add",sourceId:n.id,targetId:r.getTargetId(),linkData:r.linkData}));return{typeChanged:n.hasWorkItemTypeChanged(),projectChanged:n.hasTeamProjectChanged(),changedFields:et(n,i.payload.fields),changedWorkItemLinks:e,firstSave:n.id==0}};if(n&&n.length>0){for(d=[],g=[],o=[],w=0,nt=n.length;w<nt;w++)s=n[w],s.fireWorkItemPreSave(),s.isDirty()&&(c=s.getUpdateData(),c&&c.payload&&(g.push(c),d.push(c.payload),it=s.id>0?s.id:s.tempId,a[it]=ot(s,c),o.push(s)));if(o.length>0){k(o,!0);try{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_UPDATE_AJAX,!0);rt={controller:"wit",action:"updateWorkItems"};ut={updatePackage:yt.stringifyMSJSON(d)};(new e.WorkItemStoreLevelWITDataSource).postDataWithCallback(rt,ut,function(n){var i=n.data,r;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_UPDATE_AJAX,!1);i.length===o.length?(r=!1,$.each(i,function(n,t){if(t.state!==tt.WorkItemUpdateResultState.Success)return r=!0,!1}),$.each(o,function(n,u){var f=i[n];f.state!==tt.WorkItemUpdateResultState.Success||r?f.state!==tt.WorkItemUpdateResultState.Success?(y(u,f.error),p()):(h.push({workItem:u}),p()):b.beginGetWorkItemTypeExtensions(f.currentExtensions,function(i){u._takeUpdateResult(f,g[n],i);h.push({workItem:u});t[u.tempId]=u.id;p()},function(n){y(u,n);p()})})):($.each(o,function(n,t){y(t,{message:"Server data does not match with what client sent."})}),v())},function(n){ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_UPDATE_AJAX,!1);$.each(o,function(t,i){y(i,n)});v()})}catch(st){k(o,!1);throw st;}}else v()}else v()},t.prototype.saveWorkItemsBatchAsync=function(n){var t=this;return new Promise(function(i,r){t.beginSaveWorkItemsBatch(n,function(n){return i(n)},function(n){return r(n)})})},t.prototype.beginSaveWorkItemsBatch=function(n,t,i,r){function c(){var s,v;f.length>0?(s=f.pop(),s.length>tt.PageSizes.SAVE&&(f.push(s.slice(tt.PageSizes.SAVE)),s=s.slice(0,tt.PageSizes.SAVE)),u._beginSaveWorkItemsInternal(s,a,h,function(){$.each(s,function(n,t){e.push({workItem:t})});r&&r.call(u,s.length);yt.delay(u,0,c)},function(t){function p(n){if(a===0){if(s.length===1&&n)f.push(s);else if(s.length>1){var i=s.length/2;f.push(s.slice(i));f.push(s.slice(0,i))}else e.push(t.results[0]);yt.delay(u,0,c)}}function g(n,t){a-=1;h[n.id]=$.extend(t,h[n.id]);p(!0)}function nt(){a-=1;o=!0;p(!1)}var a=0,b=!1,k=!1,d,v,w,r,y;if(t&&t.name===tt.Exceptions.WorkItemBulkSaveException){for(d=t.results,v=0,w=d;v<w.length;v++)r=w[v],y=r.workItem,r.error&&(r.error.errorCode===cr.WorkItemMissingOrUpdated||r.error.errorCode===cr.ResourceLinkNotFoundException)&&!l.hasOwnProperty(y.id.toString())?(b=!0,l[y.id]=!0,a+=1,u._beginTryMergeWorkItem(y,g,nt)):k=!0;!b&&k&&(o=!0);p(!1)}else $.each(n,function(n,i){i.setError(t)}),gi(t,i,u)},!1)):o?($.each(e,function(){this.error&&this.workItem.setError(this.error)}),gi(kr(e),i,u)):(gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.complete"),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.completedCallback.start"),typeof t=="function"&&(v={workItems:n},t.call(u,v)),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.completedCallback.complete"))}var u=this,s=[],f=[],h={},e=[],o=!1,l={},a={};gt.logTracePoint("VSS.WorkItemTracking.WorkItemStore.beginSaveWorkItemsBatch.start");$.each(n,function(n,t){t.isValid()?s.push(t):(o=!0,e.push({workItem:t,error:hu(t)}))});s.length>0&&f.push(s);c()},t.prototype._prepareFields=function(n,t){var f,i,r,u,e;if(t&&this.fields||(this.fields=[],this.fieldMap={},this.fieldMapById={}),n){for(ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETFIELDS_PROCESS,!0),f=function(n){var t=new er(i,n),u=!0,r;i.fieldMapById[t.id]||(u=!1);i.fieldMapById[t.id]=t;i.fieldMap[t.name.toUpperCase()]=t;i.fieldMap[t.referenceName.toUpperCase()]=t;u?(r=-1,$.each(i.fields,function(n,i){if(i.id===t.id)return r=n,!1}),r!==-1?i.fields[r]=t:i.fields.push(t)):i.fields.push(t)},i=this,r=0,u=n;r<u.length;r++)e=u[r],f(e);ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_GETFIELDS_PROCESS,!1)}return this.fields},t.prototype._reduceTagWorkitemAssociation=function(n){var t={},r={},i,u;return $.each(n,function(n,f){i=r[f.tagDefinition.name.toUpperCase()];i==null?(t[f.tagDefinition.name]=f.workitemIds,r[f.tagDefinition.name.toUpperCase()]=f.tagDefinition.name):(u=t[i],t[i]=bt.union(u,f.workitemIds))}),t},t.prototype._beginTryMergeWorkItem=function(n,t,i){var u=this,r;r={};gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.start");this.beginGetWorkItemData([n.id],function(f){var o,e;if(u._hasConflicts(n,f,r)){i(n);return}o=u._getChangedFieldsForMerge(n,f);u._mergeWorkItem(n,f,r);n.evaluate();for(e in r)r.hasOwnProperty(e)&&n.setFieldValue(e,r[e]);n.isValid()?(gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.complete"),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.completedCallback.start"),t(n,o),gt.logTracePoint("TFS.WorkItemTracking.WorkItemStore._beginTryMergeWorkItem.completedCallback.complete")):i(n)},function(){i(n)},!1,!0)},t.prototype._getChangedFieldsForMerge=function(n,t){var u,f,r,i,e,o;u={};f=t.fields;for(r in f)f.hasOwnProperty(r)&&(i=n.getField(r),i&&(e=i.getValue(!0),o=yi.convertValueToExternal(n.store,t.fields[r],i.fieldDefinition.type),yi.compareValues(e,o,!1)||(u[i.fieldDefinition.referenceName]=i)));return u},t.prototype._hasConflicts=function(n,t,i){var c,e,u,o,f,s,h,r;s=n.getFieldUpdates();for(h in s)if(s.hasOwnProperty(h)&&(r=Number(h),u=n.getField(r),u&&(c=u.getValue(!0),e=yi.convertValueToExternal(n.store,t.fields[r],u.fieldDefinition.type),u.isUserChange())))if(o=u.getValue(),r==at.CoreField.History||yi.compareValues(c,e,!1))i[r]=o,r===at.CoreField.IterationId?(f=n.getField(at.CoreField.IterationPath),i[at.CoreField.IterationPath]=f.getValue()):r===at.CoreField.AreaId&&(f=n.getField(at.CoreField.AreaPath),i[at.CoreField.AreaPath]=f.getValue());else if(!yi.compareValues(o,e,!1))return!0;return!1},t.prototype._mergeWorkItem=function(n,t,i){var u,r;u=n.getLinkUpdates();n._load(t,!0);for(r in i)i.hasOwnProperty(r)&&n._setFieldValueById(Number(r),i[r],!1);n._restoreLinkUpdates(u)},t.prototype._bindLinkTypeEnds=function(n){for(var i,t,r=0,u=n;r<u.length;r++)i=u[r],t=i.forwardEnd,t&&(t.linkType=i,t.oppositeEnd=i.reverseEnd),t=i.reverseEnd,t&&(t.linkType=i,t.oppositeEnd=i.forwardEnd)},t.ServiceLifetime=li.ServiceLifetime.ClearOnFPS,t.FutureDate=new Date(2533707648e5),t.LayoutUserSettingsKey="workItemTracking.LayoutUserSettings",t}(ui.TfsService);t.WorkItemStore=pi;fr=function(){function n(n,t){var o,f,s,r,e;this.project=n;this.store=n.store;this.id=t.id;this.name=t.name;this.referenceName=t.referenceName;this.dependentFieldsMapByReferenceName={};this._httpClient=this.store.tfsConnection.getHttpClient(ei.WorkItemTrackingHttpClient);o=t.fields;this.form=t.rules.form;this.processId=t.rules.processId;this.triggerList=t.rules.triggerList;this.transitions=t.rules.transitions;f=t.rules.fieldRules;s=t.rules.fieldHelpTexts;this.orderedStates=t.orderedStates;this.color=t.color;this._parseStateColors(t.rules.stateColors);var h=this.fieldMap={},l=this.fieldMapById={},c=this.fields=[],a=this.store.fieldMap,v=this.store.fieldMapById;for(r=0,e=o;r<e.length;r++){var u=e[r],y=v[u]||a[u],i=new er(this,y,f&&f[u],s[u]||"");l[i.id]=i;h[i.name.toUpperCase()]=i;h[i.referenceName.toUpperCase()]=i;c[c.length]=i}}return n.prototype.path=function(){return this.project.path()+"/wit/"+this.name},n.prototype.create=function(n,t){return new or(this,n,t)},n.prototype.getFieldDefinition=function(n){var t=(""+n).toUpperCase();return this.fieldMapById[t]||this.fieldMap[t]},n.prototype.getTriggerList=function(){var t=this,n=[];return this.triggerList&&$.each(this.triggerList,function(i,r){t.getFieldDefinition(r)&&n.push(r)}),n},n.prototype.getInitialState=function(){var n;return this.transitions&&this.transitions[""]&&(n=this.transitions[""][0]),n||""},n.prototype.getRestUrl=function(){if(!this.restUrl){var n=this.store.getTfsContext(),t=n.navigation.publicAccessPoint.scheme+"://"+n.navigation.publicAccessPoint.authority+n.getServiceHostUrl();return pt.format("{0}{1}/_apis/wit/workItemTypes/{2}",t,this.project.guid,this.name)}return this.restUrl},n.prototype.beginGetDependentFields=function(n,t,i){var r=this,u=this.getFieldDefinition(n);if(!u){typeof i=="function"&&i.apply(this,{message:pt.format("Field {0} doesn't exist in work item type {1}",n,this.name)});return}hr(this,this.dependentFieldsMapByReferenceName,u.referenceName,t,i,function(n,t){r._httpClient.beginGetWorkItemTypeFields(r.project.guid,r.name,u.referenceName).then(function(t){var i=$.map(t.dependentFields||[],function(n){return r.getFieldDefinition(n.referenceName)});r.restUrl=t._links.parent.href;n(i)},t)})},n.prototype._parseStateColors=function(n){var t=this;n&&(this.stateColors={},$.each(n,function(n,i){t.stateColors[i.name]="#"+i.color}))},n}();t.WorkItemType=fr;i.initClassPrototype(fr,{project:null,store:null,id:null,name:null,fields:null,fieldMap:null,fieldMapById:null,form:null,triggerList:null});er=function(){function n(n,t,i,r){n instanceof pi?this.store=n:(this.workItemType=n,this.store=n.store);this.id=t.id;this.name=t.name;this.referenceName=t.referenceName;this.flags=t.flags;this.type=t.type;this.usages=t.usages;this.rules=i;this.helpText=r||"";this.isIdentity=t.isIdentity;this.isHistoryEnabled=t.isHistoryEnabled}return n.prototype.checkFlag=function(n){return(this.flags&+n)!==tt.FieldFlags.None},n.prototype.canSortBy=function(){return this.checkFlag(tt.FieldFlags.Sortable)},n.prototype.isQueryable=function(){return this.checkFlag(tt.FieldFlags.Queryable)},n.prototype.isIgnored=function(){return pt.equals(this.referenceName,at.CoreFieldRefNames.AreaId,!0)||pt.equals(this.referenceName,at.CoreFieldRefNames.IterationId,!0)?!0:this.checkFlag(tt.FieldFlags.Ignored)},n.prototype.isCloneable=function(){return this.checkFlag(tt.FieldFlags.Cloneable)},n.prototype.isComputed=function(){return this.checkFlag(tt.FieldFlags.Computed)},n.prototype.supportsTextQuery=function(){return this.checkFlag(tt.FieldFlags.SupportsTextQuery)},n.prototype.isEditable=function(){switch(this.id){case at.CoreField.AreaPath:case at.CoreField.IterationPath:return!0;case at.CoreField.Id:case at.CoreField.Rev:case at.CoreField.WorkItemType:case at.CoreField.CreatedBy:case at.CoreField.IsDeleted:return!1}return!this.isComputed()},n.prototype.isCoreField=function(){return this.referenceName.toLowerCase().indexOf("system.")===0},n.prototype.isoobfield=function(){return this.referenceName.toLowerCase().indexOf("microsoft.vsts.")===0},n.prototype.isCustomField=function(){return!this.isCoreField()&&!this.isoobfield()},n}();t.FieldDefinition=er;i.initClassPrototype(er,{store:null,workItemType:null,id:null,name:null,referenceName:null,type:null,usages:tt.FieldUsages.None,flags:tt.FieldFlags.None,rules:null,helpText:""});or=function(){function n(n,t,i){this._isCommentDirty=!1;this._saving=!1;this._isChangeProjectInProgress=!1;this.id=0;this.tempId=0;this.revision=0;this.workItemType=n;this._originalWorkItemType=this.workItemType;this.store=n.store;this.project=n.project;this.extensions=i||[];this._originalExtensions=this.extensions;this._httpClient=this.store.tfsConnection.getHttpClient(ei.WorkItemTrackingHttpClient);this.events=new ii.NamedEventCollection;this._eventsEnabled=!1;this._initializeFields();this._defineExtensionFields();this._load(t,!1);this._eventsEnabled=!0;this.relatedData={};this.extensionIds=[];this._contributionErrorMap={};this.sessionId=pt.generateUID()}return n.getTempId=function(){return--n.tempIdSeed},n.getTempIdSeed=function(){return n.tempIdSeed},n.reserveTempId=function(t){n.tempIdSeed>t&&(n.tempIdSeed=t)},n.getResourceUrl=function(n,t){var i=n.navigation.publicAccessPoint.scheme+"://"+n.navigation.publicAccessPoint.authority+n.getServiceHostUrl();return pt.format("{0}_apis/wit/workItems/{1}",i,t)},n.prototype._initializeFields=function(){this.fields=[];this.fieldMap={};this.fieldMapById={};this._fieldValidationMap={};this._defineWorkItemTypeFields()},n.prototype.setContributionErrorStatus=function(n,t,i){if(t&&this._contributionErrorMap.hasOwnProperty(n))delete this._contributionErrorMap[n],this.fireWorkItemErrorChanged();else if(!t){var r=this._contributionErrorMap[n];this._contributionErrorMap[n]=i||"";r!==this._contributionErrorMap[n]&&this.fireWorkItemErrorChanged()}},n.prototype.resetContributionErrorStatuses=function(){this._contributionErrorMap&&Object.keys(this._contributionErrorMap).length>0&&(this._contributionErrorMap={},this.fireWorkItemErrorChanged())},n.prototype.hasAttachmentsPendingUpload=function(){var n=!1;return this.allLinks.some(function(t){return t instanceof rr&&t.getPlaceholderStatus()&&(n=!0),n})},n.prototype.isReset=function(){return this._isReset},n.prototype.getWorkItemContract=function(){var i=this,t;return this.isNew()?null:(t={},this.fields.forEach(function(n){t[n.fieldDefinition.referenceName]=i.getFieldValue(n.fieldDefinition.referenceName)}),{id:this.id,rev:this.revision,relations:null,fields:t,_links:null,url:n.getResourceUrl(this.store.getTfsContext(),this.id)})},n.prototype.getWorkItemRelations=function(){var n=this.allLinks,t=n.filter(function(n){return!n.isRemoved()&&n.linkData.FldID!==at.DalFields.AttachedFiles});return t.map(function(n){return{attributes:n.getAttributes(),rel:n.getRelationLinkType(),url:n.getLinkUrl()}})},n.prototype.doesLinkAlreadyExist=function(n){for(var u,i=!1,t=0,r=this.allLinks;t<r.length;t++)if(u=r[t],i=u.isDuplicate(n),i)return!0;return!1},n.prototype.changeWorkItemType=function(n,t,i){var r,f,e,u,o,h,s;if(!this.isReadOnly()&&this.workItemType!==n){for(r=n.project!==this.project,this._isChangeProjectInProgress=r,i||(r?this.fireWorkItemProjectChanging():this.fireWorkItemTypeChanging()),f=this.workItemType,e=this._getFieldChangeOnBugTypeChanged(f,n),this.workItemType=n,this.ruleEngine=null,this._initializeFields(),u=0,o=Object.keys(this._fieldData);u<o.length;u++)h=o[u],this._defineField(h);if(this.extensions=t||[],this._defineExtensionFields(),this._setProject(n.project),!pt.equals(n.name,f.name)){this.setFieldValue(at.CoreField.WorkItemType,n.name);for(s in e)this.setFieldValue(s,e[s])}this.evaluate();this._isChangeProjectInProgress=!1;i||(r?this.fireWorkItemProjectChanged():this.fireWorkItemTypeChanged())}},n.prototype.isChangeProjectInProgress=function(){return this._isChangeProjectInProgress},n.prototype._getFieldChangeOnBugTypeChanged=function(n,t){var f={},u="<b><u><br/><br/>".concat(pt.format(ni.WorkItemChangedReproDescriptionMessage,this.getField(this._isBugTypeChange(n)?tt.BugWITFieldReferenceNames.ReproSteps:at.CoreFieldRefNames.Description).fieldDefinition.name,n.name,t.name),"<\/u><\/b><br/>"),i,e,r,o;return this._isBugTypeChange(n)?(i=this.getFieldValue(tt.BugWITFieldReferenceNames.ReproSteps),e=this.getFieldValue(at.CoreFieldRefNames.Description),i&&!ct.WorkItemRichTextHelper.isHtmlVisuallyBlank(i)&&(f[at.CoreFieldRefNames.Description]=e?e+u+i:u+i)):this._isBugTypeChange(t)&&(r=this.getFieldValue(at.CoreFieldRefNames.Description),o=this.getFieldValue(tt.BugWITFieldReferenceNames.ReproSteps),r&&!ct.WorkItemRichTextHelper.isHtmlVisuallyBlank(r)&&(f[tt.BugWITFieldReferenceNames.ReproSteps]=o?o+u+r:u+r)),f},n.prototype._isBugTypeChange=function(n){return n.fields?n.fields.some(function(n){return pt.equals(n.referenceName,tt.BugWITFieldReferenceNames.ReproSteps,!0)}):!1},n.prototype.getOriginalWorkItemType=function(){return this._originalWorkItemType},n.prototype._setProject=function(n){this.isReadOnly()||this.project!==n&&(this.project=n,this._setFieldValueById(at.CoreField.TeamProject,n.name))},n.prototype._defineField=function(n){var t,i;this.fieldMap.hasOwnProperty((""+n).toUpperCase())||(t=this.workItemType.getFieldDefinition(n),t||(t=this.store.getFieldDefinition(n)),t&&!Boolean(this.fieldMapById[t.id+""])&&(i=new yi(this,t),this.fieldMap[t.referenceName.toUpperCase()]=i,this.fieldMap[t.name.toUpperCase()]=i,this.fieldMapById[t.id+""]=i,this.fields.push(i)))},n.prototype._defineWorkItemTypeFields=function(){var n=this;$.each(this.workItemType.fields,function(t,i){n._defineField(i.referenceName)})},n.prototype._defineExtensionFields=function(){var n=this;this.extensions&&$.each(this.extensions,function(t,i){i.markerField&&n._defineField(i.markerField.field.referenceName);i.fields&&$.each(i.fields,function(t,i){n._defineField(i.field.referenceName)})})},n.prototype.discardIfNew=function(){this.isNew()&&(this.fireWorkItemDiscarded(),ri.getService().fire(tt.Actions.WORKITEM_DISCARDED,this))},n.prototype.isNew=function(){return+this.id<1},n.prototype.isDeleted=function(){return this.getFieldValue(at.CoreFieldRefNames.IsDeleted)},n.prototype.resetManualFieldChanges=function(){this.manuallySetFields={}},n.prototype.setExtensions=function(n){this.extensions=n||[];this._originalExtensions=this.extensions;this._defineExtensionFields();this.ruleEngine=null},n.prototype.isDirty=function(n,t){var f,r,u,i;if(this.isReadOnly()||this.isDeleted())return!1;if(this._fieldsDirty(n,t))return!0;for(f=this.allLinks,r=0,u=f;r<u.length;r++)if((i=u[r],!i.isRemoved())&&(!i.isNew()||!(i instanceof wi)||!i.linkData.isAddedBySystem)&&(i.deleted!==i.isNew()||i.updated))return!0;return!1},n.prototype.isValid=function(){var n=this.getInvalidFields(!0);return(!n||n.length===0)&&Object.keys(this._contributionErrorMap).length===0},n.prototype.isReadOnly=function(){return this._isReadOnly||this.isDeleted()},n.prototype.isCommentingAvailable=function(){return!this.isDeleted()&&this._isCommentingAvailable},n.prototype.isExtensionField=function(n){return(n.usages&tt.FieldUsages.WorkItemTypeExtension)===tt.FieldUsages.WorkItemTypeExtension},n.prototype.getRevisions=function(){return this._revisions},n.prototype.getUniqueId=function(){return this.id||this.tempId},n.prototype.setError=function(n){this._error=n;this.fireWorkItemErrorChanged()},n.prototype.clearError=function(){this._error&&(this._error=null,this.fireWorkItemErrorChanged())},n.prototype.getError=function(){return this._error},n.prototype.hasError=function(){return this._error?!0:!1},n.prototype.getInvalidFields=function(n){for(var i,r=[],f=this.fields,t=0,u=f;t<u.length;t++)if(i=u[t],!i.isValid()&&(r.push(i),n))break;return r},n.prototype.getDirtyFields=function(n){for(var t,u,i=[],r=0,f=this.fields;r<f.length;r++)t=f[r],u=t.fieldDefinition.id.toString(),n&&this.manuallySetFields&&this.manuallySetFields.hasOwnProperty(u)?i.push(t):!n&&this.fieldUpdates&&this.fieldUpdates.hasOwnProperty(u)&&i.push(t);return i},n.prototype.isFieldDirty=function(n){var t=this.getField(n);return t&&t.isDirty()},n.prototype.setFieldValue=function(n,t,i,r){if(this.isReadOnly())return!1;var u=this.getField(n);return u?(u.setValue(t,!1,r,i),!0):!1},n.prototype.setIsCommentDirty=function(n){this._isCommentDirty=n},n.prototype.getIsCommentDirty=function(){return this._isCommentDirty},n.prototype.getFieldValue=function(n,t,i){var r=this.getField(n);if(r)return r.getValue(t,i)},n.prototype.getIdentityFieldValue=function(n,t,i){var r=this.getField(n);if(r)return r.getIdentityValue(t,i)},n.prototype.getFriendlyFieldValue=function(n,t,i){var r=this.getField(n);if(r)return r.getFriendlyValue(t,i)},n.prototype._getFieldValueById=function(n,t,i,r){var o=this.fieldUpdates,f,e;switch(n){case at.CoreField.AttachedFileCount:return this._getLinkCount(rr,t);case at.CoreField.ExternalLinkCount:return this._getLinkCount(ir,t);case at.CoreField.HyperLinkCount:return this._getLinkCount(lr,t);case at.CoreField.RelatedLinkCount:return this._getLinkCount(wi,t);case at.CoreField.Parent:return this._getParentLinkId(t);case at.CoreField.CommentCount:return this._getCommentCount(t);case at.CoreField.TeamProject:if(this.isNew()&&this.project)return this.project.name}return(f=n+"",!t&&o.hasOwnProperty(f)&&(e=o[f],!e.setByRule||!i))?ht.convertPotentialIdentityRefFromFieldValue(e.value,r):n===at.CoreField.History&&!y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.GetWorkItemHistoryFieldValue)?"":ht.convertPotentialIdentityRefFromFieldValue(this._fieldData[f],r)},n.prototype._setFieldValueById=function(n,t,i,r){var s=this.isReadOnly(),f=n===at.CoreField.History,c,o,l,a;if(r==!0&&(s=!f&&this.isReadOnly()),!s){switch(n){case at.CoreField.AttachedFileCount:case at.CoreField.ExternalLinkCount:case at.CoreField.HyperLinkCount:case at.CoreField.RelatedLinkCount:case at.CoreField.Parent:case at.CoreField.CommentCount:return;case at.CoreField.AreaId:case at.CoreField.IterationId:if(!this.project.nodesCacheManager.getReferencedNode(t))throw new Error("Invalid node id.");}var u=n+"",e=this.getField(n),h=!1;e&&e.fieldDefinition&&(h=e.fieldDefinition.isIdentity);c=this._fieldData[u];!i&&this.manuallySetFields&&(this.manuallySetFields[u]=t);o=f&&!yi.compareValues("",t);l=!f&&!yi.compareValues(c,t,undefined,h);o||l?(this.fieldUpdates[u]={value:t,setByRule:i},o&&(a=this.getFieldValue(at.CoreField.CommentCount),this.evaluateField(at.CoreField.CommentCount,!0,a))):(delete this.fieldUpdates[u],this.manuallySetFields&&delete this.manuallySetFields[u])}},n.prototype.getFieldValueByRevision=function(n,t){var i=this._revisions,u=n+"",f,e,o,r;if(t<0)return null;if(n===at.CoreField.History)return t<i.length?i[t][u]:this._fieldData[u];if(f=this.getComputedFieldValue(n,t),f&&f.success)return f.value;for(e=void 0,o=!1,r=t;r<i.length;r++)if(i[r].hasOwnProperty(u)){e=ht.convertPotentialIdentityRefFromFieldValue(i[r][u]);o=!0;break}return o||(e=this._getFieldValueById(n,!0)),e},n.prototype.getNonComputedFieldValueByRevisionWithDefaultValue=function(n,t,i,r){if(t<0)return null;var u=this._revisions[t],f=n+"";return u&&u.hasOwnProperty(f)?ht.convertPotentialIdentityRefFromFieldValue(u[f],r):i===undefined||t>=this._revisions.length?this._getFieldValueById(n,!0,!1,r):i},n.prototype.getComputedFieldValue=function(n,t){var u=n+"",i,r;if(t>=0&&(n===at.CoreField.TeamProject||n===at.CoreField.IterationPath||n===at.CoreField.AreaPath)&&(i=this._revisions[t],i&&i.hasOwnProperty(u)&&(r=i[u],r)))return{success:!0,value:r};switch(n){case at.CoreField.TeamProject:return this._getFieldValueById(n,!0);case at.CoreField.NodeName:return this.computeFieldValue(at.CoreField.NodeName,at.CoreField.AreaId,t);case at.CoreField.IterationPath:return this.computeFieldValue(at.CoreField.IterationPath,at.CoreField.IterationId,t);case at.CoreField.AreaPath:return this.computeFieldValue(at.CoreField.AreaPath,at.CoreField.AreaId,t);default:return null}},n.prototype.isSaving=function(){return this._saving},n.prototype.isValidating=function(n){if(n)return this._fieldValidationMap[n.toString()]||!1;for(var t in this._fieldValidationMap)if(this._fieldValidationMap[t])return!0;return!1},n.prototype.getTitle=function(){return this._getFieldValueById(at.CoreField.Title)||""},n.prototype.getCaption=function(n,t){var i,r;return this.isNew()?(r=t?"":-this.tempId,i=pt.format(ni.WorkItemEditorCaptionNew,this.workItemType.name,r)):i=pt.format(ni.WorkItemEditorCaption,this.workItemType.name,this.id),n&&this.isDirty(!0)&&(i=pt.format(ni.WorkItemEditorDirtyCaption,i)),i},n.prototype.getInfoText=function(){var n={},t=this.getInvalidFields(!0);return t&&t.length>0?(n.text=t[0].getErrorText(),n.invalid=!0):this.hasError()?(this._error.fieldReferenceName&&!this.fieldMap[this._error.fieldReferenceName.toUpperCase()]?(n.text=ni.BrowserRefreshRequired,hi.publishEvent(new hi.TelemetryEventData(ot.WIFormCIDataHelper.getArea(),"WorkItem.BrowserRefreshRequired",{fieldReferenceName:this._error.fieldReferenceName}))):n.text=tu(this.getError()),n.invalid=!0):Object.keys(this._contributionErrorMap).length>0?(n.invalid=!0,n.text=this._contributionErrorMap[Object.keys(this._contributionErrorMap)[0]]||""):n.text=this.getTitle(),n},n.prototype.getState=function(){return this._getFieldValueById(at.CoreField.State)||""},n.prototype.getPerson=function(n){return this.referencedPersons[n]||this.store.getCurrentUser()},n.prototype.getIdentity=function(n){return ht.isWorkItemIdentityRef(n)?n.identityRef:ht.createIdentityRefFromDistinctDisplayName(n)},n.prototype.updateCachedIdOnSave=function(){ri.getService().fire(tt.Actions.WORKITEM_ID_UPDATED,this)},n.prototype.attachEvent=function(n,t){this.events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this.events.unsubscribe(n,t)},n.prototype.fireEvent=function(n,t){this._eventsEnabled&&this.events.invokeHandlers(n,this,t)},n.prototype.attachWorkItemChanged=function(n){this.attachEvent("workitem-changed",n)},n.prototype.detachWorkItemChanged=function(n){this.detachEvent("workitem-changed",n)},n.prototype.fireWorkItemChanged=function(n){n&&n.change!==tt.WorkItemChangeType.ErrorChanged&&n.change!==tt.WorkItemChangeType.SaveCompleted&&this.clearError();this.fireEvent("workitem-changed",n)},n.prototype.fireWorkItemPreSave=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.PreSave},n))},n.prototype.fireWorkItemSaved=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Saved},n))},n.prototype.fireWorkItemSaving=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Saving},n))},n.prototype.fireWorkItemValidating=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Validating},n))},n.prototype.fireWorkItemValidationComplete=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ValidationCompleted},n))},n.prototype.fireWorkItemRefresh=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Refresh},n))},n.prototype.fireWorkItemReset=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Reset},n))},n.prototype.fireWorkItemDiscarded=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Discarded},n))},n.prototype.fireWorkItemSaveComplete=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.SaveCompleted},n))},n.prototype.fireWorkItemDeleted=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.Deleted},n))},n.prototype.fireWorkItemTypeChanging=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.TypeChanging},n))},n.prototype.fireWorkItemTypeChanged=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.TypeChanged},n))},n.prototype.fireWorkItemProjectChanging=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ProjectChanging},n))},n.prototype.fireWorkItemProjectChanged=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ProjectChanged},n))},n.prototype.fireWorkItemErrorChanged=function(t){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.ErrorChanged},t));this.hasError()&&this._error.fieldReferenceName?this.fireEvent("field-error:"+this._error.fieldReferenceName):this.fireEvent(n.FIELD_ERRORS_CLEARED)},n.prototype.fireWorkItemLinksUpdatedByOtherWorkItem=function(n){this.fireWorkItemChanged($.extend({workItem:this,change:tt.WorkItemChangeType.WorkItemLinkChangedOutside},n))},n.prototype.fireFieldAllowedValuesChange=function(n){var i=this.getField(n),t={};t[n]=i;this.fireWorkItemChanged({workItem:this,change:tt.WorkItemChangeType.FieldAllowedValuesChange,changedFields:t})},n.prototype.fireFieldChange=function(t){var h=this,r={},f,e,o,s,i,u;if(this._eventsEnabled&&t){for(f=0,e=t;f<e.length;f++)i=e[f],r.hasOwnProperty(i)||(u=this.getField(i),u?(o=u.fieldDefinition.id,s=n.FIELD_ID_TO_DEPENDENT_ID_MAP[o],r[o]=u,s&&s.forEach(function(n){var t=h.getField(n);t&&(r[n]=t)})):r[i]=null);t=[];for(i in r)r.hasOwnProperty(i)&&(u=r[i],t[t.length]=i,this.fireEvent("field-change:"+i,u))}this.fireWorkItemChanged({workItem:this,change:tt.WorkItemChangeType.FieldChange,changedFields:r})},n.prototype.attachFieldChange=function(n,t){var i=this.getField(n);i?this.attachEvent("field-change:"+i.fieldDefinition.id,t):this.attachEvent("field-change:"+n,t)},n.prototype.detachFieldChange=function(n,t){var i=this.getField(n);i?this.detachEvent("field-change:"+i.fieldDefinition.id,t):this.detachEvent("field-change:"+n,t)},n.prototype.getField=function(n){var t=(""+n).toUpperCase();return this.fieldMapById[t]||this.fieldMap[t]},n.prototype.computeFieldValue=function(n,t,i){function e(n){var t,i;f&&(t=c.project.nodesCacheManager.getReferencedNode(f),t&&(i=void 0,i=t.path?ut.NodeHelpers.getReferencedNodeSegmenets(t.path):ut.NodeHelpers.getNodeSegments(t),u.value=i[n],u.success=!0))}var c=this,o,f,u={success:!1},s,h,r;o=n instanceof yi?n.fieldDefinition.id:n;f=i>=0?this.getFieldValueByRevision(t,i):this._getFieldValueById(t);switch(o){case at.CoreField.AreaId:case at.CoreField.IterationId:f&&(r=this.project.nodesCacheManager.getReferencedNode({path:f,nodeType:o===at.CoreField.AreaId?1:2}),r&&(u.value=r.id,u.success=!0));break;case at.DalFields.AreaLevel1:case at.DalFields.IterationLevel1:e(0);break;case at.DalFields.AreaLevel2:case at.DalFields.IterationLevel2:e(2);break;case at.DalFields.AreaLevel3:case at.DalFields.IterationLevel3:e(3);break;case at.DalFields.AreaLevel4:case at.DalFields.IterationLevel4:e(4);break;case at.DalFields.AreaLevel5:case at.DalFields.IterationLevel5:e(5);break;case at.DalFields.AreaLevel6:case at.DalFields.IterationLevel6:e(6);break;case at.DalFields.AreaLevel7:case at.DalFields.IterationLevel7:e(7);break;case at.CoreField.AreaPath:case at.CoreField.IterationPath:if(f){if(r=this.project.nodesCacheManager.getReferencedNode(f),!r&&(s=this.getFieldValueByRevision(at.CoreField.TeamProject,i),s))try{h=this.store.getProject(s);h.nodesCacheManager.isNodesCacheAvailable()&&(r=h.nodesCacheManager.findNodeById(f))}catch(l){}r?(u.value=r.path||ut.NodeHelpers.getPath(r,1),u.success=!0):(u.value=o===at.CoreField.AreaPath?ni.DeletedAreaPath:ni.DeletedIterationPath,u.success=!0)}break;case at.CoreField.NodeName:f&&(r=this.project.nodesCacheManager.getReferencedNode(f),r&&(u.value=r.name,u.success=!0))}return u},n.prototype.beginSilentSave=function(){var i=this,t,n;return this.isReadOnly()?ci.reject(new Error(ni.WorkItemIsReadOnlyError)):(t=this._eventsEnabled,this._eventsEnabled=!1,n=ci.defer(),this.beginSave(function(){i._eventsEnabled=t;n.resolve(null)},function(r){i._eventsEnabled=t;n.reject(r)}),n.promise)},n.prototype.saveAsync=function(){var n=this;return new Promise(function(t,i){return n.beginSave(function(n){return t(n)},function(n){return i(n)})})},n.prototype.beginSave=function(n,t,i){var s=this,f,v,e,o,r;if(this.isReadOnly()){t(ni.WorkItemIsReadOnlyError);return}var h=0,c=0,l=0,u=this.getLinkUpdates();u&&(h=u.addedLinks?u.addedLinks.length:0,c=u.updatedLinks?u.updatedLinks.length:0,l=u.deletedLinks?u.deletedLinks.length:0);try{e=this.getFieldValue(at.DalFields.Tags);f=this._splitTagNames(e).length;o=this.getFieldValue(at.DalFields.Tags,!0);o!==e&&(v=f-this._splitTagNames(o).length)}catch(y){a.publishErrorToTelemetry(y)}return ft.PerfScenarioManager.endScenario(ai.WITUserScenarioActions.WORKITEM_CREATEOREDIT,{isNew:this.isNew(),fieldsChangedCount:Object.keys(this.manuallySetFields).length,addedLinksCount:h,updatedLinksCount:c,deletedLinksCount:l,isMobile:st.WitFormModeUtility.isMobileForm,project:this.project.name,workItemType:"[NonEmail: "+this.workItemType.referenceName+"]",workItemSessionId:this.sessionId,workItemId:this.id}),r=ft.PerfScenarioManager.startScenario(ai.WITPerformanceScenario.WORKITEM_SAVE,!1),r.addData({workItemType:"[NonEmail: "+this.workItemType.referenceName+"]",numberOfTags:f,numberOfTagsDelta:v}),i==null&&(i=window.location.pathname),r.addData({PathName:i}),this.store.beginSaveWorkItemsBatch([this],function(t){r&&r.addSplitTiming(ai.PerformanceEvents.WORKITEM_SAVE_COMPLETE);typeof n=="function"&&n.call(s,t);r&&ft.PerfScenarioManager.endScenario(r.getName())},function(n){r&&ft.PerfScenarioManager.abortScenario(r.getName());n&&n.name===tt.Exceptions.WorkItemBulkSaveException&&(n=n.results[0].error);gi(n,t,s)})},n.prototype.beginValidate=function(n,t,r,u){var o=this,f,e;!this.isDirty()||this.isValidating(t)||this.isSaving()||(f=this.getUpdateData(),f&&f.payload&&(this._setValidatingStatus(!0,t),gt.logTracePoint("VSS.WorkItemTracking.WorkItem.beginValidate.start"),e=this.getField(n),this.workItemType.beginGetDependentFields(n,function(n){return __awaiter(o,void 0,void 0,function(){var h,f,o,i,c,a,s=this;return __generator(this,function(v){switch(v.label){case 0:h=n.concat(e.fieldDefinition);f={};o={};$.each(h,function(n,t){f[t.referenceName]=s.getFieldValue(t.id,!0);s.fieldUpdates.hasOwnProperty(t.id+"")&&(o[t.referenceName]=s.getFieldValue(t.id))});v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,w.getService(l.WebPageDataService).getDataAsync("ms.vss-work-web.work-item-rule-engine-data-provider",null,{fieldsToEvaluate:{projectId:this.project.guid,workItemType:this.workItemType.name,fields:[e.fieldDefinition.referenceName],fieldValues:f,fieldUpdates:o}})];case 2:return i=v.sent(),i&&i.exception?typeof u=="function"&&(c=i.exception.customProperties&&i.exception.customProperties.FieldReferenceName||i.exception.customProperties.ReferenceName,u(i.exception,c)):this.isValidating(t)&&!this.isSaving()&&typeof r=="function"&&r(),[3,5];case 3:return a=v.sent(),typeof u=="function"&&u(a),[3,5];case 4:return this._setValidatingStatus(!1,t),gt.logTracePoint("VSS.WorkItemTracking.WorkItem.beginValidate.end"),[7];case 5:return[2]}})})},i.handleError)))},n.prototype.getFieldUpdates=function(){var u={},t,n,i,f,r=this.fieldUpdates,e=this.workItemType.fieldMap,o=this.workItemType.fieldMapById;for(n in r)if(r.hasOwnProperty(n)){if(i=o[n]||e[n],i&&i.checkFlag(tt.FieldFlags.Computed))continue;t=r[n].value;typeof t=="undefined"&&(t=null);u[n]=t;f=!0}return f?u:null},n.prototype.getTemplateFieldValues=function(){var i=this,n={},t=this.initialValues||{};return $.each(this.manuallySetFields,function(r,u){var f=+r,e=i.getField(f),s,h=f+"",o;f!==at.CoreField.AreaId&&f!==at.CoreField.IterationId&&((o=e.getValue(),o instanceof ki)||(s=t.hasOwnProperty(h)?!yi.compareValues(t[h].value,u):!yi.compareValues(e.getValue(!0),u),s&&(n[e.fieldDefinition.referenceName]=o)))}),n},n.prototype.getLinkUpdates=function(n){for(var t,i,r=[],u=[],f=[],e=0,o=this.allLinks;e<o.length;e++)(t=o[e],t.isRemoved())||(t.deleted?(r.push(t.linkData),n&&n.deletedLinks.push(t)):t.isNew()?(f.push(t.linkData),n&&n.addedLinks.push(t)):t.updated&&(u.push(t.linkData),n&&n.updatedLinks.push(t)));return i=null,r.length>0&&(i=i||{},i.deletedLinks=r),u.length>0&&(i=i||{},i.updatedLinks=u),f.length>0&&(i=i||{},i.addedLinks=f),i},n.prototype._restoreLinkUpdates=function(n){var o,i,f,s,u,e,r,t;if(n){if(n.addedLinks)for(o=n.addedLinks,i=0,f=o;i<f.length;i++)r=f[i],t=bi.createFromLinkData(this,r),this.addLink(t);if(n.deletedLinks)for(s=n.deletedLinks,u=0,e=s;u<e.length;u++)r=e[u],t=this.findLink(bi.createFromLinkData(this,r)),t&&this.removeLinks([t])}},n.prototype.getUpdateData=function(){var t=!1,i={uniqueId:this.getUniqueId(),id:this.id,tempId:this.tempId,rev:this.revision,projectId:this.project.guid,addedLinks:[],deletedLinks:[],updatedLinks:[]},n={id:this.id,rev:this.revision,projectId:this.project.guid,isDirty:this._fieldsDirty()},r,u;return this.isNew()&&(n.tempId=this.tempId),r=this.getFieldUpdates(),r&&(n.fields=r,this.hasTeamProjectChanged()&&(n.fields[at.CoreFieldRefNames.TeamProject]=this.project.name),t=!0),u=this.getLinkUpdates(i),u&&(n.links=u,t=!0),t&&(i.payload=n),i},n.prototype.setRevisions=function(n){this._revisions=n;this._revisionsPopulated=!0},n.prototype.getRevisionsArePopulated=function(){return this._revisionsPopulated},n.prototype._takeUpdateResult=function(n,t,i){var c,l,a,y,r,s,h,p,w;ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_TAKEUPDATERESULT,!0);c=[];l=this.id;try{if(this._loadTime=n.loadTime,this.ruleEngine=null,this.extensions=i,this._originalExtensions=this.extensions,this._defineExtensionFields(),a=n.rev!==this.revision,y=n.fields&&this._fieldData&&n.fields[at.CoreField.Watermark]!==this._fieldData[at.CoreField.Watermark],a||y){if(this._setFieldValueById(at.CoreField.Id,n.id),this.id=n.id,n.isCommentingAvailable!==undefined&&n.isCommentingAvailable!==null&&(this._isCommentingAvailable=n.isCommentingAvailable),l===0&&this.updateCachedIdOnSave(),this._setFieldValueById(at.CoreField.Rev,n.rev),this.revision=n.rev,r=void 0,s=n.fields,s)for(r in s)s.hasOwnProperty(r)&&(this._setFieldValueById(+r,s[r]),c.push(+r));var f=this.fieldUpdates,u=this._fieldData,o=void 0,v=""+at.CoreField.ChangedBy,e=""+at.CoreField.History;if(n.rev===1){for(r in f)f.hasOwnProperty(r)&&(u[r]=f[r].value);u[e]&&this._addDiscussionForRevision(u[e],u)}else if(a){o={};u.hasOwnProperty(v)&&(o[v]=u[v]);for(r in f)f.hasOwnProperty(r)&&(o[r]=u[r],u[r]=f[r].value);u.hasOwnProperty(e)&&(o.hasOwnProperty(e)||(o[e]=u[e],delete u[e]));this._revisionsPopulated&&this._revisions.push(o);u[e]&&this._addDiscussionForRevision(u[e],u)}else for(r in f)f.hasOwnProperty(r)&&(u[r]=f[r].value);this.fieldUpdates={}}}finally{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_TAKEUPDATERESULT,!1)}ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_EVALUATELINKUPDATES,!0);try{h=this._takeLinkUpdateResult(n,t);this.resetHistory();this.evaluate(h.changedFields,c);this.resetManualFieldChanges()}finally{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_EVALUATELINKUPDATES,!1)}ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_RESETAFTERSAVE,!0);try{p=this.hasWorkItemTypeChanged();w=this.hasTeamProjectChanged();this._originalWorkItemType=this.workItemType;this.fireWorkItemSaved({changedWorkItemLinks:h.changedWorkItemLinks,externalLinkChanged:h.externalLinkChanged,firstSave:l!==this.id,typeChanged:p,projectChanged:w})}finally{ft.PerfScenarioManager.addSplitTiming(ai.PerformanceEvents.WORKITEMTRACKING_RESETAFTERSAVE,!1)}},n.prototype._takeLinkUpdateResult=function(n,t){var i=this,h=this.allLinks,r={},f=[],u=!1,c=function(n){return n.SourceID===i.id?{targetId:n.TargetID,linkType:n.LinkType,remoteHostId:n.RemoteHostId}:{targetId:n.SourceID,linkType:i.store.findLinkTypeEnd(n.LinkType).oppositeEnd.id,remoteHostId:n.RemoteHostId}},l=function(n,t,i){var r=null;return $.each(h,function(u,f){if(f instanceof wi&&!f.isRemoved()){var e=f;if(e.getTargetId()===n&&(!f.remoteHostId||f.remoteHostId===i)&&e.getLinkType()===t)return r=e,!1}}),r},a={},e,o,s;$.each(t.deletedLinks,function(n,t){t instanceof wi||(r[""+t.getFieldId()]=!0,t.linkData.RemovedDate=i._getFieldValueById(at.DalFields.LastChangedDateId),a[t.linkData.FilePath]=t)});$.each(n.deletedLinks,function(n,t){var o,e,s;t.ExtID?!u&&t.FilePath&&(s=a[t.FilePath],s instanceof ir&&(u=!0)):(o=c(t),e=l(o.targetId,o.linkType,o.remoteHostId),e&&(r[""+e.getFieldId()]=!0,e.linkData["Revised Date"]=t.ChangedDate,e.linkData["Revised By"]=t.ChangedBy,f.push({command:"remove",sourceId:i.id,targetId:e.getTargetId(),linkData:e.linkData})))});e={};$.each(t.addedLinks,function(n,t){t instanceof wi||(e[t.linkData.FilePath]=t)});$.each(n.addedLinks,function(n,t){var s,a,o;t.ExtID?(s=e[t.FilePath],s&&(r[""+s.getFieldId()]=!0,s.linkData.ExtID=t.ExtID,s.linkData.AddedDate=i._getFieldValueById(at.DalFields.LastChangedDateId),s instanceof ir&&(u=!0))):(a=c(t),o=l(a.targetId,a.linkType,a.remoteHostId),o||(o=wi.create(i,a.linkType,a.targetId,null),h.push(o)),r[""+o.getFieldId()]=!0,o.linkData["Changed Date"]=t.ChangedDate,o.linkData["Changed By"]=t.ChangedBy,f.push({command:"add",sourceId:i.id,targetId:o.getTargetId(),linkData:o.linkData}))});this.resetLinks();o=[];for(s in r)r.hasOwnProperty(s)&&o.push(+s);return{changedFields:o,changedWorkItemLinks:f,externalLinkChanged:u}},n.prototype._getRuleEngine=function(){if(!this.ruleEngine){var n=[];$.each(this.workItemType.fields,function(t,i){i.rules&&n.push({fieldId:i.id,rules:i.rules})});this.extensions&&$.each(this.extensions,function(t,i){i.fieldRules&&$.each(i.fieldRules,function(t,i){n.push({fieldId:t,rules:i})})});this.ruleEngine=new vr(this,n)}return this.ruleEngine},n.prototype._evaluateSilent=function(){var n=this._eventsEnabled;this._eventsEnabled=!1;try{this.evaluate()}finally{this._eventsEnabled=n}},n.prototype.evaluate=function(n,t){var r=[],i={},u;$.each(this.workItemType.getTriggerList(),function(n,t){var u=t+"";i.hasOwnProperty(u)||(r.push(t),i[u]=!0)});t?($.each(t,function(n,t){var u=t+"";i.hasOwnProperty(u)||(r.push(t),i[t]=!0)}),u=at.DalFields.HistoryId+"",i.hasOwnProperty(u)||(r.push(at.DalFields.HistoryId),i[u]=!0)):$.each(this.fields,function(n,t){var u=t.fieldDefinition.id,f=u+"";i.hasOwnProperty(f)||(r.push(u),i[f]=!0)});this.evaluateFields(r,n)},n.prototype.evaluateField=function(n,t,i){return this._getRuleEngine().evaluateField(n,t,i)},n.prototype.evaluateFields=function(n,t){var i={},r;t&&$.each(t,function(n,t){i[t+""]=!0});r=this._getRuleEngine().evaluateFields(n);r&&$.each(r,function(n,t){i[t+""]=!0});this.fireFieldChange(vt.keys(i))},n.prototype.resetLinks=function(n){var r,i,t,u;if(this._links=null,n)for(i=this.allLinks,t=0,u=i.length;t<u;t++)r=i[t],r.deleted&&r.isNew()&&(i.splice(t--,1),u--)},n.prototype.getLinks=function(){var r,u,n,i,t;if(!this._links)for(this._links=r=[],u=this.allLinks,n=0,i=u;n<i.length;n++)t=i[n],t.deleted||t.isRemoved()||r.push(t);return this._links},n.prototype.findLink=function(n){var u,t,i,r;for(u=this.allLinks,t=0,i=u;t<i.length;t++)if(r=i[t],r.equals(n))return r;return undefined},n.prototype.addLink=function(n){this.addLinks([n])},n.prototype.addLinks=function(n){var i,e,h,r,u,o,f;if(!this.isReadOnly()){var t={},c=function(n){var r=!1,u=!1,i;if($.each(s.allLinks,function(t,i){if(!i.isRemoved()&&n.isDuplicate(i)){if(i.deleted)return pt.equals(i.getComment(),n.getComment(),!1)||i.setComment(n.getComment()),r=!0,i.deleted=!1,!1;u=!0}}),u)return"continue";i=n.getFieldId();r?t[i]=0:(t[i]=(t[i]||0)+1,s.allLinks.push(n))},s=this;for(i=0,e=n;i<e.length;i++)h=e[i],c(h);if(n.length){this.resetLinks();r=[];u=void 0;for(o in t)t.hasOwnProperty(o)&&(f=+o,r.push(f),u=bi.getCountFieldId(f),this.evaluateField(u,!0,this.getFieldValue(u)-t[f]));this.evaluateFields(r,r)}}},n.prototype.removeLinks=function(n){var s,t,i,u,h,r,f,e,o;if(!this.isReadOnly()){for(s=0,t={},u=0,h=n;u<h.length;u++)r=h[u],r.getIsLocked()||(i=r.getFieldId(),r.remove({preventEvent:!0}),t[r.getFieldId()]=(t[i]||0)+1,s++);if(s){this.resetLinks(!0);f=[];e=void 0;for(o in t)t.hasOwnProperty(o)&&(i=+o,f.push(+o),e=bi.getCountFieldId(i),this.evaluateField(e,!0,this.getFieldValue(e)+t[i]));this.evaluateFields(f,f)}}},n.prototype.resetHistory=function(){ri.getService().fire(tt.Actions.RESET_HISTORY,this,null)},n.prototype.getLoadTime=function(){return this._loadTime},n.prototype.getLinkUpdatedExternallyDate=function(){return this._linkUpdatedExternallyDate},n.prototype.linksUpdatedExternally=function(){this._linkUpdatedExternallyDate=new Date;this.resetHistory()},n.prototype._addDiscussionForRevision=function(n,t){var i=""+at.CoreField.CommentCount;this._fieldData[i]=this._getCommentCount();ri.getService().fire(tt.Actions.DISCUSSION_ADDED,this,{historyText:n,revision:t})},n.prototype._resetDiscussion=function(){ri.getService().fire(tt.Actions.RESET_DISCUSSION,this,null)},n.prototype.DiscussionCommentUpdated=function(n){ri.getService().fire(tt.Actions.DISCUSSION_COMMENT_UPDATED,this,{workItemId:this.id,commentId:n})},n.prototype.beginResetExtension=function(n,t,i){var r=this;this.store.beginGetWorkItemTypeExtension(n,function(n){for(var i=0,u=r.extensions.length;i<u;i++)if(pt.equals(r.extensions[i].id,n.id)){r.extensions[i]=n;r.ruleEngine=null;break}r.evaluate();typeof t=="function"&&t(n)},i)},n.prototype.reset=function(){this.resetContributionErrorStatuses();this.resetChanges(!1);this.relatedData={};this._isReset=!0;var n=[at.DalFields.RelatedLinks,at.DalFields.BISURI,at.DalFields.LinkedFiles,at.DalFields.AttachedFiles,at.DalFields.Tags];this.fieldMap[at.CoreFieldRefNames.Parent]&&n.push(at.CoreField.Parent);this.fireFieldChange(n);this.fireWorkItemReset()},n.prototype.resetChanges=function(n){var t,r,i,u;for(this._isCommentDirty=!1,this._links=null,r=this.allLinks,i=0,u=r.length;i<u;i++)t=r[i],t.isNew()?(r.splice(i--,1),u--):(t.deleted=!1,t.linkData.CommentChanged&&(t.linkData.Comment=t.comment,t.linkData.CommentChanged=!1),t.linkData.LockChanged&&(t.linkData.Lock=t.isLocked,t.linkData.LockChanged=!1),t.setState());this.fieldUpdates={};n?this._evaluateSilent():this.evaluate();this.resetManualFieldChanges();this._resetWorkItemTypeChanges()},n.prototype.updateWorkItemPayload=function(n,t,i,r){var u=this,f=function(){u._load(n,!0,r);u.fireWorkItemRefresh();typeof t=="function"&&t.call(u,u)},e=n.fields[at.CoreField.TeamProject],o=n.fields[at.CoreField.WorkItemType];this._evaluateWorkItemTypeChange(e,o,f,i)},n.prototype.beginRefresh=function(n,t,i,r){var u=this;if(this.isNew())try{this.reset();typeof n=="function"&&n.call(this,this)}catch(f){gi(f,t,this)}else this._isReset=!0,this.store.beginGetWorkItemData([this.id],function(i){u.updateWorkItemPayload(i,n,t,r)},t,i)},n.prototype._resetWorkItemTypeChanges=function(){if(this.hasWorkItemTypeChanged()){var n={SourceType:this._originalWorkItemType.name,DestinationType:this.workItemType.name};this.workItemType.project!==this._originalWorkItemType.project?hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_MOVE_REVERT,n)):hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_WIT_TYPE_CHANGE_REVERT,n));this.changeWorkItemType(this._originalWorkItemType,this._originalExtensions);this._originalWorkItemType=this.workItemType;this._originalExtensions=this.extensions}},n.prototype._evaluateWorkItemTypeChange=function(n,t,i,r){var u=this;pt.equals(n,this._originalWorkItemType.project.name,!0)&&pt.equals(t,this._originalWorkItemType.name,!0)?pt.equals(n,this.workItemType.project.name,!0)&&pt.equals(t,this.workItemType.name,!0)?i():(this._resetWorkItemTypeChanges(),i()):this.store.beginGetProject(n,function(n){n.beginGetWorkItemType(t,function(n){u.changeWorkItemType(n);u._originalWorkItemType=n;i()},r)},r)},n.prototype._copyField=function(n,t,i){var u,r;if(t&&t.isCloneable()&&(u=this.getField(t.id),u&&(r=u.getValue(),!yi.isEmpty(r)))){if((t.id===at.CoreField.AreaId||t.id===at.CoreField.IterationId)&&(typeof r!="number"||this.project.id!==i.project.id))return;n.setFieldValue(t.id,r)}},n.prototype.copy=function(n,t,i,r,u,f,e,o){var ct=this,d=[],h=[],v={},et,ot,s,y,g,nt,p,w,it,c,b,st,l,ht,k,rt,ut,a,ft;for(n=n instanceof fr?n:this.workItemType,t=typeof t!="boolean"?!0:t,i=typeof i!="boolean"?!0:i,r=typeof r!="boolean"?!0:r,u=typeof u!="boolean"?!0:u,e=typeof e!="boolean"?!0:e,et=new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_INCLUDE_WORKITEM_LINKS_ATTACHMENTS,{action:"Telemetry for Copy links and attachments checkbox",copyLinks:t,copyAttachments:i}),hi.publishEvent(et),ot=[at.OobFieldRefNames.ResolvedBy,at.OobFieldRefNames.ResolvedDate,at.OobFieldRefNames.ClosedBy,at.OobFieldRefNames.ClosedDate,"Microsoft.Sync.ProjSrv.RequestedAssnGuid","Microsoft.Sync.ProjSrv.RequestedProjGuid","Microsoft.Sync.ProjSrv.ProjGuid","Microsoft.Sync.ProjSrv.TaskGuid"],f=f||[],ot.forEach(function(n){var t=ct.store.getFieldDefinition(n);t&&f.push(t.id.toString())}),$.each(f,function(n,t){v[t]=!0}),s=n.create(),ri.getService().fire(tt.Actions.WORKITEM_COPIED,s),y=0,g=n.triggerList;y<g.length;y++)nt=g[y],p=nt.toString(),v.hasOwnProperty(p)||(c=n.fieldMapById[p],c?this._copyField(s,c,n):hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"CloneWorkItem_FieldNotFound",{typeName:"[NonEmail:".concat(n.name,"]"),triggerList:"[NonEmail:".concat(n.triggerList.join(),"]"),fieldMap:"[NonEmail:"+JSON.stringify(Object.keys(n.fieldMapById).map(function(t){return{fieldId:t,fieldRefName:n.fieldMapById[t]?n.fieldMapById[t].referenceName:""}}))+"]",fieldId:nt})),v[p]=!0);for(w=0,it=n.fields;w<it.length;w++)c=it[w],v.hasOwnProperty(c.id.toString())||this._copyField(s,c,n);if(r&&(b=void 0,this.isNew()?b=ni.CreateCopyCopiedFromNewWorkItem:(st="<a href='x-mvwit:workitem/".concat(this.id,"'>").concat(this.workItemType.name," ").concat(this.id,"<\/a>"),l=ni.CreateCopyCopiedFrom,t&&i?l=ni.CreateCopyCopiedWithAllLinksAndAttachmentsFrom:t?l=ni.CreateCopyCopiedWithAllLinksFrom:i&&(l=ni.CreateCopyCopiedWithAllAttachmentsFrom),b=pt.format(l,st)),s.setFieldValue(at.CoreField.History,b)),t||i)for(ht=this.getLinks(),k=0,rt=ht;k<rt.length;k++)ut=rt[k],a=ut.clone(s),a instanceof rr?i&&d.push(a):t&&a&&(!o||o.indexOf(ut.linkData.LinkType)===-1)&&h.push(a);return!this.isNew()&&e&&h.push(wi.create(s,this.store.findLinkTypeEnd(tt.LinkTypeName.Related_Link_Name),this.id,"")),d.length>0&&h.push.apply(h,d),h.length>0&&s.addLinks(h),ft=[at.DalFields.RelatedLinks,at.DalFields.AttachedFiles,at.DalFields.BISURI,at.DalFields.LinkedFiles],this.fieldMap[at.CoreFieldRefNames.Parent]&&ft.push(at.CoreField.Parent),s.evaluate(ft),s},n.prototype.copyWithChildren=function(n,t,i,r,u,f,e){return __awaiter(this,void 0,void 0,function(){var o,l,s,h,a,v,c,y,p,w=this;return __generator(this,function(b){switch(b.label){case 0:if(o=this.copy(n,t,i,r,u,f,e,[tt.CoreLinkTypes.Child]),!o.isValid()){l=o.getInvalidFields()[0].getErrorText();throw Error(l);}if(s=this.getLinks().filter(function(n){return n.linkData.LinkType===tt.CoreLinkTypes.Child}).map(function(n){return n.linkData.ID}),h=100,s.length>h)throw Error(pt.format(ni.TooManyChildItemsToCopy,h));return(s.length>0)?[4,this.store.getWorkItemsAsync(s,!1,!0,!0)]:[3,3];case 1:return a=b.sent(),v=a.filter(function(n){return n.project.guid===o.project.guid}),c=v.map(function(n){var o=n.copy(n.workItemType,t,i,r,u,f,e,[tt.CoreLinkTypes.Parent]),s;if(!o.isValid()){s=o.getInvalidFields()[0].getErrorText();throw Error(pt.format(ni.ErrorCopyingChildItem,n.id,s));}return o}),[4,this.store.saveWorkItemsBatchAsync(c)];case 2:b.sent();y=c.map(function(n){return wi.create(o,w.store.findLinkTypeEnd(tt.LinkTypeName.Child_Link_Name),n.id,"")});o.addLinks(y);b.label=3;case 3:return p=new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,ai.WITCustomerIntelligenceFeature.CLIENTSIDEOPERATION_COPY_WITH_CHILDREN,{action:"Copy work item with children",copyLinks:t,copyAttachments:i,children:s.length}),hi.publishEvent(p),[2,o]}})})},n.prototype.getTagNames=function(){return this._splitTagNames(this.getFieldValue(at.DalFields.Tags))},n.prototype._splitTagNames=function(n){return n?n.trim().split(/;\s*/):[]},n.prototype._load=function(t,i,r){var s,h,v=this,e,c,u,o,f,l,a;t=t||{};this._isReadOnly=t.isReadOnly||!1;this._loadTime=t.loadTime||new Date;this._fieldData=t.fields||{};for(u in this._fieldData)this._fieldData.hasOwnProperty(u)&&(o=this.workItemType.getFieldDefinition(u),o&&(yi.isLongTextField(o.type)?(f=this._fieldData[u],f&&(this._fieldData[u]=f.trim())):o.isIdentity&&(f=this._fieldData[u],f&&ht.setResolvedByDescriptorIfWorkItemIdentityRef(f))));this._revisions=t.revisions||[];this.fieldUpdates=r&&this.fieldUpdates.hasOwnProperty(at.CoreField.History)?(s={},s[at.CoreField.History]=this.fieldUpdates[at.CoreField.History],s):{};$.each(this._fieldData,function(n){v._defineField(n)});i&&($.each(this.fields,function(n,t){t._reset()}),this.resetContributionErrorStatuses());e=[];t.files&&bt.addRange(e,t.files);t.relations&&bt.addRange(e,t.relations);t.relationRevisions&&bt.addRange(e,t.relationRevisions);this.allLinks=c=[];this._links=null;c.push.apply(c,e.map(function(n){return bi.createFromLinkData(v,n)}));this.relatedData={};this.referencedPersons=t.referencedPersons||{};this.project.nodesCacheManager.addReferencedNodes(t.referencedNodes);this.id=this._getFieldValueById(at.CoreField.Id)||0;this.id===0&&(t.tempId?(this.tempId=t.tempId,n.reserveTempId(this.tempId)):this.tempId=n.getTempId());this._isCommentingAvailable=t.isCommentingAvailable||this.isNew();this.revision=this._getFieldValueById(at.CoreField.Rev)||0;this.isNew()?(l=this.project.id,this._setFieldValueById(at.CoreField.AreaId,l,!0),this._setFieldValueById(at.CoreField.IterationId,l,!0),this._setFieldValueById(at.CoreField.WorkItemType,this.workItemType.name,!0),this._revisionsPopulated=!0):this._revisionsPopulated=t.revisions!=undefined&&t.revisions!=null&&t.revisions.length>0||t.relationRevisions!=undefined&&t.relationRevisions!=null&&t.relationRevisions.length>0;this.resetHistory();this._resetDiscussion();a=[at.DalFields.RelatedLinks,at.DalFields.AttachedFiles,at.DalFields.BISURI,at.DalFields.LinkedFiles];this.fieldMap[at.CoreFieldRefNames.Parent]&&a.push(at.CoreField.Parent);this.evaluate(a);this.isNew()&&(this.initialValues=$.extend({},this.fieldUpdates));this.manuallySetFields=r&&this.manuallySetFields.hasOwnProperty(at.CoreField.History)?(h={},h[at.CoreField.History]=this.manuallySetFields[at.CoreField.History],h):{}},n.prototype._fieldsDirty=function(n,t){var u,e,s,r,o,h,i,f;if(n){if(this.manuallySetFields){if(u=__assign({},this.manuallySetFields),t&&t.length>0)for(e=0,s=t;e<s.length;e++)i=s[e],delete u[i],delete u[i.toString()];for(f in u)if(u.hasOwnProperty(f))return!0}}else{if(this.isNew())return!0;if(r=__assign({},this.fieldUpdates),t&&t.length>0)for(o=0,h=t;o<h.length;o++)i=h[o],delete r[i],delete r[i.toString()];for(f in r)if(r.hasOwnProperty(f)&&!r[f].setByRule)return!0}return!1},n.prototype._setSavingStatus=function(n,t){this._saving!==n&&(this._saving=n,n?this.fireWorkItemSaving():this.fireWorkItemSaveComplete(t))},n.prototype._setValidatingStatus=function(n,t){var i=!1,r;if(t)this._fieldValidationMap[t.toString()]!==n&&(this._fieldValidationMap[t.toString()]=n,i=!0);else for(r in this._fieldValidationMap)this._fieldValidationMap[r]!==n&&(this._fieldValidationMap[r]=n,i=!0);i&&(n?this.fireWorkItemValidating():this.fireWorkItemValidationComplete())},n.prototype._getLinkCount=function(n,t){var i=0,r=this.getLinks();return $.each(r,function(r,u){t&&u.isNew()||(n?u instanceof n&&i++:i++)}),i},n.prototype._getParentLinkId=function(n){for(var t,r,f=this.getLinks(),i=0,u=f;i<u.length;i++)if((t=u[i],!n||!t.isNew())&&t instanceof wi&&(r=t,r.getLinkType()===tt.CoreLinkTypes.Parent))return r.getTargetId();return undefined},n.prototype._getCommentCount=function(n){var t=this._fieldData[at.CoreField.CommentCount]||0;return!n&&this.fieldUpdates.hasOwnProperty(at.CoreField.History)&&(t+=1),t},n.prototype.hasWorkItemTypeChanged=function(){return this._originalWorkItemType!==this.workItemType},n.prototype.hasTeamProjectChanged=function(){return this._originalWorkItemType.project!==this.project},n.tempIdSeed=0,n.FIELD_ID_TO_DEPENDENT_ID_MAP=(nr={},nr[at.DalFields.AttachedFiles]=[at.CoreField.AttachedFileCount],nr[at.DalFields.RelatedLinks]=[at.CoreField.RelatedLinkCount,at.CoreField.Parent],nr[at.DalFields.LinkedFiles]=[at.CoreField.HyperLinkCount],nr[at.DalFields.BISURI]=[at.CoreField.ExternalLinkCount],nr[at.DalFields.HistoryId]=[at.CoreField.CommentCount],nr),n.MAX_TITLE_LENGTH=255,n.FIELD_ERRORS_CLEARED="field-errors-cleared",n}();t.WorkItem=or;yi=function(){function n(n,t){this.workItem=n;this.fieldDefinition=t}return n.isEmpty=function(n){return n===null||typeof n=="undefined"||typeof n=="string"&&!n.trim()},n.compareValues=function(t,i,r,u){var f,e,o;return t instanceof ki?i instanceof ki&&t.type===i.type?n.compareValues(t.value,i.value,r):!1:i instanceof ki?!1:(t=ht.convertPotentialIdentityRefFromFieldValue(t,!1),i=ht.convertPotentialIdentityRefFromFieldValue(i,!1),(t===null||typeof t=="undefined")&&(t=""),(i===null||typeof i=="undefined")&&(i=""),t=""+t,i=""+i,f=!1,f=r?pt.localeIgnoreCaseComparer(t,i)===0:pt.localeComparer(t,i)===0,!f&&u&&(e=h.IdentityHelper.parseUniquefiedIdentityName(t),o=h.IdentityHelper.parseUniquefiedIdentityName(i),e&&o&&e.uniqueName&&o.uniqueName&&(f=pt.localeIgnoreCaseComparer(e.uniqueName,o.uniqueName)===0)),f)},n.isMatch=function(n,t){return n?(n=n.replace(/[.*+?|()\[\]\^\${}\\]/g,"\\$&"),n=n.replace(/n/gi,"\\d").replace(/a/gi,"[a-zA-Z]").replace(/x/gi,"[a-zA-Z0-9]"),n="^"+n+"$",new RegExp(n,"i").test(t)):!0},n.hashset=function(n,t){var r={},u,e,f,o,i;if(t){if(n.__hashSetCaseInsensitive)return n.__hashSetCaseInsensitive;for(u=0,e=n;u<e.length;u++)i=e[u],r[i.toLocaleUpperCase()]=i;n.__hashSetCaseInsensitive=r}else{if(n.__hashSet)return n.__hashSet;for(f=0,o=n;f<o.length;f++)i=o[f],r[i]=i;n.__hashSet=r}return r},n.contains=function(t,i,r){if(r){var u=n.hashset(t,!0);return u.hasOwnProperty(i.toLocaleUpperCase())}return $.inArray(i,t)>=0},n.normalize=function(t,i){if(i){var r=n.hashset(t,!0);return r[i.toLocaleUpperCase()]||i}return i},n.intersect=function(t,i,r){var e,u,o,h,s,c,f;if(!i)return t;if(i.length===0)return[];if(t.length<i.length?e=n.hashset(t,r):(e=n.hashset(i,r),i=t),u=[],bt.copySortFlag(u,i),r)for(o=0,h=i;o<h.length;o++)f=h[o],e.hasOwnProperty(f.toLocaleUpperCase())&&(u[u.length]=f);else for(s=0,c=i;s<c.length;s++)f=c[s],e.hasOwnProperty(f)&&(u[u.length]=f);return u},n.union=function(n,t,i){var e=i?pt.localeIgnoreCaseComparer:pt.localeComparer,r;if(!t||t.length===0)return n;if(!n||n.length===0)return t;bt.sortIfNotSorted(n,e);bt.sortIfNotSorted(t,e);r=[];bt.flagSorted(r,e);for(var u=0,c=n.length,f=0,l=t.length,o,s,h;u<c&&f<l;)o=n[u],s=t[f],h=e(o,s),h===0?(r[r.length]=o,u++,f++):h>0?(r[r.length]=s,f++):(r[r.length]=o,u++);while(u<c)r[r.length]=n[u],u++;while(f<l)r[r.length]=t[f],f++;return r},n.subtract=function(t,i,r){var s,u,e,h,o,c,f;if(!i||i.length===0)return t;if(u=[],bt.copySortFlag(u,t),s=n.hashset(i,r),r)for(e=0,h=t;e<h.length;e++)f=h[e],s.hasOwnProperty(f.toLocaleUpperCase())||(u[u.length]=f);else for(o=0,c=t;o<c.length;o++)f=c[o],s.hasOwnProperty(f)||(u[u.length]=f);return u},n.inList=function(t,i,r,u,f){var o,e,s,h;if(r&&n.contains(r,i,f))return!0;if(u)for(e=0,s=u;e<s.length;e++)if(h=s[e],o=t.getConstantSet(h),!o,n.contains(o,i,f))return!0;return!1},n.unionLists=function(t,i,r){var u,e,f,o,s;if(r){for(i?(u=i.slice(0),bt.copySortFlag(u,i)):(u=[],bt.flagSorted(u,pt.localeIgnoreCaseComparer)),f=0,o=r;f<o.length;f++)s=o[f],e=t.getConstantSet(s),!e,u=n.union(u,e,!0);return u}return i},n.isLongTextField=function(n){switch(n){case at.FieldType.PlainText:case at.FieldType.Html:case at.FieldType.History:return!0;default:return!1}},n.isNumericField=function(n){switch(n){case at.FieldType.Integer:case at.FieldType.Double:return!0;default:return!1}},n.isStringField=function(n){switch(n){case at.FieldType.PlainText:case at.FieldType.Html:case at.FieldType.History:case at.FieldType.String:return!0;default:return!1}},n.convertValueToDisplayString=function(n){return n!==null&&typeof n!="undefined"&&n instanceof ki&&(n=n.value),yt.convertValueToDisplayString(n)},n.isValidStringFieldValue=function(n,t){return!t&&pt.containsControlChars(n)?!1:!pt.containsMismatchedSurrogateChars(n)},n.normalizeStringValue=function(n,t){return t||(n=n.replace(uu," ")),n.replace(fu," ")},n.normalizeHtmlValue=function(n,t,i){var r="class",u=[];return(!t||t.indexOf(r)<0)&&u.push(r),si.HtmlNormalizer.normalizeStripAttributes(n,u,t,i)},n.convertValueToInternal=function(t,i,r){var e=0,u,o,f;if(i===null||typeof i=="undefined")u=null;else if(typeof i=="string"&&i.length===0)u=null;else if(i instanceof ki)u=i;else try{switch(r){case at.FieldType.Boolean:if(typeof i=="boolean")u=i?1:0;else if(typeof i=="number")u=i!==0?1:0;else if(typeof i=="string")u=/^\d+$/.test(i)?kt.parseLocale(i)!==0?1:0:vt.BoolUtils.parse(i)?1:0;else throw new Error("Invalid Boolean field value.");break;case at.FieldType.Integer:if(typeof i=="number"?u=Math.round(i):typeof i=="boolean"?u=i?0:1:typeof i=="string"&&/^[\-+]?\d+$/.test(i.trim())&&(u=kt.parseLocale(i)),typeof u=="undefined"||isNaN(u)||!isFinite(u)||u>n.SqlIntMaxValue-1||u<-n.SqlIntMaxValue)throw new Error("Invalid Integer field value,  ".concat(i));break;case at.FieldType.Double:if(typeof i=="number"?u=i:typeof i=="boolean"?u=i?0:1:typeof i=="string"&&(u=kt.parseLocale(i)),typeof u=="undefined"||isNaN(u)||!isFinite(u))throw new Error("Invalid Double field value,  ".concat(i));break;case at.FieldType.DateTime:if(u=i instanceof Date?i:typeof i=="string"?wt.parseDateString(i):null,u===null||isNaN(u))throw new Error("Invalid DateTime field value.");o=u.getFullYear();(o<1753||o>9999)&&(e=tt.FieldStatusFlags.InvalidDate);break;case at.FieldType.Guid:if(typeof i=="string"){if(f=iu.exec(i),!f)throw new Error("Invalid GUID field value.");u=f[1]+"-"+f[2]+"-"+f[3]+"-"+f[4]+"-"+f[5]}else throw new Error("Invalid GUID field value.");break;default:if(typeof i=="string")u=i;else if(typeof i=="number")u=kt.localeFormat(i,"N");else if(typeof i=="boolean")u=i?"True":"False";else if(i instanceof Date)u=wt.localeFormat(i,"F");else throw new Error("Invalid String field type.");typeof u=="undefined"&&(u=null);u!==null&&((r==at.FieldType.PlainText||r==at.FieldType.Html)&&(u=u.trim()),u.length===0&&(u=null));u!==null&&(r===at.FieldType.String&&u.length>or.MAX_TITLE_LENGTH&&(e=tt.FieldStatusFlags.InvalidTooLong),n.isValidStringFieldValue(u,n.isLongTextField(r))||(e=tt.FieldStatusFlags.InvalidCharacters))}}catch(s){return{value:i,error:s,status:tt.FieldStatusFlags.InvalidType}}return{value:u,status:e}},n.convertValueToExternal=function(t,i,r){return typeof i=="undefined"&&(i=null),i===null&&n.isStringField(r)?i="":r===at.FieldType.Boolean&&(i=i?!0:!1),i},n.getFieldErrorText=function(n,t,i,r){switch(t){case tt.FieldStatus.InvalidEmpty:return pt.format(ni.FieldStatusInvalidEmptyError,n);case tt.FieldStatus.InvalidNotEmpty:return pt.format(ni.FieldStatusInvalidNotEmptyError,n);case tt.FieldStatus.InvalidFormat:return pt.format(ni.FieldStatusInvalidFormatError,n);case tt.FieldStatus.InvalidListValue:return pt.format(ni.FieldStatusInvalidListValueError,n,i);case tt.FieldStatus.InvalidOldValue:return pt.format(ni.FieldStatusInvalidOldValueError,n);case tt.FieldStatus.InvalidNotOldValue:return pt.format(ni.FieldStatusInvalidNotOldValueError,n);case tt.FieldStatus.InvalidEmptyOrOldValue:return pt.format(ni.FieldStatusInvalidEmptyOrOldValueError,n);case tt.FieldStatus.InvalidNotEmptyOrOldValue:return pt.format(ni.FieldStatusInvalidNotEmptyOrOldValueError,n);case tt.FieldStatus.InvalidValueInOtherField:return pt.format(ni.FieldStatusInvalidValueInOtherFieldError,n);case tt.FieldStatus.InvalidValueNotInOtherField:return pt.format(ni.FieldStatusInvalidValueNotInOtherFieldError,n);case tt.FieldStatus.InvalidDate:return pt.format(ni.FieldStatusInvalidDateErrorError,n);case tt.FieldStatus.InvalidTooLong:return pt.format(ni.FieldStatusInvalidTooLongError,n);case tt.FieldStatus.InvalidType:return pt.format(ni.FieldStatusInvalidTypeError,n);case tt.FieldStatus.InvalidComputedField:return pt.format(ni.FieldStatusInvalidComputedFieldError,n);case tt.FieldStatus.InvalidPath:return pt.format(ni.FieldStatusInvalidPathError,n);case tt.FieldStatus.InvalidCharacters:return pt.format(ni.FieldStatusInvalidCharactersError,n);case tt.FieldStatus.InvalidIdentity:return r||pt.format(ni.FieldStatusInvalidListValueError,n,i);default:return pt.format(ni.FieldStatusInvalidUnknownError,n)}},n.getFieldStatus=function(n){if((n&tt.FieldStatusFlags.InvalidMask)!==tt.FieldStatusFlags.None){for(var t=1,i=ar.length;t<i;t++)if((n&ar[t])!==tt.FieldStatusFlags.None)return t;return tt.FieldStatus.InvalidUnknown}return tt.FieldStatus.Valid},n.prototype.resetUpdate=function(){delete this.workItem.fieldUpdates[this.fieldDefinition.id+""]},n.prototype.getValue=function(t,i){return n.convertValueToExternal(this.workItem.store,this._getValue(t,i,!1),this.fieldDefinition.type)},n.prototype.getIdentityValue=function(n,t){return this._getValue(n,t,!0)},n.prototype.getFriendlyValue=function(n,t){var i=this.getValue(n,t);return this.fieldDefinition.isIdentity&&i?h.IdentityHelper.parseUniquefiedIdentityName(i).displayName:i},n.prototype.getDisplayText=function(t,i){return n.convertValueToDisplayString(this.getValue(t,i))},n.prototype.setValue=function(t,i,r,u,f){var s,e,h,o,c;i===void 0&&(i=!1);r===void 0&&(r=!1);u===void 0&&(u=!1);f===void 0&&(f=!1);s={preventFire:!1,fireIdentityEagerValidation:!1,setByRule:!1,forceEvaluate:!1};ht.isWorkItemIdentityRef(t)&&(t=t.distinctDisplayName);e=typeof i!="object"?$.extend({},s,{preventFire:i,fireIdentityEagerValidation:r,setByRule:u}):$.extend({},s,i);h=this.workItem._getFieldValueById(this.fieldDefinition.id);o=n.convertValueToInternal(this.workItem.store,this._tryNormalizeValue(t),this.fieldDefinition.type);this._setValue(o.value,e.setByRule,f);(!n.compareValues(h,o.value)||e.forceEvaluate)&&(c=this.workItem.evaluateField(this.fieldDefinition.id,!0,h),this.status|=o.status,e.fireIdentityEagerValidation&&this.validateIdentityFieldValue(),e.preventFire||this.workItem.fireFieldChange(c))},n.prototype.validateIdentityFieldValue=function(){var n=this,i=this.getValue(),t=new sr(this.fieldDefinition.id,i,this.filterByScope);!br(this.fieldDefinition)||!this.isValid()||i instanceof ki||this.workItem.beginValidate(this.fieldDefinition.id,t,function(){new sr(n.fieldDefinition.id,n.getValue(),n.filterByScope).equals(t)&&(n._error="")},function(i,r){var u=n;r&&(u=n.workItem.getField(r));u.isValid()&&new sr(n.fieldDefinition.id,n.getValue(),n.filterByScope).equals(t)&&(u._error=i.message,u.status=tt.FieldStatusFlags.InvalidIdentityField,n.workItem.fireFieldChange([u.fieldDefinition.id]))})},n.prototype.isDirty=function(){var t=this.fieldDefinition.id,n=this.workItem.fieldUpdates.hasOwnProperty(t+"");if(!n)switch(t){case at.CoreField.IterationPath:n=this.workItem.fieldUpdates.hasOwnProperty(at.CoreField.IterationId+"");break;case at.CoreField.AreaPath:n=this.workItem.fieldUpdates.hasOwnProperty(at.CoreField.AreaId+"")}return n},n.prototype.isUserChange=function(){var n=this.workItem.fieldUpdates[this.fieldDefinition.id+""];return n?n.setByRule?(this.status&tt.FieldStatusFlags.SetByComputedRule)!==tt.FieldStatusFlags.None?!0:!1:!0:!1},n.prototype.isValid=function(){return(this.status&tt.FieldStatusFlags.InvalidMask)===tt.FieldStatusFlags.None},n.prototype.isValidValueOrEmpty=function(){return(this.status&tt.FieldStatusFlags.InvalidMask&~tt.FieldStatusFlags.InvalidEmpty)===tt.FieldStatusFlags.None},n.prototype.isHistoricalRevision=function(){return this.workItem.isReadOnly()},n.prototype.isEditable=function(){if(this.isHistoricalRevision()||!this.fieldDefinition.isEditable())return!1;var n=this.fieldDefinition.id;switch(n){case at.CoreField.Rev:case at.CoreField.WorkItemType:case at.CoreField.CreatedBy:case at.CoreField.IsDeleted:return!1;case at.CoreField.AreaPath:n=at.CoreField.AreaId;break;case at.CoreField.IterationPath:n=at.CoreField.IterationId;break;default:return(this.status&tt.FieldStatusFlags.ReadOnly)===tt.FieldStatusFlags.None}return this.workItem.getField(n).isEditable()},n.prototype.isReadOnly=function(){return!this.isEditable()},n.prototype.isRequired=function(){var n=this.fieldDefinition.id;switch(n){case at.CoreField.IterationPath:n=at.CoreField.IterationId;break;case at.CoreField.AreaPath:n=at.CoreField.AreaId;break;default:return(this.status&tt.FieldStatusFlags.Required)!==tt.FieldStatusFlags.None}return this.workItem.getField(n).isRequired()},n.prototype.getErrorText=function(){return n.getFieldErrorText(this.fieldDefinition.name,this.getStatus(),this.getDisplayText(),this._error)},n.prototype.getStatus=function(){return n.getFieldStatus(this.status)},n.prototype.validate=function(n){this.customValidators=this.customValidators||[];this.customValidators.push(n)},n.prototype.hasList=function(){return(this.status&tt.FieldStatusFlags.HasValues)!==tt.FieldStatusFlags.None},n.prototype.isLimitedToAllowedValues=function(){return(this.status&tt.FieldStatusFlags.LimitedToValues)!==tt.FieldStatusFlags.None},n.prototype.setAllowedValues=function(n){this.hasList()&&!this.fieldDefinition.isIdentity&&(this.allowedValues=n)},n.prototype.getAllowedValues=function(){var t=this.allowedValues,i,r,f,h,c,u,e,l,a,o,s,v,y;if(!t){if(this.hasList()){if(i=this.lists,r=this.workItem.store,i.allowedValues&&i.allowedValues.length>0)for(t=n.unionLists(r,i.allowedValues[0].items,i.allowedValues[0].globals),f=0,h=i.allowedValues;f<h.length;f++)c=h[f],t=n.intersect(t,n.unionLists(r,c.items,c.globals),!0);if(i.suggestedValues&&i.suggestedValues.length>0){for(u=[],e=0,l=i.suggestedValues;e<l.length;e++)a=l[e],u=n.union(u,n.unionLists(r,a.items,a.globals),!0);t=t?n.intersect(t,u):u}if(i.allowExistingValue&&(o=this._getValue(!0),n.isEmpty(o)||(t=t?n.union(t,[n.convertValueToDisplayString(o)],!0):[n.convertValueToDisplayString(o)])),t&&i.prohibitedValues&&i.prohibitedValues.length>0)for(s=0,v=i.prohibitedValues;s<v.length;s++)y=v[s],t=n.subtract(t,n.unionLists(r,y.items,y.globals),!0)}t=t||[];n.isNumericField(this.fieldDefinition.type)?bt.sortIfNotSorted(t,kt.defaultComparer):this.fieldDefinition.id===at.CoreField.State&&this.fieldDefinition.workItemType&&this.fieldDefinition.workItemType.orderedStates?t=this.fieldDefinition.workItemType.orderedStates.filter(function(n){return t.indexOf(n)!==-1}):bt.sortIfNotSorted(t,pt.localeIgnoreCaseComparer);this.allowedValues=t}return t},n.prototype.isChangedInRevision=function(n){var t=this.fieldDefinition.id,i,r,f,u;switch(t){case at.CoreField.AreaPath:case at.CoreField.NodeName:case at.DalFields.AreaLevel1:case at.DalFields.AreaLevel2:case at.DalFields.AreaLevel3:case at.DalFields.AreaLevel4:case at.DalFields.AreaLevel5:case at.DalFields.AreaLevel6:case at.DalFields.AreaLevel7:t=at.CoreField.AreaId;break;case at.CoreField.IterationPath:case at.DalFields.IterationLevel1:case at.DalFields.IterationLevel2:case at.DalFields.IterationLevel3:case at.DalFields.IterationLevel4:case at.DalFields.IterationLevel5:case at.DalFields.IterationLevel6:case at.DalFields.IterationLevel7:t=at.CoreField.IterationId;break;case at.CoreField.AuthorizedAs:t=at.DalFields.PersonID;break;case at.CoreField.IsDeleted:if(n===0)return!1;break;case at.CoreField.AttachedFileCount:case at.CoreField.HyperLinkCount:case at.CoreField.ExternalLinkCount:case at.CoreField.RelatedLinkCount:case at.CoreField.Parent:return null}return n===0?this.workItem.getFieldValueByRevision(t,n)!==null:this.workItem.getRevisions()[n-1]&&(i=this.workItem.getRevisions(),r=t+"",i[n-1].hasOwnProperty(r))?t!==at.CoreField.TeamProject?!0:(f=i[n-1][r],u=n<i.length?i[n][r]:this.workItem.getFieldValue(at.CoreField.TeamProject,!0),u!=undefined&&f!==u):!1},n.prototype._reset=function(){this.status=tt.FieldStatusFlags.None;this.allowedValues=null;this.lists=null},n.prototype._getValue=function(n,t,i){return this.workItem._getFieldValueById(this.fieldDefinition.id,n,t,i)},n.prototype._setValue=function(n,t,i){this.workItem._setFieldValueById(this.fieldDefinition.id,n,t,i)},n.prototype._tryNormalizeValue=function(t){if(t&&typeof t=="string"&&this.hasList()){var i=this.getAllowedValues();t=n.normalize(i,t)}return t},n.SqlIntMaxValue=2147483648,n}();t.Field=yi;i.initClassPrototype(yi,{workItem:null,fieldDefinition:null,status:tt.FieldStatusFlags.None,_allowedValues:null,_lists:null,customValidators:null});ar=[tt.FieldStatusFlags.None,tt.FieldStatusFlags.InvalidEmpty,tt.FieldStatusFlags.InvalidNotEmpty,tt.FieldStatusFlags.InvalidFormat,tt.FieldStatusFlags.InvalidListValue,tt.FieldStatusFlags.InvalidOldValue,tt.FieldStatusFlags.InvalidNotOldValue,tt.FieldStatusFlags.InvalidEmptyOrOldValue,tt.FieldStatusFlags.InvalidNotEmptyOrOldValue,tt.FieldStatusFlags.InvalidValueInOtherField,tt.FieldStatusFlags.InvalidValueNotInOtherField,tt.FieldStatusFlags.InvalidDate,tt.FieldStatusFlags.InvalidTooLong,tt.FieldStatusFlags.InvalidType,tt.FieldStatusFlags.InvalidComputedField,tt.FieldStatusFlags.InvalidPath,tt.FieldStatusFlags.InvalidCharacters,tt.FieldStatusFlags.InvalidIdentityField];bi=function(){function n(n,t){this.workItem=n;this.linkData=t;this.updated=!1;this.deleted=!1;this.baseLinkType="Link";this.comment=this.linkData.Comment;this.isLocked=this.linkData.Lock;this.remoteHostId=this.linkData.RemoteHostId;this.remoteProjectId=this.linkData.RemoteProjectId;this.remoteStatus=this.linkData.RemoteStatus;this.remoteHostUrl=this.linkData.RemoteHostUrl;this.remoteHostName=this.linkData.RemoteHostName;this.remoteStatusMessage=this.linkData.RemoteStatusMessage}return n.createFromLinkData=function(t,i){i=i||{};i.FldID||(i.FldID=at.DalFields.RelatedLinks);var r=i.FldID;switch(r){case at.DalFields.AttachedFiles:return new rr(t,i);case at.DalFields.LinkedFiles:return new lr(t,i);case at.DalFields.BISURI:return new ir(t,i);case at.DalFields.RelatedLinks:return new wi(t,i);default:return new n(t,i)}},n.prototype.setState=function(n){n?(this.comment=this.getComment(),this.isLocked=this.getIsLocked(),this.updated=!1,this.linkData.CommentChanged=!1,this.linkData.LockChanged=!1):this.updated=this.linkData.CommentChanged||this.linkData.LockChanged},n.prototype._fireChanged=function(){this.workItem.fireFieldChange([this.getFieldId()])},n.prototype.isNew=function(){return wt.equals(pi.FutureDate,this.getAddedDate())},n.prototype.isRemoved=function(){return!wt.equals(pi.FutureDate,this.getRemovedDate())},n.prototype.getComment=function(){return this.linkData.Comment},n.prototype.setComment=function(n,t){this.linkData.Comment=n;this.linkData.CommentChanged=!0;this.setState();t||this._fireChanged()},n.prototype.remove=function(n){var t=n&&n.preventEvent===!0;this.deleted=!0;t||(this.workItem.resetLinks(!0),this._fireChanged())},n.prototype.clone=function(){return null},n.prototype.getFieldId=function(){return this.linkData.FldID},n.prototype.getIsLocked=function(){return this.linkData.Lock||!1},n.prototype.setIsLocked=function(n){this.linkData.Lock=n;this.linkData.LockChanged=!0;this.setState();this._fireChanged()},n.prototype.getAddedDate=function(){return this.linkData.AddedDate},n.prototype.getRemovedDate=function(){return this.linkData.RemovedDate},n.prototype.setRemovedDate=function(n){this.linkData.RemovedDate=n},n.prototype.equals=function(n){var t,i,r;if(n&&this.baseLinkType===n.baseLinkType){for(t in this)if(t.substr(0,3)==="get"&&typeof this[t]=="function"&&(i=this[t].call(this),r=n[t].call(n),!yi.compareValues(i,r,!1)))return!1}else return!1;return!0},n.prototype.isDuplicate=function(n){return this.equals(n)},n.prototype.getArtifactLinkType=function(){return""},n.prototype.getAttributes=function(){var n={isDeleted:this.deleted,isNew:this.isNew()};return this._isResourceLinkType(this.linkData.FldID)?(n[at.WorkItemLinkConstants.ATTRIBUTES_AUTHORIZEDDATE]=this.linkData.AddedDate,n[at.WorkItemLinkConstants.ATTRIBUTES_ID]=this.linkData.ExtID,n[at.WorkItemLinkConstants.ATTRIBUTES_RESOURCECREATEDDATE]=this.linkData.CreationDate,n[at.WorkItemLinkConstants.ATTRIBUTES_RESOURCEMODIFIEDDATE]=this.linkData.LastWriteDate,n[at.WorkItemLinkConstants.ATTRIBUTES_REVISEDDATE]=this.linkData.RemovedDate,this.linkData.Length>0&&(n[at.WorkItemLinkConstants.ATTRIBUTES_RESOURCESIZE]=this.linkData.Length),this.linkData.Comment&&(n[at.WorkItemLinkConstants.ATTRIBUTES_COMMENT]=this.linkData.Comment),this.linkData.OriginalName&&(n[at.WorkItemLinkConstants.ATTRIBUTES_NAME]=this.linkData.OriginalName),n):this.linkData.FldID===at.DalFields.RelatedLinks?(n[at.WorkItemLinkConstants.ATTRIBUTES_ISLOCKED]=this.linkData.Lock,this.linkData.Comment&&(n[at.WorkItemLinkConstants.ATTRIBUTES_COMMENT]=this.linkData.Comment),n):null},n.prototype.getLinkUrl=function(){return this._isResourceLinkType(this.linkData.FldID)?this.linkData.FilePath:this.remoteHostId?et.getRemoteWorkItemRestUrl(this.remoteHostUrl,this.remoteProjectId,this.linkData.ID):or.getResourceUrl(this.workItem.store.getTfsContext(),this.linkData.ID)},n.prototype.getRelationLinkType=function(){switch(this.linkData.FldID){case at.DalFields.BISURI:return at.WorkItemLinkConstants.ARTIFACTLINKTYPE;case at.DalFields.AttachedFiles:return at.WorkItemLinkConstants.ATTACHEDLINKTYPE;case at.DalFields.LinkedFiles:return at.WorkItemLinkConstants.HYPERLINKLINKTYPE;default:return this instanceof wi?this.getLinkTypeEnd().immutableName:""}},n.prototype._isResourceLinkType=function(n){switch(n){case at.DalFields.BISURI:case at.DalFields.AttachedFiles:case at.DalFields.LinkedFiles:return!0;default:return!1}},n.getCountFieldId=function(n){var t;switch(n){case at.DalFields.AttachedFiles:t=at.CoreField.AttachedFileCount;break;case at.DalFields.RelatedLinks:t=at.CoreField.RelatedLinkCount;break;case at.DalFields.LinkedFiles:t=at.CoreField.HyperLinkCount;break;case at.DalFields.BISURI:t=at.CoreField.ExternalLinkCount}return t},n}();t.Link=bi;ir=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="ExternalLink",r}return __extends(t,n),t.create=function(n,i,r,u,f){return new t(n,{OriginalName:i,FilePath:r,Comment:u||"",FldID:at.DalFields.BISURI,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate,externalLinkContext:f})},t.prototype.getArtifactLinkType=function(){return this.linkData.OriginalName},t.prototype.getLinkedArtifactUri=function(){return this.linkData.FilePath},t.prototype.clone=function(n){return t.create(n,this.getArtifactLinkType(),this.getLinkedArtifactUri(),this.getComment())},t.prototype.isDuplicate=function(n){if(n instanceof t){var i=n;return this.getFieldId()===i.getFieldId()&&pt.equals(this.getLinkedArtifactUri(),i.getLinkedArtifactUri(),!0)&&pt.equals(this.getArtifactLinkType(),i.getArtifactLinkType(),!0)}return!1},t}(bi);t.ExternalLink=ir;lr=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="HyperLink",r}return __extends(t,n),t.create=function(n,i,r){return new t(n,{OriginalName:"",FilePath:i,Comment:r||"",FldID:at.DalFields.LinkedFiles,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate})},t.prototype.getArtifactLinkType=function(){return"Workitem Hyperlink"},t.prototype.getLocation=function(){return this.linkData.FilePath},t.prototype.clone=function(n){return t.create(n,this.getLocation(),this.getComment())},t.prototype.isDuplicate=function(n){if(n instanceof t){var i=n;return this.getFieldId()===i.getFieldId()&&pt.equals(this.getLocation(),i.getLocation(),!0)}return!1},t}(bi);t.Hyperlink=lr;wi=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="WorkItemLink",r}return __extends(t,n),t.create=function(n,i,r,u,f,e){var o,s;return typeof i=="object"?o=i.id:(s=n.store.findLinkTypeEnd(i),o=s.id),new t(n,{ID:r,LinkType:o,Comment:u||"",FldID:at.DalFields.RelatedLinks,"Changed Date":pi.FutureDate,"Revised Date":pi.FutureDate,isAddedBySystem:f,RemoteHostUrl:e&&e.remoteHostUrl,RemoteProjectId:e&&e.remoteProjectId,RemoteHostId:e&&e.remoteHostId,RemoteHostName:e&&e.remoteHostName})},t.prototype.getSourceId=function(){return this.workItem.id},t.prototype.getTargetId=function(){return this.linkData.ID},t.prototype.getAddedDate=function(){return this.linkData["Changed Date"]},t.prototype.getAddedBy=function(){return this.linkData["Changed By"]},t.prototype.getRemovedDate=function(){return this.linkData["Revised Date"]},t.prototype.setRemovedDate=function(n){this.linkData["Revised Date"]=n},t.prototype.getRemovedBy=function(){return this.linkData["Revised By"]||-1},t.prototype.getLinkType=function(){return this.linkData.LinkType},t.prototype.getLinkTypeEnd=function(){return this.linkTypeEnd||(this.linkTypeEnd=this.workItem.store.findLinkTypeEnd(this.getLinkType())),this.linkTypeEnd},t.prototype.clone=function(n){var r=this.getLinkTypeEnd(),i=r.linkType,u;if(i&&i.isActive&&i.topology!=="Unknown"&&!(i.isOneToMany&&r.isForwardLink))return u={remoteHostId:this.remoteHostId,remoteHostName:this.remoteHostName,remoteHostUrl:this.remoteHostUrl,remoteProjectId:this.remoteProjectId},t.create(n,r,this.getTargetId(),this.getComment(),!1,u)},t.prototype.isDuplicate=function(n){if(n instanceof t){var i=n;return this.getFieldId()===i.getFieldId()&&this.getLinkType()===i.getLinkType()&&this.getTargetId()===i.getTargetId()&&this.getSourceId()===i.getSourceId()&&this.remoteHostId===i.remoteHostId&&this.remoteProjectId===i.remoteProjectId}return!1},t}(bi);t.WorkItemLink=wi;rr=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.baseLinkType="Attachment",r.uploaded=!0,r}return __extends(t,n),t.prototype.getPlaceholderStatus=function(){return this.isPlaceholder},t.create=function(n,i,r,u,f,e,o,s){var h;return s?(h=new t(n,{OriginalName:i,Comment:"",ExtID:0,FldID:at.DalFields.AttachedFiles,Length:f,CreationDate:new Date,LastWriteDate:new Date,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate}),h.isPlaceholder=!0):(h=new t(n,{OriginalName:i,FilePath:r,Comment:u||"",ExtID:0,FldID:at.DalFields.AttachedFiles,Length:f,CreationDate:e||new Date,LastWriteDate:o||new Date,AddedDate:pi.FutureDate,RemovedDate:pi.FutureDate}),h.isPlaceholder=!1),h},t.prototype.clone=function(n){return t.create(n,this.linkData.OriginalName,this.linkData.FilePath,this.linkData.Comment,this.linkData.Length,this.linkData.CreationDate,this.linkData.LastWriteDate)},t.prototype.resolvePlaceholder=function(n,t,i){this.isPlaceholder=!1;this.linkData.FilePath=n;t!=null&&(this.linkData.CreationDate=t);i!=null&&(this.linkData.LastWriteDate=i);this._fireChanged()},t.prototype.getName=function(){return this.linkData.OriginalName},t.prototype.setName=function(n){this.linkData.OriginalName=n;this._fireChanged()},t.prototype.getLength=function(){return this.linkData.Length},t.prototype.setLength=function(n){this.linkData.Length=n;this._fireChanged()},t.prototype.getFilePath=function(){return this.linkData.FilePath},t.prototype.setFilePath=function(n){this.linkData.FilePath=n;this._fireChanged()},t.prototype.getUri=function(n){var t=this.workItem.project.store.tfsConnection.getHttpClient(ei.WorkItemTrackingHttpClient),i=this.workItem.project.guid,r=this.getName();return t.getAttachmentUrl(i,this.getFilePath(),r,n)},t.prototype.getContent=function(){var n=c.getClient(),t=this.workItem.project.guid,i=this.getName();return n.getAttachmentContent(this.getFilePath(),i,t,!0)},t.prototype.open=function(){ti.getService().performAction(ti.CommonActions.ACTION_WINDOW_OPEN,{url:this.getUri(!1),target:"_blank"})},t.prototype.save=function(){ti.getService().performAction(ti.CommonActions.ACTION_WINDOW_OPEN,{url:this.getUri(!0),target:"_blank"})},t.prototype._uploadComplete=function(n,t,i){this.uploaded=!0;this.linkData.OriginalName=n;this.linkData.FilePath=t;this.linkData.Length=i;this._fireChanged()},t.prototype.isDuplicate=function(){return!1},t}(bi);t.Attachment=rr,function(n){n[n.Value=1]="Value";n[n.CurrentValue=2]="CurrentValue";n[n.OriginalValue=4]="OriginalValue";n[n.OtherFieldCurrentValue=8]="OtherFieldCurrentValue";n[n.OtherFieldOriginalValue=16]="OtherFieldOriginalValue";n[n.CurrentUser=32]="CurrentUser";n[n.Clock=64]="Clock"}(di=t.RuleValueFrom||(t.RuleValueFrom={}));gr=function(){function n(n,t,i,r,u,f,e){this.executionPhase=tt.RuleEvaluatorExecutionPhase.DefaultRules;this.userChange=!1;this.valueLocked=!1;this.setByRule=!1;this.valueChanged=!1;this.setByDefaultRule=!1;this.setByComputedRule=!1;this.readOnly=!1;this.empty=!1;this.required=!1;this.frozen=!1;this.cannotLoseValue=!1;this.otherFields={};this.allowExistingValue=!1;this.validUser=!1;this.serverDefault=!1;this.isIdentityField=!1;this.whenCount=0;this.fieldId=n;this.workItem=t;this.field=i;this.value=r;this.originalValue=u;this.valueLocked=f;this.userChange=f;this.evalState=e;this.isIdentityField=i.fieldDefinition.isIdentity}return n.compareLists=function(n,t){var r,i;if(n!==t){if(!n||!t||(r=n.length,r!==t.length))return!1;for(i=0;i<r;i++)if(n[i].items!==t[i].items||n[i].globals!==t[i].globals)return!1}return!0},n.compareFieldLists=function(t,i){return t!==i&&(!t||!i||t.allowExistingValue!==i.allowExistingValue||!n.compareLists(t.allowedValues,i.allowedValues)||!n.compareLists(t.suggestedValues,i.suggestedValues)||!n.compareLists(t.prohibitedValues,i.prohibitedValues))?!1:!0},n.prototype.setExecutionPhase=function(n){this.executionPhase=n},n.prototype.evaluate=function(n){try{n&&(this.setExecutionPhase(tt.RuleEvaluatorExecutionPhase.CopyRules),this.Block(n),this.setExecutionPhase(tt.RuleEvaluatorExecutionPhase.DefaultRules),this.Block(n),this.setExecutionPhase(tt.RuleEvaluatorExecutionPhase.OtherRules),this.Block(n));this.validate()}catch(t){var i="Error occured in Rule Engine Evaluate. Name: ".concat(t.Name," Message: ").concat(t.message," Rules.length: ").concat(n.length," Rules.Information: ").concat(n.toString()," Stack: ").concat(t.stack);a.publishErrorToTelemetry(new Error(i))}},n.prototype.Block=function(n){for(var t,i=0,f=n.length,r,u;i<f;)r=n[i++],u=n[i++]||[],(t=this[r])===null||t===void 0?void 0:t.apply(this,u)},n.prototype.BlockWhenChangedProhibitedValuesOnly=function(n,t){for(var r=0,e=t.length,u,i,f;r<e;)u=t[r++],i=t[r++]||[],u==="ProhibitedValues"&&i[0]&&(f=i[0].filter(function(t){return t!==n}),this.ProhibitedValues(f,i[1]))},n.prototype.When=function(n,t,i,r,u){i=this._getValueFrom(r,i);var f=this._isIdentityField(t),e=r==di.Value&&f;(this._areValuesEqual(t,this._getFieldValue(t,!1),i,!0,e)?!n:n)&&(this.whenCount++,this.Block(u),this.whenCount--)},n.prototype.WhenWas=function(n,t,i,r,u){i=this._getValueFrom(r,i);var f=this._isIdentityField(t),e=r==di.Value&&f;(this._areValuesEqual(t,this._getFieldValue(t,!0),i,!0,e)?!n:n)&&(this.whenCount++,this.Block(u),this.whenCount--)},n.prototype.WhenChanged=function(n,t,i){var r=this._areValuesEqual(t,this._getFieldValue(t,!1),this._getFieldValue(t,!0),!0);(r?n:!n)?(this.whenCount++,this.Block(i),this.whenCount--):t!=ru||!r||n||y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.TypeScriptRuleEngineStateTransitionFilteringDisabled)||(this.whenCount++,this.BlockWhenChangedProhibitedValuesOnly(this._getFieldValue(t,!0),i),this.whenCount--)},n.prototype.WhenBecameNonEmpty=function(n,t,i){(this._areValuesEqual(t,this._getFieldValue(t,!0),null,!0)&&!this._areValuesEqual(t,this._getFieldValue(t,!1),null,!0)?!n:n)&&(this.whenCount++,this.Block(i),this.whenCount--)},n.prototype.WhenRemainedNonEmpty=function(n,t,i){(this._areValuesEqual(t,this._getFieldValue(t,!0),null,!0)||this._areValuesEqual(t,this._getFieldValue(t,!1),null,!0)?n:!n)&&(this.whenCount++,this.Block(i),this.whenCount--)},n.prototype.OtherField=function(n,t,i){if(this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules){var r=this._getFieldValue(n,i);this.otherFields[n]=r;this.otherFieldCheck=t;t==="same-as"&&!this.userChange&&i&&(this.value=r,this.setByRule=!0,this.valueChanged=!0)}},n.prototype.Map=function(n,t,i,r){var e=this,h,u,c,f,s,l,o;this.executionPhase===tt.RuleEvaluatorExecutionPhase.CopyRules&&(h=this._getFieldValue(n,!1),t?(s=this.evalState[n+""],l=s&&s.prevValue!==undefined?s.prevValue:this._getFieldValue(n,!1),this._areValuesEqual(n,this._getFieldValue(n,!1),l,!0)||this.userChange||(i!=null&&$.each(i,function(t,i){return i.values&&$.each(i.values,function(t,r){if(e._areValuesEqual(n,h,r,!0))return o=i.case,!1}),o?!1:void 0}),o===undefined||this._areValuesEqual(n,o,this.value,!0)||(this.value=o,this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0))):(this.userChange||(i!=null&&$.each(i,function(t,i){if(e._areValuesEqual(n,h,i.case,!0))return u=i,!1}),u||(u=r),u&&(c=!1,u.values&&$.each(u.values,function(t,i){if(e._areValuesEqual(n,i,e.value,!0))return c=!0,!1}),c||(u.default?bt.contains(u.values,this.originalValue)?(this.value=this.originalValue,this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0):this._areValuesEqual(n,u.default,this.value,!0)||(this.value=u.default,this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0):(this.value=u.values&&u.values[0],this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0)))),this.allowedValues||(this.allowedValues=[]),f=[],i!=null&&$.each(this._getAllowedValues(n),function(t,r){var u;$.each(i,function(t,i){if(e._areValuesEqual(n,r,i.case,!0))return u=i,!1});u&&(f=yi.union(f,u.values,!0))}),r&&(f=yi.union(f,r.values,!0)),this.allowedValues.push({items:f})))},n.prototype.AllowExistingValue=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.allowExistingValue=!0)},n.prototype.ReadOnly=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.readOnly=!0,this.userChange||(this.value=this.originalValue,this.setByRule=!0,this.valueChanged=!0))},n.prototype.Empty=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.empty=!0,this.userChange||(this.value=undefined,this.setByRule=!0,this.valueChanged=!0))},n.prototype.Required=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.required=!0)},n.prototype.Frozen=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.frozen=!0,!this.userChange&&this.originalValue&&(this.value=this.originalValue,this.setByRule=!0,this.valueChanged=!0))},n.prototype.CannotLoseValue=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.cannotLoseValue=!0)},n.prototype.ValidUser=function(){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.validUser=!0)},n.prototype.Copy=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.CopyRules&&(this.valueLocked||(this.value=this._getValueFrom(n,t),this.valueLocked=!0,this.setByRule=!0,this.valueChanged=!0))},n.prototype.Default=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.DefaultRules&&(this.valueLocked||yi.isEmpty(this.value)&&(this.value=this._getValueFrom(n,t),this.valueLocked=!0,this.setByRule=!0,this.setByDefaultRule=!0,this.valueChanged=!0))},n.prototype.AllowedValues=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.allowedValues||(this.allowedValues=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.allowedValues.push({items:n,globals:t}))},n.prototype.SuggestedValues=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.suggestedValues||(this.suggestedValues=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.suggestedValues.push({items:n,globals:t}))},n.prototype.ProhibitedValues=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.prohibitedValues||(this.prohibitedValues=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.prohibitedValues.push({items:n,globals:t}))},n.prototype.Match=function(n,t){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.patterns||(this.patterns=[]),n&&bt.flagSorted(n,pt.localeIgnoreCaseComparer),this.patterns.push({items:n,globals:t}))},n.prototype.ServerDefault=function(n){this.executionPhase===tt.RuleEvaluatorExecutionPhase.CopyRules&&(this.value=new ki(n,this.originalValue),this.serverDefault=!0,this.valueLocked=!0,this.setByRule=!0,this.setByDefaultRule=!0,this.valueChanged=!0)},n.prototype.Computed=function(n){if(this.executionPhase===tt.RuleEvaluatorExecutionPhase.DefaultRules&&!this.valueLocked){var t=this.workItem.computeFieldValue(this.field,n);t&&t.success&&(this.value=t.value,this.valueLocked=!0,this.setByRule=!0,this.setByComputedRule=!0,this.valueChanged=!0)}},n.prototype.Trigger=function(n){var t=this;this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&n&&(this.triggerFields||(this.triggerFieldMap={},this.triggerFields=[]),$.each(n,function(n,i){var r=i+"";t.triggerFieldMap.hasOwnProperty(r)||(t.triggerFieldMap[r]=!0,t.triggerFields.push(i))}))},n.prototype.ScopedIdentity=function(n,t,i,r,u){this.executionPhase===tt.RuleEvaluatorExecutionPhase.OtherRules&&(this.whenCount>0||!this.filterByScope)&&(this.filterByScope=new yr(i,t,n,r,u))},n.prototype.validate=function(){var i,t=this.field,r,e,s,y,h,it,c,p,l,w,o,a,b,k,v,d,g;this.originalFieldStatus=t.status;t.status=tt.FieldStatusFlags.None;var u=t.workItem.store,f=yi.convertValueToInternal(u,this.originalValue,t.fieldDefinition.type),nt=yi.convertValueToInternal(u,this.value,t.fieldDefinition.type);if(i=nt.value,t.status|=nt.status,this.setByRule&&(t._setValue(i,this.setByRule),t.status|=tt.FieldStatusFlags.SetByRule),this.setByDefaultRule&&(t.status|=tt.FieldStatusFlags.SetByDefaultRule),this.setByComputedRule&&(t.status|=tt.FieldStatusFlags.SetByComputedRule),(this.readOnly||this.serverDefault||this.empty)&&(t.status|=tt.FieldStatusFlags.ReadOnly),this.cannotLoseValue&&(yi.isEmpty(this.originalValue)||(this.required=!0)),this.required&&(t.status|=tt.FieldStatusFlags.Required),r={},r.allowedValues=this.allowedValues,this.allowedValues&&this.allowedValues.length>0&&(t.status|=tt.FieldStatusFlags.HasValues,t.status|=tt.FieldStatusFlags.LimitedToValues),r.suggestedValues=this.suggestedValues,this.suggestedValues&&this.suggestedValues.length>0&&(t.status|=tt.FieldStatusFlags.HasValues,t.status&=~tt.FieldStatusFlags.LimitedToValues),r.prohibitedValues=this.prohibitedValues,r.allowExistingValue=this.allowExistingValue,n.compareFieldLists(t.lists,r)||(t.lists=r,t.allowedValues=null),this.allowExistingValue&&(t.status|=tt.FieldStatusFlags.AllowsOldValue),this.patterns&&this.patterns.length>0)for(e=yi.unionLists(u,this.patterns[0].items,this.patterns[0].globals),s=0,y=this.patterns;s<y.length;s++)o=y[s],e=yi.intersect(e,yi.unionLists(u,o.items,o.globals),!0);if(t.fieldDefinition.isIdentity&&(t.filterByScope=this.filterByScope),t.patterns=e,e&&(t.status|=tt.FieldStatusFlags.HasFormats),yi.isEmpty(i)){if(!this.empty){if(t.isRequired()){t.status|=tt.FieldStatusFlags.Required;t.status|=tt.FieldStatusFlags.InvalidEmpty;return}if(typeof this.otherFieldCheck!="undefined")for(h in this.otherFields)if(yi.isEmpty(this.otherFields[h])){if(this.otherFieldCheck==="not-same-as"){t.status|=tt.FieldStatusFlags.Required;t.status|=tt.FieldStatusFlags.InvalidValueNotInOtherField;return}}else if(this.otherFieldCheck==="same-as"){t.status|=tt.FieldStatusFlags.Required;t.status|=tt.FieldStatusFlags.InvalidValueInOtherField;return}}return}if(this.empty){t.status&=~tt.FieldStatusFlags.ReadOnly;t.status|=tt.FieldStatusFlags.InvalidNotEmpty;return}if(this.readOnly&&!this.serverDefault&&!this.setByDefaultRule&&!this._areValuesEqual(t.fieldDefinition.id,i,f.value)){t.status|=tt.FieldStatusFlags.InvalidNotOldValue;return}if(typeof this.otherFieldCheck!="undefined")for(h in this.otherFields)if(this._areValuesEqual(t.fieldDefinition.id,i,this.otherFields[h])){if(this.otherFieldCheck==="not-same-as"){t.status|=tt.FieldStatusFlags.InvalidValueInOtherField;return}}else if(this.otherFieldCheck==="same-as"){t.status|=tt.FieldStatusFlags.InvalidValueNotInOtherField;return}if(this.frozen&&!yi.isEmpty(f.value)&&!this._areValuesEqual(t.fieldDefinition.id,i,f.value)){t.status|=tt.FieldStatusFlags.InvalidNotEmptyOrOldValue;return}if(t.fieldDefinition.type===at.FieldType.TreePath&&!this.workItem.isChangeProjectInProgress()&&(it=this.workItem.project.nodesCacheManager.getReferencedNode({path:i,nodeType:t.fieldDefinition.id===at.CoreField.AreaPath?1:2}),!it)){this.workItem.project.nodesCacheManager.isNodesCacheAvailable()?t.status|=tt.FieldStatusFlags.InvalidPath:this.workItem.project.nodesCacheManager.beginGetNodes().then(function(){t.setValue(i,{forceEvaluate:!0})});return}if(!(this.serverDefault||i instanceof ki)){if(c=i===undefined||i===null?"":""+i,t.patterns){for(p=!1,l=0,w=t.patterns;l<w.length;l++)if(o=w[l],yi.isMatch(o,c)){p=!0;break}if(!p){t.status|=tt.FieldStatusFlags.InvalidFormat;return}}if(r.prohibitedValues)for(a=0,b=r.prohibitedValues;a<b.length;a++)if(k=b[a],yi.inList(u,c,k.items,k.globals,!0)){t.status|=tt.FieldStatusFlags.InvalidListValue;return}if(this.allowExistingValue&&!yi.isEmpty(f.value)&&this._areValuesEqual(t.fieldDefinition.id,i,f.value))return;if(r.allowedValues)for(v=0,d=r.allowedValues;v<d.length;v++)if(g=d[v],!yi.inList(u,c,g.items,g.globals,!0)){t.status|=tt.FieldStatusFlags.InvalidListValue;return}}},n.prototype._isIdentityField=function(n){var t=this.workItem.getField(n);return t&&t.fieldDefinition.isIdentity},n.prototype._getFieldValue=function(n,t){return n===this.fieldId?t?this.originalValue:this.value:this.workItem._getFieldValueById(n,t)},n.prototype._getValueFrom=function(n,t){switch(n){case di.Clock:return new Date;case di.CurrentUser:return this.workItem.store.getCurrentUserName();case di.OtherFieldOriginalValue:return this._getFieldValue(t,!0);case di.OtherFieldCurrentValue:return this._getFieldValue(t,!1);case di.Value:return t;case di.CurrentValue:return this.value;case di.OriginalValue:return this.originalValue;default:return t}},n.prototype._areValuesEqual=function(n,t,i,r,u){return this.workItem.fieldMapById[n]&&this.workItem.fieldMapById[n].fieldDefinition.type==at.FieldType.Boolean&&(t=this._translateToBoolData(t),i=this._translateToBoolData(i)),yi.compareValues(t,i,r,u)},n.prototype._translateToBoolData=function(n){return n&&(n==1||String(n).toLowerCase()==="true")?1:0},n.prototype._getAllowedValues=function(n){return this.workItem.getField(n).getAllowedValues()},n}();vr=function(){function n(n,t){var i,u;if(this.workItem=n,this.fieldRules={},t)for(i=0,u=t;i<u.length;i++){var f=u[i],e=f.fieldId+"",r=this.fieldRules[e];r||(this.fieldRules[e]=r=[]);r.push("Block");r.push([f.rules])}}return n.prototype.evaluateFields=function(n){var r={},t,i,u;if(n)for(t=0,i=n;t<i.length;t++)u=i[t],this._evaluateFieldRule(u,r,!1);return this._evalStateToChangedFields(r)},n.prototype.evaluateField=function(n,t,i){var r={};return this._evaluateFieldRule(n,r,t,i),this._evalStateToChangedFields(r)},n.prototype._evalStateToChangedFields=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(+i);return t},n.prototype._evaluateFieldRule=function(n,t,i,r){var c=this,f=this.workItem.getField(n),e,o;if(f){var u=n+"",s=f._getValue(),h=!1;t[u]&&t[u].requiresControlUpdate&&(h=!0);t[u]={state:!0,prevValue:r===undefined?s:r,requiresControlUpdate:!1||h};e=new gr(n,this.workItem,f,s,f._getValue(!0),i||!1,t);e.evaluate(this.fieldRules[u]);o=void 0;o=i?!0:!yi.compareValues(s,f._getValue());o&&(t[u].requiresControlUpdate=!0);o&&e.triggerFields&&$.each(e.triggerFields,function(n,i){var r=t[i+""];r&&r.state||c._evaluateFieldRule(i,t,!1)});t[u].state=!1}},n}();t.RuleEngine=vr;ki=function(){function n(n,t){this.type=tt.ServerDefaultValueType.None;this.type=n;this.value=t}return n.prototype.toString=function(){return""+this.value},n.prototype.valueOf=function(){return this.value},n}();t.ServerDefaultValue=ki;sr=function(){function n(n,t,i){this.fieldId=n;this.fieldValue=t;this.scope=i}return n.prototype.toString=function(){return JSON.stringify({fieldId:this.fieldId,fieldValue:this.fieldValue,scope:{filterByScope:p.FilterByScope.GetHashCode(this.scope),nonIdentities:this.scope&&this.scope.nonIdentities,excludeGroups:this.scope&&this.scope.excludeGroups}})},n.prototype.equals=function(n){return n.toString()===this.toString()},n}();t.FieldValidationKey=sr;yr=function(n){function t(t,i,r,u,f){var e=__construct(this,n,[t,i]);for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);return e.nonIdentities=r||[],e.displayNames=u||[],e.excludeGroups=f||!1,e}return __extends(t,n),t.equals=function(n,t){var i,r,u,f;return n==null&&t==null?!0:p.FilterByScope.GetHashCode(n)!==p.FilterByScope.GetHashCode(t)?!1:(i=n.nonIdentities==null?0:n.nonIdentities.length,r=t.nonIdentities==null?0:t.nonIdentities.length,i!=r)?!1:(u=n.nonIdentities==null?"":n.nonIdentities.sort().join(","),f=t.nonIdentities==null?"":t.nonIdentities.sort().join(","),pt.equals(u,f,!0))},t}(p.FilterByScope);t.WorkItemIdentityScope=yr;nu="WITData";pr=function(){function n(n,t){this._tfsContext=n;this._cacheStampManager=t;this._workItemIndexDBCacheManager=new f.WorkItemIndexDBCacheManager;this._cacheInformationManager=new it.WorkItemMetadataCacheInformationManager;this._dataSources=d.getDataSources(n,t,this._cacheInformationManager)}return n.prototype.beginGetWorkItemData=function(n,t,i,r){var u=this;return this._getDataFromSource(function(f){return f.beginGetWorkItemData(u._tfsContext.navigation.projectId,n,t,i,r)})},n.prototype.beginGetLinkTypes=function(){return this._getDataWithCache(this._tfsContext.navigation.collection.instanceId,at.WITCommonConstants.LinkTypes,"_",function(n){return n.beginGetLinkTypes()})},n.prototype.beginGetFieldProjectData=function(n){return this._getDataWithCache(n,at.WITCommonConstants.TeamProjects,n,function(t){return t.beginGetFieldProjectData(n)})},n.prototype.beginGetFields=function(){return(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({action:"fields",controller:"wit"},null,this._tfsContext.navigation.collection.instanceId,at.WITCommonConstants.Fields,"_").then(function(n){return n.data})},n.prototype.beginGetWorkItemTypeData=function(n,t){var i=this;return y.FeatureAvailabilityService.isFeatureEnabled(u.FeatureAvailabilityFlags.DisableWorkItemTypesSplittedLoading)?t.length===1?this._getDataWithCache(n,at.WITCommonConstants.WorkItemTypes,t[0],function(i){return i.beginGetWorkItemTypeData(n,t)}):this._getDataFromSource(function(i){return i.beginGetWorkItemTypeData(n,t)}).then(function(t){return i._cacheStampManager.getMetadataCacheStamp(at.WITCommonConstants.WorkItemTypes).then(function(r){return Promise.all(t.map(function(t){return i._workItemIndexDBCacheManager.cacheData(n,at.WITCommonConstants.WorkItemTypes,i._transformKey(t.name),[t],r).then(function(t){t&&i._cacheInformationManager&&i._cacheInformationManager.persist(n,at.WITCommonConstants.WorkItemTypes,t,r)}).catch(function(n){o.traceMessage(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"CacheData",ai.WITCustomerIntelligenceFeature.WIT_CACHE_PROVIDER_INIT,n)})})).then(function(){return t})})}):(new e.WorkItemStoreLevelWITDataSource).getDataFromCacheAsync({action:"workItemTypes",controller:"wit"},{projectId:n,typeNames:t},n,at.WITCommonConstants.WorkItemTypes,"_").then(function(n){return n.data})},n.prototype._getDataWithCache=function(n,t,i,r){var u=this;return i=this._transformKey(i),this._cacheStampManager.getMetadataCacheStamp(t).then(function(f){return u._workItemIndexDBCacheManager.getDataFromCache(n,t,i,f).then(function(n){return n?{resolvedFromCache:!0,data:n}:u._getDataFromSource(r).then(function(n){return{resolvedFromCache:!1,data:n}})}).then(function(r){var s=r.resolvedFromCache,e=r.data;return e&&!s?u._workItemIndexDBCacheManager.cacheData(n,t,i,e,f).then(function(i){return i&&u._cacheInformationManager&&u._cacheInformationManager.persist(n,t,i,f),e}).catch(function(n){return o.traceMessage(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,"CacheData",ai.WITCustomerIntelligenceFeature.WIT_CACHE_PROVIDER_INIT,n),e}):e})})},n.prototype._getDataFromSource=function(n,t){return t===void 0&&(t=0),__awaiter(this,void 0,void 0,function(){var i,r,u,f=this;return __generator(this,function(e){switch(e.label){case 0:return(i=function(){return t+1<f._dataSources.length?f._getDataFromSource(n,t+1):null},r=n(this._dataSources[t]),!!r)?[3,1]:[2,i()];case 1:return[4,r];case 2:return(u=e.sent(),!u)?[2,i()]:[2,u]}})})},n.prototype._transformKey=function(n){return n.toLowerCase()},n.prototype._recordTelemetry=function(n,t,i,r,u,f){hi.publishEvent(new hi.TelemetryEventData(ai.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,nu,{scopeId:n,type:t,key:i,stamp:r,message:u,cachedData:f}))},n._resolvedPromise=Promise.resolve(null),n}();t.WorkItemDataManager=pr;rt.registerLinkForms();i.tfsModuleLoaded("TFS.WorkItemTracking",t)});

define("WorkItemTracking/Scripts/TFS.UI.Tags.Constants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TAG_ELLIPSIS=t.TAG_SPLITTING_SEPARATOR=t.TAG_FORMATTING_SEPARATOR=t.TAG_CHARACTER_LIMIT=void 0;t.TAG_CHARACTER_LIMIT=30;t.TAG_FORMATTING_SEPARATOR="; ";t.TAG_SPLITTING_SEPARATOR=/[,;]/;t.TAG_ELLIPSIS="..."});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("Presentation/Scripts/TFS/FeatureRef/TFS.TagService",["require","exports","Presentation/Scripts/TFS/TFS.Service","VSS/Context","VSS/Contributions/Services","VSS/Diag","VSS/Service","VSS/Settings/Services","VSSPreview/Utilities/PromiseUtils","VSS/Utils/Array"],function(n,t,i,r,u,f,e,o,s,h){var c,l;Object.defineProperty(t,"__esModule",{value:!0});t.TagService=t.TagsKind=void 0,function(n){n[n.WorkItem=0]="WorkItem";n[n.PullRequest=1]="PullRequest"}(c=t.TagsKind||(t.TagsKind={}));l=function(n){function t(){var t=n.call(this)||this;return t._tagNamesCache={},t}return __extends(t,n),t.prototype.beginQueryTagNames=function(n,i,o,s){var v=this,y,h,l,a;if(f.Debug.assertParamIsFunction(o,"callback"),f.Debug.assertParamIsStringNotEmpty(i,"projectScope"),y=n===c.WorkItem?t.WORK_ITEM_ARTIFACT_KIND:t.PULL_REQUEST_LABELS_ARTIFACT_KIND,h=this._getCacheKey(n,i),this._tagNamesCache.hasOwnProperty(h)){f.logTracePoint("TagService.queryTagNamesCached.start");l=this._tagNamesCache[h];f.logTracePoint("TagService.queryTagNamesCached.completed");o(l);return}f.logTracePoint("TagService.tagNamesDataProvider.start");a=n===c.WorkItem?t.WORK_ITEM_TAGS_DATA_PROVIDER_ID:t.PULL_REQUEST_LABELS_DATA_PROVIDER_ID;e.getService(u.WebPageDataService,r.getDefaultWebContext()).getDataAsync(a,null,{projectScope:i}).then(function(n){var t=n||[];v._tagNamesCache[h]=t;f.logTracePoint("TagService.tagNamesDataProvider.completed");o(t)},s)},t.prototype.invalidateCacheForArtifactKinds=function(n,t){var i=this._getCacheKey(n,t);this._tagNamesCache.hasOwnProperty(i)&&delete this._tagNamesCache[i]},t.prototype.addTagsToCacheForArtifactKinds=function(n,t,i){var o=this._getCacheKey(t,i),u,r,f,e;if(this._tagNamesCache.hasOwnProperty(o))for(u=this._tagNamesCache[o],r=0,f=n;r<f.length;r++)e=f[r],u.indexOf(e)===-1&&u.push(e)},t.prototype._getCacheKey=function(n,t){return"".concat(t.toLowerCase(),"-").concat(n)},t.prototype.getTagsMru=function(){var n=this;return this._tagsMruCache?Promise.resolve(this._tagsMruCache.slice()):s.toNativePromise(o.getService().getEntriesAsync(t.TAGS_MRU_SETTINGS_KEY,0).then(function(i){var r=i&&i.value&&i.value[t.TAGS_MRU_TAGS_KEY]||[];return n._tagsMruCache=h.subtract(r,[";;;;;",";SUGGESTIONS;"]),n._tagsMruCache.slice()}))},t.prototype.addTagsMru=function(n){return __awaiter(this,void 0,void 0,function(){var u,f,i,e,r;return __generator(this,function(c){switch(c.label){case 0:return[4,this.getTagsMru()];case 1:return u=c.sent(),f=h.subtract(u,n),i=n.concat(f),i.splice(t.TAGS_MRU_MAX_LENGTH),this._tagsMruCache=i,e="".concat(t.TAGS_MRU_SETTINGS_KEY,"/").concat(t.TAGS_MRU_TAGS_KEY),r={},r[e]=i,[2,s.toNativePromise(o.getService().setEntries(r,0))]}})})},t.prototype.dispose=function(){},t.ServiceLifetime=e.ServiceLifetime.ClearOnFPS,t.WORK_ITEM_ARTIFACT_KIND="E7626DBD-6075-416C-A31E-DFD48FE3CFDE",t.PULL_REQUEST_LABELS_ARTIFACT_KIND="F22387E3-984E-4C52-9C6D-FBB8F14C812D",t.WORK_ITEM_TAGS_DATA_PROVIDER_ID="ms.vss-work-web.work-item-tag-suggestions-data-provider",t.PULL_REQUEST_LABELS_DATA_PROVIDER_ID="ms.vss-code-web.pull-request-label-suggestions-data-provider",t.TAGS_MRU_SETTINGS_KEY="TagsMru",t.TAGS_MRU_TAGS_KEY="Tags",t.TAGS_MRU_MAX_LENGTH=5,t}(i.TfsService);t.TagService=l});

define("WorkItemTracking/Scripts/Utils/TagUtils",["require","exports","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/Array","VSS/Utils/String","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/TFS.UI.Tags.Constants","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/FeatureRef/TFS.TagService","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common"],function(n,t,i,r,u,f,e,o,s,h,c,l){Object.defineProperty(t,"__esModule",{value:!0});t.TagUtils=void 0;var a;(function(n){function a(t,i){var e=t.getField(f.CoreField.Tags);if(e&&!e.isReadOnly()&&e.isEditable()){if(u.equals(i.fieldName+"",n.getTagsAddPseudoFieldName(e.fieldDefinition.name),!0)||u.equals(i.fieldName+"",n.AddTagsPseudoRefName,!0)){var o=n.splitAndTrimTags(e.getValue()),s=n.splitAndTrimTags(i.value),h=r.union(o,s,u.localeIgnoreCaseComparer);return e.setValue(n.formatTags(h)),s.length}if(u.equals(i.fieldName+"",n.getTagsRemovePseudoFieldName(e.fieldDefinition.name),!0)||u.equals(i.fieldName+"",n.RemoveTagsPseudoRefName,!0)){var o=n.splitAndTrimTags(e.getValue()),c=n.splitAndTrimTags(i.value),h=r.subtract(o,c,u.localeIgnoreCaseComparer);return e.setValue(n.formatTags(h)),-c.length}}return 0}function v(i){var s={},h=[],a=i.getFieldValue(f.CoreField.Tags,!0),r,e,o,c,l,v;for(a&&(h=n.splitAndTrimTags(a).sort(u.localeIgnoreCaseComparer)),r=h,i.isFieldDirty(f.CoreField.Tags)&&(r=n.splitAndTrimTags(i.getFieldValue(f.CoreField.Tags)).sort(u.localeIgnoreCaseComparer)),e=[],o=0,c=h;o<c.length;o++)l=c[o],v=r.indexOf(l),v===-1&&e.push(l);return e.length>0&&(s[n.RemoveTagsPseudoRefName]=t(e)),r.length>0&&(s[n.AddTagsPseudoRefName]=t(r)),s}function y(t){var o={added:!1,removed:!1},i=[],s=t.getFieldValue(f.CoreField.Tags,!0),e,h,c;return s&&(i=n.splitAndTrimTags(s).sort(u.localeIgnoreCaseComparer)),e=i,t.isFieldDirty(f.CoreField.Tags)&&(e=n.splitAndTrimTags(t.getFieldValue(f.CoreField.Tags)).sort(u.localeIgnoreCaseComparer)),h=r.first(e,function(n){return!r.contains(i,n)}),c=r.first(i,function(n){return!r.contains(e,n)}),o.added=!!h,o.removed=!!c,o}function p(t){var u=[],e=t.getFieldValue(f.CoreField.Tags,!0),i;return e&&(u=n.splitAndTrimTags(e)),i=[],t.isFieldDirty(f.CoreField.Tags)&&(i=n.splitAndTrimTags(t.getFieldValue(f.CoreField.Tags))),r.subtract(i,u)}function w(t){var i,r,u;o.FeatureAvailabilityService.isFeatureEnabled(s.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)||(i=n.getWorkItemAddedTags(t),i.length>0&&(r=c.TfsContext.getDefault(),u=l.ProjectCollection.getConnection(r).getService(h.TagService),u.addTagsMru(i)))}function b(n){return"".concat(n," (").concat(i.BulkEditTagsAdd,")")}function k(n){return"".concat(n," (").concat(i.BulkEditTagsRemove,")")}function d(n){var f,i,t,r,o,u;if(!n)return[];for(f=n.split(e.TAG_SPLITTING_SEPARATOR),i=[],t=0,r=f;t<r.length;t++)o=r[t],u=o.trim(),u&&i.push(u);return i}function t(n){return n.join("; ")}n.tryProcessTagsChanges=a;n.AddTagsPseudoRefName="System.Tags-Add";n.RemoveTagsPseudoRefName="System.Tags-Remove";n.getTagPseudoFieldValues=v;n.areTagsAddedRemoved=y;n.getWorkItemAddedTags=p;n.updateTagsMru=w;n.getTagsAddPseudoFieldName=b;n.getTagsRemovePseudoFieldName=k;n.splitAndTrimTags=d;n.formatTags=t})(a=t.TagUtils||(t.TagUtils={}))});

define("WorkItemTracking/Scripts/OM/WorkItemManager",["require","exports","Presentation/Scripts/TFS/MVCToDataProviderDataSources/Trace","q","VSS/Events/Action","VSS/LWP","VSS/Navigation/HubsService","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String","WorkItemTracking/Scripts/MruClassificationPicker/Stores/ClassificationFieldsMruStore","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Utils/TagUtils","VSS/VSS","VSS/Diag","VSS/Events/Document","VSS/Events/Handlers","VSS/Events/Services","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Utils/Core","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g){function rt(){return l.createError("Operation Canceled.",{name:c.Exceptions.OperationCanceledException})}var tt,it,nt;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemManager=void 0;tt=f.getLWPModule("VSS/Platform/FPS");it=function(){function n(n){this.workItemManager=n}return n.prototype.workItemsChanged=function(n){if(n.change===c.WorkItemChangeType.Saved&&n.changedWorkItemLinks){var t=n.changedWorkItemLinks.filter(function(n){return!n.linkData.RemoteHostId});this.updateWorkItemLinkTargets(t);this._fireEventsForWorkItemLinkTargets(t)}},n.prototype.updateWorkItemLinkTargets=function(n){for(var t,i,u=this.workItemManager,r=0,f=n.length;r<f;r++)t=n[r],i=u.getWorkItem(t.targetId),i&&(t.command==="add"?this.addWorkItemLink(i,t):t.command==="remove"&&this.deleteWorkItemLink(i,t))},n.prototype.addWorkItemLink=function(n,t){var r=t.linkData,f=n.store.findLinkTypeEnd(r.LinkType).oppositeEnd,e=f.id,o=this.findWorkItemLink(n,t.sourceId,e),i,u;o?o.linkData["Changed Date"]=r["Changed Date"]:(i=$.extend({},r),i.ID=t.sourceId,i.LinkType=e,n.allLinks.push(new l.WorkItemLink(n,i)));n.linksUpdatedExternally();n.resetLinks();u=[g.DalFields.RelatedLinks,g.DalFields.HistoryId];n.getField(g.DalFields.Parent)&&f.id===c.CoreLinkTypes.Parent&&u.push(g.DalFields.Parent);n.fireFieldChange(u)},n.prototype.deleteWorkItemLink=function(n,t){var i,r=t.linkData,f=n.store.findLinkTypeEnd(r.LinkType).oppositeEnd,e=f.id,u;i=this.findWorkItemLink(n,t.sourceId,e);i&&(i.linkData["Revised Date"]=r["Revised Date"],i.linkData["Revised By"]=r["Revised By"]);n.linksUpdatedExternally();n.resetLinks();u=[g.DalFields.RelatedLinks,g.DalFields.HistoryId];n.getField(g.DalFields.Parent)&&f.id===c.CoreLinkTypes.Parent&&u.push(g.DalFields.Parent);n.fireFieldChange(u)},n.prototype.findWorkItemLink=function(n,t,i){for(var f=n.getLinks(),r,u=0,e=f.length;u<e;u++)if(r=f[u],r instanceof l.WorkItemLink&&r.getTargetId()===t&&r.getLinkType()===i)return r},n.prototype._fireEventsForWorkItemLinkTargets=function(n){var u=this,t={},i,r;n.forEach(function(n){var i=n.targetId,r=u.workItemManager.getWorkItem(i);r&&(t[i]||(t[i]=[]),t[i].push(n))});for(i in t)r=this.workItemManager.getWorkItem(Number(i)),r.fireWorkItemLinksUpdatedByOtherWorkItem({changedWorkItemLinks:t[i]})},n}();nt=function(){function n(t){var i=this;this.hasDirtyManager=!1;this._downloading=!1;this._postXHRNavigate=function(){i.resetDirtyWorkItems();r.fcall(function(){return i.registerRunningDocumentEntry()})};this._deletingOrRestoringMessageDelegate=function(){if(!p.getRunningDocumentsTable().isModified()&&i.store.isDeletingOrRestoring())return k.DeleteOrRestoreConfirmationMessage};this._showDirtyConfirmationDialog=function(n){var r=n.unloadText,t=n.detail;v.requireModules(["VSS/Controls/Dialogs"]).spread(function(n){var u={dialogClass:"dirty-workitem-confirmation-dialog",defaultButton:n.MessageDialog.buttons.cancel.id,escapeButton:n.MessageDialog.buttons.cancel,noDefaultButton:!0,noAutoCta:!0,buttons:[{id:"discard",text:k.DiscardChanges,reject:!1,style:"cta savebtn"},n.MessageDialog.buttons.cancel,],title:o.UnsavedChangesMessageTitle},f=function(){t.data.skipUnloadText=!0;tt.FastPageSwitch(t.pageContext,t.href,t.recordHistoryEntry,t.data)},e=r+"\n"+k.UnsavedWorkItemActionsMessage,s=$("<div/>").css("white-space","pre-wrap").html(e);n.showMessageDialog(s,u).then(function(){i.resetDirtyWorkItems();f()});$(".dirty-workitem-confirmation-dialog .savebtn").focus()})};this.store=t;this._cache={};this._pinCounts={};this._pendingWorkitems={};this._workItemChangedDelegate=d.delegate(this,this.onWorkItemChanged);this._events=new w.NamedEventCollection;this._linkManager=new it(this);this._updateClassificationMruThrottledDelegate=d.throttledDelegate(this,100,this._updateClassificationMru);this._cleanerTimer=window.setInterval(function(){i.cleanCache()},n.cacheCleanupTimeout);u.getService().registerActionWorker(u.CommonActions.SHOW_DIRTY_CONFIRMATION_DIALOG,this._showDirtyConfirmationDialog);b.getService().attachEvent(e.HubEventNames.PostXHRNavigate,this._postXHRNavigate);this.registerRunningDocumentEntry()}return n._initialize=function(){b.getService().attachEvent(c.Actions.WORKITEM_DELETED,n._onWorkItemDeleted);b.getService().attachEvent(c.Actions.WORKITEM_RESTORED,n._onWorkItemRestored);b.getService().attachEvent(c.Actions.WORKITEM_DESTROYED,n._onWorkItemDestroyed);b.getService().attachEvent(c.Actions.WORKITEM_DISCARDED,n._onWorkItemDiscarded);b.getService().attachEvent(c.Actions.WORKITEM_ID_UPDATED,n._onWorkItemIdUpdated);b.getService().attachEvent(c.Actions.WORKITEM_COPIED,n._onWorkItemCopied)},n.get=function(t){var i=t&&t.relatedData&&t.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY];return i||(i=new n(t),t.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY]=i),i},n._onWorkItemDeleted=function(t,i){var o=n.get(t),r=o.getWorkItem(i.workItemId),h,e,u,s;if(r){h=r.getField(g.CoreField.IsDeleted);h.setValue(!0,!0);r.fireWorkItemDeleted();var c=[i.workItemId],a=[],v=r.getLinks(),f=void 0;for(e=0;e<v.length;e++)f=v[e],f instanceof l.WorkItemLink&&(u=f.getTargetId(),s=f.getSourceId(),a.push(u===r.id?s:u),c.push(u===r.id?s:u));o.removeWorkItems(c);o.beginGetWorkItems(a,$.noop)}},n._onWorkItemRestored=function(t,i){n._removeWorkItemFromManager(t,i.workItemId)},n._onWorkItemDestroyed=function(t,i){n._removeWorkItemFromManager(t,i.workItemId)},n._removeWorkItemFromManager=function(t,i){var r=n.get(t),u=r.getWorkItem(i);u&&r.removeWorkItem(u)},n._onWorkItemDiscarded=function(t){var i=n.get(t.store);i.removeWorkItem(t)},n._onWorkItemIdUpdated=function(t){var i=n.get(t.store);i.updatePinWithSavedId(t)},n._onWorkItemCopied=function(t){var i=n.get(t.store);i.onWorkItemChanged(i,{workItem:t,change:c.WorkItemChangeType.Created});i.setWorkItem(t)},n.prototype.registerRunningDocumentEntry=function(){var n=this;this._runningDocumentEntry&&(p.getRunningDocumentsTable().remove(this._runningDocumentEntry),$(window).off("beforeunload",this._deletingOrRestoringMessageDelegate));this._runningCommentDocumentEntry&&p.getRunningDocumentsTable().remove(this._runningCommentDocumentEntry);this._runningDocumentEntry=p.getRunningDocumentsTable().add(this.store.path()+"/WorkItemManager",{isDirty:function(){return n.isDirty(!0)},beginSave:function(t,i){return n.beginSaveDirtyWorkItems(t,i)},getDirtyDocumentTitles:function(t){return n.getDirtyWorkItemTitles(t)}});this._runningCommentDocumentEntry=p.getRunningDocumentsTable().add(this.store.path()+"/WorkItemManager/CommentManager",{isDirty:function(){return n.isCommentDirty()},getDirtyDocumentTitles:function(){return n.getDirtyCommentTitles()}});$(window).on("beforeunload",this._deletingOrRestoringMessageDelegate)},n.prototype.getDirtyCommentTitles=function(){for(var i,n=0,t=this.getManagedWorkItems();n<t.length;n++)if(i=t[n],i.getIsCommentDirty()&&!i.isDirty())return[k.UnsavedComment];return[]},n.prototype.getDirtyWorkItemTitles=function(n){for(var t,i=[],u=this.getDirtyWorkItems(),r=0,f=Math.min(n,u.length);r<f;r++)t=u[r],t.getIsCommentDirty()?i.push(s.format(k.WithUnsavedComment,t.getCaption(!1))):i.push(t.getCaption(!1));return i},n.prototype.resetDirtyWorkItems=function(){for(var n,r=this.getDirtyWorkItems(),t=0,i=r;t<i.length;t++)n=i[t],n.reset(),n.isNew()&&this.removeWorkItem(n)},n.prototype.dispose=function(){b.getService().detachEvent(e.HubEventNames.PostXHRNavigate,this._postXHRNavigate);u.getService().unregisterActionWorker(u.CommonActions.SHOW_DIRTY_CONFIRMATION_DIALOG,this._showDirtyConfirmationDialog);this._runningDocumentEntry&&(p.getRunningDocumentsTable().remove(this._runningDocumentEntry),$(window).off("beforeunload",this._deletingOrRestoringMessageDelegate));this._runningCommentDocumentEntry&&p.getRunningDocumentsTable().remove(this._runningCommentDocumentEntry);this._cleanerTimer&&(window.clearInterval(this._cleanerTimer),this._cleanerTimer=null)},n.prototype.invalidateCache=function(n){for(var t,r,i=0,u=n.length;i<u;i+=1)r=n[i],t=this._cache[r],t&&(this.isPinned(r)||t.workItem.isDirty()||this.removeWorkItem(t.workItem))},n.prototype.cleanCache=function(){var i,u=(new Date).getTime(),r=this._cache;for(var t in r)r.hasOwnProperty(t)&&(i=this._cache[t],u-i.timeStamp>n.cacheCleanupTimeout&&!this.isPinned(Number(t))&&(i.workItem.isDirty()||delete r[t]))},n.prototype.resetCache=function(){this._pinCounts={};this._cache={};this._pendingWorkitems={}},n.prototype.getLastRetrievedWorkitemCIData=function(){return this._lastRetrievedWorkitemCIData},n.prototype.updatePinWithSavedId=function(n){if(n.tempId<0){var r=n.tempId,t=n.id||0,i=this._pinCounts[r]||0;i>0&&t>0&&(this._pinCounts[t]=i)}},n.prototype.pin=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'");n.id>0&&(this._touchCache(n.id,n),this._incrementPinCount(n.id));n.tempId<0&&(this._touchCache(n.tempId,n),this._incrementPinCount(n.tempId))},n.prototype.unpin=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.id>0&&(this._touchCache(n.id,n),this._decrementPinCount(n.id));n.tempId<0&&(this._touchCache(n.tempId,n),this._decrementPinCount(n.tempId))},n.prototype.isPinned=function(n){return(this._pinCounts[n]||0)>0},n.prototype.createWorkItem=function(n,t,r){try{var u=n.create(t,r);this.onWorkItemChanged(this,{workItem:u,change:c.WorkItemChangeType.Created});return this.setWorkItem(u),u}catch(f){n instanceof l.WorkItemType||i.traceMessage(g.WITCommonConstants.WorkItemTrackingArea,"WorkItemManager",g.WITCommonConstants.WorkItemTypes,"passed object is of type ".concat(typeof n," ").concat(f.message));throw f;}},n.prototype.logWorkItemTypesData=function(n){var r=function(){var n=new WeakSet;return function(t,i){if(typeof i=="object"&&i!==null){if(n.has(i))return;n.add(i)}return i}},t;try{t=JSON.stringify(n,r());i.traceMessage(g.WITCommonConstants.WorkItemTrackingArea,"WorkItemManager",g.WITCommonConstants.WorkItemTypes,"object: ".concat(t))}catch(u){i.traceMessage(g.WITCommonConstants.WorkItemTrackingArea,"WorkItemManager",g.WITCommonConstants.WorkItemTypes,"".concat(u.message))}},n.prototype.beginGetWorkItem=function(n,t,i,r,u,f){var s=this,e,o;this.getManagedWorkItems().length>0&&(this._cache[n]?u&&(u>this._cache[n].workItem.revision||u===-1)?this.invalidateCache([n]):(e=(new Date).getTime()-this._cache[n].timeStamp,this._lastRetrievedWorkitemCIData={CacheHit:"true",TimeInCache:e.toString()}):this._lastRetrievedWorkitemCIData={CacheHit:"false"});o={isDeleted:r,includeExtensionFields:f};this.beginGetWorkItems([n],function(n){typeof t=="function"&&t.call(s,n&&n[0])},i,o)},n.prototype.beginGetWorkItems=function(n,t,i,r){var e=this,h=[],s={},f={},u=0,l=c.PageSizes.SAVE,o;r=r||{};r.pageSize&&Number(r.pageSize)>0&&(l=r.pageSize);var a=function(){!o&&u<=0&&(o=!0,typeof t=="function"&&t.call(e,$.map(n,function(n){return s[n]})))},p=function(n,t){u--;delete f[n];s[n]=t;a()},w=function(){$.each(f,function(n,t){f.hasOwnProperty(n)&&e._cancelPendingGetWorkItem(n,t)});u=0;f={}},y=function(n){o||(o=!0,w(),v.handleError(n,i,e))},b=function(n,t){u--;delete f[n];y(t)},k=function(){o||y(rt())};$.each(n,function(n,t){var i=e.getWorkItem(t);i?(h.push(t),s[t]=i):(u++,f[t]=e._pendWorkItem(t,p,b))});r.cancelable&&r.cancelable.register(k);typeof r.pageOperationCallback=="function"&&h.length>0&&r.pageOperationCallback($.map(h,function(n){return s[n]}),u===0);u?this._downloadPendingWorkItems(r.pageOperationCallback,l,r.isDeleted,r.includeExtensionFields,r.retryOnExceedingJsonLimit,r.excludeFromUserRecentActivity):a()},n.prototype.getWorkItem=function(n){var i,t=this._cache[n];return t&&(t.timeStamp=(new Date).getTime(),i=t.workItem),i},n.prototype.bind=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.attachWorkItemChanged(this._workItemChangedDelegate)},n.prototype.unbind=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.detachWorkItemChanged(this._workItemChangedDelegate)},n.prototype.setWorkItem=function(n){var t;if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");this._setManager(n);t={workItem:n,timeStamp:(new Date).getTime()};n.id>0&&(this._cache[n.id]=t);n.tempId<0&&(this._cache[n.tempId]=t)},n.prototype.removeWorkItem=function(n){if(!(n instanceof l.WorkItem))throw new Error("Invalid argument type: 'workItem'.");n.id>0&&(delete this._cache[n.id],delete this._pinCounts[n.id]);n.tempId<0&&(delete this._cache[n.tempId],delete this._pinCounts[n.tempId]);this._clearManager(n)},n.prototype.removeWorkItems=function(n){var t=this;n.forEach(function(n){var i=t.getWorkItem(n);i&&t.removeWorkItem(i)})},n.prototype.getManagedWorkItems=function(){var r=[],n=this._cache,t;for(var i in n)if(n.hasOwnProperty(i)){if(t=n[i].workItem,Number(i)<0&&t.id!==0)continue;r.push(t)}return r},n.prototype.getUnmanagedWorkItems=function(){var r=[],n=this._cache;for(var t in n)if(n.hasOwnProperty(t)){if(Number(t)>=0)continue;var i=n[t].workItem,u=i.id,f=i.tempId;u>0&&f<0&&r.push(i)}return r},n.prototype.getDirtyWorkItems=function(){for(var i=[],t=this.getManagedWorkItems(),n=0,r=t.length;n<r;n++)t[n].isDirty()&&i.push(t[n]);return i},n.prototype.beginSaveDirtyWorkItems=function(n,t){return this.store.beginSaveWorkItemsBatch(this.getDirtyWorkItems(),n,t)},n.prototype.onWorkItemChanged=function(n,t){var i,r;t.change===c.WorkItemChangeType.PreSave&&(i=t.workItem,i&&i.isDirty()&&(this._populateWorkItemClassificationNodes(i),this._updateClassificationMruThrottledDelegate(),this._updateTagsMru(i)));t.change===c.WorkItemChangeType.Saved&&this.setWorkItem(t.workItem);this._linkManager.workItemsChanged(t);this._events.invokeHandlers("work-item-changed",this,t);(t.change===c.WorkItemChangeType.Opened||t.change===c.WorkItemChangeType.Refresh||t.change===c.WorkItemChangeType.SaveCompleted||t.change===c.WorkItemChangeType.Deleted)&&(r=f.getLWPService("IVssContributionEventService"),r&&r.fireEvent("workitem-activity-updated"))},n.prototype.attachWorkItemChanged=function(n){this._events.subscribe("work-item-changed",n)},n.prototype.detachWorkItemChanged=function(n){this._events.unsubscribe("work-item-changed",n)},n.prototype.isDirty=function(n){for(var i=this.getManagedWorkItems(),t=0,r=i.length;t<r;t++)if(i[t].isDirty(n))return!0;return!1},n.prototype.isCommentDirty=function(){for(var t=this.getManagedWorkItems(),n=0,i=t.length;n<i;n++)if(t[n].getIsCommentDirty()&&!t[n].isDirty())return!0;return!1},n.prototype._populateWorkItemClassificationNodes=function(n){var i=n.getUpdateData(),r=i&&i.payload&&i.payload.fields;if(r){var u=this.store.getFieldDefinition(g.CoreFieldRefNames.AreaId),f=this.store.getFieldDefinition(g.CoreFieldRefNames.IterationId),t=n.project.guid,e=r[u.id],o=r[f.id];u&&e&&(this._areaIdsMap||(this._areaIdsMap={}),this._areaIdsMap[t]||(this._areaIdsMap[t]=[]),this._areaIdsMap[t].push(e));f&&o&&(this._iterationIdsMap||(this._iterationIdsMap={}),this._iterationIdsMap[t]||(this._iterationIdsMap[t]=[]),this._iterationIdsMap[t].push(o))}},n.prototype._updateClassificationMru=function(){var f=h.ClassificationFieldsMruStore.getDefaultFluxContext(),t,r,i,u,n;if(this._areaIdsMap){for(t=0,r=Object.keys(this._areaIdsMap);t<r.length;t++)n=r[t],this._areaIdsMap[n]&&this._areaIdsMap[n].length>0&&f.actionsCreator.addToAreaPathMru(n,this._areaIdsMap[n]);this._areaIdsMap=null}if(this._iterationIdsMap){for(i=0,u=Object.keys(this._iterationIdsMap);i<u.length;i++)n=u[i],this._iterationIdsMap[n]&&this._iterationIdsMap[n].length>0&&f.actionsCreator.addToIterationPathMru(n,this._iterationIdsMap[n]);this._iterationIdsMap=null}},n.prototype._updateTagsMru=function(n){a.TagUtils.updateTagsMru(n)},n.prototype._setManager=function(n){var t=n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY];t!==this&&(t&&t.unbind(n),n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY]=this,this.bind(n))},n.prototype._clearManager=function(n){var t=n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY];t===this&&(n.relatedData[c.RelatedDataKeys.WORKITEM_MANAGER_KEY]=null,this.unbind(n))},n.prototype._touchCache=function(n,t){var i=this._cache[n];i&&i.workItem===t&&(i.timeStamp=(new Date).getTime())},n.prototype._decrementPinCount=function(n){var t=this._pinCounts[n]||0;t--;t<=0?delete this._pinCounts[n]:this._pinCounts[n]=t},n.prototype._incrementPinCount=function(n){var t=this._pinCounts[n]||0;t++;this._pinCounts[n]=t},n.prototype._pendWorkItem=function(n,t,i){var r=this,u=this._pendingWorkitems[n],f=function(n,i){if(delete r._pendingWorkitems[n],!r.getWorkItem(n)){r.setWorkItem(i);r.onWorkItemChanged(r,{workItem:i,change:c.WorkItemChangeType.Opened})}t.call(r,n,i)},e=function(n,t){delete r._pendingWorkitems[n];i.call(r,n,t)};return u?u.cbQueue.register(f,e):(u={id:n,cbQueue:v.queueCallbacks(this,f,e)},this._pendingWorkitems[n]=u,u.cookie)},n.prototype._cancelPendingGetWorkItem=function(n,t){var i=this._pendingWorkitems[n];i&&(i.cbQueue.unregister(t),i.cbQueue.count()===0&&delete this._pendingWorkitems[n])},n.prototype._downloadPendingWorkItems=function(t,i,r,u,f,e){var s=this,o=[],h;this._downloading||($.each(this._pendingWorkitems,function(n,t){if(s._pendingWorkitems.hasOwnProperty(n)&&(o.push(t),o.length>i))return!1}),o.length&&(this._downloading=!0,h=this,this.store.beginGetWorkItems($.map(o,function(n){return n.id}),function(n){var c={},l;try{$.each(n,function(n,t){c[t.id]=t});$.each(o,function(n,t){t.cbQueue.finish(t.id,c[t.id])});t&&typeof t=="function"&&(l=Object.keys(h._pendingWorkitems).length,t(n,l===0))}finally{s._downloading=!1;s._downloadPendingWorkItems(t,i,r,u,f,e)}},function(h){try{f===!0&&i>=2*n.MINIMUM_PAGE_SIZE&&h.type===c.Exceptions.InvalidOperationException?i/=2:$.each(o,function(n,t){t.cbQueue.error(t.id,h)})}finally{s._downloading=!1;s._downloadPendingWorkItems(t,i,r,u,f,e)}},r,u,e)))},n.cacheCleanupTimeout=6e5,n.MINIMUM_PAGE_SIZE=10,n}();t.WorkItemManager=nt;nt._initialize()});

define("Agile/Scripts/Resources/TFS.Resources.Agile",["require","exports"],function(require,exports){var e=exports;e.AdminWorkHub_Iteration_RemoveText="Remove";e.WorkAdminHub_ClassificationPicker_Errortip="The default area can only be set to areas owned by {0}";e.CreateAreaDialogTitle="New area";e.WorkAdminHub_ClassficationPicker_Error="There was an error. Please try again later.";e.TeamSettings_Area_Manage_Dismissable="\u003cspan id=\u0027areaManageDismissable\u0027\u003eTo manage areas for the project, navigate to \u003c/span\u003e\u003ca aria-describedby=\u0027areaManageDismissable\u0027 href=\u0027{0}\u0027 target=\u0027{1}\u0027\u003eProject settings\u003c/a\u003e";e.ExpandAll="Expand all";e.TeamSettings_Iteration_ConfirmationDialogMessageHeader="Are you sure you want to change the backlog iteration?";e.AdminWorkHub_Area_DataLoading="Loading areas";e.ProjectWorkhub_AreaIterationPathsLimit="You have {0} {1} which is close to the limit of {2}.";e.EditIterationInvalidNameDesc="The most likely cause of this error is that the name that you chose is either restricted or already in use. For more information, see \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=136810\u0027 target=\u0027_blank\u0027\u003eNaming Restrictions\u003c/a\u003e in Azure DevOps.";e.DirectoryFavoriteGroupTitle="My Favorites";e.WorkAdminHub_ClassificationPicker_Cancel="Cancel";e.TeamSettings_Area_Title="Areas";e.WorkAdminHub_ClassificationPicker_Change="Change";e.EditIterationNameRequired="You must specify a name for this iteration.";e.ExpandOneLevelToolTip="Expand one level (+)";e.TeamSettings_Iteration_Grid_Iteration="Iteration";e.DeleteAreaDialogTitle="Delete area";e.AreaIterations_SecureClassificationTitle="Open security dialog to manage node security";e.EditIterationInvalidNameTitle="The name that you specified for this iteration is not valid.";e.UnexpectedServerError="The server returned an unexpected error.";e.ProjectWorkhub_TeamSettings_Description_Link_Text="the default team\u0027s settings.";e.RollupColumn_Available_Message="Rollup columns are now available in Column Options on this backlog!";e.Resources_Security_Dialog_Title="Permissions for {0}";e.WorkAdminHub_AddSubChild_ErrorMessage="Area {0} is included as a sub-area of {1} already. Exclude sub-areas to add individual child nodes.";e.SprintsDirectoryFavoritesGroupTitle="My favorites";e.DirectoryEmptyFavoritesGroupText="No favorites yet! Favorite {0} a {1} to quickly access it here.";e.AdminWorkHub_Iteration_ClassificationDialog_AddLimitMessage="You can add up to {0} iterations at a time.";e.AdminWorkHub_Iteration_RecordsRemovedMessageHeader="One or more iterations have been removed as a result of adding parent and/or child nodes of existing iterations.";e.ProjectWorkhub_Iteration_Description="Create and manage the iterations for this project. These iterations will be used by teams for iteration planning (sprint planning).";e.WorkAdminHubSelectDialog_DeleteLabel="Delete this {0}";e.AreaIterations_IterationsDialogTitle="Iterations";e.UnexpectedErrorChangesNotSaved="Your changes could not be saved.";e.ReorderWorkItemsOperationsNullOrEmpty="operations is null or empty.";e.SprintsHub_NavigateToDirectoryToFindTaskboard="Navigate to the Sprints directory below to find a taskboard.";e.ExpandOneLevel="Expand one level";e.AdminWorkHub_SetAsDefaultArea="Set as default area for team";e.KeywordFilter_PlaceholderText="Filter by text";e.Directory_UnfavoriteFailed="Could not unfavorite this item";e.PaneClosedLearningBubbleButtonText="Got it";e.EditIterationInvalidDateFormat="You have specified a date for the start or end of the iteration, but the date is not valid. You must provide the date in the following format: {0}";e.WorkAdminHub_Iteration_DefaultIteration_LabelTooltip="Assigns a default Iteration value to work items created from your team context";e.AdminWorkHub_Iteration_DataLoading="Loading iterations";e.TeamSettings_Iteration_ToolbarInfo="The iterations selected below will appear in the Sprints hub for your team. Each iteration will have a backlog and board to help your team plan and manage work.";e.AdminWorkHub_Area_ClassificationPickerLabel="Area";e.Areas_Column_Header="Areas";e.AdminArea_LearnMore_FwLink="https://go.microsoft.com/fwlink/?LinkId=786954";e.AdminWorkHub_Area_RemoveText="Remove";e.EditIterationInvalidCharactersTitle="Invalid character(s) entered.";e.AreaIterations_SubAreasIncluded="sub-areas are included";e.BoardsBacklogLevelsColumnTitle="Backlog levels";e.CssNodeNoEditPermissions="You do not have permission to make changes.";e.EditIterationInvalidCharactersDesc="The name that you specified for this iteration contains one or more characters that are not allowed. For more information, see \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=136810\u0027 target=\u0027_blank\u0027\u003eNaming Restrictions\u003c/a\u003e in Azure DevOps.";e.AreaIterations_RemoveNodeTitle="Delete the selected item";e.DeleteButtonName="Delete path";e.AreaNameField="Area name";e.DirectoryEmptyMyTeamsGroupText="You are not a member of any teams in this project";e.AdminTeamWorkItems_Title="Team field";e.EditIterationInvalidNameLength="The name that you specified exceeds the maximum allowance of 255 characters. You must shorten the name.";e.Directory_FavoriteFailed="Could not favorite this item";e.ConfirmDeleteAreaIteration="You have chosen to delete this path. If you delete it, any work items, tests, or other items in the team project that reference this path or any of its dependent paths will be reassigned.";e.AreaIterations_AddChildNodeText="New child";e.WorkAdminHub_Area_ConfirmRootAreaPathChangeHeader="Are you sure you want to include sub-areas?";e.SprintsDatesColumnTitle="Sprint dates";e.TeamSettings_Area_IntroHtml="Select the areas your team owns below. The selected area paths will determine what shows up on your team\u0027s backlog and what work items your team is responsible for.";e.AreaIterationPathsLimit_LearnMore_Fwlink="https://aka.ms/ado-path-limits";e.AreaIterations_AreasDialogTitle="Areas";e.AdminWorkHub_Area_RecordsRemovedMessage="One or more areas have been removed as a result of including sub-areas.";e.AreaIterations_OpenNodeText="Open";e.AdminWorkHub_Area_ClassificationDialogSubTitle="Work items in the selected area path(s) will show up on your team\u0027s backlog";e.WorkAdminHub_Error="{0} Please refresh the page.";e.WorkAdminHub_Area_ConfirmRootAreaPathChange="You have selected the root area path as your team\u0027s work area. This causes two things to happen:\u003cbr /\u003e\u003cbr /\u003e\r\n1) All work items that appear on any team backlog will also appear on your team\u0027s backlog.\u003cbr /\u003e\u003cbr /\u003e\r\n2) All work items under this area path will be updated, which might impact the performance of your server until the changes are complete.\r\n\r\nAre you sure you want to do this? If not, choose Cancel, and the change will not be made.";e.DirectoryNameColumnTitle="Name";e.CollapseAll="Collapse all";e.AdminArea_Description_Text="Create and manage the areas for this project. These areas will be used by teams to determine what shows up on the team\u0027s backlog and what work items the team is responsible for. ";e.Toolbar_New="New";e.Toolbar_NewChild="New child";e.SprintsHub_SprintsDirectory="Go to directory";e.WorkAdminHub_Area_DefaultArea="Default area";e.WorkAdminHub_MissingBacklogError="No backlog iteration has been selected for your team. Before you can select iterations for your team to participate in, you must first specify a backlog iteration.";e.AdminWorkHub_ExcludeSubAreas="Exclude sub areas";e.AreaIterations_AddNodeText="New";e.ProjectWorkhub_TeamSettings_Description_Area="areas";e.WorkAdminHubSelectDialog_AddLabel="Select {0} for your teams backlog";e.Iterations_Plural="Iterations";e.End_Date_Column_Header="End Date";e.CollapseOneLevelToolTip="Collapse one level (-)";e.AdminWorkHub_Iteration_ClassificationPickerLabel="Iteration";e.EditIterationDefaultName="Iteration name";e.EditAreaDefaultName="Area name";e.SaveAndCloseButtonName="Save and close";e.AdminWorkHub_Area_DuplicateErrorMessage="This area is already selected for the team.";e.AdminIteration_Description_Text="Create and manage the iterations for this project. These iterations will be used by teams for iteration planning (sprint planning). ";e.EditAreaInvalidNameTitle="The name that you specified for this area is not valid.";e.AdminWork_Title="Work";e.AdminWorkHub_Iteration_ClassificationDialogSubTitle="These iterations will be available on your team\u0027s backlog";e.AgileSettings_DetailsOfErrorMessages="Details about the validation error appear below:";e.CollapseOneLevel="Collapse one level";e.AdminWorkHub_Area_DataLoadingError="There was an error during loading areas, please try again later.";e.AreaIterations_AddNodeTitle="Add a new entry at the same level as the selected item";e.ProgressVerifyingPermissions="Verifying permissions...";e.Iteration_Grid_StartDate="Start Date";e.AdminWorkHub_Iteration_RecordsRemovedMessageText="Adding \u0027{0}\u0027 removed the following iteration(s):";e.WorkAdminHub_Iteration_Picker_Watermark="Select an iteration";e.AdminWorkHub_Area_ClassificationDialog_AddLimitMessage="You can add up to {0} areas at a time.";e.ClassificationPicker_ErrorText_PathRequired="Input cannot be empty";e.WorkAdminHub_ClassificationPicker_Persist="Set";e.TeamSettings_Area_Grid_Area="Area";e.RollupColumn_AddDefault_Button="Add a default Rollup Column";e.AdminWorkHub_Area_AddText="Select area(s)";e.Admin="Admin";e.Close="Close";e.TeamSettings_Iteration_ConfirmationDialogMessageContent="Changing the backlog iteration will remove all existing iterations that are not descendants of \u0027{0}\u0027 iteration.";e.Teams="Teams";e.TeamSettings_NoPermissionsGeneral="\"team settings\"";e.AdminWorkHub_IncludeSubAreas="Include sub areas";e.PaneClosedLearningBubbleInfoText="You have turned off the side pane. If you wish to turn it back on in the future, you can find it in the view options menu.";e.TeamSettings_NoPermissionsIterations="\"iterations\"";e.TeamSettings_Iteration_Manage_Dismissable="\u003cspan id=\u0027iterationManageDismissable\u0027\u003eTo manage iterations for the project, navigate to \u003c/span\u003e\u003ca aria-describedby=\u0027iterationManageDismissable\u0027 href=\u0027{0}\u0027 target=\u0027{1}\u0027\u003eProject settings\u003c/a\u003e";e.SprintsHub_SelectTeamSprint="Select team\u0027s sprint";e.EditAreaInvalidCharactersDesc="The name that you specified for this area contains one or more characters that are not allowed. For more information, see \u003ca href=\u0027https://go.microsoft.com/fwlink/?LinkID=136810\u0027 target=\u0027_blank\u0027\u003eNaming Restrictions\u003c/a\u003e in Azure DevOps.";e.WorkAdminHub_Iteration_DefaultIteration_Label="Default iteration";e.BoardsHub_AllBoardsDirectory="Boards directory";e.Admin_Area_Iteration_LearnMore="Learn more about customizing areas and iterations";e.EditIterationDialogTitle="Edit iteration";e.ProductBacklogQueryName_Backlog="{0} - {1}";e.SprintsActivityColumnTitle="Sprint activity";e.ProjectWorkHub_Area_Description="Create and manage the areas for this project. These areas will be used by teams to determine what shows up on the team\u0027s backlog and what work items the team is responsible for.";e.AdminWorkHub_Iteration_DuplicateErrorMessage="This iteration is already selected for the team.";e.AdminWorkHub_Area_DefaultArea="default area";e.WorkAdminHub_Area_Picker_Watermark="Select an area";e.CreateIterationDialogTitle="New iteration";e.AdminWorkHub_Iteration_AddText="Select iteration(s)";e.AreaIterations_SecureClassificationText="Security";e.AreaIterations_RemoveNodeText="Delete";e.Start_Date_Column_Header="Start Date";e.AdminIterations_Index_Title="Iterations";e.UnsavedChangesPrompt="You have modified the form details.  Close and lose changes?";e.WorkAdminHub_ClassificationSettings_AndNMore="and {0} more";e.AdminWorkHub_Remove="Remove";e.WorkAdminHub_Area_NoAreaSelectedWarning="There are no areas selected for your team. You must select at least one area to enable features such as your product backlog or the task board.";e.AdminWorkHub_Area_IncludeChildren="sub-areas are included";e.WorkAdminHub_Iteration_ChangeBacklog_LabelTooltip="Determines which work items appear on your teams backlog and board";e.AdminWorkHub_Iteration_DataLoadingError="There was an error during loading iterations, please try again later.";e.WorkAdminHub_Iteration_ChangeBacklog_Label="Backlog iteration";e.AdminWorkHub_Iteration_ClassificationDialogTitle="Select iteration(s)";e.AdminIterations_SetDate="Set dates";e.RollupColumn_FwLink="https://go.microsoft.com/fwlink/?linkid=2096313";e.EndDateField="End date";e.EditAreaDialogTitle="Edit area";e.Directory_GridLabel="Directory Grid";e.FWLink_LearnMore="Learn more";e.AdminWorkHub_Iteration_NodeNotFound="The iteration node was not found, please specify a valid iteration path.";e.SprintsHub_UnknownSprint="Unknown";e.TeamSettings_NoPermissionsAreas="\"areas\"";e.WorkAdminHub_Area_RecordsRemovedMessageBody="By including sub-areas of \u0027\u003cstrong\u003e{0}\u003c/strong\u003e\u0027, the following child area paths have been removed: ";e.TeamSettings_NoPermissionsWarning="You do not have sufficient permissions to configure {0}. You must either be a team administrator or a project administrator.";e.StartDateField="Start date";e.WorkAdminHub_GenericError="Something went wrong. Please refresh the page and try again.";e.DirectoryMyGroupTitle="My {0}";e.IterationNameField="Iteration name";e.AdminAreas_IndexTitle="Areas";e.TeamSettings_Iteration_IntroHtml="Teams plan and track work at regular time intervals, commonly referred to as an iteration or sprint. Here you can manage the iterations for your team.";e.AdminWorkHub_InvalidBacklogIterationMessage="Only iterations that are descendants of the backlog iteration for this team can be selected.";e.AdminIteration_LearnMore_Fwlink="https://go.microsoft.com/fwlink/?LinkId=786956";e.ProjectWorkhub_TeamSettings_Description="To select {0} for the team, go to ";e.AdminWorkHub_Area_ClassificationDialogTitle="Select area(s)";e.TeamFilter_PlaceholderText="Filter by team";e.DeleteIterationsSelectNewPathLabel="Choose a path for reassignment of affected items";e.TeamSettings_Iteration_ConfirmationDialogTitle="Change backlog iteration";e.DirectoryTeamColumnTitle="Team";e.AreaIterationPathsLimit_LearnMore="Learn more about areas and iterations limits";e.Iteration_Grid_EndDate="End Date";e.ProjectWorkhub_TeamSettings_Description_Iteration="iterations";e.WorkAdminHubSelectDialog_LearnMoreLabel="Learn more about {0}";e.DeletedFavoriteInfoMessage="This team has been deleted";e.AdminBoards_Title="Boards";e.WorkIterations_LearnMore_FwLink="https://go.microsoft.com/fwlink/?LinkID=798824";e.ClassificationPicker_ErrorText_PathNotExist="\u0027{0}\u0027 does not exist";e.AdminAreas_Index_Description="Select the areas your team owns. Selected areas will determine what shows up on your team\u0027s backlog and what work items your team is responsible for.";e.ConfirmTestRemoval="Confirm remove test(s)?";e.Backlogs_DisplayName="Backlogs";e.AreaIterations_EditNodeTitle="Edit";e.ProgressPleaseWait="Please wait ...";e.Iterations_Column_Header="Iterations";e.AdminAreas_Title="Areas";e.Area_Owner_Column_Header="Teams";e.EditAreaNameRequired="You must specify a name for this area.";e.Location="Location";e.AreaIterations_AddChildNodeTitle="Add a new entry as a child of the selected item";e.BoardsHub_NavigateToBoardsDirectoryToFindBoard="Navigate to the Boards directory below to find a board.";e.DeleteIterationDialogTitle="Delete iteration";});

define("Agile/Scripts/Resources/TFS.Resources.AgileControls",["require","exports"],function(require,exports){var e=exports;e.Filtering_RemoveFilterTooltip="Remove this filter";e.CardStyling_Description="Styling rules make the cards with important information stand out. When a work item matches more than one rule, the first rule is used.";e.PastMarkerText="Past";e.CFDSettingsStartDateDescription="Leave blank to display the last 30 weeks of activity.";e.Filtering_LogicalOperator_Or="OR";e.CardOptions_RemoveFieldTooltip="Remove";e.KanbanDoneColumnAriaLabel="Done";e.TestAnnotation_DeleteTestCaseFromSuiteFormat="{0}. {1}";e.TagColoring_Description="Emphasize selected tags using colors. Only one color applies to a tag at a time.";e.SaveDiscard_SaveButton="Save changes";e.Board_Options_Badge_Settings_Title="Settings";e.Kanban_AutoRefreshStateIcon_HotSpot_Title="Live updates";e.Filtering_AppliedFilters_Label="Applied filters:";e.CardStyling_PreviewText="Title";e.Board_Options_Badge_No_Permissions="You do not have sufficient permissions to configure the board status badge. You must either be a team administrator or a project administrator.";e.Effort="Effort";e.BoardFilter_Announcer_ItemCount="{0} items on the board";e.CardStyleRule_NameLabel="Name";e.CardFieldOptionsLoading="Loading";e.CardStyling_AddRule_Label="Add new styling rule";e.CustomizeColumnsEditCriteriaLabel="Edit Definition";e.KeyboardShortcutkeyDescription_AddNewItem="Add new item";e.TestAnnotation_RemoveTestTitle="Remove test";e.Burndownchart_TitlePrefix="Burndown for:";e.BacklogVisibilities_Tab_Title="Backlogs";e.WorkingDays_Work_Days_Remaining="{0} work days remaining";e.CardOptions_AssignedToFieldHelpText="Check if you want to view or edit work assigned to team members";e.CardStyleRule_Title_BoldToolTip="Bold";e.CardStyling_ColorPicker_PurpleLighter80="Purple, Lighter 80%";e.CardStyling_ColorPicker_PurpleLighter60="Purple, Lighter 60%";e.CardStyling_ColorPicker_PurpleLighter40="Purple, Lighter 40%";e.CardStyling_ColorPicker_PurpleLighter20="Purple, Lighter 20%";e.Wiql_MacroMe="Me";e.Swimlane_Settings_InvalidCharactersLaneName="Lane name contains unsupported characters.";e.CSC_CANCEL_BUTTON_TEXT="Cancel";e.CardStyling_RuleCheckbox_ToolTip="Enable or disable styling rule";e.Filtering_EmptyDropDown_Text="\u003cNone\u003e";e.Column_Settings_Description="Columns visualize the flow of work across the board.";e.BoardCard_ContextMenu_OpenItem="Open";e.CardOptions_ShowTags="Show {0}";e.CardStyling_SelectCardColor_Label="Select rule color";e.CSC_DIALOG_TITLE="Settings";e.Velocitychart_AltText="The velocity chart shows how much work is completed each iteration. Data is only available visually at this time.";e.CustomizeColumnsSaving="Saving...";e.Filtering_AND_Operator_ToolTip="Filter using \u0027AND\u0027";e.Board_Options_Badge_Copy_Text="Copy to clipboard";e.CustomizeColumnsStateLabel="State";e.CardStyling_DefaultName="Rule Name";e.CustomizeCardsUnsavedChanges="You have unsaved changes made to the card settings which will be lost. Are you sure you want to discard these changes?";e.CardOptions_EffortFieldHelpTextForTaskboard="Check if you want to track remaining work on the card.";e.Board_Settings_Swimlanes="Swimlanes";e.CustomizeColumnsInvalidCharactersColumnName="Column name contains unsupported characters.";e.CardStyleRule_Title_UnderlineToolTip="Underline";e.Annotation_Checkbox_Label="Enable or disable {0} annotation";e.CustomizeColumns_LongColumnName="The column name must be less than 256 characters.";e.CardStyleRule_AriaDescribedby="Press space to enable or disable this rule, press enter to expand, press ctrl up or down to reorder the rule, press alt f10 to open context menu";e.CardStyles_MoveUp="Move up";e.CardStyleRule_State_On="On";e.CSC_INVALID_TAB_ERROR="You have errors in your configuration settings. Please correct the errors and try again.";e.CardStyles_Delete="Delete";e.Board_Options_Badge_Title="Status badge";e.Board_Options_Badge_Enable_Description="Configure the details for a badge and copy the resulting URL or Markdown to display the badge with these settings.";e.RefreshNotification_IdleDisconnect="Live updates have disconnected due to inactivity. ";e.CommonSettings_Fields_CoreFieldsSectionHeader="Core fields";e.BoardHub_Boards_ArtifactName="boards";e.CardOptionsCancel="Cancel";e.Filtering_WorkItemType_DisplayName="Work Item Type";e.CardStyling_ColorPicker_BlueLighter80="Blue, Lighter 80%";e.CardStyling_ColorPicker_BlueLighter60="Blue, Lighter 60%";e.CardStyling_ColorPicker_BlueLighter40="Blue, Lighter 40%";e.CardStyling_ColorPicker_BlueLighter20="Blue, Lighter 20%";e.CustomizeColumnsDeleteTooltip="Delete";e.Swimlane_Settings_Tab_Title="Swimlane name";e.Kanban_AutoRefreshStateIconOFFTooltip="Enable live updates";e.KeyboardShortcutkeyDescription_FocusFirstItem="Select first item";e.SprintDates_NoneSet="No iteration dates";e.SprintDates_IterationNotFound="The current iteration no longer exists. Another person may have removed it.";e.Board_Options_CardReordering_AllowBacklogReordering="Work items reorder when changing columns, and the backlog reflects the new order.";e.Board_Options_CardReorderingDescription="Choose the expected reorder behavior for your work items.";e.CSC_TESTS_TAB_TITLE="Tests";e.Configure_Outcome_Label="Show same outcome of the tests in multiple suites under the same plan";e.Configure_Outcome_Title="Manual tests - Configure test outcome settings";e.CardAnnotation_HeaderName="Annotation";e.StoriesWithTwoStatusesLabel="{0}: {1}, {2}";e.CardOptionsSelectWIT="Choose the work item type whose card you want to customize:";e.BacklogAddItemCallout_Disabled="You cannot add an item while a filter is applied. Please clear the filter";e.EditButtonText="Edit";e.Board_DisplayLimitReached="The number of backlog items has exceeded the display limit of the board ({0}), so some items will not appear here. To see all of your backlog items, go to the backlog.";e.TagColoring_NewTag="Tag color";e.FilterBox_Tooltip_Format="{0}: {1}";e.StoriesWithOneStatusLabel="{0}: {1}";e.BoardsHub_NewItem="New item";e.CustomizeColumnsColumnLabel="Title";e.KanbanDoingColumnAriaLabel="Doing";e.KeyboardShortcutkeyDescription_RowUp="Select row above";e.Column_Settings_DuplicateLaneName="Another column has the same name. Column names must be unique.";e.TestOutcome_Failed="Failed";e.CardStyling_CloneRule_ToolTip="Clone styling rule";e.CardTagColor_New="Enter tag name";e.Filtering_ParentItem_DisplayName="Parent Work Item";e.Swimlane_Settings_Tab_Title_Default="Default lane";e.Board_Settings_Card_Reordering="Card reordering";e.ColumnDoingStateLabel="Doing";e.CardFields_AddNewField_Label="Add new field";e.Filtering_MoreText="more";e.Swimlane_Settings_Title="Customize Swimlanes";e.Checklist_Summary_Tooltip="{0} of {1} {2} completed";e.CardStyles_MoveDown="Move down";e.Cumulativechart_AltText="The cumulative flow diagram reflects the work in progress and lead time. Data is only available visually at this time.";e.EditDatesForIteration="Edit the dates for this iteration";e.Column_Settings_WIP_Limit_Subtitle="Setting it to 0 specifies no limit.";e.CfdChartBottleneck="Is there a bottleneck in my process?";e.QueryOr="Or";e.CustomizeColumnsInitialColumnName="Column Name";e.CardFields_Settings_MainHeader_Description="Show the important information to your team. Fields are editable directly on the card.";e.Filtering_ParentItem_NoItems="No parent work items available";e.Board_DefinitionOfDoneIcon_AriaLabel="Show definition of done for {0} column";e.CardFieldOptions_InvalidFieldError="Please select a field name from the list.";e.Swimlane_Settings_Description="Swimlanes visualize different classes of work as horizontal lanes on the board.";e.CardStyling_ColorPicker_Default="Default";e.Swimlane_Settings_UnsavedChanges="You have unsaved changes made to the swimlanes which will be lost. Are you sure you want to discard these changes?";e.CardAnnotation_HeaderPreview="Visualization";e.CustomizeColumnsInvalidStateForColumnType="{0}: The following state is not valid for this column: {1}.";e.CardAnnotation_EnabledLimit="You can enable up to 5 Annotations on this backlog level.";e.VelocityChartDelivery="How much work can we commit to deliver in upcoming sprints?";e.Column_Settings_InvalidCharactersColumnName="Column name contains unsupported characters.";e.FutureMarkerText="Future";e.CustomizeColumnsDuplicateColumnName="Another column has the same name. Column names must be unique.";e.TabStrip_Menu_InsertLeft="Insert left";e.Kanban_AutoRefreshStateIconONTooltip="Disable live updates";e.CardOptions_ShowWorkItemId="Show {0}";e.Kanban_StatusMessage_FilterSaveError="An error has occurred while attempting to save your filter changes. Error details: {0}";e.CardOptionsConfigureFieldsHelpTextForTaskboard="Choose the work item fields that will display on your team\u0027s task board. All cards display the Title and Assigned To fields.";e.BoardValidator_DeletedLaneHasItems="You attempted to delete a lane that has items in it. You must first move the items to another lane, then try deleting the lane again.";e.Configure_Outcome_Description="Configure how same tests across test suites under a test plan need to behave";e.CardStyling_HeaderPreview="Preview";e.Swimlane_Settings_LongLaneName="Lane name must be less than 256 characters.";e.CardStyling_ColorPicker_DarkRed="Dark red";e.CardStyling_ManageRules_CSC_Description="Add, edit, and reorder rules for card styling. When a work item matches more than one rule, only the first rule is used";e.Checklist_Invalid_Transition_From_Complete="Your process does not allow you to transition out the state \u0027{0}\u0027. Open the work item to change the state. Contact your process administrator to update your process.";e.TestOutcome_Active="Active";e.CardOptions_NewTagColorToolTip="Add tag color";e.BoardValidator_LaneCountInvalid="Board cannot have more than 50 lanes.";e.Chart_LoadFailure="The chart could not be generated.";e.TestAnnotation_Configuration_TestPlan_SelectTestPlanDialog="Select Test Plan";e.Filtering_TextBox_Display="{0} (+{1} {2})";e.Column_Settings_Name_Subtitle="Specify the name of the column that will display on the board.";e.CardOptions_AdditionalFieldsSectionHeader="Show additional fields";e.KeyboardShortcutkeyDescription_MoveItemDownSwimlane="Move item to swimlane below";e.KeyboardShortcutkeyDescription_AddChildForItemInFocus="Add new child item";e.Watermark_With_Count="{0} ({1})";e.BacklogAddItemCallout_SplitLabel="More submit options";e.CardOptions_InvalidSettingsError="The settings are not valid for the following work item types: {0}";e.Board_Options_Badge_Notice="Note, badge settings are not saved and can be reconfigured for each badge.";e.KeyboardShortcutkeyDescription_SelectSwimLaneBelow="Select last/next swimlane below";e.KeyboardShortcutkeyDescription_SelectSwimLaneAbove="Select first/next swimlane above";e.TestAnnotation_ConfirmDeletionText="Do you want to continue?";e.TestAnnotation_Configuration_TestPlan_Description="Configure where tests need to be created for manual tests";e.Swimlane_Settings_Add_Button_Label="Add Swimlane";e.CustomizeColumnsUnsavedChanges="You have unsaved changes made to the columns which will be lost. Are you sure you want to discard these changes?";e.CFDSettingsStartDateTitle="Start date";e.CardStyling_DeleteRule_ToolTip="Delete styling rule";e.BurndownChartConent="The Burndown chart lets you display a trend of remaining work for the selected sprint. It will help you answer questions like:";e.CFDSettingsStartDateLabel="Date";e.KeyboardShortcutkeyDescription_MoveItemRight="Move item right";e.GenericCumulativeErrorMessage="VS402648: There was a problem loading the cumulative flow chart. Refresh to try again.";e.FilterIcon_ToolTip="Filter cards";e.KeyboardShortcutkeyDescription_MoveItemUpRow="Move item to row above";e.Common_Setting_Refresh_Command="Refresh";e.RefreshNotification_Click="Please try to refresh the board.";e.BugBehavior_Tab_Title="Working with bugs";e.CardStyleRule_Title_ItalicToolTip="Italic";e.ProductBacklogSearchCancel="Cancel search";e.GenericVelocityErrorMessage="VS402648: There was a problem loading the velocity chart. Refresh to try again.";e.TestAnnotation_Badge_Tooltip="{0} passed, {1} failed, {2} others";e.KeyboardShortcutkeyDescription_MoveItemUp="Move item up";e.CSC_BOARD_GROUP_TITLE="Board";e.CardStyling_NewStylingRule="Styling rule";e.CardStyling_HeaderRuleName="Rule Name";e.CustomizeConfigurationUnsavedChanges="You have unsaved changes made to the settings which will be lost. Are you sure you want to discard these changes?";e.CardStyling_ContextMenu_ToolTip="Open context menu";e.CardStyling_EmptyName_Error="Rule name must be specified.";e.CardFields_Settings_AdditionalFields_Label="Enter the additional field name";e.TestAnnotation_CardMenu_AddTest="Add Test";e.TagColoring_MaxRuleWarning="You can add up to 20 tag colors.";e.Column_Settings_State_Mapping_Label="State name";e.CardOptions_TagsFieldHelpText="Check if you want tags to appear on the card.";e.AgileHub_ErrorTitle="Sorry, something went wrong";e.TestAnnotation_RemoveTestCaseFromRequirementSuiteMessage="In addition it will also remove the mapping between the requirement and the test";e.CFDSettingsShowOutgoingLabel="Include the last column of the Kanban board";e.CSC_GENERAL_GROUP_TITLE="General";e.Column_Settings_State_Mapping_Title="State mapping";e.CustomizeColumnsWipLimitLabel="WIP limit";e.BoardRefreshRequired="You have modified the work item in a way that affects how it appears on the board. You must refresh the board to reflect the latest changes.";e.Board_Options_Badge_All_Columns="Include all columns";e.Cfd_Settings_Description="Visualize your lead time, work in progress, and any bottlenecks in your process.";e.CardOptions_AddField="Field";e.EditColumnNameAriaLabel="Edit column name";e.CardStyling_ColorPicker_DarkGreen="Dark green";e.Swimlane_Settings_Main_Header="Swimlanes";e.KeyboardShortcutkeyDescription_DeleteItemInFocus="Delete item";e.CardStyleRule_NameInstruction="Enter a descriptive label.";e.CardStyling_ColorPicker_DarkPurple="Dark purple";e.IterationDateRange="{0} - {1}";e.Board_Card_Ordering_NoPermissions="You do not have sufficient permissions to configure card reordering for this team. You must either be a team administrator or a project administrator.";e.Filtering_Iteration_DisplayName="Iteration";e.CardCustomizationStylesNoPermissions="You do not have sufficient permissions to configure card style rules for this team. You must either be a team administrator or a project administrator.";e.CardStyling_CompatRuleLabel="{0} styling rule";e.CardOptions_RemoveFieldAltText="Remove the field from the cards";e.EditSwimlaneNameAriaLabel="Edit swimlane name";e.CfdChartDelivery="Am I consistently delivering value to my users?";e.Kanban_AutoRefreshStateIcon_AriaLabel="Live updates";e.ClickToEditDatesForIteration="Click to edit the dates for this iteration";e.BacklogAddItemCallout_AddToBottom="Add to bottom";e.CardStyleRule_CriteriaLabel="Rule criteria";e.Board_LoadingInProgress="Board is getting ready, please wait...";e.BoardHub_Header_TeamProfileCard_Prefix="Team:";e.BoardCard_ContextMenu_EditTitle="Edit title";e.Board_Options_CardReorderingTitle="Card reordering";e.Column_Settings_Definition_of_Done_Title="Definition of done";e.TestAnnotation_Configuration_Description="Configure how you want tests to appear and behave on the cards.";e.CumulativeFlowSettingsEarlyDate="The start date you specified is not valid. The Cumulative Flow Diagram will only show the last 30 weeks of data. You must provide a date that is on or after {0}.";e.CardStyling_RuleColor_ToolTipWithColorValue="Color Preview ({0})";e.KeyboardShortcutkeyDescription_ExpandSwimlanes="Expand all swimlanes";e.KeyboardShortcutkeyDescription_RowDown="Select row below";e.Board_CollapseColumn_AriaLabel="Collapse {0} column";e.Column_Settings_Definition_of_Done_Subtitle="Enter plain text or format using markdown.";e.TabStrip_Menu_InsertRight="Insert right";e.CardStyling_ColorPicker_GreyLighter20="Grey, Lighter 20%";e.CardStyling_ColorPicker_GreyLighter40="Grey, Lighter 40%";e.CardStyling_ColorPicker_GreyLighter60="Grey, Lighter 60%";e.RefreshNotification_ConnectionTimedout="Live updates are not available due to technical difficulties. ";e.Filtering_SelectAll_Text="Select All";e.TabStrip_Menu_InsertBelow="Insert below";e.TabStrip_Menu_InsertAbove="Insert above";e.TestOutcome_Passed="Passed";e.TestOutcome_Paused="Paused";e.TagColoring_SelectTag_Label="Select tag color";e.SaveAndCloseButtonText="Save and Close";e.Velocitychart_Title="Velocity";e.CustomizeColumnsChangeStateWarning="You have changed a state mapping for the\"{0}\"work item type from \"{1}\" to \"{2}\". All \"{0}\" work items currently appearing in this column will be moved to the first column mapped to the \"{1}\" state. If no columns are mapped to the \"{1}\" state, the work items will no longer appear on the board.";e.Filtering_SelectFilters_Label="Select filters:";e.TagColoring_EnabledHeader="Enabled";e.TestOutcome_NotApplicable="Not applicable";e.BoardValidator_LaneNameLengthInvalid="Error on lane {0}: The lane name must be less than 256 characters.";e.CardStyling_ColorPicker_BeigeLighter80="Beige, Lighter 80%";e.CardStyling_ColorPicker_BeigeLighter40="Beige, Lighter 40%";e.CardStyling_ColorPicker_BeigeLighter60="Beige, Lighter 60%";e.CardStyling_ColorPicker_BeigeLighter20="Beige, Lighter 20%";e.Checklist_Invalid_Transition_To_Complete="Your process does not allow you to transition the state from \u0027{0}\u0027 to \u0027{1}\u0027. Open the work item to change the state.";e.CardOptionsShowAvatarOnly="Avatar only";e.TestAnnotation_Configuration_TestPlan_Title="Manual tests - Test plans";e.TagColoring_ColorHeader="Color";e.CardAnnotation_Description="Show visual cues on cards.";e.CardStyleRule_StylingLabel="Styling";e.KeyboardShortcutkeyDescription_MoveItemDown="Move item down";e.KeyboardShortcutkeyDescription_MoveItemLeft="Move item left";e.CustomizeColumnsInvalidWipLimit="The WIP limit must be an integer between 0 and 999. Enter 0 for no limit.";e.CfdChartConent="The Cumulative Flow chart shows the count of work items (over time) for each column of a Kanban board. This allows you to see patterns in your team\u0027s development cycle over time. It will help you answer questions like:";e.CardStyling_Fill="Fill";e.KeyboardShortcutkeyDescription_OpenItemInFocus="Open item";e.Charts_Settings_Cfd_Title="Cumulative Flow";e.Column_Settings_Name_Label1="Name";e.Column_Settings_Add_Button="Column";e.TestAnnotation_FailTest="Fail test";e.Column_Settings_Incoming_State_Mapping_Subtitle="The first column is mapped to the initial state used when a work item is created.";e.CardStyleRule_StateHeading="State";e.CSC_FIELDS_TAB_TITLE="Fields";e.Column_Settings_NoPermissions="You do not have sufficient permissions to configure columns for this team. You must either be a team administrator or a project administrator.";e.CardCustomizationsNoPermissions="You do not have sufficient permissions to configure cards for this team. You must either be a team administrator or a project administrator.";e.CardStyling_EmptyCriteria_Error="The criteria for the rule cannot be blank.";e.CSC_CHARTS_GROUP_TITLE="Charts";e.Filtering_LogicalOperator_And="AND";e.Column_Settings_LongLaneName="Column name must be less than 256 characters.";e.CardOptions_EnableDisableTagColor="Enable/disable tag color";e.KeyboardShortcutGroup_KanbanBoard="Kanban board";e.Board_Filter="Filter the board";e.RefreshNotification_WorkItemRemovedDueToTypeChange="{0} \u0027{1}\u0027 was removed from the board because its type was changed. ";e.CardOptions_EffortFieldHelpTextForKanban="Check if your team sizes work for velocity and forecast use.";e.BoardValidator_MustNotHaveDuplicateLaneName="Error on lane {0}: Another lane has the same name. Lane names must be unique.";e.TestAnnotation_Configuration_AnnotationDisabledWarning="Test annotation is currently disabled. You must enable it in the annotations page before attempting to make changes to this page.";e.CardFields_Settings_MainHeader="Fields";e.CardOptions_DuplicateFieldError="Duplicate";e.Swimlane_Settings_EmptyLaneName="Lane name must be specified.";e.Column_Settings_Main_Header="Columns";e.DefinitionOfDoneCharacterCount="{0}/{1}";e.CardStyling_Title="Styles";e.CardStyleRule_TitleStyleLabel="Title style";e.BoardsHub_FavoritesPicker_ZeroData="Favorite {0} this board for quick access or go to the {1} to find others";e.BurndownChartScopeCreep="Is there any scope creep introduced in the sprint?";e.BacklogAddItemCallout_NameLabel="Title";e.CustomizeColumnsBoardSettingsInvalid_Help_ClickHere="click here";e.Kanban_Unparented="Unparented";e.ExpandSwimlane="Expand {0} swimlane";e.TestOutcome_InProgress="In progress";e.Column_Settings_WIP_Limit_Label="WIP limit";e.Swimlane_Settings_Lane_Label="Name";e.CardStyling_MaxRuleWarning="You can add up to 10 styling rules.";e.Column_Settings_State_Mapping_Subtitle="Specify the state this column maps to.";e.CardStyling_ColorPicker_OrangeLighter20="Orange, Lighter 20%";e.CardStyling_ColorPicker_OrangeLighter40="Orange, Lighter 40%";e.CardStyling_ColorPicker_OrangeLighter60="Orange, Lighter 60%";e.CardStyling_ColorPicker_OrangeLighter80="Orange, Lighter 80%";e.Column_Settings_WIP_Limit_Title="Work in progress limit";e.KeyboardShortcutkeyDescription_MoveItemDownRow="Move item to row below";e.WorkingDays_Work_Days="{0} work days";e.CardFieldOptions_ShowEmptyFieldsHelpText="Check if you want to display fields, even when they are empty.";e.BurndownValidation_Dates="No burndown charts are available because you have not configured a start date and an end date for following iteration: {0}.";e.BacklogAddItemCallout_Title="New Work Item";e.CardFields_Settings_SectionHeader_DescriptionKanban="Add, remove, and edit fields on the cards displayed on the team\u0027s Kanban board. All cards display the Title and Assigned To fields.";e.RemainingWork="Remaining work";e.CardOptionsConfigureFieldsHelpTextForKanban="Choose the work item fields that will display on your team\u0027s Kanban board. All cards display the Title and Assigned To fields.";e.RefreshNotification_SignalRFailedToLoad="Live updates isn\u0027t available because of a fatal script error.";e.CardStyling_RuleName_ToolTip="Add or edit styling rule name";e.Board_SearchIconTooltip_FirstColumn="Filter the first column";e.WorkingDays_Work_Day_Remaining="{0} work day remaining";e.Wiql_MacroCurrentIteration="CurrentIteration";e.TagColoring_TagHeader="Tag";e.TabPageApplyChanges="Apply Changes";e.KanbanCard_AriaRoleDescription="Card";e.Kanban_AutoRefreshStateIconRefreshingTooltip="Saving settings";e.CumulativeFlowSettingsInvalidDate="The start date you specified is not valid. You must provide the date in the following format: {0}.";e.CardFields_Settings_SectionHeader="Manage card fields";e.CardOptionsSelectOptions="Select options";e.CSC_GENERIC_SERVER_ERROR_TOOLTIP="You have errors in this configuration";e.TestAnnotation_RunTest="Run test";e.NoneValue="none";e.Board_OnlineFilter_Summary="{0} matches found. {1} items searched.";e.Filtering_OR_Operator_ToolTip="Filter using \u0027OR\u0027";e.CardAnnotation_Checkbox_ToolTip="Enable or disable annotation";e.KanbanColumnAriaLabel="Column";e.BoardsHub_FavoritesPicker_ZeroData_DirectoryLinkText="Boards directory";e.Column_Settings_Definition_of_Done_Prefix="Max character limit exceeded:";e.TestAnnotation_NotApplicableTest="Not applicable";e.Column_Settings_Outgoing_State_Mapping_Subtitle="The last column is always mapped to the final state.";e.CardStyleRule_StyleInstruction="Select your style choices.";e.CustomizeColumnsWiMaxLabel="Max work items";e.CustomizeColumnsMoveRightToolTip="Move right";e.Column_Settings_Name_Label="Name";e.Filtering_ClearAll="Clear filters";e.Swimlane_Settings_Default_Lane_Name="Lane Name";e.Column_Settings_Name_Title="Column name";e.TestOutcome_Blocked="Blocked";e.CardStyleRule_NameSectionTitle="Rule name";e.CardStyling_ColorPicker_RedLighter20="Red, Lighter 20%";e.CardStyling_ColorPicker_RedLighter60="Red, Lighter 60%";e.CardStyling_ColorPicker_RedLighter40="Red, Lighter 40%";e.CardStyling_ColorPicker_RedLighter80="Red, Lighter 80%";e.CurrentMarkerText="Current";e.CardStyleRule_CriteriaInstructions="Your styling choices apply to all work items that match all clauses of your custom criteria.";e.CardStyles_Clone="Clone";e.QueryEqualTo="=";e.Kanban_StatusMessage_RecoverableError="An error has occurred while attempting to save your changes. Click here to try saving your changes again. Error details: {0}";e.VelocityChartConent="The Velocity chart will help you learn how much work your team can complete during a sprint. Using the Velocity chart, you will be able to answer questions like:";e.Common_Setting_Filter_Command="Filter";e.CardStyling_MaxClausesWarning="You can add up to 5 clauses to a criteria.";e.CardStyling_ColorPicker_NoColor="No color";e.TestAnnotation_AddTest="Add Test";e.WorkingDays_Tab_Title="Working days";e.CardStyling_InvalidCriteria_Error="The criteria for the rule is not valid.";e.Checklist_Invalid_Transition_To_Complete_With_Link="The work item cannot transition directly from \u0027{0}\u0027 to \u0027{1}\u0027 because the project\u0027s custom process requires specific state transitions. Open the work item to update the state, or contact your project administrator. ";e.Swimlane_Settings_DuplicateLaneName="Another lane has the same name. Lane names must be unique.";e.CustomizeColumnsNoPermissions="You do not have sufficient permissions to configure columns for this team. You must either be a team administrator or a project administrator.";e.CardStyling_ManageRules_Standalone_Description="Cardstyling allows to visually draw attention towards specificcards.Add, edit, and reorder rules for card styling. Cards that meet multiple rule criteria will display with the style of the first rule in the list.  ";e.Checklist_Summary="{0}/{1}";e.CardStyling_ColorPicker_GreenLighter80="Green, Lighter 80%";e.CardStyling_ColorPicker_GreenLighter20="Green, Lighter 20%";e.CardStyling_ColorPicker_GreenLighter60="Green, Lighter 60%";e.CardStyling_ColorPicker_GreenLighter40="Green, Lighter 40%";e.CardOptionsDialogTitle="Customize cards";e.CardOptions_AdditionalFieldsSectionHelpText="Add up to 10 fields in the order that you want them to appear on the card.";e.KeyboardShortcutkeyDescription_MoveItemUpSwimlane="Move item to swimlane above";e.Swimlane_Settings_NoPermissions="You do not have sufficient permissions to configure lanes for this team. You must either be a team administrator or a project administrator.";e.CardOptions_DeleteTagColor="Delete tag color";e.BoardCard_ContextMenu_AddChild="Add {0}";e.Board_Options_Badge_Preview_Title="Preview";e.Board_Options_Badge_Description="Summarize your board in a badge that can be included in a ReadMe file or on a dashboard.";e.CSC_CARDS_GROUP_TITLE="Cards";e.TestAnnotation_ResetToActive="Reset to active";e.TestAnnotation_BlockTest="Block test";e.CustomizeColumnsErrorsOnPage="You have errors you need to fix before saving.";e.BoardCard_ContextMenu_Label="Actions";e.CardCustomizationAnnotationsNoPermissions="You do not have sufficient permissions to configure card annotations for this team. You must either be a team administrator or a project administrator.";e.CardStyling_ColorPicker_YellowLighter40="Yellow, Lighter 40%";e.CardStyling_ColorPicker_YellowLighter60="Yellow, Lighter 60%";e.CardStyling_ColorPicker_YellowLighter20="Yellow, Lighter 20%";e.CardStyling_ColorPicker_YellowLighter80="Yellow, Lighter 80%";e.CSC_CARDS_TAGCOLOR_TAB_TITLE="Tag colors";e.KanbanSwimlaneAriaLabel="Swimlane";e.CSC_SAVE_BUTTON_TEXT="Save";e.Board_Options_Badge_Example_Status="Example status badge for this board.";e.StoriesInProgress="{0} in progress";e.CustomizeCardsSaving="Saving...";e.TestAnnotation_Configuration_TestPlan_Custom_Placeholder="Select test plan";e.Kanban_RefreshIconTooltip="Refresh Board";e.Column_Settings_Add_Button_Label="Add Column";e.CustomizeColumnsBoardSettingsInvalid_Help="For more information on what might cause this error and how to fix it,";e.Cfd_Settings_Main_Header="Cumulative Flow Diagram";e.Board_Options_Badge_InProgress_Columns="Show \"In Progress\" columns only";e.Board_OnlineFilter_Summary_Singular="1 match found. {0} items searched.";e.BurndownChartOnTrack="Are we on track to complete all the work assigned to the sprint?";e.Filtering_Area_DisplayName="Area";e.TestAnnotation_Badge_Content="{0}/{1}";e.IterationPathTooltip="Iteration Path: {0}";e.CardStyling_EnabledStateLabel="Enabled";e.CardStyling_ColorPicker_Yellow="Yellow";e.ProductBacklogSearch="Backlog search";e.CSC_CARDS_STYLES_TAB_TITLE="Styles";e.Checklist_Add_Item="Add {0}";e.CardStyling_ColorPicker_White="White";e.CardStyling_ColorPicker_Black="Black";e.Board_PagedColumn_NoResultMessage="Didn\u0027t find any additional matches online.";e.CardStyling_ColorPicker_Beige="Beige";e.AgileHub_ConfigurationRequiredTitle="Configuration required";e.CardStyling_ColorPicker_Green="Green";e.Tag_Field_Label="Enter the tag name";e.CardOptionsDialogWorkItemTooltip="Customize {0} cards";e.Board_Options_CardReordering_PreserveBacklogOrder="Work items follow the backlog order when changing columns.";e.CardStyling_RuleColor_ToolTip="Color Preview";e.Board_ExpandColumn_AriaLabel="Expand {0} column";e.CSC_CARDS_ANNOTATION_TAB_TITLE="Annotations";e.CardStyling_Off="Off";e.TestAnnotation_RemoveTestCaseWarningMessage="This will remove selected test across all configurations from the suite";e.KeyboardShortcutkeyDescription_MoveItemBottomOfColumn="Move item to bottom of column";e.CardStyleRule_State_Off="Off";e.Configure_Outcome_Info="Outcomes will be same for tests with same configuration";e.CustomizeColumnsNewColumnToolTip="New column";e.Board_OnlineFilter_Continue="Continue searching for more matches online.";e.Column_Settings_WIP_Limit_Label1="WIP limit";e.Filtering_NoFiltersSelected_Label="None";e.Swimlane_Settings_Tab_Subtitle_Default="This lane is the default lane and cannot be deleted. New items are placed in this lane. Naming the lane is optional.";e.CardOptions_IdFieldHelpText="Check if your team frequently refers to work items by their ID.";e.GitHubLinksAnnotationSettingName="GitHub";e.CardStyleRule_CheckboxInstructions="If the above is not checked, this rule will not be applied to the current board.";e.CardStyleRule_CardColorLabel="Card color";e.CardStyling_ColorPicker_Red="Red";e.Board_Options_Badge_Markdown_Text="Sample Markdown";e.CSC_GENERIC_SERVER_ERROR="An error has prevented us from saving your settings. Please review the error messages before continuing. You may need to refresh your page and try again.";e.CustomizeColumnsIsSplitLabel="Split column";e.CommaSeparator=",";e.TestAnnotation_PassTest="Pass test";e.Kanban_AutoRefreshStateIconDisabledTooltip="Live updates disabled";e.CardOptionsSave="Save";e.CFDSettingsShowIncomingLabel="Include the first column of the Kanban board";e.CardStyling_ColorPicker_Purple="Purple";e.CustomizeColumnsWorkItemsLabel="Backlog items";e.CardStyling_ColorPicker_Teal="Teal";e.CardStyling_ColorPicker_Blue="Blue";e.CardStyling_ColorPicker_Grey="Grey";e.CardStyling_ManageRules_Title="Manage rules";e.Swimlane_Settings_DefaultLaneWithNameDeleted="You have deleted all the lanes except the default lane. The default lane name was: {0}. When you save these configuration settings, the name of the default lane will be changed from {0} to be blank. Any work items in this lane will be updated to reflect this change.";e.Checklist_Invalid_Transition_Link="https://go.microsoft.com/fwlink/?linkid=828652";e.CardStyleRule_CheckboxLabel="Turn on this rule.";e.KeyboardShortcutkeyDescription_RenameItemInFocus="Rename item";e.StoriesNotStarted="{0} not started";e.CardOptionsShowFullName="Full name only";e.GenericBurndownErrorMessage="TF401500: An error occurred when rendering the chart. It might be because no iterations have been configured for your current team or the work item count limit has been reached. Please contact your team or project administrator to resolve this issue";e.ProductBacklogSearchWatermark="Search backlog items";e.TabStrip_Menu_MoveRight="Move right";e.CardStyleRule_StyleInstructionWithoutTitleStyling="Choose the background color of the card.";e.Swimlane_Settings_DefaultLane_Subtitle="All your work items are displayed in a single lane. To view additional lanes, add new swimlanes.";e.Board_Options_Badge_URL_Text="Image URL";e.TestAnnotation_Configuration_TestPlan_Default="Create new plan using area/iteration of selected card";e.TestAnnotation_OpenTestTitle="Open";e.CardOptions_ShowEffort="Show {0}";e.CardFieldOptions_DuplicateFieldError="The field has already been selected";e.Backlog_LowercaseDisplayName="backlog";e.TestAnnotation_Configuration_TestPlan_Custom="Select a test plan";e.KeyboardShortcutkeyDescription_MoveItemTopOfColumn="Move item to top of column";e.KeyboardShortcutkeyDescription_CollapseSwimlanes="Collapse all swimlanes";e.Filtering_AssignedTo_DisplayName="Assigned To";e.ColumnDoneStateLabel="Done";e.Swimlane_Settings_Add_Button="Swimlane";e.CardOptions_InvalidTagNameError="Invalid";e.Board_PagedColumn_ShowMoreItems="Show more items";e.Kanban_AutoRefreshStateIcon_HotSpot_FeatureText2="Turn on live updates by clicking on the icon.";e.Kanban_AutoRefreshStateIcon_HotSpot_FeatureText1="Live updates automatically shows changes made by others to your Kanban board. No need to press the F5 key to refresh the board anymore.";e.Board_Settings_Columns="Columns";e.RefreshNotification_SettingsChanged="Live updates isn\u0027t available due to changes made to board layout. ";e.CustomizeColumnsMoveLeftToolTip="Move left";e.KanbanBoard_AriaDescribedByText="Board with multiple columns containing cards identified as groups. On a card, press enter or space to open the workItem, use shift F10 for context menu, use arrow keys to navigate between cards, use control arrow keys to reorder cards or change column, use control shift up or down to change swimlane.";e.Column_Settings_Split_Columns_Title="Split column into doing and done";e.CardOptionsShowAvatarAndFullName="Avatar and full name (default)";e.BoardValidator_LaneNameContainsInvalidChar="Error on lane {0}: Lane name contains unsupported characters. For more information about valid naming conventions for swimlanes, see the topic Kanban naming restrictions on the Microsoft website (https://go.microsoft.com/fwlink/?LinkId=77936).";e.TestAnnotation_EditTitle="Edit title";e.VelocityChartAverage="On average, what is the velocity of my team?";e.CardOptionsCustomizeWIT="Customize {0}";e.SaveDiscard_DiscardButton="Undo changes";e.CustomizeColumns="Customize columns";e.CardFields_Settings_AdditionalFields_Delete_Label="Delete this additional field";e.KeyboardShortcutkeyDescription_ExpandItemInFocus="Show/hide empty fields";e.CardStyling_ColorPicker_TealLighter80="Teal, Lighter 80%";e.CardStyling_ColorPicker_TealLighter40="Teal, Lighter 40%";e.CardStyling_ColorPicker_TealLighter60="Teal, Lighter 60%";e.CardStyling_ColorPicker_TealLighter20="Teal, Lighter 20%";e.CumulativeFlowSettingsFutureDate="The start date you specified is not valid. You cannot specify a date in the future.";e.Board_LoadingTakingTooLong="TF401052: It took too long to load the board configuration. Please wait a few minutes and try again.";e.CollapseSwimlane="Collapse {0} swimlane";e.CardStyling_SelectFontColor_label="Font Color";e.Burndownchart_AltText="The burndown chart displays the remaining work and capacity against the ideal trend for an iteration. Data is only available visually at this time.";e.CustomizeColumnsDefinitionOfDoneLabel="Definition of Done";e.Kanban_StatusMessage_FatalError="An error has occurred while attempting to save your changes. Click here to discard your changes and refresh your view. Error details: {0}";e.CardOptions_ShowAssignedToFieldAs="Show {0} as:";e.EditTitle="Edit title";e.Board_Options_Badge_Enable_Help_Text="Allow anonymous users to access the status badge.";e.CardStyling_DuplicateName_Error="Another style rule has the same name. Rule names must be unique.";e.CustomizeColumnsEmptyColumnName="Column name must be specified.";e.AssignedTo="Assigned to";e.SprintDates_SetDates="Set dates";e.CommonSettings_Fields_AdditionalFieldsSectionHeader="Additional fields";e.BacklogAddItemCallout_AddAtSelection="Add at selection";e.BacklogAddItemCallout_AddToTop="Add to top";e.Swimlane_Settings_DefaultLaneName="(Default lane)";e.Filtering_Tags_DisplayName="Tags";e.CardStyling_ColorPicker_Orange="Orange";e.AddNewItem_Add_Items="Add: {0}";e.CustomizeColumnsBoardSettingsInvalid_ClickHere="Correct this now.";e.Common_Setting_Config_Menu_Tooltip="Configure team settings";e.KeyboardShortcutkeyDescription_TaskboardGroup="Taskboard";e.CSC_CLOSE_BUTTON_TEXT="Close";e.CustomizeColumnsBoardSettingsInvalid="The column configurations are not valid. The board cannot be displayed.";e.CumulativeFlowSettingsNoPermission="You do not have sufficient permissions to configure the Cumulative Flow Diagram for this team. You must either be a team administrator or a project administrator.";e.WorkingDays_Work_Day="{0} work day";e.TestAnnotation_NavigateToSuiteTooltip="Open test suite";e.RefreshingNotification="Refreshing...";e.CardFieldOptions_ShowEmptyFieldsLabel="Show empty fields";e.CardAnnotation_EnabledStateLabel="Enabled";e.NewRuleName="{0} ({1})";e.HowToReadThisChart="How do I read this chart?";e.TabStrip_Menu_MoveLeft="Move left";e.CardStyleRulesLoading="Loading";e.CardStyling_Title_Dialog="STYLE CARDS";});

/*!
 * jQuery UI Effects 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/effect",["jquery","./jquery-var-for-color","./jquery.color","./version"],t):t(jQuery)}(function(t){"use strict";var e,n="ui-effects-animated";return t.effects={effect:{}},function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function o(t){var e,n,i,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)"string"==typeof o[e=o[n]]&&(r[(i=e,i.replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()}))]=o[e]);else for(e in o)"string"==typeof o[e]&&(r[e]=o[e]);return r}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,r,s,a){var f=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr("class")||"",c=f.children?s.find("*").addBack():s;c=c.map(function(){return{el:t(this),start:o(this)}}),(r=function(){t.each(n,function(t,n){e[n]&&s[n+"Class"](e[n])})})(),c=c.map(function(){return this.end=o(this.el[0]),this.diff=function(e,n){var o,r,s={};for(o in n)r=n[o],e[o]!==r&&(i[o]||!t.fx.step[o]&&isNaN(parseFloat(r))||(s[o]=r));return s}(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},f,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),f.complete.call(s[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,o,r){return i?t.effects.animateClass.call(this,{add:n},i,o,r):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,o,r,s){return"boolean"==typeof i||void 0===i?o?t.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,o,r)}}(t.fn.toggleClass),switchClass:function(e,n,i,o,r){return t.effects.animateClass.call(this,{add:n,remove:e},i,o,r)}})}(),function(){var e;function i(e,n,i,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),"function"==typeof n&&(o=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=i,i=n,n={}),"function"==typeof i&&(o=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=o||n.complete,e}function o(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||("function"==typeof e||"object"==typeof e&&!e.effect))}function r(t,e){var n=e.outerWidth(),i=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=(e=t.expr.pseudos.animated,function(i){return!!t(i).data(n)||e(i)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,o=e.length;i<o;i++)null!==e[i]&&(n=t.data("ui-effects-"+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.13.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,o="vertical"!==n?(e||100)/100:1;return{height:t.height()*o,width:t.width()*i,outerHeight:t.outerHeight()*o,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),o=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",n)),e.css({position:i,left:o.left,top:o.top}),n},removePlaceholder:function(t){var e="ui-effects-placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,o){return o=o||{},t.each(n,function(t,n){var r=e.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])}),o}}),t.fn.extend({effect:function(){var e=i.apply(this,arguments),o=t.effects.effect[e.effect],r=o.mode,s=e.queue,a=s||"fx",f=e.complete,c=e.mode,u=[],l=function(e){var i=t(this),o=t.effects.mode(i,c)||r;i.data(n,!0),u.push(o),r&&("show"===o||o===r&&"hide"===o)&&i.show(),r&&"none"===o||t.effects.saveStyle(i),"function"==typeof e&&e()};if(t.fx.off||!o)return c?this[c](e.duration,f):this.each(function(){f&&f.call(this)});function d(i){var s=t(this);function a(){"function"==typeof f&&f.call(s[0]),"function"==typeof i&&i()}e.mode=u.shift(),!1===t.uiBackCompat||r?"none"===e.mode?(s[c](),a()):o.call(s[0],e,function(){s.removeData(n),t.effects.cleanUp(s),"hide"===e.mode&&s.hide(),a()}):(s.is(":hidden")?"hide"===c:"show"===c)?(s[c](),a()):o.call(s[0],e,a)}return!1===s?this.each(l).each(d):this.queue(a,l).queue(a,d)},show:function(t){return function(e){if(o(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(e){if(o(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(e){if(o(e)||"boolean"==typeof e)return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):r(this.css("clip"),this)},transfer:function(e,n){var i=t(this),o=t(e.to),r="fixed"===o.css("position"),s=t("body"),a=r?s.scrollTop():0,f=r?s.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-f,height:o.innerHeight(),width:o.innerWidth()},l=i.offset(),d=t("<div class='ui-effects-transfer'></div>");d.appendTo("body").addClass(e.className).css({top:l.top-a,left:l.left-f,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),"function"==typeof n&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=r(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),e={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}}),t.effects});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Agile/Scripts/Common/Agile",["require","exports","Agile/Scripts/Common/ReorderHelper","Agile/Scripts/Generated/HubConstants","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service","VSS/Context","VSS/Contributions/Services","VSS/VSS","WorkItemTracking/Scripts/OM/WorkItemManager","Agile/Scripts/Resources/TFS.Resources.Agile","Agile/Scripts/Resources/TFS.Resources.AgileControls","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Diag","VSS/Service","VSS/Events/Action","VSS/Events/Handlers","VSS/Events/Services","VSS/Navigation/Services","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/VSS","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WorkItemConstants","jQueryUI/effect"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){function ei(){var t=st.navigation,i=t.currentController,n=t.currentAction;return i.toLowerCase()==="backlogs"&&(n.toLowerCase()==="backlog"||n.toLowerCase()==="index"||n.toLowerCase()==="iteration")}var ht,bt,kt,yt,dt,at,ct,vt,pt,wt,oi,si,hi,ci,gt,li,ni,ai,ti,ii,ri,ot,ui;Object.defineProperty(t,"__esModule",{value:!0});t.BacklogSettings=t.TouchEventsHelper=t.IdentityControlConsumerIds=t.AgileCustomerIntelligenceConstants=t.TabControlsRegistrationConstants=t.CapacityDateUtils=t.ReorderItemHandler=t.NotificationGuids=t.ReorderManager=t.WorkItemReorderHelpers=t.LinkHelpers=t.BacklogHelpers=t.BacklogQueryManager=t.ClassificationPathUtils=t.BaseBacklogMembershipEvaluator=t.BacklogContext=t.AgileProjectMapping=t.AgileContext=t.MembershipTracker=t.Notifications=t.DataKeys=t.DragDropScopes=t.Actions=t.IsWebAccessAsyncEnabled=void 0;var fi=v.TeamAwarenessService,st=a.TfsContext.getDefault(),lt=b.getService();t.IsWebAccessAsyncEnabled=ei;ht=function(){function n(){}return n.BACKLOG_NAVIGATE="VSS.Agile.Backlogs.Navigate",n.EVALUATE_MEMBERSHIP="VSS.Agile.Backlogs.EvaluateMembership",n.CHANGE_TEAM_WORK_IN_PROGRESS_LIMIT="VSS.Agile.Boards.ChangeWipLimit",n.BACKLOG_BULK_EDIT_EVALUATE_MEMBERSHIP="VSS.Agile.Backlogs.BulkEdit.EvaluateMembership",n.BACKLOG_MOVE_TO_ITERATION="VSS.Agile.Backlogs.MoveToIteration",n.VERIFY_MEMBERSHIP_EXPLICIT="verify-membership",n.BACKLOG_SHOW_ERROR_MESSAGE="backlog-show-error-message",n.BACKLOG_FILTER_SELECTION="backlog-filter-selection",n.LAUNCH_FILTER_CONTROL="launch-filter-control",n.MAPPING_PANE_REPARENT="mapping-pane-reparent",n.BACKLOG_ERROR="backlog-error",n}();t.Actions=ht;lt.registerActionWorker(ht.BACKLOG_NAVIGATE,function(n){window.location.href=n.uri},1e3);bt=function(){function n(){}return n.WorkItem="work-item",n.IterationBacklog="work-item",n.ProductBacklog="work-item",n}();t.DragDropScopes=bt;kt=function(){function n(){}return n.DataKeyId="itemId",n.DataKeyType="itemType",n}();t.DataKeys=kt;yt=function(){function n(){}return n.MEMBERSHIP_EVALUATED="VSS.Agile.Backlog.MembershipEvaluated",n.BACKLOG_QUERY_SAVE_COMPLETED="VSS.Agile.Backlog.BacklogQuerySaveCompleted",n.BACKLOG_ITEM_ADDED="VSS.Agile.Backlog.BacklogItemAdded",n}();t.Notifications=yt;dt=function(){function n(n){var t=this;this.verifyMembership=function(n,i,r){var f,u,e;f=i.change;f===et.WorkItemChangeType.SaveCompleted&&(u=i.workItem,e={workItem:u,sendResult:function(f){typeof r=="function"&&r(f);t._eventHelper&&t._eventHelper.fire(yt.MEMBERSHIP_EVALUATED,n,{workItem:u,isMember:f,changedFields:i.changedFields})}},lt.performAction(ht.EVALUATE_MEMBERSHIP,e))};this._eventHelper=n;this._setupMembershipTracking()}return n.prototype.dispose=function(){lt.unregisterActionWorker(ht.EVALUATE_MEMBERSHIP,this._alwaysAMember);s.WorkItemManager.get(y.ProjectCollection.getDefaultConnection().getService(ft.WorkItemStore)).detachWorkItemChanged(this.verifyMembership);this._eventHelper=null},n.prototype._setupMembershipTracking=function(){lt.registerActionWorker(ht.EVALUATE_MEMBERSHIP,this._alwaysAMember,b.ActionService.MaxOrder);s.WorkItemManager.get(y.ProjectCollection.getDefaultConnection().getService(ft.WorkItemStore)).attachWorkItemChanged(this.verifyMembership)},n.prototype._alwaysAMember=function(n){n.sendResult(!0)},n}();t.MembershipTracker=dt;at=function(n){function t(){return n.call(this)||this}return __extends(t,n),t.prototype.getContext=function(){return t._context||(t._context=tt.parseJsonIsland($(document),".agile-context")),t._context},t.prototype.setContext=function(n){t._context=n},t}(w.VssService);t.AgileContext=at;ct=function(){function n(){this._projectMapping={};d.getService().attachEvent(et.Actions.NEW_PROJECT_DATA,tt.delegate(this,this._buildProjectMapping))}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.ensureCreated=function(){n.getInstance()},n.prototype.getProjectNames=function(n){return this._projectMapping[n]||[]},n.prototype._buildProjectMapping=function(n,t){var r,u,i;if(t)for(r=0,u=t;r<u.length;r++)i=u[r],this._projectMapping[i.guid]||(this._projectMapping[i.guid]=[]),this._projectMapping[i.guid].push(i.name)},n}();t.AgileProjectMapping=ct;ct.ensureCreated();vt=function(){function n(){this._setupConfigurationData()}return n.getInstance=function(){return n._backlogContext||(n._backlogContext=new n),n._backlogContext},n.resetInstance=function(){n._backlogContext&&(n._backlogContext=null)},n.prototype.setBacklogContextData=function(n){this._setupConfigurationData(n)},n.prototype.isHubContext=function(n){return it.ignoreCaseComparer(this.level.name,n.name)===0},n.prototype.isInPortfolios=function(n){return $.inArray(n,this.portfolios)!==-1},n.prototype.isPortfolioInContext=function(){return this._isPortfolioInContext},n.prototype.backlogContainsWorkItemType=function(n){return this.level&&this.level.workItemTypes?nt.contains(this.level.workItemTypes,n,it.localeIgnoreCaseComparer):!1},n.prototype._setupConfigurationData=function(t){var r=this,i;t||(i=$(n.JSON_ISLAND_SELECTOR),i.length>0&&(t=tt.parseMSJSON(i.html(),!1).backlogContext,i.empty()));t&&(this.level=u.BacklogConfigurationService.getBacklogConfiguration(null,t.team.id).getBacklogByDisplayName(t.levelName),this.team=t.team,this.isRequirement=it.equals(u.BacklogConfigurationService.getBacklogConfiguration(null,t.team.id).requirementBacklog.name,t.levelName,!0),this._isPortfolioInContext=u.BacklogConfigurationService.getBacklogConfiguration(null,t.team.id).portfolioBacklogs.some(function(n){return it.equals(n.id,r.level.id,!0)}),this.includeParents=t.includeParents,this.portfolios=t.portfolios,this.showInProgress=t.showInProgress,this.updateUrlActionAndParameter=t.updateUrlActionAndParameter,this.actionNameFromMru=t.actionNameFromMru)},n.JSON_ISLAND_SELECTOR=".backlog-context",n}();t.BacklogContext=vt;pt=function(){function n(n){this._teamId=n}return n.prototype._beginGetSettings=function(n){var i=this,t;if(t=function(){vt.getInstance()&&i._teamSettings&&n()},this._teamSettings)n();else{var f=y.ProjectCollection.getConnection(st),r=f.getService(fi),u=r.getTeamSettings(this._teamId);u?(this._teamSettings=u,t()):r.beginGetTeamSettings(this._teamId).then(function(n){i._teamSettings=n;t()},o.handleError)}},n.prototype.evaluate=function(n,t){var i=this;this._beginGetSettings(function(){i._isValid(n)?t(!0):t(!1)})},n.prototype._isTeamFieldValid=function(n){if(!n)return!1;var t=ct.getInstance().getProjectNames(this._teamSettings.projectId),i=this._teamSettings.teamFieldValues;return i.some(function(i){return wt.isClassificationPathEqualOrUnderRelative(t,n,i.value,i.includeChildren)})},n.prototype._isBacklogIterationPathValid=function(n){return this._isIterationPathValid(n,this._teamSettings.backlogIteration.friendlyPath)},n.prototype._isIterationPathValid=function(n,t){var i=ct.getInstance().getProjectNames(this._teamSettings.projectId);return wt.isClassificationPathEqualOrUnderRelative(i,n,t,!0)},n}();t.BaseBacklogMembershipEvaluator=pt;ut.initClassPrototype(pt,{_processSettings:null,_backlogContext:null,_teamSettings:null}),function(n){function i(i,r,u,f){var e=t(r,u,f);return e?e:i.some(function(i){return t(r,n.replaceClassificationRoot(u,i),f)})}function t(n,t,i){var r=!1,u=t+"\\";return r=ft.Field.compareValues(t,n,!0),!r&&i&&n&&(r=it.startsWith(n,u,it.localeIgnoreCaseComparer)),r}function r(n,t){return n.replace(/^[^\\]+\s*/,t)}n.isClassificationPathEqualOrUnderRelative=i;n.replaceClassificationRoot=r}(wt=t.ClassificationPathUtils||(t.ClassificationPathUtils={})),function(n){function t(t){return st.getActionUrl(t,n.CONTROLLER_NAME,{area:"api"})}function i(n,t){return!n||!t||t.length===0?null:it.format(h.ProductBacklogQueryName_Backlog,t,n.level.name)}n._getActionUrl=t;n.CONTROLLER_NAME="Backlog";n.getProductBacklogQueryName=i}(oi=t.BacklogQueryManager||(t.BacklogQueryManager={})),function(n){function t(n,t,i,u,o){w.getService(e.WebPageDataService,f.getDefaultWebContext()).getDataAsync(r.BacklogsHubConstants.PRODUCTBACKLOG_DATAPROVIDER_ID,null,null).then(function(n){n.exceptionInfo&&n.exceptionInfo.exceptionMessage?o({message:n.exceptionInfo.exceptionMessage,stack:n.exceptionInfo.stackTrace}):u(n.backlogPayload)},o)}n.beginGetBacklogPayload=t}(si=t.BacklogHelpers||(t.BacklogHelpers={})),function(n){function r(n,r,u){return r=r.replace(u,""),r=r.replace(/^\\/,""),r?i(n,r.split("\\")):it.ignoreCaseComparer(n,"board")===0||it.ignoreCaseComparer(n,"taskboard")===0?t("board"):t("backlog")}function u(n,t,i){var r,u,f;return r={},t&&(t.level&&(r.level=t.level),t.showParents!=null&&(r.showParents=t.showParents)),n&&(r._a=n),u=g.HistoryService.serializeState(r),f=st.getActionUrl(null,"backlogs",i)+"?"+u,f}function t(n){var t=vt.getInstance(),r=[];return t&&t.level&&t.level.name&&r.push(t.level.name),i(n,r)}function i(n,t){return t&&t.length>0?st.getActionUrl(n,"backlogs",{parameters:t}):st.getActionUrl(n,"backlogs")}n.generateIterationLink=r;n.getAsyncBacklogLink=u;n.generateBacklogLink=t}(hi=t.LinkHelpers||(t.LinkHelpers={})),function(n){function t(n,t,i,r,u,f,e,o){var s,h={ParentId:r,Ids:i,PreviousId:u,NextId:f,preProcessNotCompleted:!0,blockQueue:!0,completedCallback:function(n,t){typeof o=="function"&&o();t.success&&s()}};t.queueReorder(h);n.queueOperation(function(n){s=n;var r=function(n,i){if(n&&i&&i.length===n.length)for(var r=0;r<n.length;r++)t.changeReorderId(n[r],i[r]);delete h.preProcessNotCompleted;t.unblockReadyOperations()},u=function(){t.dequeueReorder(i);n()};typeof e=="function"?e(r,u):r(null,null)})}n.queueReorderOperation=t}(ci=t.WorkItemReorderHelpers||(t.WorkItemReorderHelpers={}));gt=function(){function n(n){var t=this;this._onRequestComplete=function(n){var i={success:!0,processedIds:t._getProcessedIds(),processedOperations:t._pendingChanges,clientError:!1,updatedWorkItemIds:n.updatedWorkItemIds,updatedWorkItemOrders:n.updatedWorkItemOrders};t._raiseRequestComplete(i);p.logTracePoint("ProductBacklog.ReorderManager.prototype._onRequestComplete.completed")};this._onRequestFail=function(n){var r={success:!1,error:n,processedIds:t._getProcessedIds(),processedOperations:t._pendingChanges,clientError:n.name===l.Exceptions.AjaxException||n.name===l.Exceptions.AjaxTimeoutException},i;n.serverError.typeKey==="SameTypeHierarchyException"&&(i=$("<a/>").attr("href","https://aka.ms/AA56xmh").attr("target","_blank").text(h.FWLink_LearnMore),$(".message-header").append(i));t._raiseRequestComplete(r)};this._teamId=n;this._queuedChanges=[];this._pendingChanges=null;this._queuedIdsLookup={};this._events=new k.NamedEventCollection}return Object.defineProperty(n.prototype,"teamId",{get:function(){return this._teamId},enumerable:!1,configurable:!0}),n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1;this._flush()},n.prototype.isPaused=function(){return this._paused},n.prototype.numberOfUncommittedChanges=function(){return(this._queuedChanges?this._queuedChanges.length:0)+(this._pendingChanges?this._pendingChanges.length:0)},n.prototype.dequeueReorder=function(n){var r,u,i,f,e,t,o;for(r=this._queuedIdsLookup,u=this._queuedChanges,i=0,f=n;i<f.length;i++)e=f[i],t=r[e],t&&(o=u.indexOf(t),t.Ids.forEach(function(n){return delete r[n]}),u.splice(o,1))},n.prototype.unblockReadyOperations=function(){for(var t,r=!1,i=0,u=this._queuedChanges;i<u.length;i++)t=u[i],t.blockQueue&&n._canOperationBeUnblocked(t)&&(delete t.blockQueue,r=!0);r&&this._flush()},n.prototype.changeReorderId=function(n,t){var f,r,i,e,u;for(f=this._queuedChanges,r=this._queuedIdsLookup,r[n]&&(i=r[n],r[t]=i,delete r[n],e=$.inArray(n,i.Ids),e>=0&&i.Ids.splice(e,1,t)),u=0;u<f.length;u+=1)i=f[u],i.PreviousId===n&&(i.PreviousId=t),i.NextId===n&&(i.NextId=t)},n.prototype.queueReorder=function(n){var f=this,t,r,u,i;if(!n.Ids.some(function(n){return!!f._queuedIdsLookup[n]})){for(t=0,r=n.Ids;t<r.length;t++)u=r[t],u<0&&(n.blockQueue=!0),this._queuedIdsLookup[u]=n;n.ParentId<0&&(n.ParentId=0);n.IterationPath||(i=y.ProjectCollection.getDefaultConnection().getService(at).getContext(),n.IterationPath=i&&i.iteration?i.iteration.path:null);n.preProcessNotCompleted&&(n.blockQueue=!0);this._queuedChanges.push(n);this._flush()}},n.prototype.attachRequestComplete=function(t){this._events.subscribe(n.EVENT_REQUEST_COMPLETE,t)},n.prototype.detachRequestComplete=function(t){this._events.unsubscribe(n.EVENT_REQUEST_COMPLETE,t)},n.prototype.dispose=function(){this._events&&(this._events.unsubscribeAll(),this._events=null);this._queuedChanges=null;this._pendingChanges=null;this._queuedIdsLookup=null},n._canOperationBeUnblocked=function(t){var i,r,u;if(t.preProcessNotCompleted)return!1;for(i=0,r=t.Ids;i<r.length;i++)if(u=r[i],u<=0)return!1;var f=t.NextId>0||t.NextId===n.ReorderEndOfList,e=t.PreviousId>0||t.PreviousId===n.ReorderEndOfList,o=t.NextId===n.ReorderIdUnspecified&&t.PreviousId===n.ReorderIdUnspecified;return f||e||o},n.prototype._postRequest=function(){var n=y.ProjectCollection.getDefaultConnection().getService(at).getContext();n&&n.iteration?i.reorderIterationWorkItems(this._teamId,this._pendingChanges,this._onRequestComplete,this._onRequestFail,n.iteration.id):i.reorderProductBackLogWorkItems(this._teamId,this._pendingChanges,this._onRequestComplete,this._onRequestFail)},n.prototype._flush=function(){var r=this._queuedChanges,e=this._queuedIdsLookup,u=[],t,f=r.length,i;if(this._pendingChanges===null&&f>0&&!this._paused){for(i=0;i<f;i++){if(t=r[i],t.blockQueue)break;t.NextId===undefined&&(t.NextId=n.ReorderIdUnspecified);t.PreviousId===undefined&&(t.PreviousId=n.ReorderIdUnspecified);u.push(t);$.each(t.Ids,function(n,t){delete e[t]})}u.length>0&&(this._pendingChanges=u,r.splice(0,i),this._postRequest())}},n.prototype._getProcessedIds=function(){for(var n,i,r,u=[],f=this._pendingChanges,e=this._queuedIdsLookup,t=0;t<f.length;t++)for(n=0,i=f[t].Ids;n<i.length;n++)r=i[n],e[r]||u.push(r);return u},n.prototype._raiseRequestComplete=function(t){var r=this._pendingChanges,h=this._queuedIdsLookup,c=this._queuedChanges,u,l=a.TfsContext.getDefault(),v=y.ProjectCollection.getConnection(l).getService(ft.WorkItemStore),p=s.WorkItemManager.get(v),i,f,o,e;if(t.success)this._pendingChanges=null,this._flush(),p.invalidateCache(t.updatedWorkItemIds);else{for(this.pause(),i=0;i<r.length;i++)u=r[i],u.continueOnFailure||$.each(u.Ids,function(n,t){h[t]=u});this._queuedChanges=r.filter(function(n){return!n.continueOnFailure}).concat(c);this._pendingChanges=null}if(this._events.invokeHandlers(n.EVENT_REQUEST_COMPLETE,this,t),!t.success&&r.some(function(n){return n.continueOnFailure})){for(f=0,o=r;f<o.length;f++)e=o[f],e.continueOnFailure&&typeof e.completedCallback=="function"&&e.completedCallback(this,t);this.resume()}else for(i=0;i<r.length;i++)u=r[i],typeof u.completedCallback=="function"&&u.completedCallback(this,t)},n.EVENT_REQUEST_COMPLETE="request-complete",n.ReorderEndOfList=0,n.ReorderIdUnspecified=null,n}();t.ReorderManager=gt,function(n){n.LimitedPortfolioAccess="16676E24-8F6A-4EAA-9A9D-FCDF57E8BC8A";n.ProposedStateNotMappedForBugsWarning="02ADFCA6-1633-483A-972D-E0192AB07A0D";n.NewBacklogLevelVisibilityNotSet="F6070FC4-EF8E-48B8-B0E5-1E9A99979981"}(li=t.NotificationGuids||(t.NotificationGuids={}));ni=function(){function n(){}return n.attachSortableItemHandler=function(t){var i=t.originalItem,tt=t.getIdDelegate,o="."+t.itemClass,r=i.parent(),u=n._getItemIndex(i,tt,r,o),l;if(!(u<0)){var p=!1,h=t.draggableHelper,a=t.unSortableClass,it="."+t.hoverClass,e=u,v=-1,s=r,c=i.clone().addClass("clone").addClass(n.DRAGGED_ITEM_CLASS).attr("id","cloneid"),w=Number.MAX_VALUE,b=Number.MAX_VALUE;i.addClass(n.DRAGGED_ITEM_CLASS);var f=r,k,d,g,y=function(t,r,u,f,o){var c=u[0]===s[0],h;c?r<e?i.insertBefore(t):i.insertAfter(t):(h=n._isPointAboveContainer(o,t.offset().top,t.outerHeight()),h?i.insertBefore(t):(i.insertAfter(t),r++));v=e;e=r;s=u},nt=function(f,h,c){var w=!1,st=t.blockSortable&&r!==f,b,k,p,it,g,nt,rt,tt,l,d;if(r.hasClass(a)&&f.hasClass(a)){n._replaceOriginalItem(i,u,r,o,t.dropOnEmptyClass);e=u;s=f;return}if(f.hasClass(a)||st){f.prepend(i);i.addClass(n.SORTABLE_HIDDEN);e=0;s=f;return}if(i.removeClass(n.SORTABLE_HIDDEN),b=o?f.find(o).toArray():f.children().toArray(),k=b.length,k<=0){n._insertOnEmpty(i,f,t.dropOnEmptyClass);e=0;s=f;return}for(l=0,d=k;l<d;l++)if(p=$(b[l]),it=p.offset(),n._isPointInContainer(h,c,it.left,it.top,p.outerWidth(),p.outerHeight())){if(l===v){w=!0;continue}y(p,l,f,h,c);w=!0;return}if(!w&&(g=$(b[k-1]),nt=g.offset(),h>=nt.left&&c>=nt.top||c>nt.top+g.outerHeight())){y(g,k-1,f,h,c);w=!0;return}if(!w){for(rt=Number.POSITIVE_INFINITY,tt=0,l=0,d=k;l<d;l++){var p=$(b[l]),ut=p.offset(),ft=h-(ut.left+p.outerWidth()/2),et=c-(ut.top+p.outerHeight()/2),ot=ft*ft+et*et;ot<=rt&&(rt=ot,tt=l)}y($(b[tt]),tt,f,h,c);w=!0;return}};i.on("touchmove",k=function(n){ot.simulateMouseEvent(n,h[0]);n.preventDefault()});i.on("touchstart",d=function(n){ot.simulateMouseEvent(n,h[0])});i.on("touchend",g=function(n){ot.simulateMouseEvent(n,h[0])});l=function(e){var d;if(!p){var h=e.pageX,l=e.pageY,a,y=function(t){var i=Math.abs(w-h),r=Math.abs(b-l),u=n._isDragSufficient(i,r);u&&(w=h,b=l,nt(t,h,l))},k=r.offset(),g=r.outerWidth(),tt=r.outerHeight();n._isPointInContainer(h,l,k.left,k.top,g,tt)?(f=r,$(".clone").remove(),y(r)):(f=$(it),f[0]!==s[0]&&(v=-1),d=f.hasClass(t.droppableHeaderClass),f.length>0&&!d?y(f):(i.detach(),s=f),a=o?r.find(o).toArray():r.children().toArray(),u===0?c.insertBefore($(a[0])):c.insertAfter($(a[u-1])))}};h.mousemove(l);$(document.body).mousemove(l);i.on("dragstop",function(s,a){p=!0;i.off("dragstop");i.off("touchstart",d);i.off("touchmove",k);i.off("touchend",g);h.off("mousemove",l);$(document.body).off("mousemove",l);i.removeClass(n.SORTABLE_HIDDEN);i.removeClass(n.DRAGGED_ITEM_CLASS);var v=function(){typeof t.revertCallback=="function"&&t.revertCallback(a)},y=f.hasClass(t.droppableHeaderClass);if(y)c.remove(),v();else if(f.length<=0)c.remove(),n._replaceOriginalItem(i,u,r,o,t.dropOnEmptyClass),e=u,v();else{if(i.parent().length<=0&&nt(f,s.pageX,s.pageY),i.parent()[0]!==r[0])c.remove();else if(u===e){v();return}t.completedCallback(s,a,i,u,e,y)}})}},n.attachReorderItemHandler=function(t,i,r,u,f,e,o,s,h){var ut=this,k,d,g,nt=!1,l=-1,a=-1,v,w=Number.MAX_VALUE,b=Number.MAX_VALUE,c=t.parent(),p,tt,y,it,rt;for(o&&(c=t.closest(o),v=$("<div/>"),v.height(c.height()).css({visibility:"hidden",float:"left"}),c.append(v)),p=f?c.find(f).toArray():c.children().toArray(),tt=u(t),h&&h(p),y=0,it=p.length;y<it;y++)if(rt=$(p[y]),u(rt)===tt){l=y;break}if(!(l<0)){a=l;t.addClass(n.DRAGGED_ITEM_CLASS);t.on("touchmove",k=function(n){ot.simulateMouseEvent(n,i[0]);n.preventDefault()});t.on("touchstart",d=function(n){ot.simulateMouseEvent(n,i[0])});t.on("touchend",g=function(n){ot.simulateMouseEvent(n,i[0])});i.mousemove(function(i){var st,ht,y,p,o,rt,d,g,ft,tt,u,k;if(!nt){var v=i.pageX,e=i.pageY,r,et=function(n,t,i,r,u,f){return n>i&&n<i+u&&t>r&&t<r+f},it=function(n,i){i!==a&&(s?s(t,r,i):i<a?t.insertBefore(n):t.insertAfter(n),a=i)},ot=c.offset(),yt=c.outerWidth(),pt=c.outerHeight();if(et(v,e,ot.left,ot.top,yt,pt)){if(t.removeClass(n.DRAGGED_ITEM_OUTSIDE_CONTAINER),st=Math.abs(w-v),ht=Math.abs(b-e),ut._isDragSufficient(st,ht)){for(w=v,b=e,y=!1,r=f?c.find(f).toArray():c.children().toArray(),p=r.length,h&&h(r),u=0,k=p;u<k;u++)if(o=$(r[u]),rt=o.offset(),et(v,e,rt.left,rt.top,o.outerWidth(),o.outerHeight())){it(o,u);y=!0;break}if(y||(d=$(r[p-1]),g=d.offset(),(v>=g.left&&e>=g.top||e>g.top+d.outerHeight())&&(it(d,p-1),y=!0)),!y){for(ft=Number.POSITIVE_INFINITY,tt=0,u=0,k=p;u<k;u++){var o=$(r[u]),ct=o.offset(),lt=v-(ct.left+o.outerWidth()/2),at=e-(ct.top+o.outerHeight()/2),vt=lt*lt+at*at;vt<=ft&&(ft=vt,tt=u)}it($(r[tt]),tt)}}}else t.addClass(n.DRAGGED_ITEM_OUTSIDE_CONTAINER),a!==l&&(s||t.detach(),r=f?c.find(f).toArray():c.children().toArray(),h&&h(r),s?s(t,r,l):l===0?t.insertBefore($(r[0])):t.insertAfter($(r[l-1])),a=l,w=v,b=e)}});t.on("dragstop",function(u,f){nt=!0;t.removeClass(n.DRAGGED_ITEM_OUTSIDE_CONTAINER);t.removeClass(n.DRAGGED_ITEM_CLASS);t.off("dragstop");t.off("touchstart",d);t.off("touchmove",k);t.off("touchend",g);i.off("mousemove");v&&v.empty().remove();l!==a?r(u,f,t,l,a):l===a&&typeof e=="function"&&e(t)})}},n._isDragSufficient=function(t,i){return t<n.SUFFICIENT_DRAG_DISTANCE&&i<n.SUFFICIENT_DRAG_DISTANCE?!1:!0},n._isPointInContainer=function(n,t,i,r,u,f){return n>i&&n<i+u&&t>r&&t<r+f},n._isPointAboveContainer=function(n,t,i){var r=t+i/2;return n<r},n._getItemIndex=function(n,t,i,r){for(var e,f=r?i.find(r).toArray():i.children().toArray(),o=t(n),u=0,s=f.length;u<s;u++)if(e=$(f[u]),t(e)===o)return u;return-1},n._insertOnEmpty=function(n,t,i){var r=t.find("."+i);r.length>0?n.insertAfter(r[0]):t.prepend(n)},n._replaceOriginalItem=function(t,i,r,u,f){var e=u?r.find(u).toArray():r.children().toArray();e.length===0&&n._insertOnEmpty(t,r,f);i===0?t.insertBefore($(e[0])):t.insertAfter($(e[i-1]))},n.DRAGGED_ITEM_CLASS="reorderDragStarted",n.DRAGGED_ITEM_OUTSIDE_CONTAINER="reorderDragOutside",n.SORTABLE_HIDDEN="sortable-helper-hidden",n.SUFFICIENT_DRAG_DISTANCE=10,n}();t.ReorderItemHandler=ni,function(n){function u(n){n.forEach(function(n){t(n)})}function f(n){n.forEach(function(n){i(n)})}function t(n){n.end=rt.shiftToLocal(n.end);n.start=rt.shiftToLocal(n.start)}function i(n){n.end=rt.shiftToUTC(n.end);n.start=rt.shiftToUTC(n.start)}function r(n,t){return n.start.getTime()===t.start.getTime()&&n.end.getTime()===t.end.getTime()}function e(n,t){var i,f,u=!0;if(n.length!==t.length)u=!1;else for(i=0,f=n.length;i<f;i+=1)if(!r(n[i],t[i])){u=!1;break}return u}function o(n,t,i){var r,e;var u,f=0,o=n.getDay(),s=t.getDay();for(r=0,e=i.length;r<e;r+=1)u=i[r],o<=u&&s>=u&&(f+=1);return f}function s(t,i,r,u){var f,s,e,o,h;for(f=n.getWorkingDaysInfo(t,i,u),e=0,o=0,h=r.length;o<h;o+=1)s=r[o],e+=n.getWorkingDaysInfo(s.start,s.end,u).totalWorkingDays;return f.totalExcludedDays=e,f.workingDays=f.totalWorkingDays-e,f}function h(){return{totalDays:0,weekendDays:0,totalWorkingDays:0,totalExcludedDays:0,workingDays:0}}function c(n,t,i,r){for(var h=0,l=n.length,c=0,a=t.length,u,f,s=[],o=n[h],e=t[c];h<l||c<a;)o&&e&&o.start<=e.start||!e?(u=o,h+=1,o=n[h]):(u=e,c+=1,e=t[c]),u=this.normalizeForDateRange(u,i,r),u.start>=i&&u.start<=r&&u.end>=i&&u.end<=r&&(f&&(f.start<=u.start&&f.end>=u.start||f.start<=u.end&&f.end>=u.end)?(u={start:f.start<u.start?f.start:u.start,end:f.end>u.end?f.end:u.end},s[s.length-1]=u):s[s.length]=u,f=u);return s}function l(n,t,i){return n.start<t&&n.end>i?{start:t,end:i}:n.start<t&&n.end>=t&&n.end<=i?{start:t,end:n.end}:n.end>i&&n.start>=t&&n.start<=i?{start:n.start,end:i}:n}function a(t,i,r){var o,y,l,a;var u=rt.MILLISECONDS_IN_DAY,b=rt.MILLISECONDS_IN_WEEK,v=0,f;if(t>i)return{totalDays:0,totalWorkingDays:0,weekendDays:0};var e=Math.round((i.getTime()-t.getTime())/u)+1,s=t.getDay(),h=i.getDay();if(e<=7&&s<=h)f=e-n._getWeekendsBetweenDaysOfWeek(t,i,r);else{o=7-s;y=this.getDSTAgnosticDate(t.getTime()+u*(o-1));o-=n._getWeekendsBetweenDaysOfWeek(t,y,r);var w=this.getDSTAgnosticDate(t.getTime()+u*(7-s)),c=h+1,k=this.getDSTAgnosticDate(i.getTime()-u*(c-1));c-=n._getWeekendsBetweenDaysOfWeek(k,i,r);l=this.getDSTAgnosticDate(i.getTime()-u*(h+1));w<l&&(a=Math.round((l.getTime()-w.getTime()+u)/b),v=a*7-a*r.length);f=o+v+c}return{totalDays:e,totalWorkingDays:f,weekendDays:e-f}}function v(n){var t=new Date(n),i=t.getHours();return i>=12?t.setHours(24,0,0,0):i<12&&t.setHours(0,0,0,0),t}n.shiftDateRangesToLocal=u;n.shiftDateRangesToUTC=f;n.shiftDateRangeToLocal=t;n.shiftDateRangeToUTC=i;n.areDateRangeEqual=r;n.areDateRangesEqual=e;n._getWeekendsBetweenDaysOfWeek=o;n.getDateBreakdown=s;n.getEmptyDateBreakdown=h;n.getMergedDateRangeList=c;n.normalizeForDateRange=l;n.getWorkingDaysInfo=a;n.getDSTAgnosticDate=v}(ai=t.CapacityDateUtils||(t.CapacityDateUtils={}));ti=function(){function n(){}return n.COMMON_CONFIG_SETTING_INSTANCE_ID="af585f7e-3a58-4826-b1c6-b080bd1eaea2",n.BOARDS_GROUP_ID="7acc5438-9254-4b93-9c66-900a0b214989",n.BOARD_GROUP_TITLE=c.CSC_BOARD_GROUP_TITLE,n.CARDS_GROUP_ID="a857de31-d327-47ce-86bc-7e2d82d8713e",n.CARDS_GROUP_TITLE=c.CSC_CARDS_GROUP_TITLE,n.CHARTS_GROUP_ID="92F5854F-6C88-4C37-A055-23306A73D525",n.CHARTS_GROUP_TITLE=c.CSC_CHARTS_GROUP_TITLE,n.GENERAL_GROUP_ID="7c548ed6-1cea-4ba3-a167-b093da447f4f",n.GENERAL_GROUP_TITLE=c.CSC_GENERAL_GROUP_TITLE,n.FIELDS_TAB_ID="4d737028-f57e-4728-9b4e-5d94ffe7dac1",n.FIELDS_TAB_TITLE=c.CSC_FIELDS_TAB_TITLE,n.CARDS_ANNOTATION_TAB_ID="53FB3DAF-7900-46BC-96E2-4D60882D2822",n.CARDS_ANNOTATION_TAB_TITLE=c.CSC_CARDS_ANNOTATION_TAB_TITLE,n.CARDS_TESTS_TAB_ID="3A6EF72F-6AC1-4414-A634-59ED0222BD89",n.CARDS_TESTS_TAB_TITLE=c.CSC_TESTS_TAB_TITLE,n.CARDS_STYLES_TAB_ID="C1463A1D-28CF-4B22-8355-7C0045D0B1A8",n.CARDS_STYLES_TAB_TITLE=c.CSC_CARDS_STYLES_TAB_TITLE,n.CARDS_TAGCOLOR_TAB_ID="39276C4E-4285-46E1-A2C5-4D7DBB06535D",n.CARDS_TAGCOLOR_TAB_TITLE=c.CSC_CARDS_TAGCOLOR_TAB_TITLE,n.SWIMLANES_TAB_ID="0245BB3E-63A6-4B4E-9444-5FAD220D4E69",n.COLUMNS_TAB_ID="B5CD2EA4-D622-4CAC-A26E-12509324A896",n.KANBAN_DRAG_BEHAVIOR_ID="3CB1429B-28E9-408E-AC6E-6A6AA2F43B9E",n.BOARD_BADGE_TAB_ID="d2d04aa7-a63d-4d62-b75b-cab51253ab33",n.BACKLOGS_TAB_ID="85b81c61-9c1c-4e79-8e17-ddb4960544a6",n.WORKINGDAYS_TAB_ID="9608a9c1-6ae8-45e9-b28e-1e3d57f3da3a",n.BUGBEHAVIOR_TAB_ID="bc589740-4a0c-4f61-9f5c-c4f0bad7b628",n.CFD_TAB_ID="1C784703-A1EF-4EB3-83A7-4576268E5A90",n}();t.TabControlsRegistrationConstants=ti;ii=function(){function n(){}return n.KANBAN_VIEW="Kanban",n.PRODUCT_BACKLOG_VIEW="ProductBacklog",n.ITERATION_BACKLOG_VIEW="IterationBacklog",n.ITERATION_BOARD_VIEW="Taskboard",n.CAPACITY_VIEW="Capacity",n.CFD_VIEW="CFD",n}();t.AgileCustomerIntelligenceConstants=ii;ri=function(){function n(){}return n.CardFieldSearchControl="1f0c09e1-cd5d-4618-b7c6-75561d63166e",n.CardFieldDisplayControl="3223bcb2-df35-4a1b-a8fa-41483b5a37e4",n.CardStylingSearchControl="fece9ad0-925d-41b9-a1d5-7eda696bc518",n.TaskBoardFilterDisplayControl="bd967d1e-bd03-4520-a882-d43104703ddb",n.TaskBoardRowHeaderDisplayControl="a2beec8c-5c11-4a24-9361-3183250614fc",n.CapacitySearchControl="aeb42d33-cca6-4530-ae42-7e3a64f1efd1",n.CapacityDisplayControl="a8c5bc60-dad1-47dd-ad74-a6ac9e151c79",n.KanbanFilterDisplayControl="32c71465-1023-48bb-bdb3-40da063293bb",n.SprintPlanningDisplayControl="fc2df75a-e408-4110-ad99-a1d35240d5a7",n}();t.IdentityControlConsumerIds=ri;ot=function(){function n(){}return n.simulateMouseEvent=function(n,t){var r=n.originalEvent,i=r&&r.changedTouches[0],u;i&&(u={touchstart:["mousedown"],touchmove:["mousedown","mousemove"],touchend:["mouseup"]}[n.type],u.forEach(function(n){var r=document.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);t.dispatchEvent(r)}))},n}();t.TouchEventsHelper=ot;ui=function(){function n(){}return n.getBacklogContextWorkItemTypeNames=function(){if(!n._backlogContextWitNames){var t=$(".backlog-context-work-item-type-names");n._backlogContextWitNames=tt.parseMSJSON(t.eq(0).html(),!1);t.remove()}return n._backlogContextWitNames},n.setBacklogContextWorkItemTypeNames=function(n){this._backlogContextWitNames=n},n}();t.BacklogSettings=ui});

define("Agile/Scripts/BoardAnnotationsIdentifier",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.BoardAnnotationsIdentifier=void 0;var i=function(){function n(){}return n.ChecklistAnnotation="Microsoft.VSTS.Agile.ChecklistAnnotation",n.GitHubLinksAnnotation="Microsoft.VSTS.Boards.GitHubLinksAnnotation",n.TestAnnotation="Microsoft.VSTS.TestManagement.TestAnnotation",n.CardAnnotation="Microsoft.VSTS.Agile.{0}Annotation",n}();t.BoardAnnotationsIdentifier=i});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts",["require","exports","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i){var r,u,f,e,o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.Events=t.HostArtifactAdditionalData=t.InternalKnownColumns=t.SortDirection=t.FetchingLinks=t.ZeroDataExperienceViewMode=t.ViewMode=t.LinkColumnType=t.LINKED_ARTIFACTS_CUSTOMER_INTELLIGENCE_AREA=t.DefaultGridHeight=void 0;t.DefaultGridHeight=300;t.LINKED_ARTIFACTS_CUSTOMER_INTELLIGENCE_AREA="linkedArtifacts",function(n){n[n.String=0]="String";n[n.Integer=1]="Integer";n[n.DateTime=2]="DateTime";n[n.PlainText=3]="PlainText";n[n.Html=4]="Html";n[n.TreePath=5]="TreePath";n[n.Double=6]="Double";n[n.Guid=7]="Guid";n[n.Boolean=8]="Boolean";n[n.Identity=9]="Identity"}(r=t.LinkColumnType||(t.LinkColumnType={})),function(n){n[n.List=0]="List";n[n.Grid=1]="Grid";n[n.FullGrid=2]="FullGrid"}(u=t.ViewMode||(t.ViewMode={})),function(n){n[n.Hidden=0]="Hidden";n[n.Default=1]="Default";n[n.Custom=2]="Custom"}(f=t.ZeroDataExperienceViewMode||(t.ZeroDataExperienceViewMode={})),function(n){n[n.Done=0]="Done";n[n.InProgress=1]="InProgress"}(e=t.FetchingLinks||(t.FetchingLinks={})),function(n){n[n.Ascending=1]="Ascending";n[n.Descending=-1]="Descending"}(o=t.SortDirection||(t.SortDirection={}));t.InternalKnownColumns={Link:{name:i.LinkedArtifacts_ColumnHeader_Link,refName:"Link"},Id:{name:i.LinkedArtifacts_ColumnHeader_Id,refName:"System.Id"},State:{name:i.LinkedArtifacts_ColumnHeader_State,refName:"System.State"},LastUpdate:{name:i.LinkedArtifacts_ColumnHeader_LastUpdate,refName:"System.ChangedDate"},Comment:{name:i.LinkedArtifacts_ColumnHeader_Comment,refName:"System.Links.Comment"}},function(n){n.ProjectName="PROJECT_NAME";n.ProjectId="PROJECT_ID"}(s=t.HostArtifactAdditionalData||(t.HostArtifactAdditionalData={})),function(n){n.ForceRerender="LA_FORCE_RERENDER"}(h=t.Events||(t.Events={}))});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/RequestCache",["require","exports","q","VSS/Utils/Array","VSS/Utils/String"],function(n,t,i,r,u){var o;Object.defineProperty(t,"__esModule",{value:!0});t.RequestCache=t.CacheRequestStatus=void 0,function(n){n[n.Queued=0]="Queued";n[n.Active=1]="Active"}(o=t.CacheRequestStatus||(t.CacheRequestStatus={}));var f=function(n){return"".concat(n.tool,"/").concat(n.type,"/").concat(n.id)},e=function(n,t){if(n||t)if(n){if(!t)return 1}else return-1;else return 0;var i=u.ignoreCaseComparer(f(n),f(t));return i!==0?i:u.ignoreCaseComparer(n.linkType,t.linkType)},s=function(n,t){return n&&t&&u.ignoreCaseComparer(n.refName,t.refName)},h=function(){function n(n){this._cache={};this._queuedRequests=[];this._delay=n}return n.prototype.getArtifacts=function(t,u,o){for(var l=t.slice(0),a=[],p=[],v=[],s=null,h,y,w,c;l.length>0;){if(h=l.shift(),y=this._cache[f(h)],y){if(c=n._findOrExtendRequest(h,u,y),c){v.push(c.result);w=r.intersect([h].concat(l),c.linkedArtifacts,e);l=r.subtract(l,w,e);continue}}else if(s||this._queuedRequests.length>0){s=s||this._queuedRequests[0];n._extendRequest(h,u,s);p.push(h);continue}a.push(h)}return s&&(v.push(s.result),this._addToCache(p,s)),a.length>0&&(c=this._createNewRequest(a,u,o),v.push(c.result),this._addToCache(a,c)),i.all(v).then(function(n){return r.unique([].concat.apply([],n).filter(function(n){return r.contains(t,n,e)}),e)})},n.prototype._addToCache=function(n,t){for(var u=0,e=n;u<e.length;u++){var s=e[u],o=f(s),i=this._cache[o];i||(i=[],this._cache[o]=i);i.length!==0&&r.contains(i,t)||i.push(t)}},n.prototype._createNewRequest=function(n,t,u){var s=this,e={linkedArtifacts:n.slice(0),columns:t,status:o.Queued,result:i.delay(this._delay).then(function(){return e.status=o.Active,r.remove(s._queuedRequests,e),u(e.linkedArtifacts,e.columns).then(function(n){for(var r,t=0,i=e.linkedArtifacts;t<i.length;t++)r=i[t],delete s._cache[f(r)];return n})})};return this._queuedRequests.push(e),e},n._extendRequest=function(n,t,i){r.contains(i.linkedArtifacts,n,e)||i.linkedArtifacts.push(n);i.columns=r.union(i.columns,t,s)},n._requestContainsRequestedColumns=function(n,t){return r.intersect(n,t.columns,s).length===n.length},n._findOrExtendRequest=function(t,i,r){for(var e,h,u,f=0,s=r;f<s.length;f++)if(u=s[f],n._requestContainsRequestedColumns(i,u))return u;for(e=0,h=r;e<h.length;e++)if(u=h[e],u.status===o.Queued)return n._extendRequest(t,i,u),u;return null},n._getArtifactIdsForRequest=function(n){return n.linkedArtifacts.map(function(n){return f(n)})},n}();t.RequestCache=h});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/ContributedDataProviderAdapter",["require","exports","VSS/Service","VSS/Context","VSS/Utils/String","VSS/Contributions/Controls","VSS/Contributions/Services","VSS/Diag","VSS/Error","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","TFS/WorkItemTracking/ExtensionContracts","Presentation/Scripts/TFS/TFS.Core.Utils"],function(n,t,i,r,u,f,e,o,s,h,c,l){function y(n){return p(n).then(function(n){return f.getBackgroundHost(n)}).then(function(n){return n.getRegisteredInstance("ArtifactLinkProvider",r.getDefaultWebContext())}).then(function(t){return new a(n,t)})}function p(n){return i.getService(e.ExtensionService).getContributionsForTargets([v]).then(function(t){var i=t.filter(function(t){return u.ignoreCaseComparer(n,t.properties.toolId)==0}),r;if(i.length===0){r=new Error("No contribution found which supports tool: '"+n+"'");s.publishErrorToTelemetry(r);throw r;}return i.length>1&&s.publishErrorToTelemetry(new Error("Multiple contributions registered for tool "+n+". Taking the first one and ignoring others.")),i[0]})}var v,a;Object.defineProperty(t,"__esModule",{value:!0});t.ContributedDataProviderAdapter=t.getContributedLinkedArtifactDataProvider=void 0;v="ms.vss-work-web.workitem-artifact-links";t.getContributedLinkedArtifactDataProvider=y;a=function(){function n(n,t){this.supportedTool=n;this._artifactLinkProvider=t}return n.prototype.beginGetDisplayData=function(n){var t=this;return this._artifactLinkProvider.getDisplayData(l.makeCopy(n)).then(function(i){for(var u,f={},r=0,e=n;r<e.length;r++)u=e[r],f[u.id]=u;return i.map(function(n){try{t._verifyDataReturnedByExtension(n,f[n.id])}catch(i){n.error=i}return t._toInternalDisplayData(n)})},function(t){return s.publishErrorToTelemetry(t),n.map(function(){return t})})},n.prototype._verifyDataReturnedByExtension=function(n,t){if(u.ignoreCaseComparer(n.linkType,t.linkType)!=0||u.ignoreCaseComparer(n.tool,t.tool)!=0||u.ignoreCaseComparer(n.type,t.type)!=0||u.ignoreCaseComparer(n.id,t.id)!=0){var i=new Error("Read-only fields in LinkedArtifact id ${originalLinkedArtifact.id} changed by extension.");s.publishErrorToTelemetry(i);throw i;}},n.prototype._toInternalDisplayData=function(n){return{uri:n.uri,tool:n.tool,type:n.type,id:n.id,linkType:n.linkType,linkTypeDisplayName:n.linkTypeDisplayName,comment:n.comment,primaryData:this._toInternalLinkedArtifactPrimaryData(n.primaryData,n),additionalData:this._toInternalAdditionalDataDictionary(n.additionalData),error:n.error}},n.prototype._toInternalLinkedArtifactPrimaryData=function(n,t){return{typeIcon:n.typeIcon,displayId:n.displayId,title:n.title,href:n.href,typeName:t.linkTypeDisplayName,callback:null,miscData:null}},n.prototype._toInternalAdditionalDataDictionary=function(n){var t={};return!n[c.KnownColumns.State]||(t[h.InternalKnownColumns.State.refName]=n[c.KnownColumns.State]),!n[c.KnownColumns.LastUpdate]||(t[h.InternalKnownColumns.LastUpdate.refName]=n[c.KnownColumns.LastUpdate]),t},n}();t.ContributedDataProviderAdapter=a});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/DataProvider.Registration",["require","exports","q","VSS/VSS","VSS/Artifacts/Constants","Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/ContributedDataProviderAdapter"],function(n,t,i,r,u,f){function h(n){n=n.toLowerCase();var r=o[n];return!r?f.getContributedLinkedArtifactDataProvider(n).then(function(n){return n},function(){return i.reject({message:"No linked artifacts provider registered for tool '".concat(n,"'."),type:t.ERROR_NODATAPROVIDERREGISTERED_TYPE})}):r.instancePromise?r.instancePromise:c(r,n)}function c(n,t){var u=i.defer();return r.using(n.requiredModules,function(n){try{u.resolve(new n.default)}catch(t){u.reject(t)}},function(n){u.reject(n)}),n.instancePromise=u.promise.timeout(s,"Could not resolve linked artifacts for tool '".concat(t,"' provider within ").concat(s,"ms")),n.instancePromise.then(function(n){return n},function(){n.instancePromise=null})}function l(n){return!!o[n.toLowerCase()]}var e,o,s;Object.defineProperty(t,"__esModule",{value:!0});t.inBuiltDataProviderExistsForTool=t.getLinkedArtifactProvider=t.ERROR_NODATAPROVIDERREGISTERED_TYPE=void 0;o=(e={},e[u.ToolNames.WorkItemTracking.toLowerCase()]={requiredModules:["WorkItemTracking/Scripts/DataProviders/LinkedWorkItemDataProvider"]},e[u.ToolNames.RemoteWorkItemTracking.toLowerCase()]={requiredModules:["WorkItemTracking/Scripts/DataProviders/RemoteLinkedWorkItemDataProvider"]},e[u.ToolNames.TeamBuild.toLowerCase()]={requiredModules:["Build.Common/Scripts/DataProvider/LinkedArtifactsDataProvider"]},e[u.ToolNames.Git.toLowerCase()]={requiredModules:["VersionControl/Scripts/DataProviders/GitDataProvider"]},e[u.ToolNames.VersionControl.toLowerCase()]={requiredModules:["VersionControl/Scripts/DataProviders/VersionControlDataProvider"]},e[u.ToolNames.Requirements.toLowerCase()]={requiredModules:["Requirements/Scripts/DataProviders/ExternalLinkDataProvider"]},e[u.ToolNames.Hyperlink.toLowerCase()]={requiredModules:["Requirements/Scripts/DataProviders/ExternalLinkDataProvider"]},e[u.ToolNames.TestManagement.toLowerCase()]={requiredModules:["TestManagement/Scripts/DataProviders/TestManagementDataProvider"]},e[u.ToolNames.Wiki.toLowerCase()]={requiredModules:["Wiki/Scripts/LinkedArtifactsDataProvider"]},e[u.ToolNames.GitHub.toLowerCase()]={requiredModules:["WorkItemTracking/Scripts/DataProviders/GitHubDataProvider"]},e);s=3e4;t.ERROR_NODATAPROVIDERREGISTERED_TYPE="NoDataProviderRegisteredError";t.getLinkedArtifactProvider=h;t.inBuiltDataProviderExistsForTool=l});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Constants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactLinkTypes=void 0;var i;(function(n){n.WorkItemAsArtifactLinkType="WorkItemAsArtifactLink"})(i=t.ArtifactLinkTypes||(t.ArtifactLinkTypes={}))});

define("Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactResolver",["require","exports","q","VSS/Utils/Array","VSS/Utils/String","VSS/Error","VSS/Controls/Notifications","Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/RequestCache","Presentation/Scripts/TFS/Controls/LinkedArtifacts/DataProvider/DataProvider.Registration","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Constants","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Utils/Accessibility"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){Object.defineProperty(t,"__esModule",{value:!0});t.ArtifactResolver=void 0;var v=4,y=function(){function n(){this._requestCaches={}}return n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},n.invalidateArtifactCacheEntry=function(t,i,r){t.invalidate(n._getWriteArtifactCacheKey(i,r))},n.getArtifactCacheEntry=function(t,i,r){return t.get(n._getWriteArtifactCacheKey(i,r))},n.prototype.resolveArtifacts=function(t,o,c,a,v,y){var p=this,d=t.slice(0),w=[],b=this._groupLinkedArtifactsByTool(d),g=Object.keys(b),nt=g.map(function(t){return p._getDataProvider(t).then(function(f){var s,k,d,g,nt,tt;return f?(s=b[t],f.artifactLimit&&s.length>=f.artifactLimit&&(s=n._getLimitedNumberOfArtifacts(f.artifactLimit,s),w.push({type:e.MessageAreaType.Warning,text:l.LinkedArtifacts_TooManyLinks})),k=v&&v(t),d=[],y&&(g=[],d=s.map(function(n){var t=p._getArtifactFromCache(y,n,o);return t&&k&&(!f.filter||!f.filter(t,k,c))?(g.push(n),null):t}).filter(function(n){return!!n}),nt=function(n,t){return u.equals(n.uri,t.uri,!0)&&u.equals(n.linkType,t.linkType,!0)?0:1},s=r.subtract(s,d,nt),s=r.subtract(s,g,nt)),s.length===0)?i(d):(tt=p._getRequestCacheForTool(t),tt.getArtifacts(s,o,p._retrieveItemsFromDataProvider.bind(p,f,a,k,c)).then(function(t){for(var i,r=0,u=t;r<u.length;r++)i=u[r],p._ensureCommentDataForArtifact(i),y&&i.linkType!==h.ArtifactLinkTypes.WorkItemAsArtifactLinkType&&y.set(n._getWriteArtifactCacheKey(i,o),i);return k&&f.filter&&(t=t.filter(function(n){return f.filter(n,k,c)})),t.concat(d)})):(w.push({type:e.MessageAreaType.Error,text:u.format(l.LinkedArtifacts_DataProvider_Null,t)}),b[t].map(function(n){return p._defaultDisplayFromLinkedArtifact(n)}))},function(n){return n.type===s.ERROR_NODATAPROVIDERREGISTERED_TYPE?(w.push({type:e.MessageAreaType.Error,text:u.format(l.LinkedArtifacts_DataProvider_NotRegistered,t)}),b[t].map(function(n){return p._defaultDisplayFromLinkedArtifact(n)})):(w.push({type:e.MessageAreaType.Error,text:l.LinkedArtifacts_DataProvider_CouldNotBeResolved}),n.name="DataProviderNotResolvedError",f.publishErrorToTelemetry(n),[])})}),k=[];return i.allSettled(nt).then(function(n){for(var i,u,t=0,r=n;t<r.length;t++)i=r[t],i.state==="fulfilled"?(u=i.value,k=k.concat(u)):w.push({type:e.MessageAreaType.Error,text:i.reason});return{resolvedArtifacts:k,messages:w}})},n.prototype._retrieveItemsFromDataProvider=function(n,t,i,r,u,f){var o=this,e=n.beginGetDisplayData(u,f,t,r).then(function(t){return i||o._reportErrorsForUnresolvedArtifacts(n.supportedTool,u,t),t});return a.ProgressAnnouncer.forPromise(e,{announceStartMessage:l.LinkedArtifacts_LoadingStart,announceEndMessage:l.LinkedArtifacts_LoadingEnd,announceErrorMessage:l.LinkedArtifacts_LoadingError}),e},n.prototype._defaultDisplayFromLinkedArtifact=function(n){return{id:n.id,linkType:n.linkType,linkTypeDisplayName:n.linkTypeDisplayName,primaryData:{displayId:n.id,href:null,title:n.uri,typeIcon:null},tool:n.tool,type:n.type}},n.prototype._ensureCommentDataForArtifact=function(n){n.comment&&(n.additionalData||(n.additionalData={}),n.additionalData[c.InternalKnownColumns.Comment.refName]||(n.additionalData[c.InternalKnownColumns.Comment.refName]={styledText:{text:n.comment},title:n.comment}))},n.prototype._getDataProvider=function(n){return s.getLinkedArtifactProvider(n)},n.prototype._groupLinkedArtifactsByTool=function(n){for(var t,i={},r=0,u=n;r<u.length;r++)t=u[r],i[t.tool]=(i[t.tool]||[]).concat([t]);return i},n.prototype._getArtifactFromCache=function(t,i,r){var u=n._getArtifactCacheKey(i),f=t.get(u);return f?f:(u=n._getArtifactCacheKey(i,r),t.get(u))},n.prototype._getRequestCacheForTool=function(n){return this._requestCaches[n]||(this._requestCaches[n]=new o.RequestCache(v)),this._requestCaches[n]},n.prototype._reportErrorsForUnresolvedArtifacts=function(n,t,i){var c=r.subtract(t,i,function(n,t){return u.ignoreCaseComparer(n.uri,t.uri)}),o,l,e,s,h;if(c.length!==t.length)for(o=this._groupLinkedArtifactsByTool(c),l=Object.keys(o),e=0,s=l;e<s.length;e++)h=s[e],f.publishErrorToTelemetry({message:u.localeFormat("'{0}' dataprovider did not resolve following artifacts '{1}'",h,JSON.stringify(o[h])),name:"ToolDidNotResolveArtifacts"})},n._getLimitedNumberOfArtifacts=function(t,i){var s=n.groupLinkedArtifactsByLinkType(i),r,u,e,o,f;for(s.sort(function(n,t){return n.linkedArtifacts.length-t.linkedArtifacts.length}),r=[],u=0,e=s;u<e.length;u++){for(o=e[u],f=0;f<o.linkedArtifacts.length&&r.length<t;++f)r.push(o.linkedArtifacts[f]);if(r.length===t)break}return r},n.groupLinkedArtifactsByLinkType=function(n){for(var f={},e=[],i=0,o=n;i<o.length;i++){var r=o[i],u=r.linkType||"",t=f[u];t||(t={displayName:r.linkTypeDisplayName,linkType:u,linkedArtifacts:[]},f[u]=t,e.push(t));t.linkedArtifacts.push(r)}return e},n._getArtifactCacheKey=function(n,t){var i="".concat(n.uri||n.id,"-").concat(n.linkType),r;return t?(r=t.map(function(n){return n.refName}).join(),"".concat(i,"-").concat(r)):i},n._getWriteArtifactCacheKey=function(n,t){return n.isColumnDependent?this._getArtifactCacheKey(n,t):this._getArtifactCacheKey(n)},n}();t.ArtifactResolver=y});

define("WorkItemTracking/Scripts/Controls/Query/ParentFieldProvider",["require","exports","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Contracts","Presentation/Scripts/TFS/Controls/LinkedArtifacts/Logic/ArtifactResolver","VSS/Artifacts/Constants","VSS/Diag","WorkItemTracking/Scripts/OM/WorkItemConstants"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ParentFieldProvider=void 0;var o=function(){function n(){this._cache={}}return n.prototype.set=function(n,t){this._cache[n]=t},n.prototype.get=function(n){return this._cache[n]},n.prototype.invalidate=function(n){delete this._cache[n]},n}(),s=function(){function n(n,t){f.Debug.assertParamIsObject(n,"tfsContext");this._tfsContext=n;this._projectName=t}return n.prototype.get=function(n){if(this._artifactCache!==undefined){var t=r.ArtifactResolver.getArtifactCacheEntry(this._artifactCache,this.createLinkedArtifact(n),[]);if(t)return this.createParentInfo(t)}return undefined},n.prototype.load=function(n){var t=this;return new Promise(function(i,u){if(n.length){var f=[];n.forEach(function(n){f.push(t.createLinkedArtifact(n))});t._artifactCache||(t._artifactCache=new o);r.ArtifactResolver.getInstance().resolveArtifacts(f,[],t.createHostArtifact(),t._tfsContext,undefined,t._artifactCache).then(function(n){var r=[];n.resolvedArtifacts&&n.resolvedArtifacts.forEach(function(n){n.error?u(n.error):r.push(t.createParentInfo(n))});i(r)})}else i([])})},n.prototype.invalidate=function(n){this._artifactCache&&r.ArtifactResolver.invalidateArtifactCacheEntry(this._artifactCache,this.createLinkedArtifact(n),[])},n.prototype.createParentInfo=function(n){return{id:Number(n.id),type:n.error?"":n.primaryData.typeName,project:n.error?"":n.miscData.TeamProject,title:n.error?"":n.primaryData.title,error:n.error}},n.prototype.createLinkedArtifact=function(n){return{id:""+n,linkTypeDisplayName:"",uri:""+n,linkType:e.LinkTypeName.Parent_Link_Name,tool:u.ToolNames.WorkItemTracking,type:u.ArtifactTypeNames.WorkItem,isColumnDependent:!0}},n.prototype.createHostArtifact=function(){var n;return{id:"",tool:u.ToolNames.WorkItemTracking,type:u.ArtifactTypeNames.WorkItem,additionalData:(n={},n[i.HostArtifactAdditionalData.ProjectName]=this._projectName,n)}},n}();t.ParentFieldProvider=s});

define("Agile/Scripts/Common/BoardParentDataProvider",["require","exports","WorkItemTracking/Scripts/Controls/Query/ParentFieldProvider","WorkItemTracking/Scripts/OM/WorkItemManager","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","WorkItemTracking/Scripts/TFS.WorkItemTracking","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.BoardParentDataProvider=void 0;var s=function(){function n(n){this._provider=null;this._workItemSource=n}return n.getInstance=function(){return n._dataProvider},n.clear=function(){n._dataProvider&&(n._dataProvider._provider=null,n._dataProvider._workItemSource=null,n._dataProvider=null)},n.create=function(t){n._dataProvider=new n(t)},n.prototype.get=function(n){var t=this;return new Promise(function(i){var r=t.getCached(n);r?i(r):t._provider.load([n]).then(function(n){i(n[0])})})},n.prototype.getCached=function(n){var h=r.WorkItemManager.get(f.ProjectCollection.getDefaultConnection().getService(e.WorkItemStore)),t=h.getWorkItem(n),s;return t?{id:n,type:t.workItemType.name,project:t.project.name,title:t.getTitle()}:this._workItemSource.hasWorkItem(n)?{id:n,type:this._workItemSource.getFieldValue(n,o.CoreFieldRefNames.WorkItemType),project:this._workItemSource.getFieldValue(n,o.CoreFieldRefNames.TeamProject)||u.TfsContext.getDefault().navigation.project,title:this._workItemSource.getFieldValue(n,o.CoreFieldRefNames.Title)}:(this._provider||(s=u.TfsContext.getDefault(),this._provider=new i.ParentFieldProvider(s,s.navigation.project)),this._provider.get(n))},n.prototype.invalidate=function(n){this._provider&&this._provider.invalidate(n)},n}();t.BoardParentDataProvider=s});

define("Agile/Scripts/Common/EmbeddedHelper",["require","exports","VSS/Navigation/Services","VSS/Utils/String"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.EmbeddedHelper=void 0;var u;(function(n){function f(){var n=i.getHistoryService().getCurrentState();t=n&&r.localeIgnoreCaseComparer(n[e],"true")===0}function o(){return u||(f(),u=!0),t}var e="embedded",t,u;n.initialize=f;n.isEmbedded=o})(u=t.EmbeddedHelper||(t.EmbeddedHelper={}))});

define("Agile/Scripts/Sources/AgileDataSource",["require","exports","VSS/Service","VSS/Context","VSS/Contributions/Services"],function(n,t,i,r,u){function f(n,t){return t===void 0&&(t=null),__awaiter(this,void 0,void 0,function(){var e,f;return __generator(this,function(o){switch(o.label){case 0:return e=i.getService(u.WebPageDataService,r.getDefaultWebContext()),[4,e.getDataAsync(n,null,t)];case 1:if(f=o.sent(),f.errorMessage&&f.errorMessage.length>0)throw new Error(f.errorMessage);else return[2,f.data];return[2]}})})}Object.defineProperty(t,"__esModule",{value:!0});t.getDataAsync=void 0;t.getDataAsync=f});

define("WorkItemTracking/Scripts/Controls/LinksVisualization/Interfaces",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.LinkDirection=t.TopologyType=void 0,function(n){n[n.Network=0]="Network";n[n.DirectedNetwork=4]="DirectedNetwork";n[n.Dependency=12]="Dependency";n[n.Tree=28]="Tree"}(i=t.TopologyType||(t.TopologyType={})),function(n){n[n.Forward=0]="Forward";n[n.Reverse=1]="Reverse";n[n.NonDirectional=2]="NonDirectional"}(r=t.LinkDirection||(t.LinkDirection={}))});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils",["require","exports","VSS/Utils/String","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Controls/LinksVisualization/Interfaces","WorkItemTracking/Scripts/RegisteredLinkTypeNames","VSS/Artifacts/Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence","WorkItemTracking/Scripts/OM/WorkItemConstants"],function(n,t,i,r,u,f,e,o,s,h,c){function v(n,t){var i,r;switch(n){case f.RegisteredLinkTypeNames.Related:i=o.LinksControlRelatedText;break;case f.RegisteredLinkTypeNames.Hyperlink:i=o.LinksControlHyperlinkText;break;case f.RegisteredLinkTypeNames.Changeset:i=o.LinksControlChangesetText;break;case f.RegisteredLinkTypeNames.VersionedItem:i=o.LinksControlVersionedItemText;break;case f.RegisteredLinkTypeNames.Commit:i=o.LinksControlCommitText;break;case f.RegisteredLinkTypeNames.Branch:i=o.LinksControlBranchText;break;case f.RegisteredLinkTypeNames.Tag:i=o.LinksControlTagsText;break;case f.RegisteredLinkTypeNames.PullRequest:i=o.LinksControlPullRequestText;break;case f.RegisteredLinkTypeNames.ResultAttachment:i=o.LinksControlResultAttachmentText;break;case f.RegisteredLinkTypeNames.TestResult:i=o.LinksControlTestResultText;break;case f.RegisteredLinkTypeNames.Test:i=o.LinksControlTestText;break;case f.RegisteredLinkTypeNames.Storyboard:i=o.LinksControlStoryboardText;break;case f.RegisteredLinkTypeNames.Build:i=o.LinksControlBuildText;break;case f.RegisteredLinkTypeNames.FoundInBuild:i=o.LinksControlFoundInBuildText;break;case f.RegisteredLinkTypeNames.IntegratedInBuild:i=o.LinksControlIntegratedInBuildText;break;case f.RegisteredLinkTypeNames.WikiPage:i=o.LinksControlWikiPageText;break;case f.RegisteredLinkTypeNames.GitHubPullRequestLinkType:i=o.LinksControlGitHubPullRequestText;break;case f.RegisteredLinkTypeNames.GitHubCommitLinkType:i=o.LinksControlGitHubCommitText;break;case f.RegisteredLinkTypeNames.GitHubIssueLinkType:i=o.LinksControlGitHubIssueText;break;default:r=g(n,t);i=r&&r.linkTypeName?r.linkTypeName:o.LinksControlUnknownLinkTypeText}return i}function y(n){if(n instanceof r.WorkItemLink){var t=n;return t.getLinkTypeEnd().immutableName}return n.getArtifactLinkType()}function p(n){if(n instanceof r.WorkItemLink){var t=n;return t.getLinkTypeEnd().name}return v(n.getArtifactLinkType(),n.workItem.store)}function w(n,t,i){if(n&&i){var r=(n.immutableName===c.LinkTypeName.Child_Link_Name||n.immutableName===c.LinkTypeName.Parent_Link_Name)&&t===i.workItemType.name;return s.publishEvent(new s.TelemetryEventData(h.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,h.WITCustomerIntelligenceFeature.LINKSCONTROL_SAMECATEGORY_WARNING,{Action:"Link work item",isSameType:r})),r}return!1}function b(n){switch(n){case e.ToolNames.VersionControl:case e.ToolNames.Git:return o.LinkToolTypeCode;case e.ToolNames.TestManagement:return o.LinkToolTypeTest;case e.ToolNames.Requirements:return o.LinkToolTypeRequirements;case e.ToolNames.TeamBuild:return o.LinkToolTypeBuild;case e.ToolNames.Wiki:return o.LinkToolTypeWiki;case e.ToolNames.GitHub:return o.LinkToolTypeGitHub;default:return o.LinkToolTypeWork}}function k(n,i){if(n){var r=l(n),u=a(i,r);return{topology:r,linkDirection:u}}return t.DefaultTopologyOptions}function l(n){var t=null,r=null;if(r=typeof n=="string"?n:u.TopologyType[n],i.equals(r,u.TopologyType[u.TopologyType.Dependency],!0))t=u.TopologyType.Dependency;else if(i.equals(r,u.TopologyType[u.TopologyType.Network],!0))t=u.TopologyType.Network;else if(i.equals(r,u.TopologyType[u.TopologyType.Tree],!0))t=u.TopologyType.Tree;else if(i.equals(r,u.TopologyType[u.TopologyType.DirectedNetwork],!0))t=u.TopologyType.DirectedNetwork;else throw new Error(i.format("Topology name '{0}' is not supported.",n));return t}function a(n,t){var i=u.LinkDirection.NonDirectional;return t!==u.TopologyType.Network&&(i=n?u.LinkDirection.Forward:u.LinkDirection.Reverse),i}function d(n,t){var i=null,u=null,r;return n&&(r=t.store.findLinkTypeEnd(n),i=l(r.linkType.topology),u=a(r.isForwardLink,i)),{topology:i,linkDirection:u}}function g(n,t){var r=t.getContributedLinkTypes()||{},u=Object.keys(r).filter(function(t){return i.equals(t,n)});return u.length>0?r[u[0]]:null}Object.defineProperty(t,"__esModule",{value:!0});t.getTopologyOptions=t.getLinkDirection=t.getTopology=t.getLinkTopologyOptions=t.getFriendlyToolName=t.isSameType=t.getLinkTypeName=t.getLinkTypeRefName=t.getRegisteredLinkName=t.DefaultTopologyOptions=t.ACTIONS_LINK_TO_NEW=t.ACTIONS_LINK_TO_EXISTING=void 0;t.ACTIONS_LINK_TO_EXISTING="link-to-existing";t.ACTIONS_LINK_TO_NEW="link-to-new";t.DefaultTopologyOptions={topology:u.TopologyType.Tree,linkDirection:u.LinkDirection.Forward};t.getRegisteredLinkName=v;t.getLinkTypeRefName=y;t.getLinkTypeName=p;t.isSameType=w;t.getFriendlyToolName=b;t.getLinkTopologyOptions=k;t.getTopology=l;t.getLinkDirection=a;t.getTopologyOptions=d});

define("TFS/WorkItemTracking/DataProviderContracts",["require","exports"],function(n,t){"use strict";var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ResultSet=t.OperationType=t.ExternalArtifactType=t.ConnectionErrorType=void 0,function(n){n[n.BadCredentials=0]="BadCredentials";n[n.AppUninstalled=1]="AppUninstalled";n[n.OAuthConfigurationDeleted=2]="OAuthConfigurationDeleted";n[n.UnreachableRepositories=3]="UnreachableRepositories";n[n.NoRepositories=4]="NoRepositories";n[n.RepositoriesMappedToDifferentOrganization=5]="RepositoriesMappedToDifferentOrganization"}(i=t.ConnectionErrorType||(t.ConnectionErrorType={})),function(n){n[n.Unknown=0]="Unknown";n[n.PullRequest=1]="PullRequest";n[n.Commit=2]="Commit";n[n.Issue=3]="Issue"}(r=t.ExternalArtifactType||(t.ExternalArtifactType={})),function(n){n[n.Create=0]="Create";n[n.Update=1]="Update";n[n.Delete=2]="Delete"}(u=t.OperationType||(t.OperationType={})),function(n){n[n.All=0]="All";n[n.Top=1]="Top"}(f=t.ResultSet||(t.ResultSet={}));t.TypeInfo={ConnectionErrorType:{enumValues:{badCredentials:0,appUninstalled:1,oAuthConfigurationDeleted:2,unreachableRepositories:3,noRepositories:4,repositoriesMappedToDifferentOrganization:5}},ExternalArtifactType:{enumValues:{unknown:0,pullRequest:1,commit:2,issue:3}},ExternalConnection:{},ExternalConnectionData:{},ExternalConnectionOperation:{},ExternalConnectionProvisionResult:{},ExternalLinkedArtifact:{},ExternalLinkedArtifactIdentifier:{},GitHubLinkItemsRequest:{},GitHubLinkItemsResponse:{},GitHubLinksAnnotationItemSourceDataProviderResponse:{},GitHubRepositoryListDataProviderRequest:{},GitHubRepositoryResponse:{},GitHubUnifiedInstallationResponse:{},OperationType:{enumValues:{create:0,update:1,"delete":2}},RepositoryListData:{},ResultSet:{enumValues:{all:0,top:1}},ResultSetItem:{},SaveExternalConnectionRequest:{},WorkItemsRecencyDataProviderData:{}};t.TypeInfo.ExternalConnection.fields={connectionErrorType:{enumType:t.TypeInfo.ConnectionErrorType}};t.TypeInfo.ExternalConnectionData.fields={externalConnections:{isArray:!0,typeInfo:t.TypeInfo.ExternalConnection}};t.TypeInfo.ExternalConnectionOperation.fields={operation:{enumType:t.TypeInfo.OperationType}};t.TypeInfo.ExternalConnectionProvisionResult.fields={provisionedConnection:{typeInfo:t.TypeInfo.ExternalConnection}};t.TypeInfo.ExternalLinkedArtifact.fields={date:{isDate:!0},itemType:{enumType:t.TypeInfo.ExternalArtifactType}};t.TypeInfo.ExternalLinkedArtifactIdentifier.fields={itemType:{enumType:t.TypeInfo.ExternalArtifactType}};t.TypeInfo.GitHubLinkItemsRequest.fields={identifiers:{isArray:!0,typeInfo:t.TypeInfo.ExternalLinkedArtifactIdentifier}};t.TypeInfo.GitHubLinkItemsResponse.fields={resolvedLinkItems:{isArray:!0,typeInfo:t.TypeInfo.ExternalLinkedArtifact}};t.TypeInfo.GitHubLinksAnnotationItemSourceDataProviderResponse.fields={links:{isDictionary:!0,dictionaryValueFieldInfo:{isArray:!0,typeInfo:t.TypeInfo.ExternalLinkedArtifactIdentifier}}};t.TypeInfo.GitHubRepositoryListDataProviderRequest.fields={resultSet:{enumType:t.TypeInfo.ResultSet}};t.TypeInfo.GitHubRepositoryResponse.fields={externalConnectionProvisionResult:{typeInfo:t.TypeInfo.ExternalConnectionProvisionResult},repositoryData:{typeInfo:t.TypeInfo.RepositoryListData}};t.TypeInfo.GitHubUnifiedInstallationResponse.fields={externalConnectionProvisionResult:{typeInfo:t.TypeInfo.ExternalConnectionProvisionResult}};t.TypeInfo.RepositoryListData.fields={currentResults:{typeInfo:t.TypeInfo.ResultSetItem},resultSets:{isArray:!0,typeInfo:t.TypeInfo.ResultSetItem}};t.TypeInfo.ResultSetItem.fields={key:{enumType:t.TypeInfo.ResultSet}};t.TypeInfo.SaveExternalConnectionRequest.fields={externalConnection:{typeInfo:t.TypeInfo.ExternalConnectionOperation}};t.TypeInfo.WorkItemsRecencyDataProviderData.fields={workItemLinksChangedDate:{isDate:!0},workItemsChangedDate:{isDate:!0}}});

define("WorkItemTracking/Scripts/Utils/GitHubArtifactLink",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils","VSS/Error","TFS/WorkItemTracking/DataProviderContracts","VSS/Diag","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s){function h(n,t,i){return r.LinkingUtilities.encodeUri({tool:n,type:t,id:[i.repoInternalId,i.numberOrSHA].join(r.LinkingUtilities.URI_SEPARATOR)})}function c(n){try{var t=r.LinkingUtilities.decodeUri(n.linkData.FilePath),i=n.linkData.externalLinkContext||a(t);return{comment:n.getComment(),id:t.id,tool:t.tool,type:t.type,uri:t.uri,linkType:n.getArtifactLinkType(),linkTypeDisplayName:u.getRegisteredLinkName(n.getArtifactLinkType(),n.workItem.store),externalLinkedArtifactContext:i}}catch(e){return f.publishErrorToTelemetry(new Error("Invalid artifact link: ".concat(n.linkData.FilePath," "))),null}}function l(n){try{var t=h(i.ToolNames.GitHub,e.ExternalArtifactType[n.itemType],n);return{linkTypeDisplayName:y(n.itemType),externalLinkedArtifactContext:n,uri:t}}catch(r){return f.publishErrorToTelemetry(new Error("Invalid identifier: ".concat(JSON.stringify(n)," "))),null}}function a(n){var t,u;if(n.tool!==i.ToolNames.GitHub||(t=n.id,u=t.split(r.LinkingUtilities.URI_SEPARATOR),!u||u.length<2))return undefined;var f=t.split(r.LinkingUtilities.URI_SEPARATOR),e=f[0],o=f[1];return{itemType:v(n.type),repoInternalId:e,numberOrSHA:o}}function v(n){switch(n){case i.ArtifactTypeNames.Commit:return e.ExternalArtifactType.Commit;case i.ArtifactTypeNames.PullRequest:return e.ExternalArtifactType.PullRequest;case i.ArtifactTypeNames.Issue:return e.ExternalArtifactType.Issue}o.Debug.fail("Unsupported artifact type ".concat(n))}function y(n){switch(n){case e.ExternalArtifactType.Commit:return s.LinksControlGitHubCommitText;case e.ExternalArtifactType.PullRequest:return s.LinksControlGitHubPullRequestText;case e.ExternalArtifactType.Issue:return s.LinksControlGitHubIssueText}o.Debug.fail("Unsupported external artifact type ".concat(n))}function p(n){switch(n){case e.ExternalArtifactType.Commit:return"BranchCommit";case e.ExternalArtifactType.PullRequest:return"BranchPullRequest";case e.ExternalArtifactType.Issue:return"WorkItem";default:return"ErrorBadge"}}Object.defineProperty(t,"__esModule",{value:!0});t.getArtifactTypeFabricIconName=t.createGitHubArtifactFromExternalLinkedArtifactIdentifier=t.createGitHubArtifactFromExternalLink=t.createGitHubArtifactUrlFromIdentifier=void 0;t.createGitHubArtifactUrlFromIdentifier=h;t.createGitHubArtifactFromExternalLink=c;t.createGitHubArtifactFromExternalLinkedArtifactIdentifier=l;t.getArtifactTypeFabricIconName=p});

define("WorkItemTracking/Scripts/Controls/Links/LinkMapper",["require","exports","VSS/Artifacts/Constants","VSS/Artifacts/Services","VSS/Error","VSS/Utils/String","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking.Linking.Utils","WorkItemTracking/Scripts/Utils/GitHubArtifactLink"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.LinkMapper=void 0;var h=function(){function n(n){this._workItemStore=n}return n.prototype.mapLinks=function(n,t){var r=this,i;return(t===void 0&&(t=!0),!n)?null:(i=n.map(function(n){return{link:n,mappedLink:r.mapLink(n,t)}}),t&&(i=i.filter(function(n){return!!n&&!!n.mappedLink})),i)},n.prototype.mapLink=function(n,t){if(t===void 0&&(t=!0),t&&(n.isRemoved()||n.deleted))return null;var i;if(n instanceof e.WorkItemLink)i=this._mapWorkItemLink(n);else if(n instanceof e.ExternalLink)i=this._mapExternalLink(n);else if(n instanceof e.Hyperlink)i=this._mapHyperLink(n);else{if(n instanceof e.Attachment)return null;u.publishErrorToTelemetry(new Error("Unexpected link type encountered"))}return i?(this._mapCommonData(n,i),i):(u.publishErrorToTelemetry(new Error("Could not map link")),null)},n.prototype._mapWorkItemLink=function(n){var e=this._workItemStore.findLinkTypeEnd(n.linkData.LinkType),s=e.linkType.isDirectional,o,t,u;return o=s?e.immutableName:e.linkType.referenceName,t={id:n.linkData.ID.toString(10),tool:i.ToolNames.WorkItemTracking,type:i.ArtifactTypeNames.WorkItem,linkType:o,linkTypeDisplayName:e.name,uri:r.LinkingUtilities.encodeUri({tool:i.ToolNames.WorkItemTracking,type:i.ArtifactTypeNames.WorkItem,id:n.linkData.ID.toString(10)}),isLocked:n.isLocked},u=n.remoteHostId,u&&f.isGuid(u)&&!f.isEmptyGuid(u)&&(t.uri=r.LinkingUtilities.encodeUri({tool:"".concat(i.ToolNames.RemoteWorkItemTracking," - ").concat(u),type:i.ArtifactTypeNames.WorkItem,id:n.linkData.ID.toString(10)}),t.tool=i.ToolNames.RemoteWorkItemTracking,t.remoteHostId=u,t.remoteProjectId=n.remoteProjectId,t.remoteHostUrl=n.remoteHostUrl,t.remoteHostName=n.remoteHostName,t.remoteStatus=n.remoteStatus),t},n.prototype._mapExternalLink=function(n){return s.createGitHubArtifactFromExternalLink(n)},n.prototype._mapHyperLink=function(n){return{comment:n.getComment(),id:n.getLocation(),linkType:n.getArtifactLinkType(),linkTypeDisplayName:o.getRegisteredLinkName(n.getArtifactLinkType(),n.workItem.store),tool:i.ToolNames.Hyperlink,type:n.getArtifactLinkType(),uri:n.getLocation()}},n.prototype._mapCommonData=function(n,t){t.comment=n.getComment()},n}();t.LinkMapper=h});

define("WorkItemTracking/Scripts/Filtering/FieldFilterProvider",["require","exports","VSS/Utils/Core","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","VSS/Diag"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.FieldFilterProvider=void 0;var f=function(){function n(n){this._fieldName=n;this._filterValueMap={}}return n.prototype.bind=function(n){this._dataProvider=n},n.prototype.setFilter=function(n){var t,r,u,f;if(this._filter=n,this._filterValueMap={},n&&n.values&&n.values.length)for(t=0,r=n.values;t<r.length;t++)u=r[t],f=i.convertValueToDisplayString(u),this._filterValueMap[f]=!0},n.prototype.getFilter=function(){return this._filter},n.prototype.clearFilters=function(){this._filterValueMap={}},n.prototype.dataUpdated=function(){},n.prototype.getMatchingItems=function(n){var i,t,r,f,e;for(u.Debug.assert(this.isFiltering(),"must be filtering before calling getMatchingItems"),n===null&&(n=this._dataProvider.getIds()),i=[],t=0,r=n;t<r.length;t++)f=r[t],e=this._dataProvider.getValue(f,this._fieldName),this.matchesFilter(e)&&i.push(f);return i},n.prototype.isFiltering=function(){return!!this._filterValueMap&&Object.keys(this._filterValueMap).length>0},n.prototype.matchesFilter=function(n){u.Debug.assert(this._fieldName!==r.CoreFieldRefNames.Tags,"Use the TagFilterProvider to filter on tags");var t=i.convertValueToDisplayString(n);return t in this._filterValueMap?!0:!1},n}();t.FieldFilterProvider=f});

define("WorkItemTracking/Scripts/Utils/AreaPathHelper",["require","exports"],function(n,t){function i(n){var t=n?n.split("\\"):[""];return t[t.length-1]}Object.defineProperty(t,"__esModule",{value:!0});t.getAreaPathLeafNode=void 0;t.getAreaPathLeafNode=i});

define("WorkItemTracking/Scripts/Filtering/AreaPathFilterProvider",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Filtering/FieldFilterProvider","WorkItemTracking/Scripts/Utils/AreaPathHelper"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.AreaPathFilterProvider=void 0;var f=function(n){function t(){return n.call(this,i.CoreFieldRefNames.AreaPath)||this}return __extends(t,n),t.prototype.matchesFilter=function(n){var t=u.getAreaPathLeafNode(n);return t in this._filterValueMap?!0:!1},t}(r.FieldFilterProvider);t.AreaPathFilterProvider=f});

define("WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common",["require","exports"],function(require,exports){var e=exports;e.WiqlOperators_NotEver="Was Never";e.WiqlOperators_And="And";e.WiqlOperators_Any="[Any]";e.WiqlOperators_NotEqualTo="\u003c\u003e";e.WiqlOperators_MacroMyRecentActivity="MyRecentActivity";e.WiqlOperators_NotUnder="Not Under";e.WiqlOperators_Contains="Contains";e.WiqlOperators_LessThan="\u003c";e.WiqlOperators_MacroProject="Project";e.WiqlOperators_Or="Or";e.WiqlOperators_In="In";e.WiqlOperators_InGroup="In Group";e.WiqlOperators_LessThanOrEqualTo="\u003c=";e.WiqlOperators_IsEmpty="Is Empty";e.WiqlOperators_MacroToday="Today";e.WiqlOperators_Ever="Was Ever";e.WiqlOperators_MacroTeamAreas="TeamAreas";e.WiqlOperators_FieldComparisonReferenceName="Field";e.WiqlOperators_GreaterThanOrEqualTo="\u003e=";e.WiqlOperators_MacroMe="Me";e.WiqlOperators_ContainsWords="Contains Words";e.WiqlOperators_FieldComparisonQualifier=" [Field]";e.WiqlOperators_MacroRecentMentions="RecentMentions";e.WiqlOperators_MacroCurrentIteration="CurrentIteration";e.WiqlOperators_NotContainsWords="Does Not Contain Words";e.WiqlOperators_MacroRecentProjectActivity="RecentProjectActivity";e.WiqlOperators_NotIn="Not In";e.WiqlOperators_Under="Under";e.WiqlOperators_NotContains="Does Not Contain";e.WiqlOperators_MacroFollows="Follows";e.WiqlOperators_MacroStartOfMonth="StartOfMonth";e.WiqlOperators_MacroStartOfDay="StartOfDay";e.WiqlOperators_MacroStartOfWeek="StartOfWeek";e.WiqlOperators_MacroStartOfYear="StartOfYear";e.WiqlOperators_IsNotEmpty="Is Not Empty";e.WiqlOperators_MacroTodayMinusDaysFormat="{0} - {1}";e.WiqlOperators_GreaterThan="\u003e";e.WiqlOperators_EqualTo="=";e.WiqlOperators_NotInGroup="Not In Group";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/OM/WiqlOperators",["require","exports","VSS/Utils/Date","VSS/Utils/String","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f){function o(n,t){k[n.toUpperCase()]=t;l[t.toLocaleUpperCase()]=n}function s(n){return k[(n||"").trim().toUpperCase()]||n}function tt(n){return $.map(n,function(n){return s(n)})}function it(n){return d.hasOwnProperty((n||"").trim().toLocaleUpperCase())}function g(n){return s(n)+u.WiqlOperators_FieldComparisonQualifier}function nt(n,t){return t?r.startsWith(n,s(e.MacroToday),r.localeIgnoreCaseComparer):r.startsWith(n,e.MacroToday,r.ignoreCaseComparer)}function rt(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.MacroMe))===0:r.localeIgnoreCaseComparer(n,e.MacroMe)===0}function ut(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.MacroCurrentIteration))===0:r.localeIgnoreCaseComparer(n,e.MacroCurrentIteration)===0}function ft(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.MacroProject))===0:r.localeIgnoreCaseComparer(n,e.MacroProject)===0}function et(n,t){return t?r.localeIgnoreCaseComparer(n,s(e.OperatorOr))===0:r.localeIgnoreCaseComparer(n,e.OperatorOr)===0}function w(n){return e.MacroToday+n.substring(s(e.MacroToday).length)}function ot(n){var t=s(e.MacroToday),i=w(e.MacroToday);return t+n.substring(i.length)}function st(n){return r.format("{0} - {1}",s(e.MacroToday),n)}function ht(n){return r.format("{0}('{1}d')",s(e.MacroStartOfDay),n)}function ct(n){return(n=(n||"").trim(),!r.startsWith(n,e.MacroStart,r.ignoreCaseComparer))?!1:!0}function h(n){var t=l[(n||"").trim().toLocaleUpperCase()];return t?t:nt(n,!0)?w(n):n}function lt(n){return v.hasOwnProperty(h(n).toUpperCase())}function at(n){return h(n)===e.OperatorIn}function vt(n){return y.hasOwnProperty(h(n).toUpperCase())}function yt(n){return p.hasOwnProperty(h(n).toUpperCase())}function pt(n){return n===f.CoreField.State||n===f.CoreField.WorkItemType||n===f.CoreField.LinkType}function wt(n){return"'"+(n||"").replace(/\'/g,"''")+"'"}function bt(n){return i.format(n,"yyyy-MM-ddT00:00:00.0000000")}var e,a,v,y,p,c,b;Object.defineProperty(t,"__esModule",{value:!0});t.toInvariantDateString=t.quoteString=t.isNonNullableField=t.isIdentityFieldStringOperator=t.isMultipleValueOperator=t.isInOperator=t.isGroupOperator=t.getInvariantOperator=t.isValidMacro=t.getLocalizedStartOfDayMacro=t.getLocalizedTodayMinusMacro=t.getLocalizedTodayMacro=t.getInvariantTodayMacro=t.isOrOperator=t.isProjectMacro=t.isCurrentIterationMacro=t.isMeMacro=t.isTodayMacro=t.getFieldComparisonOperator=t.isFieldComparisonOperator=t.getLocalizedOperatorList=t.getLocalizedOperator=t.FieldTypesSupportingFieldComparison=t.FieldTypesSupportingEver=t.OperatorsSupportingFieldComparison=t.EqualityOperators=t.ComparisonOperators=t.TreePathOperators=t.StringWithInGroupOperators=t.StringWithTextSupportOperators=t.HistoryWithTextSupportOperators=t.TextWithTextSupportOperators=t.HistoryOperators=t.TextOperators=t.InGroupOperators=t.StringOperators=t.ProjectOperators=t.WiqlOperators=void 0,function(n){n.NotSpace="NOT";n.OperatorAnd="AND";n.OperatorOr="OR";n.OperatorContains="CONTAINS";n.OperatorNotContains="NOT CONTAINS";n.OperatorContainsWords="CONTAINS WORDS";n.OperatorNotContainsWords="NOT CONTAINS WORDS";n.OperatorIn="IN";n.OperatorNotIn="NOT IN";n.OperatorEver="EVER";n.OperatorNotEver="NOT EVER";n.OperatorUnder="UNDER";n.OperatorNotUnder="NOT UNDER";n.OperatorInGroup="IN GROUP";n.OperatorNotInGroup="NOT IN GROUP";n.OperatorEqualTo="=";n.OperatorNotEqualTo="<>";n.OperatorIsEmpty="IS EMPTY";n.OperatorIsNotEmpty="IS NOT EMPTY";n.OperatorGreaterThan=">";n.OperatorLessThan="<";n.OperatorGreaterThanOrEqualTo=">=";n.OperatorLessThanOrEqualTo="<=";n.MacroStart="@";n.MacroToday="@today";n.MacroMe="@me";n.MacroProject="@project";n.MacroCurrentIteration="@currentIteration";n.MacroTeamAreas="@teamAreas";n.MacroFollows="@follows";n.MacroRecentMentions="@recentMentions";n.MacroMyRecentActivity="@myRecentActivity";n.MacroRecentProjectActivity="@recentProjectActivity";n.MacroStartOfYear="@startOfYear";n.MacroStartOfMonth="@startOfMonth";n.MacroStartOfWeek="@startOfWeek";n.MacroStartOfDay="@startOfDay"}(e=t.WiqlOperators||(t.WiqlOperators={}));var k={},l={},d={};t.ProjectOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorIn,e.OperatorNotIn];t.StringOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorGreaterThan,e.OperatorLessThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThanOrEqualTo,e.OperatorContains,e.OperatorNotContains,e.OperatorIn,e.OperatorNotIn,e.OperatorInGroup,e.OperatorNotInGroup];t.InGroupOperators=[e.OperatorInGroup,e.OperatorNotInGroup];t.TextOperators=[e.OperatorContains,e.OperatorNotContains];t.HistoryOperators=[e.OperatorContains,e.OperatorNotContains];t.TextWithTextSupportOperators=[e.OperatorContainsWords,e.OperatorNotContainsWords];t.HistoryWithTextSupportOperators=[e.OperatorContainsWords,e.OperatorNotContainsWords];a=[e.OperatorIsEmpty,e.OperatorIsNotEmpty];t.TextOperators.push.apply(t.TextOperators,a);t.TextWithTextSupportOperators.push.apply(t.TextWithTextSupportOperators,a);t.StringWithTextSupportOperators=t.StringOperators.concat(t.TextWithTextSupportOperators);t.StringWithInGroupOperators=t.StringOperators;t.TreePathOperators=[e.OperatorUnder,e.OperatorNotUnder,e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorIn,e.OperatorNotIn];t.ComparisonOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorGreaterThan,e.OperatorLessThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThanOrEqualTo,e.OperatorIn,e.OperatorNotIn];t.EqualityOperators=[e.OperatorEqualTo,e.OperatorNotEqualTo];v={};t.InGroupOperators.forEach(function(n){v[n.toUpperCase()]=!0});y={};[e.OperatorIn,e.OperatorNotIn].forEach(function(n){y[n.toUpperCase()]=!0});t.OperatorsSupportingFieldComparison={};[e.OperatorEqualTo,e.OperatorNotEqualTo,e.OperatorGreaterThan,e.OperatorLessThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThanOrEqualTo].forEach(function(n){t.OperatorsSupportingFieldComparison[n.toUpperCase()]=!0});t.FieldTypesSupportingEver={};[f.FieldType.String,f.FieldType.Integer,f.FieldType.Double,f.FieldType.Boolean,f.FieldType.Guid].forEach(function(n){t.FieldTypesSupportingEver[n]=!0});t.FieldTypesSupportingFieldComparison={};[f.FieldType.String,f.FieldType.DateTime,f.FieldType.Integer,f.FieldType.Double,f.FieldType.Boolean,f.FieldType.Guid].forEach(function(n){t.FieldTypesSupportingFieldComparison[n]=!0});p={};[e.OperatorContains,e.OperatorContainsWords,e.OperatorGreaterThan,e.OperatorGreaterThanOrEqualTo,e.OperatorLessThan,e.OperatorLessThanOrEqualTo,e.OperatorNotContains,e.OperatorNotContainsWords,e.OperatorNotUnder,e.OperatorUnder].forEach(function(n){p[n.toUpperCase()]=!0});t.getLocalizedOperator=s;t.getLocalizedOperatorList=tt;t.isFieldComparisonOperator=it;t.getFieldComparisonOperator=g;t.isTodayMacro=nt;t.isMeMacro=rt;t.isCurrentIterationMacro=ut;t.isProjectMacro=ft;t.isOrOperator=et;t.getInvariantTodayMacro=w;t.getLocalizedTodayMacro=ot;t.getLocalizedTodayMinusMacro=st;t.getLocalizedStartOfDayMacro=ht;t.isValidMacro=ct;t.getInvariantOperator=h;t.isGroupOperator=lt;t.isInOperator=at;t.isMultipleValueOperator=vt;t.isIdentityFieldStringOperator=yt;o(e.OperatorAnd,u.WiqlOperators_And);o(e.OperatorOr,u.WiqlOperators_Or);o(e.OperatorContains,u.WiqlOperators_Contains);o(e.OperatorNotContains,u.WiqlOperators_NotContains);o(e.OperatorContainsWords,u.WiqlOperators_ContainsWords);o(e.OperatorNotContainsWords,u.WiqlOperators_NotContainsWords);o(e.OperatorIn,u.WiqlOperators_In);o(e.OperatorNotIn,u.WiqlOperators_NotIn);o(e.OperatorEver,u.WiqlOperators_Ever);o(e.OperatorNotEver,u.WiqlOperators_NotEver);o(e.OperatorUnder,u.WiqlOperators_Under);o(e.OperatorNotUnder,u.WiqlOperators_NotUnder);o(e.OperatorEqualTo,u.WiqlOperators_EqualTo);o(e.OperatorNotEqualTo,u.WiqlOperators_NotEqualTo);o(e.OperatorIsEmpty,u.WiqlOperators_IsEmpty);o(e.OperatorIsNotEmpty,u.WiqlOperators_IsNotEmpty);o(e.OperatorGreaterThan,u.WiqlOperators_GreaterThan);o(e.OperatorLessThan,u.WiqlOperators_LessThan);o(e.OperatorGreaterThanOrEqualTo,u.WiqlOperators_GreaterThanOrEqualTo);o(e.OperatorLessThanOrEqualTo,u.WiqlOperators_LessThanOrEqualTo);o(e.OperatorInGroup,u.WiqlOperators_InGroup);o(e.OperatorNotInGroup,u.WiqlOperators_NotInGroup);o(e.MacroToday,e.MacroStart+u.WiqlOperators_MacroToday);o(e.MacroMe,e.MacroStart+u.WiqlOperators_MacroMe);o(e.MacroProject,e.MacroStart+u.WiqlOperators_MacroProject);o(e.MacroCurrentIteration,e.MacroStart+u.WiqlOperators_MacroCurrentIteration);o(e.MacroTeamAreas,e.MacroStart+u.WiqlOperators_MacroTeamAreas);o(e.MacroFollows,e.MacroStart+u.WiqlOperators_MacroFollows);o(e.MacroRecentMentions,e.MacroStart+u.WiqlOperators_MacroRecentMentions);o(e.MacroMyRecentActivity,e.MacroStart+u.WiqlOperators_MacroMyRecentActivity);o(e.MacroRecentProjectActivity,e.MacroStart+u.WiqlOperators_MacroRecentProjectActivity);o(e.MacroStartOfYear,e.MacroStart+u.WiqlOperators_MacroStartOfYear);o(e.MacroStartOfMonth,e.MacroStart+u.WiqlOperators_MacroStartOfMonth);o(e.MacroStartOfWeek,e.MacroStart+u.WiqlOperators_MacroStartOfWeek);o(e.MacroStartOfDay,e.MacroStart+u.WiqlOperators_MacroStartOfDay);for(c in t.OperatorsSupportingFieldComparison)b=g(c),l[b.toLocaleUpperCase()]=c,d[b.toLocaleUpperCase()]=c;t.isNonNullableField=pt;t.quoteString=wt;t.toInvariantDateString=bt});

define("WorkItemTracking/Scripts/Filtering/AssignedToFilterProvider",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Filtering/FieldFilterProvider","VSS/Utils/String","WorkItemTracking/Scripts/OM/WiqlOperators","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.AssignedToFilterProvider=void 0;var h=function(n){function t(){return n.call(this,i.CoreFieldRefNames.AssignedTo)||this}return __extends(t,n),t.prototype.setFilter=function(t){var h,i,f,s,c;for(n.prototype.setFilter.call(this,t),h=Object.keys(this._filterValueMap),i=0,f=h;i<f.length;i++)s=f[i],e.equals(s,o.WiqlOperators.MacroMe,!0)&&(c=r.IdentityHelper.getFriendlyDistinctDisplayName(u.TfsContext.getDefault().currentIdentity),delete this._filterValueMap[s],this._filterValueMap[c]=!0)},t.prototype.matchesFilter=function(t){if(!s.isWorkItemIdentityRef(t))return n.prototype.matchesFilter.call(this,t);var i=t.distinctDisplayName||"";return this._filterValueMap.hasOwnProperty(i)},t}(f.FieldFilterProvider);t.AssignedToFilterProvider=h});

define("WorkItemTracking/Scripts/Filtering/FilterManager",["require","exports","VSS/Utils/Core","VSS/Diag","VSS/Events/Handlers","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r,u,f,e){function s(n){return!n||!Object.keys(n).some(function(t){var i=n[t]&&n[t].values;return i&&i.length>0})}Object.defineProperty(t,"__esModule",{value:!0});t.isFilterStateEmpty=t.FilterManager=void 0;var o=function(){function n(n){this._filterProviders={};this._reset();this._dataSource=n}return n.prototype.activate=function(){this._isActive||(this._isActive=!0,this._fireEvent(n.EVENT_FILTER_ACTIVATED),this._publishActivatedTelemetry())},n.prototype.deactivate=function(){this._isActive&&(this._isActive=!1,this._fireEvent(n.EVENT_FILTER_DEACTIVATED))},n.prototype.isActive=function(){return this._isActive},n.prototype.dataUpdated=function(){var t,i;for(t in this._filterProviders)i=this._filterProviders[t],i.dataUpdated();this._fireEvent(n.EVENT_DATA_UPDATED)},n.prototype.isFiltering=function(){var n,t,i;if(!this.isActive())return!1;n=!1;for(t in this._filterProviders)i=this._filterProviders[t],n=n||i.isFiltering();return n},n.prototype.registerFilterProvider=function(n,t){r.Debug.assertParamIsString(n,"provider");r.Debug.assertParamIsObject(t,"filterProvider");r.Debug.assert(!this._filterProviders[n],"FilterProvider for '".concat(n,"' already registered"));this._filterProviders[n]=t;t.bind(this._dataSource)},n.prototype.unregisterFilterProvider=function(n){r.Debug.assertParamIsString(n,"provider");delete this._filterProviders[n]},n.prototype.clearFilterProviders=function(){this._filterProviders={}},n.prototype.getFilterProvider=function(n){return this._filterProviders[n]},n.prototype.setFilters=function(n){var t,i;if(this._clearAllFilters(),n)for(t in n)i=this._filterProviders[t],i&&i.setFilter(n[t]);this._fireFilterChanged()},n.prototype.getFilters=function(){var i={},n,t,r;for(n in this._filterProviders)t=this._filterProviders[n],t.isFiltering()&&(r=t.getFilter(),i[n]=r);return i},n.prototype.setFilter=function(n,t){var i=this._getFilterProvider(n);i&&(i.setFilter(t),this._fireFilterChanged())},n.prototype.getFilter=function(n){var t=this._getFilterProvider(n);return t?t.getFilter():null},n.prototype.clearFilters=function(n){this.isFiltering()&&(n?this._filterProviders[n].clearFilters():this._clearAllFilters(),this._fireFilterChanged())},n.prototype.filter=function(){var i,n,u,t;if(r.Debug.assert(this.isActive(),"Filter not active when 'filter()' is called"),i=Date.now(),!this.isFiltering())return this._dataSource.getIds();n=null;for(u in this._filterProviders)(t=this._filterProviders[u],t.isFiltering())&&(n=t.getMatchingItems(n));return n||(n=[]),this._publishFilterTelemetry(n.length,Date.now()-i),n},n.prototype.attachEvent=function(n,t){this._events||(this._events=new u.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.getFilterDataSource=function(){return this._dataSource},n.prototype._reset=function(){this.clearFilters()},n.prototype._getFilterProvider=function(n){return this._filterProviders[n]},n.prototype._clearAllFilters=function(){var n,t;for(n in this._filterProviders)t=this._filterProviders[n],t.clearFilters()},n.prototype._fireFilterChanged=function(){this.isActive()&&(this.isFiltering()?this._fireEvent(n.EVENT_FILTER_CHANGED):this._fireEvent(n.EVENT_FILTER_CLEARED))},n.prototype._fireEvent=function(n,t){if(this._events){var i=!1;if(this._events.invokeHandlers(n,this,t,function(n){if(n===!1)return i=!0,!0}),i)return!1}},n.prototype._publishActivatedTelemetry=function(){f.publishEvent(new f.TelemetryEventData(e.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,e.WITCustomerIntelligenceFeature.RESULT_FILTER,{experience:this._dataSource.getDataSourceName(),action:"ActivateFilter",totalCount:this._dataSource.getItemCount(),initialPagedCount:this._dataSource.getIds().length,columnsCount:(this._dataSource.getVisibleFields()||[]).length}))},n.prototype._publishFilterTelemetry=function(n,t){var r=this;this._lastResultCount=n;this._lastDuration=t;this._filterTelemetryThrottleDelegate||(this._filterTelemetryThrottleDelegate=i.throttledDelegate(this,2e3,function(){r.isFiltering()&&f.publishEvent(new f.TelemetryEventData(e.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,e.WITCustomerIntelligenceFeature.RESULT_FILTER,{experience:r._dataSource.getDataSourceName(),action:"Filter",totalCount:r._dataSource.getItemCount(),pagedCount:r._dataSource.getIds().length,columnsCount:(r._dataSource.getVisibleFields()||[]).length,resultCount:r._lastResultCount,activeFilterProviders:Object.keys(r.getFilters()),duration:r._lastDuration}))}));this._filterTelemetryThrottleDelegate()},n.EVENT_FILTER_CHANGED="filter-changed",n.EVENT_FILTER_CLEARED="filter-cleared",n.EVENT_FILTER_ACTIVATED="filter-activated",n.EVENT_FILTER_DEACTIVATED="filter-deactivated",n.EVENT_DATA_UPDATED="filter-data-updated",n}();t.FilterManager=o;t.isFilterStateEmpty=s});

define("WorkItemTracking/Scripts/Filtering/IterationPathFilterProvider",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","WorkItemTracking/Scripts/Filtering/FieldFilterProvider","VSS/Utils/String","WorkItemTracking/Scripts/OM/WiqlOperators"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.IterationPathFilterProvider=void 0;var h=function(n){function t(t){var r=n.call(this,i.CoreFieldRefNames.IterationPath)||this;return r._teamId=t,r}return __extends(t,n),t.prototype.setFilter=function(t){var c,i,e,h;for(n.prototype.setFilter.call(this,t),c=Object.keys(this._filterValueMap),i=0,e=c;i<e.length;i++)if(h=e[i],o.equals(h,s.WiqlOperators.MacroCurrentIteration,!0)){var a=r.ProjectCollection.getConnection(u.TfsContext.getDefault()).getService(f.TeamAwarenessService),l=a.getTeamSettings(this._teamId),v=l.currentIteration&&l.currentIteration.friendlyPath;delete this._filterValueMap[h];this._filterValueMap[v]=!0}},t}(e.FieldFilterProvider);t.IterationPathFilterProvider=h});

define("WorkItemTracking/Scripts/Filtering/TagsFilterProvider",["require","exports","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Filtering/FieldFilterProvider","WorkItemTracking/Scripts/Utils/TagUtils"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.TagsFilterProvider=void 0;var f=function(n){function t(){var t=n.call(this,i.CoreFieldRefNames.Tags)||this;return t._filterValues=[],t}return __extends(t,n),t.prototype.setFilter=function(t){n.prototype.setFilter.call(this,t);this._filterValues=t?t.values:[]},t.prototype.matchesFilter=function(n){var i=this,t;return n?(t=u.TagUtils.splitAndTrimTags(n),this._filter&&this._filter.options&&this._filter.options.useAndOperator?this._filterValues.every(function(n){return t.indexOf(n)>=0}):t.some(function(n){return n in i._filterValueMap})):!1},t}(r.FieldFilterProvider);t.TagsFilterProvider=f});

define("VSS/Search",["require","exports","VSS/Diag","VSS/Utils/Array","VSS/Utils/Core","VSS/VSS"],function(n,t,i,r,u,f){function h(n,t){var u=n.length,r,f,e,i;if(u>1){for(n.sort(t),r=new Array(u),r[0]=n[0],f=0,e=1,i=1;i<u;i++)n[i]!==n[f]&&(r[e++]=n[i],f=i);r.length=e;n=r}return n}var c,l,e,a,v,o,p,w,b;Object.defineProperty(t,"__esModule",{value:!0});t.fastUnique=t.SearchableObject=t.SearchAdapter=t.InvertedIndexStore=t.TrieStore=t.IndexedSearchStore=t.IndexedSearchStrategy=t.SubstringSearchStrategy=t.SearchStrategy=t.SearchCore=void 0;c=u.delegate;l=function(){function n(n,t){this._strategy=n;this._adapter=t}return n.prototype.addItems=function(n){var t=this;i.measurePerformance(function(){t._strategy.processItems(n)},"[SearchCore] Index Building Time");i.logTracePoint("SearchCore.finishIndexing")},n.prototype.beginSearch=function(n){var r=this,t;return this._adapter.isDataSetComplete()||this._adapter.addMoreItems(c(this,this.addItems),function(){r.beginSearch(n)}),i.measurePerformance(function(){t=r._strategy.search(n)},"[SearchCore] Search Time"),this._adapter.handleResults(t,!0,n),t},n.prototype.getStrategy=function(){return this._strategy},n.prototype.clearStrategyStore=function(){this.getStrategy().clearStrategyStore()},n}();t.SearchCore=l;e=function(){function n(n){this._options=$.extend({},n);this._options.specialCharacters&&this._options.specialCharacters.length&&this._buildSpecialCharacterHashSet(this._options.specialCharacters)}return n.getTerms=function(n,t){var e,u,o,s,f,r,h;for(e=new Object(void 0),u=0,o=n;u<o.length;u++)for(s=o[u],f=s.toLocaleLowerCase().split(t||" "),r=0,h=f.length;r<h;r++)f[r]&&(e[f[r]]=!0);return Object.keys(e)},n.prototype._buildSpecialCharacterHashSet=function(n){var t,i,r;for(this._specialCharactersHashSet={},t=0,i=n;t<i.length;t++)r=i[t],this._specialCharactersHashSet[r.toLocaleLowerCase()]=!0},n.prototype._getTerms=function(t){var u=n.getTerms(t,this._options.delimiter),r,f;if(this._specialCharactersHashSet)for(r=0,f=u;r<f.length;r++){for(var e=f[r],i=0,o=e.length;i<o&&this._specialCharactersHashSet.hasOwnProperty(e[i]);)i++;i>0&&i<o&&u.push(e.substr(i))}return u},n.prototype.processItems=function(){},n.prototype.clearStrategyStore=function(){},n.prototype.search=function(){return[]},n.prototype.dataExists=function(){return!1},n.prototype.getIndexedItemsCount=function(){return 0},n.prototype.getIndexTotalSize=function(){return 0},n}();t.SearchStrategy=e;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.processItems=function(n){for(var t,i=0,r=n;i<r.length;i++)t=r[i],t.terms.length===0||this._indexedItemsMap[t.item.toString()]||(this._indexedItemsMap[t.item.toString()]=t.terms.join(" ").toLowerCase())},t.prototype.getIndexTotalSize=function(){return Object.keys(this._indexedItemsMap).length},t.prototype.clearStrategyStore=function(){this._indexedItemsMap=new Map},t.prototype.getIndexedItemsCount=function(){return Object.keys(this._indexedItemsMap).length},t.prototype.search=function(n){var u=n.trim().toLowerCase(),i,t,r;if(u==="")return Object.keys(this._indexedItemsMap).map(function(n){return parseInt(n)});for(i=[],t=0,r=Object.entries(this._indexedItemsMap);t<r.length;t++){var f=r[t],e=f[0],o=f[1];o.includes(u)&&i.push(parseInt(e))}return i},t.prototype.dataExists=function(){return this._indexedItemsMap.size>0},t}(e);t.SubstringSearchStrategy=a;v=function(n){function t(t,i){var r=n.call(this,i)||this,u;return t?r._searchStore=t:(u={comparer:r._options.comparer},i&&i.delimiter&&(u.delimiter=i.delimiter),r._searchStore=new y(u)),r._dataExists=!1,r._indexedItems=[],r}return __extends(t,n),t.prototype.getIndexTotalSize=function(){return this._searchStore.getStoreTotalSize()},t.prototype.clearStrategyStore=function(){this._dataExists=!1;this._indexedItems=[];this._searchStore.clearStrategyStore()},t.prototype.getIndexedItemsCount=function(){return this._indexedItems.length},t.prototype.processItems=function(n){var f,r,u,t;for(f=0,r=0,u=n;r<u.length;r++)t=u[r],t.terms.length!==0&&this._searchStore.addToIndex(t.item,this._getTerms(t.terms))&&(this._indexedItems.push(t.item),f+=t.terms.length);this._dataExists=!0},t.prototype.search=function(n){var t=n.trim();return t===""?this._indexedItems:this._searchStore.search(t)},t.prototype.dataExists=function(){return this._dataExists},t}(e);t.IndexedSearchStrategy=v;o=function(){function n(n){this._options=n||{};this._comparer=this._options.comparer}return n.prototype.search=function(){return[]},n.prototype.addToIndex=function(){return!1},n.prototype.clearStrategyStore=function(){},n.prototype.getStoreTotalSize=function(){return 0},n}();t.IndexedSearchStore=o;var s=function(){function n(n){this.children={};this.content=[];n&&this.content.push(n)}return n}(),k=function(){function n(n){this.root=new s;this.SIZEOF_KEY=2;this.SIZEOF_NUMBER=8;this._comparer=n;this._trieSize=0}return n.prototype.insert=function(n,t){for(var i=this.root,r=0,o=n.length,u,f,e;r<o;++r)if(f=i.children[n[r]],f)i=f;else break;for(;r<o;++r)u=new s,this._trieSize+=this.SIZEOF_KEY,i.children[n[r]]=u,i=u;return e=!1,i.content.indexOf(t)===-1&&(i.content.push(t),this._trieSize+=this.SIZEOF_NUMBER,e=!0),e},n.prototype.find=function(n){for(var r,t=this.root,i=0,u=n.length;i<u;++i)if(r=n[i],t.children[r])t=t.children[r];else return null;return this._getAllDescendantContent(t)},n.prototype._getAllDescendantContent=function(n){var i=[],r=[],t,u;for(i.push(n);i.length;)if(t=i.pop(),t.content&&t.content.length&&(r=r.concat(t.content)),t.children)for(u in t.children)i.push(t.children[u]);return h(r,this._comparer)},n.prototype.clear=function(){this.root=new s;this._trieSize=0},n.prototype.getTrieTotalSize=function(){return this._trieSize},n}(),y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._trie=new k(i._comparer),i}return __extends(t,n),t.prototype.search=function(n){for(var u,f,h=e.getTerms([n],this._options.delimiter),t=[],o=0,s=h;o<s.length;o++)if(u=s[o],u&&(f=this._trie.find(u),t=f?t.length===0?f:r.intersectUniqueSorted(t,f,this._comparer):[],t.length===0))break;return t},t.prototype.addToIndex=function(n,t){var u,r,f,e;for(u=!0,r=0,f=t;r<f.length;r++)e=f[r],this._trie.insert(e,n)||(u=!1);return u},t.prototype.clearStrategyStore=function(){this._trie.clear()},t.prototype.getStoreTotalSize=function(){return this._trie.getTrieTotalSize()},t}(o);t.TrieStore=y;p=function(n){function t(t){var i=n.call(this,t)||this;return i._index={},i._tokenCache={},i}return __extends(t,n),t.prototype.search=function(n){var s,t,u,o,c,f;for(s=e.getTerms([n],this._options.delimiter),t=[],u=0,o=s;u<o.length;u++)if(c=o[u],f=this._index[c],f)t=t.length===0?f:r.intersect(t,f,this._comparer);else{t=[];break}return h(t,this._comparer)},t.prototype.addToIndex=function(n,t){var f,e,h,r,u,l,o,s,c,a;if(f=!0,t)for(e=0,h=t;e<h.length;e++)if(r=h[e],u=[],r){if(this._addItemToIndex(n,r)||(f=!1),this._tokenCache[r])u=this._tokenCache[r];else{for(l=r.length,o=1;o<l;o++)u.push(r.substring(0,o));this._tokenCache[r]=u}if(u)for(s=0,c=u;s<c.length;s++)a=c[s],this._addItemToIndex(n,a)||(f=!1)}return f},t.prototype.clearStrategyStore=function(){this._index={}},t.prototype._addItemToIndex=function(n,t){var u=!1,r=this._index[t];return r||(r=[],this._index[t]=r),r.indexOf(n)===-1&&(r.push(n),u=!0),u},t}(o);t.InvertedIndexStore=p;w=function(){function n(){}return n.prototype.addMoreItems=function(){},n.prototype.createSearchableObjects=function(){return[]},n.prototype.handleResults=function(){},n.prototype.handleError=function(){},n.prototype.handleClear=function(){},n.prototype.isDataSetComplete=function(){return!1},n}();t.SearchAdapter=w;b=function(){function n(n,t){this.item=n;this.terms=t}return n.prototype.setTerms=function(n){this.terms=n},n.prototype.addTerm=function(n){this.terms.push(n)},n}();t.SearchableObject=b;t.fastUnique=h;f.tfsModuleLoaded("VSS.Search",t)});

define("WorkItemTracking/Scripts/Filtering/TextFilterProvider",["require","exports","VSS/Diag","VSS/Search","VSS/Utils/Array","VSS/Utils/Core","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s){var h,a,c,l,v,y;Object.defineProperty(t,"__esModule",{value:!0});t.SubstringTextFilterProvider=t.TextFilterProviderWithUnassigned=t.TextSearchAdapter=t.TextFilterProvider=t.BaseTextFilterProvider=t.SearchStrategySpecialCharacters=void 0;t.SearchStrategySpecialCharacters=["{","(","[","!","@","#","$","%","^","&","*","~","`","'",'"'];h=function(){function n(){this._searchAdapter=this.getSearchAdapter();this._searchCore=new r.SearchCore(this._createSearchStrategy(),this._searchAdapter);this._updateRequired=!0}return n.prototype.bind=function(n){this._dataProvider=n},n.prototype.setFilter=function(n){this._searchValues=[];n&&n.values&&n.values.length&&(i.Debug.assert(n.values.every(function(n){return typeof n=="string"}),"Text filter only supports strings"),this._searchValues=n.values)},n.prototype.getFilter=function(){return{values:this._searchValues||[]}},n.prototype.clearFilters=function(){this._searchValues=null},n.prototype.dataUpdated=function(){this._updateRequired=!0},n.prototype.getMatchingItems=function(n){i.Debug.assert(this.isFiltering(),"must be filtering before calling getMatchingWorkItems");this._updateRequired&&(this._searchAdapter.setDataSource(this._dataProvider),this._searchCore.clearStrategyStore(),this._searchCore.addItems(this._searchAdapter.createSearchableObjects()),this._updateRequired=!1);var t=this._searchCore.beginSearch(this._searchValues.join(" "));return t&&n&&(t=u.intersectPrimitives(n,t)),t},n.prototype.isFiltering=function(){return!!this._searchValues&&this._searchValues.some(function(n){return n!==""})},n.prototype._createSearchStrategy=function(){return new r.IndexedSearchStrategy(null,{specialCharacters:t.SearchStrategySpecialCharacters,delimiter:/[\s\\/\.]/,comparer:function(n,t){return n-t}})},n.PROVIDER_TYPE="text",n}();t.BaseTextFilterProvider=h;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getSearchAdapter=function(){return new c},t}(h);t.TextFilterProvider=a;c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.setDataSource=function(n){this._dataSource=n},t.prototype.getDataSource=function(){return this._dataSource},t.prototype.createSearchableObjects=function(){for(var u,t,i=[],f=this._dataSource.getIds(),n=0,r=f;n<r.length;n++)u=r[n],t=this.createSearchableObject(u),t&&i.push(t);return i},t.prototype.createSearchableObject=function(n){var u,c,e,s,h;for(i.Debug.assertParamIsNumber(n,"workItemId"),u=new r.SearchableObject(n,[]),c=this._dataSource.getVisibleFields(),e=0,s=c;e<s.length;e++){var a=s[e],t=this._dataSource.getValue(n,a),l=typeof t;l==="string"?u.addTerm(t):l==="number"?u.addTerm(t+""):t&&o.isWorkItemIdentityRef(t)&&t.identityRef&&t.identityRef.displayName?u.addTerm(t.identityRef.displayName):t&&o.isIdentityRef(t)&&t.displayName?u.addTerm(t.displayName):(h=f.convertValueToDisplayString(t),h&&u.addTerm(h))}return u},t.prototype.handleResults=function(){},t.prototype.handleError=function(){i.Debug.fail("handleError for TextSearchAdapter called")},t.prototype.handleClear=function(){},t.prototype.isDataSetComplete=function(){return!0},t.prototype.addMoreItems=function(){i.Debug.fail("addMoreItems should never be called")},t}(r.SearchAdapter);t.TextSearchAdapter=c;l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getSearchAdapter=function(){return new v},t}(h);t.TextFilterProviderWithUnassigned=l;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._containsAssignedToMeColumn=!1,t}return __extends(t,n),t.prototype.createSearchableObjects=function(){var t=this.getDataSource();return this._containsAssignedToMeColumn=u.contains(t.getVisibleFields(),e.CoreFieldRefNames.AssignedTo),n.prototype.createSearchableObjects.call(this)},t.prototype.createSearchableObject=function(t){var i=n.prototype.createSearchableObject.call(this,t),r=this.getDataSource();return this._containsAssignedToMeColumn&&!r.getValue(t,e.CoreFieldRefNames.AssignedTo)&&i.addTerm(s.AssignedToEmptyText),i},t}(c);y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._createSearchStrategy=function(){return new r.SubstringSearchStrategy},t}(l);t.SubstringTextFilterProvider=y});

define("WorkItemTracking/Scripts/Utils/PageWorkItemHelper",["require","exports","VSS/Service","TFS/WorkItemTracking/Contracts","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.PageWorkItemHelper=void 0;var e=function(){function n(){}return n.pageWorkItems=function(t,i,r){for(var o,s=n,f=[],u=[],e=0,h=t;e<h.length;e++)o=h[e],u.length>=200?(f.push(s._pageWorkItems(u,i,r)),u=[o]):u.push(o);return u.length>0&&f.push(s._pageWorkItems(u,i,r)),Promise.all(f).then(function(n){for(var u,t=[],i=0,r=n;i<r.length;i++)u=r[i],t.push.apply(t,u);return t})},n._pageWorkItems=function(t,i,u){return __awaiter(this,void 0,void 0,function(){var f;return __generator(this,function(e){switch(e.label){case 0:return f=n._getHttpClient(),[4,f.getWorkItemsBatch({$expand:undefined,asOf:undefined,errorPolicy:r.WorkItemErrorPolicy.Omit,fields:u,ids:t},i)];case 1:return[2,e.sent()]}})})},n._getHttpClient=function(){var n=f.TfsContext.getDefault(),t=new i.VssConnection(n.contextData);return t.getHttpClient(u.WorkItemTrackingHttpClient)},n}();t.PageWorkItemHelper=e});

define("WorkItemTracking/Scripts/Utils/TelemetryUtils",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/TFS.WorkItemTracking"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.TelemetryUtils=void 0;var u;(function(n){function t(n,t,r){if(r.column||r.lane||r.done){var u={};r.column&&$.extend(u,{column:r.column});r.lane&&$.extend(u,{lane:r.lane});r.done&&$.extend(u,{done:r.done});i.publishEvent(new i.TelemetryEventData(n,t,u))}}function f(n){var o,i,u,f,t,e;if(n&&n.allLinks){for(o=n.allLinks,i={workItemLinkCount:0,attachmentCount:0,hyperLinkCount:0,externalLinkCount:0,externalLinkDetails:{}},u=0,f=o;u<f.length;u++)t=f[u],t instanceof r.Attachment?i.attachmentCount++:t instanceof r.ExternalLink?(t.linkData&&t.linkData.OriginalName&&(e=i.externalLinkDetails[t.linkData.OriginalName],i.externalLinkDetails[t.linkData.OriginalName]=e?e+1:1),i.externalLinkCount++):t instanceof r.WorkItemLink?i.workItemLinkCount++:t instanceof r.Hyperlink&&i.hyperLinkCount++;return i}return null}n.recordBoardFieldsUsageChange=t;var u=function(){function n(){this.column=!1;this.lane=!1;this.done=!1}return n}();n.BoardFieldUsageData=u;n.getWorkItemLinkTelemetryDetails=f})(u=t.TelemetryUtils||(t.TelemetryUtils={}))});

define("Agile/Scripts/Resources/TFS.Resources.AgileTaskboard",["require","exports"],function(require,exports){var e=exports;e.Taskboard_ContextMenu_Label="Actions";e.Taskboard_PeopleClassification_ReorderMessage="Ordering cards is disabled, because the task board is grouped by people.";e.Move_Required_Fields_Dialog_Ignore_Button="Ignore";e.Taskboard_AccessibilityTableSummary="The column headers represent the State values, and the row headers represent the following field: {0}. Each intersection of these fields can contain more than one work item.";e.Tile_AriaDescribedBy_AssignToSuffix="assign to";e.Taskboard_Expand="Expand all";e.SettingsMenubarLabel="Settings";e.TaskboardColumn_AriaLabel="Column";e.No_WIP_Limit_Count_Tooltip_Plural="{0} items";e.TaskboardCard_AriaRoleDescription="Card";e.No_WIP_Limit_Count_Tooltip_Single="{0} item";e.Move_Required_Fields_Dialog="Moving a work item across columns requires certain fields to be filled. If you choose not to complete the field(s), this work item move will not be saved.";e.Error_WorkItemNotLoaded="The following work item could not be loaded: {0}.";e.NotStartedWorkItems="{0} not started";e.Tile_AriaDescribedBy_ChangeParentSuffix="parent";e.Taskboard_MaximizeRow_AriaLabel="Expand {0}";e.Taskboard_FilterValue_All="All";e.Taskboard_Collapse="Collapse all";e.Taskboard_AriaDescribedBytext="On a card, press enter or space to open the workItem, use shift F10 for context menu, use tab to navigate between cards, use control arrow keys to reorder cards or change column, use control shift up or down to change {0}";e.TaskboardLoading_NewItemButtonStart="New item experience loading";e.TaskboardLoading_NewItemButtonError="Error loading new item experience";e.TileContextMenu_OpenItem="Open";e.Limit_Tooltip_Single_Plural="{0} item out of work in progress limit of {1} items";e.TaskboardLoading_NewItemButtonEnd="New item experience has loaded";e.ActiveChildWorkItemsWarning="The state of the {0} is {1} but has pending work";e.Taskboard_MaximizeRow="Expand this row";e.Limit_Tooltip_Single_Single="{0} item out of work in progress limit of {1} item";e.Taskboard_SavingTile="Saving...";e.Taskboard_RedirectToDefaultIteration="The board you requested is either hidden for your team or cannot be found. We\u0027re showing you the current iteration instead. If you navigated here from a bookmark, you will need to update your bookmark.";e.Taskboard_MinimizeRow="Collapse this row";e.RemainingWork=" ({0})";e.InProgressWorkItems="{0} in progress";e.Taskboard_Unparented="Unparented";e.Move_Required_Fields_Dialog_Title="Missing field(s)";e.TileContextMenu_EditTitle="Edit title";e.Move_Required_Fields_Dialog_Edit_Button="Enter missing fields";e.Taskboard_TeamMembers="Team members";e.Error_FieldNotLoaded="The following field could not be loaded: {0}.";e.Limit_Tooltip_Plural_Plural="{0} items out of work in progress limit of {1} items";e.AddNewCardDisplayText="New item";e.Taskboard_MinimizeRow_AriaLabel="Collapse {0}";e.Limit_Tooltip_Plural_Single="{0} items out of work in progress limit of {1} item";e.Taskboard_ErrorTile="Error";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Agile/Scripts/Common/WorkItemChanges",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service","VSS/Diag"],function(n,t,i,r,u){var e,o,f,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.TopLevelItemsSelectionFilter=t.LocationSelector=t.BacklogLevelHelper=t.LocationValidator=t.LocationEnumerator=void 0;e=function(){function n(n){this._itemHierarchy=n}return n.prototype.getLocationsForExplicitReparent=function(n){var t=this._itemHierarchy.children(n);return[{parentId:n,previousId:t&&t.length&&t[t.length-1]||null,nextId:null}]},n.prototype.getLocations=function(n,t){var i=[],f,u,e,o;if(n===0)return f=this._itemHierarchy.children(0),i.push({parentId:0,previousId:null,nextId:f&&f.length>0?f[0]:null}),i;var i=[],r=this._itemHierarchy.children(n),s=r&&r.length===1&&t&&t.length===1&&r[0]===t[0];if(r&&r.length&&!s)i.push({parentId:n,previousId:null,nextId:r[0]});else{s||i.push({parentId:n,previousId:null,nextId:null});u=n;do e=this._itemHierarchy.parent(u),o=this._itemHierarchy.nextSibling(u)||null,i.push({parentId:e||0,previousId:u,nextId:o}),u=e;while(e!==0&&!o)}return i},n}();t.LocationEnumerator=e;o=function(){function n(n,t){this._itemHierarchy=t;this._levelHelper=new f(n)}return n.prototype.isValid=function(n,t){var s,a,h,v,u,e,r,i,g;if(!n||n.length===0)return!1;var p=this._itemHierarchy.previousSibling(n[0]),f=null,c=!1,w=!0,b=!0,l=!0,o={};for(s=0,a=n;s<a.length;s++)u=a[s],o[u]=!0;for(h=0,v=n;h<v.length;h++){if((u=v[h],u<=0)||(f=this._itemHierarchy.getData(u),!f||!f.type))return!1;t.parentId!==this._itemHierarchy.parent(u)&&(c=!0);f.isOwned?b=!1:l=!1;this._itemHierarchy.previousSibling(u)!==p&&(w=!1);p=u}if(w&&(o[t.previousId]||o[t.nextId]))return!1;if(c){if(!this._isValidParentType(f,t))return!1;if(t.parentId){e=t.parentId;do{if(o[e])return!1;e=this._itemHierarchy.parent(e)}while(e)}}if(b){if(!c||t.nextId)return!1}else if(t.previousId||t.nextId){if(r=t.previousId?this._itemHierarchy.getData(t.previousId):null,i=t.nextId?this._itemHierarchy.getData(t.nextId):null,r&&!r.type||i&&!i.type)return!1;var y=this._levelHelper.getLevel(f.type),k=r&&this._levelHelper.getLevel(r.type)===y,d=i&&this._levelHelper.getLevel(i.type)===y,nt=y===this._levelHelper.getRequirementLevel()+1;if(!r&&i){if(g=this._levelHelper.getRequirementLevel()+1,i.isOwned&&(!l||!d&&this._levelHelper.getLevel(i.type)!==g))return!1}else if(r&&i)if(r.isOwned&&k||i.isOwned&&d){if(!l&&i.isOwned)return!1}else return!1;else if(!r.isOwned||!nt&&!k)return!1}return!0},n.prototype._isValidParentType=function(n,t){var i=this._levelHelper.getLevel(n.type),u,r;if(!t.parentId)return i===this._levelHelper.getTopLevel();if(u=this._itemHierarchy.getData(t.parentId),r=this._levelHelper.getLevel(u.type),i===r+1)return!0;if(i===r&&i===this._levelHelper.getRequirementLevel()){var f=t.previousId?this._itemHierarchy.getData(t.previousId):null,e=t.nextId?this._itemHierarchy.getData(t.nextId):null,o=f&&this._levelHelper.getLevel(f.type)===i,s=e&&this._levelHelper.getLevel(e.type)===i;return o||s}return!1},n}();t.LocationValidator=o;f=function(){function n(n){var u=this,f,t;this._workItemLevelMap={};this._backlogLevelMap={};f=r.BacklogConfigurationService.getBacklogConfiguration().getAllBacklogLevels();t=1;f.forEach(function(r){u._backlogLevelMap[r.name.toLocaleUpperCase()]=t;r.workItemTypes.forEach(function(n){u._workItemLevelMap[n.toLocaleUpperCase()]=t});n&&i.localeIgnoreCaseComparer(n.name,r.name)===0&&(u._topLevel=t);t++});this._requirementLevel=t-2}return n.prototype.getLevel=function(n){return n&&this._workItemLevelMap.hasOwnProperty(n.toLocaleUpperCase())?this._workItemLevelMap[n.toLocaleUpperCase()]:-1},n.prototype.getLevelForBacklog=function(n){return n&&this._backlogLevelMap.hasOwnProperty(n.toLocaleUpperCase())&&this._backlogLevelMap[n.toLocaleUpperCase()]||-1},n.prototype.getRequirementLevel=function(){return this._requirementLevel},n.prototype.getTopLevel=function(){return this._topLevel},n.ROOT_LEVEL=1,n}();t.BacklogLevelHelper=f;s=function(){function n(n){this._itemHierarchy=n}return n.prototype.select=function(n,t){var s=this,f,e,i,o,h,c,l,r,a;if(f=!0,e={},n&&n.length&&n.length>0)e[this._itemHierarchy.parent(n[0])]=!0;else return null;for(i=0,o=n;i<o.length;i++)if(h=o[i],c=this._itemHierarchy.parent(h),!e[c]){f=!1;break}return f&&(l=this._itemHierarchy.parent(n[0]),r=t.filter(function(n){return n.parentId===l}),r&&r.length)?r[0]:(a=t.sort(function(n,t){return s._itemHierarchy.depth(n.parentId)-s._itemHierarchy.depth(t.parentId)}),a[0])},n}();t.LocationSelector=s;h=function(){function n(n,t){this._pagingDelegate=t;this._itemHierarchy=n;this._levelHelper=new f}return n.prototype.filter=function(n){var e,v,y,o,p,r,f,s,h,w,nt,b;if(n&&n.length>0){var c={},k=[],d=[],g={},l={},a={},i,t;for(e=0,v=n;e<v.length;e++){for(r=v[e],l[r]=!0,t=this._itemHierarchy.parent(r),i=r;t>0;)t=this._itemHierarchy.parent(r),l[t]&&(i=t),r=t;a[i]||(a[i]=!0)}for(o=0,p=n;o<p.length;o++){if(r=p[o],f=this._itemHierarchy.getData(r).type,!f||f==="")return this._pagingDelegate(Object.keys(a).map(function(n){return+n}),function(){}),[];for(s=this._levelHelper.getLevel(f),i=r,t=this._itemHierarchy.parent(r);t>0;)t=this._itemHierarchy.parent(r),l[t]&&(f=this._itemHierarchy.getData(t).type,s=this._levelHelper.getLevel(f),i=t),r=t;c[i]=s;y=s;g[i]||(this._itemHierarchy.getData(i).isOwned?k.push(i):d.push(i),g[i]=!0)}for(h=0,w=Object.keys(c);h<w.length;h++){if(nt=w[h],b=c[nt],y!==b)return[];y=b}return k.concat(d)}return[]},n}();t.TopLevelItemsSelectionFilter=h});

define("Agile/Scripts/Common/CustomerIntelligence",["require","exports"],function(n,t){var i,r,u;Object.defineProperty(t,"__esModule",{value:!0});t.PORTFOLIOBACKLOG_MAPPING_PANE_REPARENT_PROPERTY=t.PROPERTYVALUE_WITHUNSAVEDWORK=t.PROPERTYNAME_SWITCH=t.CustomerIntelligencePropertyValue=t.AgileCustomerIntelligenceFeature=t.AgileCustomerIntelligenceArea=void 0;i=function(){function n(){}return n.AGILE="Agile",n}();t.AgileCustomerIntelligenceArea=i;r=function(){function n(){}return n.PAGELOAD="PageLoad",n.PRODUCTBACKLOG="ProductBacklog",n.PORTFOLIOBACKLOG="PortfolioBacklog",n.CLIENTSIDEOPERATION_REPARENT="Reparent",n.CLIENTSIDEOPERATION_MULTISELECT_REPARENT="MultiSelectReparent",n.CLIENTSIDEOPERATION_MAPPINGPANEREPARENT="MappingPaneReparent",n.CLIENTSIDEOPERATION_MULTISELECT_MAPPINGPANEREPARENT="MultiSelectMappingPaneReparent",n.CLIENTSIDEOPERATION_ITERATIONASSIGNMENT="IterationAssignmentDragDrop",n.CLIENTSIDEOPERATION_MULTISELECT_ITERATIONASSIGNMENT="MultiSelectIterationAssignmentDragDrop",n.CLIENTSIDEOPERATION_ADDBACKLOGITEM="AddBacklogItem",n.CLIENTSIDEOPERATION_BACKLOGS_EXPAND_COLLAPSE_ONE_LEVEL="ExpandCollapseHierarchyOneLevel",n.CLIENTSIDEOPERATION_INDENT_CHANGE_PARENT="Indent_ChangeParent",n.CLIENTSIDEOPERATION_ITERATIONEXPANDALL="ExpandAllIterationView",n.CLIENTSIDEOPERATION_EXPANDWARNING="ExpandItemWithWarning",n.CLIENTSIDEOPERATION_BACKLOG_REORDER="BacklogReorder",n.CLIENTSIDEOPERATION_ITERATION_TASKBOARD_REORDER="IterationTaskboardReorder",n.CLIENTSIDEOPERATION_ITERATION_TASKBOARD_REPARENT="IterationTaskboardReparent",n.CLIENTSIDEOPERATION_ITERATION_TASKBOARD_CHANGE_STATE="IterationTaskboardChngState",n.CLIENTSIDEOPERATION_ITERATION_TASKBOARD_ADDNEWITEM="IterationTaskboardAddNewItem",n.CLIENTSIDEOPERATION_ITERATION_TASKBOARD_FILTER="IterationTaskboardFilter",n.CLIENTSIDEOPERATION_ITERATION_COLLAPSE_FUTURE_LIST="IterationCollapseFutureList",n.CLIENTSIDEOPERATION_ITERATION_CLICK_PREVIOUS_ITERATION="IterationOpenPreviousIteration",n.CLIENTSIDEOPERATION_ITERATION_CLICK_NEXT_ITERATION="IterationOpenNextIteration",n.CLIENTSIDEOPERATION_CARD_CUSTOMIZATION_DIALOG_OPENED="CardCustomizationDialogOpened",n.CLIENTSIDEOPERATION_CARD_CUSTOMIZATION_DIALOG_CHANGED="CardCustomizationDialogChanged",n.CLIENTSIDEOPERATION_COMMON_CONFIG_DIALOG_OPENED="CommonConfigDialogOpened",n.CLIENTSIDEOPERATION_CFD_UPDATE_SETTINGS="CfdUpdateSettings",n.CLIENTSIDEOPERATION_SHOW_LARGE_LEGACY_CHART="ShowLargeLegacyChart",n.CLIENTSIDEOPERATION_CRITERIA_FILTER_ICON="KanbanBoardCriteriaFilterIcon",n.KANBANBOARD_AUTOREFRESH="KanbanBoardAutoRefresh",n.TASKBOARD_AUTOREFRESH="TaskboardAutoRefresh",n.MULTISELECT_CONTEXTMENU="MultiSelectContextMenu",n.SINGLESELECT_CONTEXTMENU="SingleSelectContextMenu",n.TELEMETRY_PRODUCTBACKLOG_GETPAYLOAD="ProductBacklog.GetPayloadComplete",n.TELEMETRY_MAPPINGPANEL_INITIALIZED="MappingPanel.Initialized",n.TELEMETRY_TASKBOARD_INIT="IterationTaskboard.Init",n.TELEMETRY_TASKBOARD_TREECONTROLS_INIT="IterationTaskboard.TreeCtrlsInit",n.TELEMETRY_TASKBOARD_CUSTOMLAYOUT="IterationTaskboard.CustomLayout",n.TELEMETRY_TASKBOARD_ITEMCOUNT="IterationTaskboard.ItemCount",n.TELEMETRY_TASKBOARD_TOP_CELLITEM_COUNT="IterationTaskboard.TopCellItemCount",n.TELEMETRY_TASKBOARD_DISPLAYEDROWSDATA="IterationTaskboard.DisplayedRowsData",n.TELEMETRY_TASKBOARD_STYLERULES="IterationTaskboard.StyleRules",n.TELEMETRY_CAPACITY_VIEW_ADDREMOVECAPACITYUSER="CapacityView.AddRemoveCapacityUser",n.TELEMETRY_CAPACITY_VIEW_CAPACITYPLANNING="CapacityView.CapacityPlanning",n.TELEMETRY_PRODUCTBACKLOG_COLUMNSCHANGE="ProductBacklog.ColumnsChange",n.TELEMETRY_PRODUCTBACKLOG_RENDERFORECASTLINES="ProductBacklog.RenderForecastLines",n.TELEMETRY_CARD_CONTEXT_MENU_CLICK="CardContextMenuClick",n.TELEMETRY_CARD_CHECKLIST_CONTEXT_MENU_CLICK="CardChecklistContextMenuClick",n.TELEMETRY_BACKLOGS_PANEL="Agile.BacklogsPanel",n.TELEMETRY_BACKLOGS_CREATEQUERY="CreateQuery",n.TELEMETRY_BACKLOGS_EMAILBACKLOG="EmailBacklog",n.TELEMETRY_BACKLOGS_COLUMNOPTIONS="BacklogsCommand.column-options",n.TELEMETRY_BACKLOGS_TOOLBAR_FORECASTING="Forecasting",n.TELEMETRY_BACKLOGS_TOOLBAR_SHOWPARENTS="ShowParents",n.TELEMETRY_BACKLOGS_TOOLBAR_INPROGRESS="ShowInProgress",n.TELEMETRY_BACKLOGS_DISPLAYEDROLLUPCOLUMN="RollupColumnsDisplayed",n}();t.AgileCustomerIntelligenceFeature=r;u=function(){function n(){}return n.VIEWTYPE_PRODUCTBACKLOG="Product Backlog",n.VIEWTYPE_PORTFOLIOBACKLOG="Portfolio Backlog",n.VIEWTYPE_ITERATIONBACKLOG="Iteration Backlog",n.VIEWTYPE_TASKBOARD="Taskboard",n.VIEWTYPE_KANBAN="Kanban",n.ADDBACKLOGITEM_ADDEDFROM_ADDPANEL="AddPanel",n.ADDBACKLOGITEM_ADDEDFROM_GRID="Grid",n}();t.CustomerIntelligencePropertyValue=u;t.PROPERTYNAME_SWITCH="Switch";t.PROPERTYVALUE_WITHUNSAVEDWORK="WithUnsavedWork";t.PORTFOLIOBACKLOG_MAPPING_PANE_REPARENT_PROPERTY="MappingPaneReparent"});

define("Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider",["require","exports","VSS/Diag","VSS/Service","VSS/Contributions/Services","VSS/Error","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s){function h(n){return n=n||"",n.trim().toLowerCase()}var c,l;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemTypeColorAndIconsProvider=t.WorkItemTypeColorAndIcons=t.getNormalizedValue=void 0;t.getNormalizedValue=h;c=function(){function n(){this._items={}}return n.getDefault=function(){return{color:n.DEFAULT_WORKITEMTYPE_COLOR,icon:n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}},n.prototype.setColorAndIcon=function(t,i,r){var u=h(t);return this._items[u]={color:n.transformColor(i),icon:n.transformIcon(r)},this._items[u]},n.prototype.getColorAndIcon=function(t){var i=h(t);return this._items[i]||n.getDefault()},n.transformColor=function(t){return t?"#".concat(t.substr(t.length-6)):n.DEFAULT_WORKITEMTYPE_COLOR},n.transformIcon=function(t){return(t=h(t),!t||!n.ICON_NAME_MAPPINGS[t])?n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON:n.ICON_NAME_MAPPINGS[t]},n.ICON_NAME_MAPPINGS={icon_crown:"bowtie-symbol-crown",icon_trophy:"bowtie-symbol-trophy",icon_list:"bowtie-symbol-list",icon_book:"bowtie-symbol-book",icon_sticky_note:"bowtie-symbol-stickynote",icon_clipboard:"bowtie-symbol-task",icon_insect:"bowtie-symbol-bug",icon_traffic_cone:"bowtie-symbol-impediment",icon_chat_bubble:"bowtie-symbol-review",icon_flame:"bowtie-symbol-flame",icon_megaphone:"bowtie-symbol-ask",icon_test_plan:"bowtie-test-plan",icon_test_suite:"bowtie-test-suite",icon_test_case:"bowtie-test-case",icon_test_step:"bowtie-test-step",icon_test_parameter:"bowtie-test-parameter",icon_code_review:"bowtie-symbol-review-request",icon_code_response:"bowtie-symbol-review-response",icon_review:"bowtie-symbol-feedback-request",icon_response:"bowtie-symbol-feedback-response",icon_ribbon:"bowtie-symbol-ribbon",icon_chart:"bowtie-symbol-finance",icon_headphone:"bowtie-symbol-headphone",icon_key:"bowtie-symbol-key",icon_airplane:"bowtie-symbol-airplane",icon_car:"bowtie-symbol-car",icon_diamond:"bowtie-symbol-diamond",icon_asterisk:"bowtie-symbol-asterisk",icon_database_storage:"bowtie-symbol-storage-database",icon_government:"bowtie-symbol-government",icon_gavel:"bowtie-symbol-decision",icon_parachute:"bowtie-symbol-parachute",icon_paint_brush:"bowtie-symbol-paint-brush",icon_palette:"bowtie-symbol-color-palette",icon_gear:"bowtie-settings-gear",icon_check_box:"bowtie-status-success-box",icon_gift:"bowtie-package-fill",icon_test_beaker:"bowtie-test-fill",icon_broken_lightbulb:"bowtie-symbol-defect",icon_clipboard_issue:"bowtie-symbol-issue",icon_github:"bowtie-brand-github",icon_pull_request:"bowtie-tfvc-pull-request",icon_github_issue:"bowtie-status-error-outline"},n.DEFAULT_UNPARENTED_WORKITEM_COLOR="#A6A6A6",n.DEFAULT_UNPARENTED_WORKITEM_BOWTIE_ICON="bowtie-square",n.DEFAULT_WORKITEMTYPE_COLOR_HEX="009CCC",n.DEFAULT_WORKITEMTYPE_COLOR="#".concat(n.DEFAULT_WORKITEMTYPE_COLOR_HEX),n.DEFAULT_WORKITEMTYPE_ICON=s.WorkItemTypeIcons.DefaultWorkItemTypeIconName,n.DEFAULT_WORKITEMTYPE_BOWTIE_ICON=n.ICON_NAME_MAPPINGS[n.DEFAULT_WORKITEMTYPE_ICON],n}();t.WorkItemTypeColorAndIcons=c;l=function(){function n(){this._cachedPromises={};this._projectToColorAndIconsMap={};this._restClient=o.getClient()}return n.getInstance=function(){return n._instance||(n._instance=this._getDataProvider()),n._instance},n.prototype.isPopulated=function(n){return n?(n=h(n),this._projectToColorAndIconsMap.hasOwnProperty(n)):!1},n.prototype.getColorAndIcon=function(n,t){return n&&t&&(n=h(n),this._projectToColorAndIconsMap[n])?this._projectToColorAndIconsMap[n].getColorAndIcon(t):c.getDefault()},n.prototype.getColor=function(n,t){return this.getColorAndIcon(n,t).color},n.prototype.ensureColorAndIconsArePopulated=function(n){var s=this,u,e,o,t,r;for(n||i.Debug.fail("EnsureWorkItemTypeColors - parameter 'projects' cannot be null or undefined"),u={},e=0,o=n;e<o.length;e++)t=o[e],t=h(t),u.hasOwnProperty(t)||this.isPopulated(t)||(u[t]=null);return(r=Object.keys(u),r.length===0)?Promise.resolve():r.length===1?this._fetchWorkItemTypeColorAndIcons(r[0]):this._restClient.getWorkItemTypeColorAndIcons(r).then(function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],s._setColors(r.key,r.value)},function(n){return f.publishErrorToTelemetry(n)})},n.prototype.getColorAndIconAsync=function(n,t){var r=this;return(i.Debug.assertIsNotNull(n,"WorkItemTypeColorAndIconsProvider - 'getColorAndIconAsync' projectName cannot be null/undefined"),this.isPopulated(n))?Promise.resolve(this.getColorAndIcon(n,t)):this.queueEnsureColorAndIconsArePopulated(n).then(function(){return r.getColorAndIcon(n,t)})},n.prototype.getColorAsync=function(n,t){return i.Debug.assertIsNotNull(n,"WorkItemTypeColorAndIconsProvider - 'getColorAsync' projectName cannot be null/undefined"),this.getColorAndIconAsync(n,t).then(function(n){return n.color})},n.prototype.queueEnsureColorAndIconsArePopulated=function(n){var t=this;return i.Debug.assertIsNotNull(n,"WorkItemTypeColorAndIconsProvider - 'queueEnsureColorAndIconsArePopulated' projectName cannot be null/undefined"),n=h(n),this._cachedPromises[n]?this._cachedPromises[n]:(this._cachedPromises[n]=this.ensureColorAndIconsArePopulated([n]),this._cachedPromises[n].then(function(){delete t._cachedPromises[n]},function(i){delete t._cachedPromises[n];f.publishErrorToTelemetry(i)}))},n.prototype._setColors=function(n,t){for(var i,u=new c,r=0,f=t;r<f.length;r++)i=f[r],u.setColorAndIcon(i.workItemTypeName,i.color,i.icon);n=h(n);this._projectToColorAndIconsMap[n]=u},n._getDataProvider=function(){var t=e.TfsContext.getDefault().contextData.project,o=r.getService(u.WebPageDataService),i=new n,f=o.getPageData("ms.vss-work-web.work-item-type-color-icon-data-provider");return t&&f&&i._setColors(t.name,f),i},n.prototype._fetchWorkItemTypeColorAndIcons=function(t){var i=this;return this._restClient.getWorkItemTypes(t).then(function(r){if(!r)throw new Error("WorkItemTypeColorAndIconsProvider - '_restClient.getWorkItemTypes' returned undefined workItemTypes for project '".concat(t,"'"));i._setColors(t,r.map(function(i){if(!i)throw new Error("WorkItemTypeColorAndIconsProvider - '_restClient.getWorkItemTypes' returned a null type for project '".concat(t,"'"));return n._toWorkItemTypeColorAndIcon(i)}))},function(n){return f.publishErrorToTelemetry(n)}).then(function(){},function(n){return f.publishErrorToTelemetry(n)})},n._toWorkItemTypeColorAndIcon=function(n){var i=n.color,t=n.icon,r=n.name;return{color:i,icon:t&&t.id,workItemTypeName:r}},n}();t.WorkItemTypeColorAndIconsProvider=l});

define("Presentation/Scripts/TFS/Components/WorkItemTypeIcon",["require","exports","react","react-dom","Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider","VSS/Telemetry/Services","OfficeFabric/Utilities","VSSUI/Util","VSSUI/Tooltip","VSS/LoaderPlugins/Css!Presentation/Components/WorkItemTypeIcon"],function(n,t,i,r,u,f,e,o,s){function a(n,t,u,f,e){var o=typeof u!="string",s={workItemTypeName:t,projectName:o?null:u,customInput:o?u:null,iconAccessibilityOptions:f},l=c(n,!0);r.render(i.createElement(h,__assign({},s)),l,e)}function v(n){var t=c(n,!1);t&&(r.unmountComponentAtNode(t),n.removeChild(t))}function c(n,t){var r="work-item-type-icon-host",u=n.getElementsByClassName(r),i;return u.length>0?u[0]:t?(i=document.createElement("span"),i.classList.add(r),n.appendChild(i),i):undefined}var h,l;Object.defineProperty(t,"__esModule",{value:!0});t.unmountWorkItemTypeIcon=t.renderWorkItemTypeIcon=t.WorkItemTypeIcon=void 0;h=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._isMounted=!1,i.state=i._getState(i.props),i}return __extends(t,n),t.prototype.render=function(){var c=!this.props.customInput&&this._isProjectAndWorkItemTypeNullOrEmpty();c&&l.publishEvent(__assign(__assign({},this.props),{insufficientInput:c}));var a=this.state?this.state.icon:null,v=this.state?this.state.color:u.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_COLOR,n=this.props.iconAccessibilityOptions,r=null,f=null,t=!n||!n.suppressTooltip;t&&(r=n&&n.tooltip||this.props.workItemTypeName,f=e.getId("work-item-type-icon-tooltip"));var y=n&&n.ariaAttributes?n.ariaAttributes.label:r||this.props.workItemTypeName,b=n&&n.ariaAttributes?n.ariaAttributes.describedby:f,p=n&&n.ariaAttributes?n.ariaAttributes.labelledby:null,w=o.css("work-item-type-icon bowtie-icon",a,{"work-item-type-icon-no-tooltip":!t},!t&&this.props.className),h=i.createElement("i",{"aria-label":y,"aria-labelledby":p,className:w,role:"figure",style:{color:v}});return h&&t?i.createElement(s.TooltipHost,{hostClassName:o.css("work-item-type-icon-wrapper",this.props.className),content:r,id:f},h):h},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.componentWillReceiveProps=function(n){var t=this._getState(n);t&&(!this.state||t.color!==this.state.color||t.icon!==this.state.icon)&&this.setState(t)},t.prototype._getState=function(n){var i=this,t;return n.customInput?{color:n.customInput.color?n.customInput.color:u.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_COLOR,icon:n.customInput.icon?n.customInput.icon:u.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}:this._isProjectAndWorkItemTypeNullOrEmpty()?u.WorkItemTypeColorAndIcons.getDefault():(t=u.WorkItemTypeColorAndIconsProvider.getInstance(),t.isPopulated(n.projectName)?t.getColorAndIcon(n.projectName,n.workItemTypeName):(t.getColorAndIconAsync(n.projectName,n.workItemTypeName).then(function(n){i._isMounted&&i.setState(n)}),null))},t.prototype._isProjectAndWorkItemTypeNullOrEmpty=function(){return!(this.props.projectName&&this.props.workItemTypeName)},t}(i.Component);t.WorkItemTypeIcon=h;t.renderWorkItemTypeIcon=a;t.unmountWorkItemTypeIcon=v;l=function(){function n(){}return n.publishEvent=function(t,i){f.publishEvent(new f.TelemetryEventData("WIT",n._featureName,__assign(__assign({},t),{action:n._featureAction})),i)},n._featureAction="Render",n._featureName="WorkItemTypeIcon",n}()});

define("TFSUI/Common/Utils",["require","exports","VSS/VSS","VSS/Diag","VSS/Error"],function(n,t,i,r,u){Object.defineProperty(t,"__esModule",{value:!0});t.ErrorUtils=void 0;var f;(function(n){function t(n,t,e,o,s,h){var c=f(n),l="".concat(e,". Source:").concat(o," "),a=s?"".concat(s,". Inner error name:").concat(c.name||""):c.name||"",v=h?"".concat(h,". Inner error message:").concat(c.message||""):c.message||"";c.name=l+a;c.message=v;u.publishErrorToTelemetry(c,t)}function f(n){var t=new Error,r=i.getErrorMessage(n);return t.name=n.name?n.name:n.description?n.description:r,n.message&&(t.message=n.message),n.stack&&(t.stack=n.stack),t}n.PublishError=t})(f=t.ErrorUtils||(t.ErrorUtils={}))});

define("WorkItemTracking/Scripts/Utils/WorkItemTeamUtil",["require","exports","WorkItemTracking/Scripts/TFS.WorkItemTracking","VSS/Diag","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f){function e(n,t,e){return e===void 0&&(e=!0),__awaiter(this,void 0,void 0,function(){var o,s,h,c;return __generator(this,function(){r.Debug.assertParamIsType(t,i.WorkItem,"workItem");try{h=t.store.getTfsContext();c=u.ProjectCollection.getConnection(h);o=c.getWebContext().project.id.toLowerCase();s=t.project.guid.toLowerCase()}catch(l){o="";s=""}return o!==s?[2,Promise.resolve(null)]:[2,t.store.beginGetTeamSettings(n).then(function(n){var r,i,u,o,s,h;if(n)for(r=[],i=undefined,e&&(n.defaultIteration?i=n.defaultIteration.friendlyPath:n.currentIteration&&(i=n.currentIteration.friendlyPath)),!i&&n.backlogIteration&&(i=n.backlogIteration.friendlyPath),i&&r.push({fieldName:f.CoreFieldRefNames.IterationPath,value:i}),n.teamFieldName&&r.push({fieldName:n.teamFieldName,value:n.teamFieldDefaultValue}),u=0,o=r;u<o.length;u++)s=o[u],h=t.getField(s.fieldName),h&&h.setValue(s.value)},function(){})]})})}Object.defineProperty(t,"__esModule",{value:!0});t.beginTrySetWorkItemTeamDefaults=void 0;t.beginTrySetWorkItemTeamDefaults=e});

define("Agile/Scripts/Resources/TFS.Resources.AgileProductBacklog",["require","exports"],function(require,exports){var e=exports;e.Rollup_SuccessColumnTooltip="Rollup is up to date";e.ChangeParentDialogWorkItemPickerDisabledText="There are no possible parents in this team.";e.ContextMenu_AddChildItems="Add...";e.Tooltip_Backlog_InProgress="Show or hide {0} in the state(s): {1}";e.AddPanel_Add="Add";e.BulkEdit_ErrorMessageHeader="One or more items could not be saved. ";e.GroupRow_OrphanProductBacklogItem="Unparented {0}";e.ToolPanel_Capacity="Work details";e.CreateQuery_ClickHere="Click here to view it.";e.ContextMenu_AriaLabel="Backlog Item Actions";e.ForecastingSprintStartsWithLabel="{0} starts with";e.AddPanel_Close="Close";e.Rollup_FailureColumnTooltip="Failed to process data into Analytics. Last update was {0}.";e.BacklogInfo_WorkItemRemoved_Footer_LinkText="Edit now";e.SprintHeader_Past="Past";e.Forecast_MessageDisabledWhileFiltering="Forecasting disabled while filtering";e.Forecast_NoSprints="Forecast lines cannot be drawn. There are no remaining iterations in your schedule.";e.CreateQuery_Error="An error occurred while creating the backlog query. The query could not be saved. The server might be offline or unresponsive. Wait a few minutes, and then try again.";e.BacklogInfo_RefreshRequired="You have modified the work item(s) in a way that affects how it appears on the backlog. You must refresh the backlog to reflect the latest changes. ";e.AddPanel_CloseAltText="Close";e.LoadParentErrorMessage="Uh-oh, we hit a snag. Unable to show this parent. Please try refreshing.";e.Rollup_FailureColumnTooltip_NoDate="We are still processing data into Analytics.";e.IterationBacklog="Iteration backlog";e.KeyboardShortcutDescription_Open_New_Item_Panel="Open New Item Panel";e.RollupColumn_TotalBy_WorkItemType="Count of {0}";e.KeyboardShortcutDescription_Move_Item_To_Current_Iteration="Move item to current iteration";e.BacklogsChangeParentDialogTitle="Change parent";e.Add_WorkItems_Error="The following error occurred while attempting to add a new work item: {0}.";e.RollupColumn_TotalBy_FieldName="Sum of {0}";e.ProductBacklogLoading_ForecastEnd="Forecast content loaded";e.AddPanel_Type="Type";e.TooManyItemsOnBacklog_ShowingOneHop="There are too many items on the backlog. Only two levels of the tree can be shown. Delete items or {0} for this team.";e.KeyboardShortcutDescription_Move_Item_Up="Move item up";e.ProductBacklog_Reparent_Toast_Multiple="You successfully mapped {0} work items to \"{1}\".";e.ContextMenu_AddLink="Add link";e.ChangeParentDialogWorkItemPickerHelpText="Select a work item";e.MappingPane_On="On";e.Add_WorkItems="Add: {0}";e.ProductBacklog="Product backlog";e.ProductBacklogLoading_MappingPaneStart="Mapping pane is loading";e.Forecast_ItemTooBig="Forecast lines cannot be drawn. Based on the velocity you have entered, the first item on your backlog cannot be completed in the remaining iterations.";e.ToolPanel_Off="Off";e.UnownedItemTooltip="This item cannot be reordered because it is owned by another team.";e.ChangeParentDialogTeamPickerLabel="Team";e.Tooltip_Backlog_Parents="Show or hide the parents of {0} owned by {1}.";e.TooManyItemsOnBacklog="There are too many items on this backlog to show the full work item tree. Delete items or {0} for this team.";e.KeyboardShortcutDescription_Move_Item_Down="Move item down";e.ProductBacklogLoading_RightPaneExtesionStart="Right pane extension menu is loading";e.BacklogsChangeParentDialogFooterOk="OK";e.SprintHeader_Future="Future";e.MoveUserStory_TasksUpdateIterationFailed="You moved a work item to a sprint or a backlog, but an error occurred while attempting to update the iteration path of one or more children associated with this work item to reflect this change. You must manually update the children with the correct iteration.";e.ChangeParentInvalidSelectionLearnMoreLink="https://go.microsoft.com/fwlink/?linkid=845482";e.ChangeParentErrorLoadingParentWorkItemsMessage="Error loading parent work items: {0}";e.ProductBacklog_LevelRedirectToDefaultLevel="The backlog you requested is either hidden for your team or cannot be found. We\u0027re showing you the default backlog instead. If you navigated here from a bookmark, you will need to update your bookmark.";e.ContextMenu_MoveToTop="Move to top";e.Backlog_Toolbar_AriaLabel="Backlog toolbar";e.ChangeParentInvalidSelectionLearnMore="Learn more about reparenting.";e.KeyboardShortcutDescription_Assign_To="Assign to";e.RollupColumn_TotalBy_AllDescendants="Count of Work Items";e.ContextMenu_MoveToPosition="Move to position...";e.ContextMenu_LinkToNewItem="New item...";e.CreateQuery_Toolbar_Text="Create Query";e.ToolPanel_Mapping="Mapping";e.ProductBacklogLoading_RightPaneError="Error loading right pane";e.ProductBacklogLoading_AddPanelEnd="Add panel loaded";e.Add_WorkItems_Seperator=", ";e.ContextMenu_LinkToExistingItem="Existing item...";e.Forecast_VelocityLabel="Forecasting based on velocity of";e.RollupColumn_ProgressBy_AllCompletedDescendants="Progress by all Work Items";e.BacklogAction_EmailQueryResult="Email";e.ProductBacklogLoading_ForecastError="Error loading forecast content";e.ProductBacklogLoading_ForecastStart="Forecast content is loading";e.MoveUserStory_UserStoryUpdateIterationFailed="The work item could not be moved to the sprint or backlog because an error occurred when attempting to update the iteration path of the parent work item. You might not have the necessary permissions to edit the work item, the work item might have been modified by another user, or you might have lost connection to your server. Refresh your browser, and then try again.";e.MappingPane_Off="Off";e.ProductBacklogContextMenu_Loading="Loading...";e.BacklogsChangeParentDialogFooterCancel="Cancel";e.KeyboardShortcutGroup_Backlog="Backlogs";e.SprintHeader_Current="Current";e.BulkEdit_Backlog_OrderFieldRefresh="You changed the field used for backlog ordering. You must refresh your backlog to see the items in the new location. ";e.AddPanel_Loading="Loading ...";e.ChangeParentDialogWorkItemPickerLabel="New parent";e.RollupColumn_ComputeError="An error occurred while fetching available rollup columns.";e.ChangeParentErrorLoadingTeamsMessage="Error loading teams: {0}";e.KeyboardShortcutDescription_Move_Item_To_Backlog="Move item to backlog";e.GroupRow_OrphanTasks="Unparented";e.Rollup_EffortFieldName="Effort";e.BacklogsChangeParentDialogDescription="This will replace any existing parent of the {0} selected item(s).";e.BacklogInfo_WorkItemRemoved_ListHeader="The following changes removed the item:";e.StatusMessage_RecoverableError="An error has occurred while attempting to save your changes. Click here to try saving your changes again. Error details: {0}";e.BacklogInfo_OrderFieldRefresh="You changed the field used for backlog ordering. You must refresh your backlog to see the item in the new location. ";e.RollupColumn_ProgressBy_WorkItemType="Progress by {0}";e.Forecast_Column_Title="Forecast";e.ProductBacklog_MappingPane_Error="The work item could not be mapped because an error occurred when attempting to update the link to the parent work item. You might not have the necessary permissions to edit the work item, the work item might have been modified by another user, or you might have lost connection to your server. Refresh your browser, and then try again.";e.ContextMenu_ChangePosition="Change position...";e.ProductBacklogLoading_MappingPaneEnd="Mapping pane loaded";e.BulkEdit_Backlog_RefreshRequired="You have modified the work items in a way that affects how it appears on the backlog. You must refresh the backlog to reflect the latest changes. ";e.BacklogInfo_WorkItemRemoved_ListItem="{0} was set to: {1}";e.MissingProposedStateMapping="Items added to the backlog may disappear on a refresh because your team project marks them as \"in progress\". Those items will appear when you change the \"In progress\" filter to Show.";e.ChangeParentSelectionCannotReparentMessage="You cannot change the parent because these are top-level items.";e.ReorderDialogMessage="Enter a value between 1 and {0}:";e.ReorderDialogError_Message="Your input is invalid. Please enter an integer value between 1 and {0}.";e.ProductBacklog_ParentColumnTitle="Parent";e.Forecast_NoBacklog="Forecast lines cannot be drawn. There are no proposed items in your backlog.";e.MultipleItemTypesDragHelperText="Items";e.Columns_ErrorSaving="Error saving column options. Click here to discard your changes and refresh your view of the backlog.";e.ForecastingSprintEndsWithLabel="{0} ends with";e.ProductBacklog_OrderColumnTitle="Order";e.BulkEdit_WorkItemRemovedFromBacklog_ListHeader="The following changes removed the items:";e.ChangeParentSelectionLimitExceededMessage="You cannot change the parent of these because there are more than 200 items selected.";e.ProductBacklogLoading_RightPaneExtesionEnd="Right pane extension menu loaded";e.MappingPane_Refresh="Refresh";e.ProductBacklogLoading_AddPanelError="Error loading add panel";e.ToolPanel_FilterTitle="Panel";e.ProductBacklogLoading_AddPanelStart="Add panel is loading";e.ReduceAreaOfOwnershipLinkText="reduce the area of ownership";e.ContextMenu_ChangeParent="Change parent...";e.BulkEdit_ErrorListHeader="The following errors appear on one or more items:";e.BacklogInfo_RefreshRequired_LinkText="Refresh now";e.CreateQuery_Created="Your backlog query has been created. ";e.AddPanel_AriaDescription="Set {0} for new work item";e.KeyboardShortcutDescription_Move_Item_To_Next_Iteration="Move item to next iteration";e.BacklogInfo_WorkItemRemoved_Footer="If you did not want to remove this item, you may edit it to undo your changes. ";e.ChangeParentInvalidSelectionMessage="You cannot change the parent of these items because of which items are selected. If items of multiple levels are selected, they must all have a selected ancestor. ";e.KeyboardShortcutDescription_Move_Item_To_Top="Move item to top";e.EmailBacklogQueryResult="Send backlog query as an email";e.BacklogInfo_WorkItemRemoved_Header="\"{0}\" was removed because of your recent changes.";e.KeyboardShortcutDescription_Show_Hide_Parents="Show / Hide Parents";e.KeyboardShortcutDescription_Add_Child="Add child";e.ProductBacklog_Error_UnsavedChanges="You have unsaved changes. You can retry after all changes are saved, or refresh the page to discard the changes.";e.BulkEdit_WorkItemRemovedFromBacklog_Header="One or more items were removed because of your recent changes.";e.ProductBacklog_Reparent_Toast_1="You successfully mapped \"{0}\" to \"{1}\".";e.MappingPane_FilterTitle="Mapping";e.StatusMessage_FatalError="An error has occurred while attempting to save your changes. Click here to discard your changes and refresh your view of the backlog. Error details: {0}";e.Unparented="Unparented";e.RollupColumn_ProgressBy_EffortField="Progress by {0}";e.AddPanel_TitleDisabledWhileFiltering="Adding items has been disabled while filtering";e.RollupColumn="Rollup Column";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/FeatureManagement/Contracts",["require","exports"],function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.ContributedFeatureEnabledValue=void 0;var i;(function(n){n[n.Undefined=-1]="Undefined";n[n.Disabled=0]="Disabled";n[n.Enabled=1]="Enabled"})(i=t.ContributedFeatureEnabledValue||(t.ContributedFeatureEnabledValue={}));t.TypeInfo={ContributedFeatureEnabledValue:{enumValues:{undefined:-1,disabled:0,enabled:1}},ContributedFeatureState:{},ContributedFeatureStateQuery:{}};t.TypeInfo.ContributedFeatureState.fields={state:{enumType:t.TypeInfo.ContributedFeatureEnabledValue}};t.TypeInfo.ContributedFeatureStateQuery.fields={featureStates:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributedFeatureState}}});

define("VSS/FeatureManagement/RestClient",["require","exports","VSS/FeatureManagement/Contracts","VSS/Service","VSS/WebApi/RestClient"],function(n,t,i,r,u){"use strict";function tt(n){return window.VSS&&window.VSS.VssSDKRestVersion&&g[window.VSS.VssSDKRestVersion]?r.getClient(g[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(s,undefined,undefined,undefined,n)}var e,f,o,s,h,c,l,a,v,y,p,w,b,k,d,nt,g;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.FeatureManagementHttpClient=t.FeatureManagementHttpClient3=t.FeatureManagementHttpClient3_1=t.FeatureManagementHttpClient3_2=t.FeatureManagementHttpClient4=t.FeatureManagementHttpClient4_1=t.FeatureManagementHttpClient5=t.FeatureManagementHttpClient5_1=t.FeatureManagementHttpClient5_2=t.FeatureManagementHttpClient6=t.FeatureManagementHttpClient6_1=t.FeatureManagementHttpClient7=t.FeatureManagementHttpClient7_1=t.FeatureManagementHttpClient7_2=t.CommonMethods3_1To7_2=t.CommonMethods3To7_2=void 0;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.setFeatureStateForScope=function(n,t,r,u,f,e,o){var s={reason:e,reasonCode:o};return this._beginRequest({httpMethod:"PATCH",area:"FeatureManagement",locationId:"dd291e43-aa9f-4cee-8465-a93c78e414a4",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{scopeName}/{scopeValue}/{featureId}",requestType:i.TypeInfo.ContributedFeatureState,responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:t,userScope:r,scopeName:u,scopeValue:f},queryParams:s,apiVersion:this.featureStatesApiVersion,data:n})},t.prototype.getFeatureStateForScope=function(n,t,r,u){return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"dd291e43-aa9f-4cee-8465-a93c78e414a4",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{scopeName}/{scopeValue}/{featureId}",responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:n,userScope:t,scopeName:r,scopeValue:u},apiVersion:this.featureStatesApiVersion})},t.prototype.setFeatureState=function(n,t,r,u,f){var e={reason:u,reasonCode:f};return this._beginRequest({httpMethod:"PATCH",area:"FeatureManagement",locationId:"98911314-3f9b-4eaf-80e8-83900d8e85d9",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{featureId}",requestType:i.TypeInfo.ContributedFeatureState,responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:t,userScope:r},queryParams:e,apiVersion:this.featureStatesApiVersion_98911314,data:n})},t.prototype.getFeatureState=function(n,t){return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"98911314-3f9b-4eaf-80e8-83900d8e85d9",resource:"FeatureStates",routeTemplate:"_apis/{area}/{resource}/{userScope}/{featureId}",responseType:i.TypeInfo.ContributedFeatureState,routeValues:{featureId:n,userScope:t},apiVersion:this.featureStatesApiVersion_98911314})},t.prototype.getFeatures=function(n){var t={targetContributionId:n};return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"c4209f25-7a27-41dd-9f04-06080c7b6afd",resource:"Features",routeTemplate:"_apis/{area}/{resource}/{featureId}",responseIsCollection:!0,queryParams:t,apiVersion:this.featuresApiVersion})},t.prototype.getFeature=function(n){return this._beginRequest({httpMethod:"GET",area:"FeatureManagement",locationId:"c4209f25-7a27-41dd-9f04-06080c7b6afd",resource:"Features",routeTemplate:"_apis/{area}/{resource}/{featureId}",routeValues:{featureId:n},apiVersion:this.featuresApiVersion})},t}(u.VssHttpClient);t.CommonMethods3To7_2=e;f=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryFeatureStatesForNamedScope=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"FeatureManagement",locationId:"f29e997b-c2da-4d15-8380-765788a1a74c",resource:"FeatureStatesQuery",routeTemplate:"_apis/{area}/{resource}/{userScope}/{scopeName}/{scopeValue}",requestType:i.TypeInfo.ContributedFeatureStateQuery,responseType:i.TypeInfo.ContributedFeatureStateQuery,routeValues:{userScope:t,scopeName:r,scopeValue:u},apiVersion:this.featureStatesQueryApiVersion,data:n})},t.prototype.queryFeatureStatesForDefaultScope=function(n,t){return this._beginRequest({httpMethod:"POST",area:"FeatureManagement",locationId:"3f810f28-03e2-4239-b0bc-788add3005e5",resource:"FeatureStatesQuery",routeTemplate:"_apis/{area}/{resource}/{userScope}",requestType:i.TypeInfo.ContributedFeatureStateQuery,responseType:i.TypeInfo.ContributedFeatureStateQuery,routeValues:{userScope:t},apiVersion:this.featureStatesQueryApiVersion_3f810f28,data:n})},t.prototype.queryFeatureStates=function(n){return this._beginRequest({httpMethod:"POST",area:"FeatureManagement",locationId:"2b4486ad-122b-400c-ae65-17b6672c1f9d",resource:"FeatureStatesQuery",routeTemplate:"_apis/{area}/{resource}",requestType:i.TypeInfo.ContributedFeatureStateQuery,responseType:i.TypeInfo.ContributedFeatureStateQuery,apiVersion:this.featureStatesQueryApiVersion_2b4486ad,data:n})},t}(e);t.CommonMethods3_1To7_2=f;o=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="7.2-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient7_2=o;s=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="7.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient7_1=s;h=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="7.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient7=h;c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="6.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient6_1=c;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="6.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient6=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="5.2-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient5_2=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="5.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient5_1=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="5.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient5=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="4.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient4_1=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="4.0-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient4=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="3.2-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient3_2=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314=r.featureStatesQueryApiVersion=r.featureStatesQueryApiVersion_3f810f28=r.featureStatesQueryApiVersion_2b4486ad="3.1-preview.1",r}return __extends(t,n),t}(f);t.FeatureManagementHttpClient3_1=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.featuresApiVersion=r.featureStatesApiVersion=r.featureStatesApiVersion_98911314="3.0-preview.1",r}return __extends(t,n),t}(e);t.FeatureManagementHttpClient3=d;nt=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(o);t.FeatureManagementHttpClient=nt;g={"7.2":o,"7.1":s,"7.0":h,"6.1":c,"6.0":l,"5.2":a,"5.1":v,"5.0":y,"4.1":p,"4.0":w,"3.2":b,"3.1":k,"3.0":d};t.getClient=tt});

define("WorkItemTracking/Scripts/ActionUrls",["require","exports"],function(n,t){var i,r;Object.defineProperty(t,"__esModule",{value:!0});t.ActionParameters=t.ActionUrl=void 0,function(n){n.ACTION="action";n.ACTION_NEW="new";n.ACTION_EDIT="edit";n.ACTION_CREATE="create";n.ACTION_QUERYRESULTSBYID="resultsById";n.ACTION_QUERYRESULTSBYPATH="results";n.ACTION_ADHOCQUERY="adHocQuery";n.ACTION_VSOPEN="vsopen";n.ACTION_QUERY="query";n.ACTION_QUERY_EDIT="query-edit";n.ACTION_QUERY_CHARTS="query-charts";n.ACTION_CONTRIBUTION="contribution";n.ACTION_SEARCH="search"}(i=t.ActionUrl||(t.ActionUrl={})),function(n){n.ACTION="_a";n.ID="id";n.WITD="witd";n.WORKITEMID="workItemId";n.TRIAGE="triage";n.TEMPQUERYID="tempQueryId";n.TEMPLATEID="templateId";n.PATH="path";n.WIQL="wiql";n.NEW_QUERY="newQuery";n.SEARCHTEXT="searchText";n.PARENTID="parentId";n.FULLSCREEN="fullScreen";n.VIEW="view";n.ISVSOPEN="isVSOpen";n.QUERYID="queryId";n.CONTEXT="context";n.NAME="name";n.IMPORTDATA="importData"}(r=t.ActionParameters||(t.ActionParameters={}))});

define("WorkItemTracking/Scripts/Utils/WorkItemControlsActions",["require","exports","VSS/Diag","VSS/Controls/Navigation","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/Utils/WIFormCIDataHelper","WorkItemTracking/Scripts/ActionUrls"],function(n,t,i,r,u,f,e){function s(n){var o,t,s;o=n.tfsContext||u.TfsContext.getDefault();t=r.FullScreenHelper.getUrlData(!0);t.parameters=n.id;s=o.getPublicActionUrl(e.ActionUrl.ACTION_EDIT,"workitems",t);window.open(s);f.WIFormCIDataHelper.workItemOpenInNewTabEvent()}Object.defineProperty(t,"__esModule",{value:!0});t.openWorkItemInNewTabActionWorker=t.WorkItemActions=void 0;var o;(function(n){n.ACTION_WORKITEM_OPEN="open-work-item";n.ACTION_WORKITEM_OPEN_DIALOG="open-work-item-dialog";n.ACTION_WORKITEM_OPEN_IN_NEW_TAB="open-work-item-in-new-tab";n.ACTION_WORKITEM_NEW="work-item-new";n.ACTION_WORKITEM_NEW_DIALOG="work-item-new-dialog";n.ACTION_WORKITEM_NEW_LINKED="work-item-new-linked";n.ACTION_WORKITEM_LINK="work-item-link";n.ACTION_WORKITEM_NEW_COPY="work-item-new-copy";n.ACTION_WORKITEM_NEW_CLONE="work-item-new-clone";n.ACTION_WORKITEM_DISCARD_IF_NEW="work-item-discard-if-new";n.ACTION_SHOW_WORKITEM_FORM_BUSY="show-work-item-form-busy-overlay";n.ACTION_HIDE_WORKITEM_FORM_BUSY="hide-work-item-form-busy-overlay";n.WORKITEM_DELETE_ERROR="work-item-delete-error";n.WORKITEM_MAXIMIZE_STATE_CHANGED="work-item-maximize-state-changed"})(o=t.WorkItemActions||(t.WorkItemActions={}));t.openWorkItemInNewTabActionWorker=s});

define("WorkItemTracking/SharedScripts/WorkItemDialogShim",["require","exports","react","react-dom","VSS/FeatureManagement/RestClient","VSS/LWP","VSS/VSS","VSSPreview/Flux/Components/LWP","WorkItemTracking/Scripts/ActionUrls","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WorkItemControlsActions","VSS/VSS","VSS/Performance","VSS/Events/Action","Presentation/Scripts/TFS/TFS.Host.TfsContext"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function rt(n,t){return __awaiter(this,void 0,void 0,function(){var s,u,i,f,e,o,r;return __generator(this,function(h){switch(h.label){case 0:return[4,p];case 1:if(h.sent()){for(s=n.id<1?n.workItemType.name:n.id,u={},i=0,f=Object.keys(n.fieldUpdates);i<f.length;i++)e=f[i],o=n.getField(Number(e)),r=n.fieldUpdates[e],o.fieldDefinition.referenceName&&r.value&&!r.setByRule&&(u[o.fieldDefinition.referenceName]=r.value);return k(s,t,u),[2]}return b(function(i){i.WorkItemFormDialog.showWorkItem(n,t)}),[2]}})})}function ut(n,t,i){return __awaiter(this,void 0,void 0,function(){var r,u;return __generator(this,function(f){switch(f.label){case 0:return[4,p];case 1:return f.sent()?(k(n,i),[2]):(i!==undefined?(r=t||y.TfsContext.getDefault(),u=i):(r=y.TfsContext.getDefault(),u=t),b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_OPEN,{id:n,tfsContext:r,options:u})}),[2])}})})}function nt(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(u){switch(u.label){case 0:return[4,p];case 1:return u.sent()?(k(n,i,undefined,r),[2]):(b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_OPEN_DIALOG,{id:n,tfsContext:t||y.TfsContext.getDefault(),options:i,tryGetLatest:r})}),[2])}})})}function tt(n,t,i,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(u){switch(u.label){case 0:return[4,p];case 1:return u.sent()?(k(n,r,t),[2]):(b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_NEW_DIALOG,{workItemTypeName:n,tfsContext:i||y.TfsContext.getDefault(),initialValues:t,options:r})}),[2])}})})}function ft(n,t){t=t||y.TfsContext.getDefault();var i=t.getPublicActionUrl(s.ActionUrl.ACTION_EDIT,"workitems",{parameters:n});window.open(i)}function et(n,t,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(r){switch(r.label){case 0:return[4,p];case 1:return r.sent()?(k(n,undefined,i),[2]):(t=t||y.TfsContext.getDefault(),b(function(){v.getService().performAction(c.WorkItemActions.ACTION_WORKITEM_NEW,{workItemTypeName:n,tfsContext:t,initialValues:i})}),[2])}})})}function ot(n){return n===void 0&&(n=y.TfsContext.getDefault()),it().then(function(n){return l.requireModules(n)})}function b(n){var t,i;w?(i=a.getScenarioManager().startScenario("WIT","FormShim"),n(w),i.end()):(t=a.getScenarioManager().startScenario("WIT","FormShim.LoadModules"),it().then(function(i){return l.requireModules(i).spread(function(i){w=i;n(w);t.end()})},e.handleError))}function it(){return h.WitFormModeUtility.ensureWitFormModeLoaded().then(function(){return["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"]})}function k(n,t,u,f){var e=document.createElement("div"),s,h;document.body.appendChild(e);s=function(){e!==null&&(r.unmountComponentAtNode(e),document.body.removeChild(e),e=null)};h=typeof n=="number"?{workItemId:n,onDismiss:s,onLegacyDismiss:t===null||t===void 0?void 0:t.close,onLegacySave:t===null||t===void 0?void 0:t.save,onLegacyDelete:t===null||t===void 0?void 0:t.deleteItem,readOnly:t===null||t===void 0?void 0:t.readOnly,shouldRefresh:f}:{workItemTypeName:n,initialValues:u,onDismiss:s,onLegacyDismiss:t===null||t===void 0?void 0:t.close,onLegacySave:t===null||t===void 0?void 0:t.save,onLegacyDelete:t===null||t===void 0?void 0:t.deleteItem,readOnly:t===null||t===void 0?void 0:t.readOnly};r.render(i.createElement(o.LWPComponent,__assign({wrappedType:"work-item-form-dialog",dependencies:["ms.vss-work-web.work-item-dialogs"]},h)),e)}var w,p,d,g;Object.defineProperty(t,"__esModule",{value:!0});t.prefetchFormModules=t.createNewWorkItem=t.showWorkItemByIdInNewTab=t.showNewWorkItemDialog=t.showWorkItemDialogById=t.showWorkItemById=t.showWorkItem=void 0;w=null;p=u.getClient().getFeatureState("ms.vss-work-web.new-boards-hub-feature","me").then(function(n){return n.state===1});t.showWorkItem=rt;t.showWorkItemById=ut;t.showWorkItemDialogById=nt;t.showNewWorkItemDialog=tt;t.showWorkItemByIdInNewTab=ft;t.createNewWorkItem=et;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var n=this.props,i=n.workItemTypeName,r=n.onDismiss,u=n.initialValues,t=this.props.options||{};tt(i,u,null,__assign(__assign({},t),{close:function(n){t.close&&t.close(n);r()}}))},t.componentType="createNewWorkItemDialog",t}(i.Component);f.registerLWPComponent(d.componentType,d);g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var t=this.props,i=t.workItemId,r=t.onDismiss,n=this.props.options||{};nt(i,null,__assign(__assign({},n),{close:function(t){n.close&&n.close(t);r()}}),this.props.tryGetLatest)},t.componentType="WorkItemDialog",t}(i.Component);f.registerLWPComponent(g.componentType,g);t.prefetchFormModules=ot});

/*!
 * jQuery UI Droppable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/droppable",["jquery","./draggable","./mouse","./version","./widget"],e):e(jQuery)}(function(e){"use strict";return e.widget("ui.droppable",{version:"1.13.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept="function"==typeof i?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,o=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return o=!0,!1}),!o&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(s)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,s,o){if(!i.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,l=r+t.helperProportions.height,p=i.offset.left,c=i.offset.top,d=p+i.proportions().width,u=c+i.proportions().height;switch(s){case"fit":return p<=n&&a<=d&&c<=r&&l<=u;case"intersect":return p<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&c<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<u;case"pointer":return e(o.pageY,c,i.proportions().height)&&e(o.pageX,p,i.proportions().width);case"touch":return(r>=c&&r<=u||l>=c&&l<=u||r<c&&l>u)&&(n>=p&&n<=d||a>=p&&a<=d||n<p&&a>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s,o,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions().height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions({width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,n,r=e.ui.intersect(t,this,this.options.tolerance,i),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o})).length&&((s=e(n[0]).droppable("instance")).greedyChild="isover"===a)),s&&"isover"===a&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),s&&"isout"===a&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Agile/Scripts/Common/Utils",["require","exports","Agile/Scripts/Common/Agile","Agile/Scripts/Common/CustomerIntelligence","Presentation/Scripts/TFS/Components/WorkItemTypeIcon","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service","TFSUI/Common/Utils","VSS/Service","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Utils/WorkItemTeamUtil","Agile/Scripts/Resources/TFS.Resources.AgileProductBacklog","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.WebSettingsService","q","TFS/Work/Contracts","TFS/Work/RestClient","VSS/Diag","VSS/Service","VSS/Telemetry/Services","VSS/Utils/Array","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Utils/TelemetryUtils","WorkItemTracking/SharedScripts/WorkItemDialogShim","jQueryUI/droppable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){function lt(){var t=$.ui.droppable.prototype._drop,n;$.ui.droppable.prototype._drop=function(){var i=$(".ui-draggable-dragging").data("isDropCancelled"),n;return typeof i=="undefined"?t.apply(this):(n=this.options.cancelDrop,this.options.classes&&this.options.classes["ui-droppable-active"]&&this.element.removeClass(this.options.classes["ui-droppable-active"]),this.options.classes&&this.options.classes["ui-droppable-hover"]&&this.element.removeClass(this.options.classes["ui-droppable-hover"]),n)?n.apply(this.element):!1};n=$.ui.droppable.prototype._over;$.ui.droppable.prototype._over=function(){return $(".ui-draggable-dragging").removeData("isDropCancelled"),n.apply(this)};$(document).keyup(function(n){n.keyCode===ft.KeyCode.ESCAPE&&($(".ui-draggable-dragging").data("isDropCancelled",!0),$(".ui-draggable-dragging").trigger("mouseup"))})}function dt(){return!0}function gt(n,t){var i;return i=new Date(n.getTime()+n.getTimezoneOffset()*6e4),rt.localeFormat(i,t,!0)}function ni(n,t){var i=t;return ut.equals(n,"all",!0)?i="all":ut.equals(n,"mine",!0)&&(i="mine"),i}var at,vt,ct,ht,yt,pt,wt,bt,kt,ti,ii;Object.defineProperty(t,"__esModule",{value:!0});t.ServiceUtils=t.TfsContextUtils=t.directoryPivotTypeFromString=t.localeFormatUTC=t.isUseNewIdentityControlsEnabled=t.TelemetryUtils=t.BacklogLevelUtils=t.TeamSettingsUtils=t.WorkItemCategoriesUtils=t.ControlUtils=t.WorkItemUtils=t.MoveToIterationHelper=t.BoardType=t.DatabaseCoreFieldRefName=t.enableDragCancelling=void 0;t.enableDragCancelling=lt,function(n){n.AssignedTo="System.AssignedTo";n.Id="System.Id";n.IterationPath="System.IterationPath";n.AreaPath="System.AreaPath";n.State="System.State";n.Title="System.Title";n.WorkItemType="System.WorkItemType";n.Tags="System.Tags";n.CreatedDate="System.CreatedDate";n.ChangedBy="System.ChangedBy";n.Parent="System.Parent"}(at=t.DatabaseCoreFieldRefName||(t.DatabaseCoreFieldRefName={})),function(n){n.Kanban="KANBAN";n.Taskboard="TASKBOARD"}(vt=t.BoardType||(t.BoardType={}));ct=function(){function n(){}return n.prototype.canMoveToIteration=function(n,t){return t?!n||n.every(function(n){return!n})?!1:!0:!1},n.prototype.canMoveToBacklog=function(n,t,i){var r,u,e,o;if(!t||!n||n.length===0||(r=f.BacklogConfigurationService.getBacklogConfiguration().getBacklogByDisplayName(i),!r||tt.contains(f.BacklogConfigurationService.getBacklogConfiguration().hiddenBacklogs,r.id,ut.ignoreCaseComparer)))return!1;for(u=0,e=n;u<e.length;u++)if(o=e[u],!tt.contains(r.workItemTypes,o,ut.ignoreCaseComparer)&&(!ut.equals(f.BacklogConfigurationService.getBacklogConfiguration().requirementBacklog.name,i,!0)||!tt.contains(f.BacklogConfigurationService.getBacklogConfiguration().taskBacklog.workItemTypes,o,ut.ignoreCaseComparer)))return!1;return!0},n.prototype.moveToIteration=function(n,t,i){var u=this,e=Date.now(),r=null;return this._getWorkItems(n).then(function(n){return w.all(n.map(function(n){var i=function(){var i=n.getField(a.CoreField.IterationPath),u,e;return(r=i.getValue(),u=function(n){return f.BacklogConfigurationService.getBacklogConfiguration().isWorkItemTypeInRequirementBacklog(n.workItemType.name)},u(n))?ht.beginUpdateChildWorkItemsNoSave(n,!0,a.CoreField.IterationPath,t,u,ht.getShouldUpdateMethodForIterationAssignment(n,t)):(ht.setFieldValueRelative(i,t),e=i.isDirty()||ut.localeIgnoreCaseComparer(t,r)!==0,e)?w([n]):w([])};return n.project.nodesCacheManager.isNodesCacheAvailable()?i():n.project.nodesCacheManager.beginGetNodes().then(function(){return i()})}))}).then(function(f){var s=[].concat.apply([],f),o,h;return s=tt.unique(s,function(n,t){return n.id-t.id}),o=w.defer(),h=u._getWorkItemStore(),h.beginSaveWorkItemsBatch(s,function(n){o.resolve(n.workItems.map(function(n){return n.id}));var f=n.workItems?tt.unique(n.workItems.map(function(n){return n.workItemType.name}),ut.ignoreCaseComparer):[];u._logIterationAssignCIData(r,t,e,i,n.workItems.length,f)},function(t){var i=t.results.some(function(t){return t.error&&!tt.contains(n,t.workItem.id)});i?o.reject(c.MoveUserStory_TasksUpdateIterationFailed):o.reject(c.MoveUserStory_UserStoryUpdateIterationFailed)}),o.promise})},n.prototype._logIterationAssignCIData=function(n,t,u,f,e,o){var s,h=i.BacklogContext.getInstance(),c;h&&(s=h.includeParents);c={showParents:s,PreviousIteration:n,NewIteration:t,SourcePage:f,UpdatedItems:e,UpdatedTypes:o};nt.publishEvent(new nt.TelemetryEventData(r.AgileCustomerIntelligenceArea.AGILE,e>1?r.AgileCustomerIntelligenceFeature.CLIENTSIDEOPERATION_MULTISELECT_ITERATIONASSIGNMENT:r.AgileCustomerIntelligenceFeature.CLIENTSIDEOPERATION_ITERATIONASSIGNMENT,c,u))},n.prototype._getWorkItems=function(n){var t=w.defer(),i=this._getWorkItemStore();return s.WorkItemManager.get(i).beginGetWorkItems(n,function(n){t.resolve(n||[])},function(n){t.reject(n)}),t.promise},n.prototype._getWorkItemStore=function(){return y.ProjectCollection.getDefaultConnection().getService(et.WorkItemStore)},n}();t.MoveToIterationHelper=ct,function(n){function t(n,t){if(n.fieldDefinition.id===a.CoreField.AreaPath||n.fieldDefinition.id===a.CoreField.IterationPath){var r=n.workItem.project.name;n.setValue(i.ClassificationPathUtils.replaceClassificationRoot(t,r))}else n.setValue(t)}function b(n,t,i){var r=f.BacklogConfigurationService.getBacklogConfiguration().getWorkItemStateCategory(i,t);return r===f.WorkItemStateCategory.Completed?!0:!1}function k(n,t){var i=f.BacklogConfigurationService.getBacklogConfiguration().getWorkItemStatesForStateCategory(t,n);return i[0]}function g(t){for(var f=t.getLinks(),r,e,i=0,u=f.length;i<u;i+=1)if(r=f[i],typeof r.getLinkTypeEnd=="function"&&r.getLinkTypeEnd().immutableName===n.PARENT_LINK_NAME){e=r;break}return e}function c(n){return n.toUpperCase()}function nt(n,t,i){var f=y.ProjectCollection.getDefaultConnection().getService(et.WorkItemStore),r={},e=function(n){$.each(n,function(n,t){r[c(t.name)]=t});t(r)},u=function(n){typeof i=="function"&&i(n)};f.beginGetProject(v.TfsContext.getDefault().navigation.projectId,function(t){t.beginGetWorkItemTypes(n,e,u)},u)}function it(i,u,f,e,o,s,h,c,l){c===void 0&&(c=function(){return!0});r(i,n.CHILD_LINK_NAME,!0,o,function(n){var r=[],o;u&&c(i)&&(o=i.getField(f),t(o,e),r.push(i));n.forEach(function(n){var i=n.getField(f);i&&c(n)&&(t(i,e),r.push(n))});typeof l=="function"&&l(r);i.store.beginSaveWorkItemsBatch(r,s,h)},h)}function rt(i,u,f,e,o,s,h){s===void 0&&(s=function(){return!0});var c=w.defer();return r(i,n.CHILD_LINK_NAME,!0,o,function(n){var r=[],o;u&&s(i)&&(o=i.getField(f),t(o,e),r.push(i));n.forEach(function(n){var i=n.getField(f);i&&s(n)&&(t(i,e),r.push(n))});typeof h=="function"&&h(r);c.resolve(r)},function(n){c.reject(n)}),c.promise}function ft(n,t){return function(i){for(var s,e=f.BacklogConfigurationService.getBacklogConfiguration().taskBacklog.workItemTypes,r=[],u=0,o=e;u<o.length;u++)s=o[u],r=r.concat(f.BacklogConfigurationService.getBacklogConfiguration().getWorkItemStatesForStateCategory(s,f.WorkItemStateCategory.Completed));var h=i.workItemType.name.toUpperCase(),c=tt.contains(e,h,ut.ignoreCaseComparer),l=c&&!tt.contains(r,i.getState(),ut.localeIgnoreCaseComparer);return(l||i.id===n.id)&&ut.localeIgnoreCaseComparer(t,i.getFieldValue(a.CoreField.IterationPath))!==0}}function r(n,t,i,r,u,f){function c(n){var l=function(n){var t=typeof r=="function"&&r(n);t||(o.push(n),i&&c(n));e-=1;e===0&&u(o)};e++;n.getLinks().filter(function(n){return n instanceof et.WorkItemLink}).forEach(function(n){n.getLinkTypeEnd().immutableName===t&&(e+=1,s.WorkItemManager.get(h).beginGetWorkItem(n.getTargetId(),l,f))});e--;e===0&&u(o)}var h=n.store,o=[],e=0;h.beginGetLinkTypes(function(){c(n)},f)}function p(t,i,r){return new Promise(function(f,o){var k=y.ProjectCollection.getDefaultConnection().getService(et.WorkItemStore),b=s.WorkItemManager.get(k),c,l=0,p=!0,v=null,w;r&&(r.parenting&&(l=r.parenting.id,v=r.parenting.fields),r.useDefaultIteration!==null&&r.useDefaultIteration!==undefined&&(p=r.useDefaultIteration));w=function(i){var s,r,y;if(!c){c=i;l||(r=c,h.beginTrySetWorkItemTeamDefaults(t,r,p).then(function(){return f(r)},o));return}if(c.id===l?(s=c,r=i):(s=i,r=c),l){if(r.addLinks([et.WorkItemLink.create(r,n.PARENT_LINK_NAME,s.id,"",!0)]),y=r.project.id!==s.project.id,y){h.beginTrySetWorkItemTeamDefaults(t,r,p).then(function(){var n=e(t),i=v?v.filter(function(t){var i=s.getField(t);return!(i.fieldDefinition.id===a.CoreField.AreaId||i.fieldDefinition.id===a.CoreField.IterationId||i.fieldDefinition.referenceName===n)}):[];u(s,r,i);f(r)},o);return}u(s,r,v)}f(r)};l&&b.beginGetWorkItem(l,w,function(n){o(n)},!1,null,!0);w(b.createWorkItem(i))})}function ot(n){return new Promise(function(t,i){var r=y.ProjectCollection.getDefaultConnection().getService(et.WorkItemStore);r.beginGetProject(v.TfsContext.getDefault().navigation.projectId,function(r){r.beginGetWorkItemType(n,function(n){t(n)},function(n){i(n)})},function(n){i(n)})})}function ht(n){var t=y.ProjectCollection.getDefaultConnection().getService(i.AgileContext).getContext();t&&t.iteration&&n.setFieldValue(a.CoreField.IterationPath,t.iteration.path)}function ct(t,i,r,u,f,e,o){n.beginGetWorkItemType(i).then(function(n){p(t,n,r).then(function(n){typeof e=="function"&&e(n);n.resetManualFieldChanges();st.showWorkItem(n,{save:u,close:o})},function(n){f(n)})},function(n){f(n)})}function u(n,t,i){for(var r,f,u=0;u<i.length;u+=1)r=t.getField(i[u]),r&&(f=n.getFieldValue(r.fieldDefinition.id),r.setValue(f))}function lt(n,t){var i,r=n.getField(t);return r&&(i=r.getValue()),i}function at(t,i){var r=!1,u=n.getWorkItemParentLink(t);if(u){if(u.linkData.ID===i)return!1;t.removeLinks([u]);r=!0}return i>0&&(t.addLinks([et.WorkItemLink.create(t,n.PARENT_LINK_NAME,i,"")]),r=!0),r}function vt(t,i){var r=w.defer(),u=s.WorkItemManager.get(y.ProjectCollection.getDefaultConnection().getService(et.WorkItemStore));return u.beginGetWorkItems(t,function(t){for(var f=0,e=t.length;f<e;f++)n.reparentWorkItem(t[f],i);u.store.beginSaveWorkItemsBatch(t,function(n){r.resolve(n.workItems.map(function(n){return n.id}))},function(n){r.reject(n)})},function(n){r.reject(n)}),r.promise}function yt(n){return[a.CoreFieldRefNames.IterationId,a.CoreFieldRefNames.AreaId,e(n)]}function e(n){var t=o.getService(l.TeamAwarenessService);return t.getTeamSettings(n).teamFieldName}n.CHILD_LINK_NAME="System.LinkTypes.Hierarchy-Forward";n.PARENT_LINK_NAME="System.LinkTypes.Hierarchy-Reverse";n.PARENT_LINKTYPE_ID=-2;n.CHILD_LINKTYPE_ID=2;n.setFieldValueRelative=t;n.isStateComplete=b;n.getStateValueForMetaState=k;n.getWorkItemParentLink=g;n.getKeyFromWorkItemTypeName=c;n.beginGetWorkItemTypeMap=nt;n.beginUpdateChildWorkItems=it;n.beginUpdateChildWorkItemsNoSave=rt;n.getShouldUpdateMethodForIterationAssignment=ft;n.beginGetLinkedWorkItems=r;n.beginCreateWorkItem=p;n.beginGetWorkItemType=ot;n.setWorkItemIterationUsingAgileContext=ht;n.beginCreateWorkItemWithForm=ct;n.copyWorkItemFields=u;n.getFieldValueByName=lt;n.reparentWorkItem=at;n.beginReparentWorkItems=vt;n.getParentOptionFields=yt;n.getTeamFieldRefName=e}(ht=t.WorkItemUtils||(t.WorkItemUtils={})),function(n){function f(n){n.keypress(function(n){return n.keyCode>=48&&n.keyCode<=57?!0:!1});n.on("paste",function(){var n=this.value;it.delay(this,0,function(){/^[0-9]+$/m.test(this.value)||(this.value=n)})})}function e(n,t){var u=$("<div/>").addClass("combo"),r=$("<div/>").addClass("wrap"),i=$("<input />").attr("type","text").css("width","100%");return t.id&&i.attr("id",t.id),t.disabled&&i.prop("disabled",!!t.disabled),t.className&&i.addClass(t.className),r.append(i),t.label&&r.append($("<label/>").text(t.label).addClass("hidden").attr("For",t.id)),u.append(r),n.append(u),i}function o(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=$(window).height()&&t.right<=$(window).width()}function s(){var n,t,i,r=200;return n=$("<div/>").css({position:"absolute",left:-2e3,top:-2e3,width:r,overflow:"scroll"}).appendTo("body"),t=$("<div/>").css({width:"100%"}).appendTo(n),i=t.outerWidth(),n.remove(),r-i}function t(n){return ut.startsWith(n,"WEF",ut.ignoreCaseComparer)&&ut.endsWith(n,"Kanban.Column.Done",ut.ignoreCaseComparer)}function i(n){return ut.startsWith(n,"WEF",ut.ignoreCaseComparer)&&ut.endsWith(n,"Kanban.Column",ut.ignoreCaseComparer)}function r(n){return ut.startsWith(n,"WEF",ut.ignoreCaseComparer)&&ut.endsWith(n,"Kanban.Lane",ut.ignoreCaseComparer)}function h(n){var u;return i(n)?u=a.CoreFieldRefNames.BoardColumn:r(n)?u=a.CoreFieldRefNames.BoardLane:t(n)&&(u=a.CoreFieldRefNames.BoardColumnDone),u}function c(n,t){var i=$("<div/>"),r=v.TfsContext.getDefault().navigation.project;return u.renderWorkItemTypeIcon(i[0],n,r,{ariaAttributes:t,suppressTooltip:!0}),$(i[0].firstChild)}function l(n){n&&n.parentElement&&u.unmountWorkItemTypeIcon(n.parentElement)}function y(n,t){var i=$("<div/>").css("display","none").addClass(n),r;return $("body").append(i),r=i.css(t),i.remove(),r}n.restrictTextInputToIntegers=f;n.createTextbox=e;n.isElementInView=o;n.widthOfScrollBar=s;n.checkIfFieldReferenceNameIsForDoingDone=t;n.checkIfFieldReferenceNameIsForColumn=i;n.checkIfFieldReferenceNameIsForSwimlane=r;n.getParentFieldReferenceName=h;n.buildColorElement=c;n.disposeColorElement=l;n.getCSSPropertyValue=y}(yt=t.ControlUtils||(t.ControlUtils={})),function(n){function t(n){var t=w.defer(),i=y.ProjectCollection.getDefaultConnection().getService(et.WorkItemStore);return i.beginGetProject(v.TfsContext.getDefault().navigation.projectId,function(i){i.beginGetVisibleWorkItemTypeNames(function(i){var r=n.filter(function(n){return tt.contains(i,n,ut.localeIgnoreCaseComparer)});t.resolve(r)},function(){t.resolve(n)})},function(){t.resolve(n)}),t.promise}n.removeHiddenWorkItemTypeNames=t}(pt=t.WorkItemCategoriesUtils||(t.WorkItemCategoriesUtils={})),function(n){function i(n){var t=function(n){};try{var u=new g.VssConnection(n.contextData),i=u.getHttpClient(k.WorkHttpClient),r={projectId:n.contextData.project.id,teamId:n.currentTeam.identity.id,project:undefined,team:undefined};i.getTeamSettings(r).then(function(n){var u={backlogVisibilities:n.backlogVisibilities};i.updateTeamSettings(u,r).then(function(){},function(n){t(n)})},function(n){t(n)})}catch(f){t(f)}}function r(n){var r=[],u=y.ProjectCollection.getConnection(n).getService(l.TeamAwarenessService),i=u.getTeamSettings(n.currentTeam.identity.id);return i.previousIterations&&i.previousIterations.length>0&&(r=r.concat(t(i.previousIterations,b.TimeFrame.Past))),i.currentIteration&&(r=r.concat(t([i.currentIteration],b.TimeFrame.Current))),i.futureIterations&&i.futureIterations.length>0&&(r=r.concat(t(i.futureIterations,b.TimeFrame.Future))),r}function t(n,t){var i=[];return n.forEach(function(n){var r={attributes:{startDate:new Date(n.startDate),finishDate:new Date(n.finishDate),timeFrame:t},id:n.id,name:n.name,path:n.path,_links:null,url:null};i.push(r)}),i}function u(n){var i=y.ProjectCollection.getConnection(n).getService(l.TeamAwarenessService),t=i.getTeamSettings(n.currentTeam.identity.id);return t.weekends?t.weekends.days:[]}n.tryRefreshTeamBacklogVisibilities=i;n.getTeamIterations=r;n.getTeamWeekends=u}(wt=t.TeamSettingsUtils||(t.TeamSettingsUtils={})),function(n){function i(n){var i=f.BacklogConfigurationService.getBacklogConfiguration().getBacklogByDisplayName(n);return i?t(i.rank):null}function r(n){var i=f.BacklogConfigurationService.getBacklogConfiguration().getBacklogByWorkItemTypeName(n);return i?t(i.rank):null}function t(n){var i=f.BacklogConfigurationService.getBacklogConfiguration().getAllBacklogLevels(),t,r,u;if(!i||!i.length)return null;for(t=0,r=i;t<r.length;t++)if(u=r[t],u.rank<n)return u;return null}n.getDescendentBacklogLevelConfigurationForLevelName=i;n.getDescendentBacklogLevelConfigurationForWorkItemType=r}(bt=t.BacklogLevelUtils||(t.BacklogLevelUtils={})),function(n){function t(n){window.performance&&window.performance.timing&&nt.publishEvent(new nt.TelemetryEventData(r.AgileCustomerIntelligenceArea.AGILE,n+".Index",{},window.performance.timing.navigationStart))}function i(n,t){ot.TelemetryUtils.recordBoardFieldsUsageChange(r.AgileCustomerIntelligenceArea.AGILE,n,u(t))}function u(n){var t=new ot.TelemetryUtils.BoardFieldUsageData;return n.forEach(function(n){switch(n.id){case a.CoreField.BoardColumn:t.column=!0;break;case a.CoreField.BoardColumnDone:t.done=!0;break;case a.CoreField.BoardLane:t.lane=!0}}),t}function f(n,t,i){nt.publishEvent(new nt.TelemetryEventData(r.AgileCustomerIntelligenceArea.AGILE,"AnnotationSettingChanges",__assign(__assign({},t),{boardId:i,annotationRules:n})))}n.recordPageLoad=t;n.recordBoardFieldsUsageChange=i;n.recordAnnotationSettingChanges=f}(kt=t.TelemetryUtils||(t.TelemetryUtils={}));t.isUseNewIdentityControlsEnabled=dt;t.localeFormatUTC=gt;t.directoryPivotTypeFromString=ni,function(n){function t(){return v.TfsContext.getDefault().contextData.project.id}n.getProjectId=t}(ti=t.TfsContextUtils||(t.TfsContextUtils={})),function(n){function t(){var n=null,i=v.TfsContext.getDefault(),t;try{t=y.ProjectCollection.getConnection(i);n=t.getService(p.WebSettingsService)}catch(r){e.ErrorUtils.PublishError(r,!1,"ServiceUtils","ServiceUtils.getWebSettingsSvc")}return n}n.getWebSettingsSvc=t}(ii=t.ServiceUtils||(t.ServiceUtils={}))});

define("Agile/Scripts/Card/Cards",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Diag","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Core.Utils","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WorkItemManager","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","VSS/LoaderPlugins/Css!Cards"],function(n,t,i,r,u,f,e,o,s,h,c,l){var nt,a,v,w,b,y,p,k,tt,it,d,g;Object.defineProperty(t,"__esModule",{value:!0});t.WitCardField=t.WitCardFieldDefinition=t.CardFieldDisplayType=t.CardFieldDisplayFormats=t.CardSettingsProvider=t.CardSettings=t.CardField=t.BoardCardSettings=t.FieldSetting=t.CardFieldDefinition=t.CardFieldType=t.Notifications=void 0,function(n){n.CardWorkItemListBeginEdit="VSS.Agile.Boards.CardWorkItemListBeginEdit";n.CardWorkItemListEndEdit="VSS.Agile.Boards.CardWorkItemListEndEdit";n.CardWorkItemListAddChild="VSS.Agile.Boards.CardWorkItemListAddChild"}(nt=t.Notifications||(t.Notifications={})),function(n){n[n.String=1]="String";n[n.Integer=2]="Integer";n[n.DateTime=3]="DateTime";n[n.PlainText=5]="PlainText";n[n.Html=7]="Html";n[n.TreePath=8]="TreePath";n[n.Double=10]="Double";n[n.Guid=11]="Guid";n[n.Boolean=12]="Boolean";n[n.Identity=13]="Identity"}(a=t.CardFieldType||(t.CardFieldType={}));v=function(){function n(n,t,i,r){this._refName=n;this._displayName=t;this._type=i;this._isEditable=r}return n.prototype.displayName=function(){return this._displayName},n.prototype.referenceName=function(){return this._refName},n.prototype.type=function(){return this._type},n.prototype.isIdentity=function(){return this._type===a.Identity},n.prototype.isEditable=function(){return this._isEditable},n.prototype.isValid=function(){return!1},n.prototype.convertToExternal=function(){return null},n.prototype.convertToInternal=function(){return null},n}();t.CardFieldDefinition=v;w=function(){function n(){}return n}();t.FieldSetting=w;b=function(){function n(){this.cards={}}return n.prototype.addVal=function(n,t){this.cards[n]=t},n}();t.BoardCardSettings=b;y=function(){function n(){}return n.prototype.referenceName=function(){return null},n.prototype.itemId=function(){return null},n.prototype.definition=function(){return null},n.prototype.fieldSetting=function(){return null},n.prototype.getAllowedValues=function(){return null},n.prototype.setAdditionalValues=function(){return null},n.prototype.getAdditionalValues=function(){return null},n.prototype.hasAllowedValues=function(){return!1},n.prototype.isEditable=function(){return!1},n.prototype.isRequired=function(){return!1},n.prototype.isLimitedToAllowedValues=function(){return!1},n.prototype.getFilterByScope=function(){return null},n.prototype.value=function(){return null},n}();t.CardField=y;p=function(){function n(n){this.fields=n}return n.prototype.containsField=function(n){return this.getField(n)!==null},n.prototype.getField=function(n){var t=this.fields.filter(function(t){return r.ignoreCaseComparer(t.fieldIdentifier,n)===0});return t.length>0?t[0]:null},n.prototype.isShowEmptyFieldsEnabled=function(){for(var t=this.fields.length-1;t>=0;t--)if(this.fields[t].hasOwnProperty(n.SHOW_EMPTY_FIELDS))return o.BoolUtils.parse(this.fields[t][n.SHOW_EMPTY_FIELDS]);return!1},n.FIELD_IDENTIFIER="fieldIdentifier",n.DISPLAY_FORMAT="displayFormat",n.SHOW_EMPTY_FIELDS="showEmptyFields",n.FIELD_DISPLAY_TYPE="displayType",n}();t.CardSettings=p;k=function(){function n(n){this._originalCardSettings=JSON.parse(JSON.stringify(n));this._boardCardSettings=n;this._itemTypeToCardSettingsMap={}}return n.prototype.getCardSettingsForItemType=function(n){if(!this._itemTypeToCardSettingsMap[n]){var t=this._boardCardSettings.cards[n];(!t||t.length<1)&&(t=[{fieldIdentifier:c.CoreFieldRefNames.Title},{fieldIdentifier:c.CoreFieldRefNames.AssignedTo}]);this._itemTypeToCardSettingsMap[n]=new p(t)}return this._itemTypeToCardSettingsMap[n]},n.prototype.getCardSettings=function(){return this._boardCardSettings},n.prototype.setCardSettings=function(n){this._originalCardSettings=JSON.parse(JSON.stringify(n));this._boardCardSettings=n},n.prototype.areCardSettingsEqual=function(n){return i.equals(this._originalCardSettings,n)},n.prototype.dispose=function(){this._itemTypeToCardSettingsMap=null;this._boardCardSettings=null;this._originalCardSettings=null},n}();t.CardSettingsProvider=k,function(n){var t;(function(n){n[n.AvatarOnly=0]="AvatarOnly";n[n.FullName=1]="FullName";n[n.AvatarAndFullName=2]="AvatarAndFullName"})(t=n.AssignedToFieldFormats||(n.AssignedToFieldFormats={}))}(tt=t.CardFieldDisplayFormats||(t.CardFieldDisplayFormats={})),function(n){n[n.CORE=0]="CORE";n[n.ADDITIONAL=1]="ADDITIONAL";n[n.COREANDADDITIONAL=2]="COREANDADDITIONAL"}(it=t.CardFieldDisplayType||(t.CardFieldDisplayType={}));d=function(n){function t(t,i,r,u,f){var e=n.call(this,t,i,f?a.Identity:r,u)||this;return(u===undefined||r===undefined||i===undefined)&&e._initialize(),e}return __extends(t,n),t.prototype._initialize=function(){var n=this;this._witStore=e.ProjectCollection.getDefaultConnection().getService(s.WorkItemStore);this._witStore&&this._witStore.beginGetFields().then(function(){n._witFieldDef=n._witStore.getFieldDefinition(n._refName);!n._displayName&&n._witFieldDef&&(n._displayName=n._witFieldDef.name);!n._type&&n._witFieldDef&&(n._type=n._witFieldDef.type)})},t.prototype.displayName=function(){return this._displayName},t.prototype.referenceName=function(){return this._refName},t.prototype.type=function(){return this._type},t.prototype.isEditable=function(){return this._witFieldDef&&(this._isEditable=this._witFieldDef.isEditable()),this._isEditable},t.prototype.isValid=function(n){var t=this.type()===a.Identity?a.String:this.type();return!s.Field.convertValueToInternal(this._witStore,n,t).status},t.prototype.convertToExternal=function(n){var r="",t;switch(this.type()){case a.Identity:n=n?n:l.AssignedToEmptyText;r=i.convertValueToDisplayString(n);break;case a.DateTime:t=null;n instanceof Date?t=n:(typeof n=="number"||typeof n=="string")&&(t=new Date(n));t!=null&&(r=u.localeFormat(t,"d"));break;default:r=i.convertValueToDisplayString(n)}return r},t.prototype.convertToInternal=function(n){switch(this.type()){case a.Identity:r.localeIgnoreCaseComparer(n,l.AssignedToEmptyText)||(n="")}return n},t}(v);t.WitCardFieldDefinition=d;g=function(n){function t(t,i,r){var u=this,e;u=__construct(this,n,[]);for(e in u)u.hasOwnProperty(e)&&(this[e]=u[e]);return u._id=t,u._cardFieldDef=i,u._cardFieldSetting=r,u}return __extends(t,n),t.prototype.referenceName=function(){return this._cardFieldDef.referenceName()},t.prototype.itemId=function(){return this._id},t.prototype.definition=function(){return this._cardFieldDef},t.prototype.fieldSetting=function(){return this._cardFieldSetting},t.prototype.isEditable=function(){var n=this._getWitField();return n?n.isEditable():this._cardFieldDef.isEditable()},t.prototype.isRequired=function(){var n=!0,t=this._getWitField();if(t)n=t.isRequired();else switch(this.referenceName()){case c.CoreFieldRefNames.Title:case c.CoreFieldRefNames.AssignedTo:case c.CoreFieldRefNames.State:case c.CoreFieldRefNames.AreaPath:case c.CoreFieldRefNames.IterationPath:n=!0}return n},t.prototype.getAllowedValues=function(){var n=this._getWitField();return n?n.getAllowedValues():[]},t.prototype.hasAllowedValues=function(){var n=!1,t=this._getWitField();if(t)n=t.hasList();else switch(this.referenceName()){case c.CoreFieldRefNames.AssignedTo:case c.CoreFieldRefNames.State:case c.CoreFieldRefNames.AreaPath:case c.CoreFieldRefNames.IterationPath:n=!0}return n},t.prototype.isLimitedToAllowedValues=function(){var n=this._getWitField();return n?n.isLimitedToAllowedValues():!1},t.prototype.value=function(n){var t=this._getWitField();return t&&(n===undefined?n=t.getValue():t.setValue(n)),n},t.prototype.setAdditionalValues=function(n){this._additionalFieldValues=n},t.prototype.getAdditionalValues=function(){return this._additionalFieldValues},t.prototype.getFilterByScope=function(){var n=this._getWitField();return n&&n.filterByScope},t.prototype._getWitField=function(){if(!this._witField){var t=h.WorkItemManager.get(e.ProjectCollection.getDefaultConnection().getService(s.WorkItemStore)),n=t.getWorkItem(this._id);n&&(this._witField=n.getField(this._cardFieldDef.referenceName()))}return this._witField},t}(y);t.WitCardField=g});

define("Presentation/Scripts/TFS/TFS.NotificationEventNames",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.EventNames=void 0;var i;(function(n){n.NotificationDismissed="notification-dismissed";n.ClientNotificationDismissed="local-notification-dismissed"})(i=t.EventNames||(t.EventNames={}))});

define("VSS/Controls/Panels",["require","exports","VSS/Ajax","VSS/Controls","VSS/Diag","VSS/Resources/VSS.Resources.Platform","VSS/Controls/StatusIndicator","VSS/Utils/Core","VSS/Utils/UI","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h){var a,v;Object.defineProperty(t,"__esModule",{value:!0});t.AjaxPanel=t.AjaxPanelO=t.CollapsiblePanel=void 0;var c=s.domElem,y=h.getErrorMessage,l=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({collapsed:!0,iconCss:"icon",iconCollapseCss:"bowtie-icon bowtie-toggle-tree-collapsed",iconExpandCss:"bowtie-icon bowtie-toggle-tree-expanded"},t))},t.prototype._swapDefaultToggleIconForCustom=function(n){this._$toggleIcon.remove();this._$toggleIcon=n;this._header.addClass(t._defaultToggleIconOverrideClass)},t.prototype._createControl=function(){var t=this,n=this._options;if(this._isDisabled=!1,n.hoverCss)this.getElement().on("mouseenter",function(){$(this).addClass(n.hoverCss)}).on("mouseleave",function(){$(this).removeClass(n.hoverCss)});this._header=$(c("div","tfs-collapsible-header"));this._options.headerNotFocusable?this._header.attr("role","presentation"):this._header.attr({tabIndex:"0",role:"button","aria-expanded":String(this.isExpanded())});n.headerCss&&this._header.addClass(n.headerCss);this._header.on("click.CollapsiblePanel",function(){return t.toggleExpandedState()});this._header.on("keydown",function(n){if(n.target===n.currentTarget&&(n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE)&&!s.KeyUtils.isModifierKey(n))return t.toggleExpandedState()});this._header.on("mouseenter focus",function(n){return n.preventDefault(),t._header.addClass("focus"),!1});this._header.on("mouseleave blur",function(n){return n.preventDefault(),t._header.removeClass("focus"),!1});return this._$toggleIcon=$(c("span","tfs-collapsible-collapse")).attr("aria-hidden","true").addClass(n.iconCss).addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),n.collapseCss&&this._$toggleIcon.addClass(n.collapseCss),this._header.append(this._$toggleIcon),this.getElement().append(this._header),this._content=$(c("div","tfs-collapsible-content")),n.contentCss&&this._content.addClass(n.contentCss),n.collapsed&&this._content.hide(),this.getElement().append(this._content),this.getElement()},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._createControl()},t.prototype._enhance=function(n){if(this._options.collapsed=n.hasClass("collapsed"),this._createElement(),this._createControl(),n.after(this.getElement()),this.appendContent(n),this._options.headerText)this.appendHeaderText(this._options.headerText);else if(this._options.headerContent)this.appendHeader(this._options.headerContent),this._options.customToggleIcon&&this._swapDefaultToggleIconForCustom(this._options.customToggleIcon);else{var t=n.attr("title");t&&(n.hasClass("header")&&(n.removeClass("header"),this._header.addClass("header")),this.appendHeader(t))}},t.prototype.replaceHeaderTextIfPresent=function(n){return $("span.tfs-collapsible-text",this._header).text(n)},t.prototype.appendHeaderText=function(n){this._header.attr("title",n);var t=$("<span/>").text(n).addClass("tfs-collapsible-text");return(this._options.headingLevel===undefined||this._options.headingLevel>0)&&t.attr({role:"heading","aria-level":this._options.headingLevel?String(this._options.headingLevel):"2"}),this.appendHeader(t)},t.prototype.appendHeader=function(n){return this._header.append(n),this},t.prototype.prependHeader=function(n){return this._header.prepend(n),this},t.prototype.appendContent=function(n){var i=this._options,t;return typeof n=="function"?i.collapsed?(this._dynamicContents||(this._dynamicContents=[]),this._dynamicContents.push(n)):t=n.call(this):t=n,t&&typeof t!="function"&&(this._content.append(t),this.getElement().removeClass("collapsed")),this},t.prototype.isExpanded=function(){return this._options.collapsed?!1:!0},t.prototype.expand=function(){this.isExpanded()||this.toggleExpandedState()},t.prototype.collapse=function(){this.isExpanded()&&this.toggleExpandedState()},t.prototype.toggleExpandedState=function(){var n=this._options,r=this._content,o=this._dynamicContents,u,i,f,e;if(this._isDisabled)return!1;if(n.collapsed=!n.collapsed,u=this._$toggleIcon,u.removeClass(n.iconCollapseCss+" "+n.iconExpandCss),u.addClass(n.collapsed?n.iconCollapseCss:n.iconExpandCss),this._options.headerNotFocusable||this._header.attr("aria-expanded",String(!n.collapsed)),n.collapsed)r.hide(),n.expandCss&&this.getElement().removeClass(n.expandCss),this._fire(t.EVENT_CONTENT_COLLAPSED);else{if(o){for(i=0,f=o;i<f.length;i++)e=f[i],typeof e=="function"&&r.append(e.apply(undefined));this._dynamicContents=null}r.show();n.expandCss&&this.getElement().addClass(n.expandCss);this._fire(t.EVENT_CONTENT_EXPANDED)}if(this._options.onToggleCallback&&typeof this._options.onToggleCallback=="function")this._options.onToggleCallback(this.isExpanded());return!1},t.prototype.setDisabled=function(n){this._isDisabled!==n&&(n?(this._header.addClass("disabled"),this._$toggleIcon.hide(),this._header.removeAttr("tabindex")):(this._header.removeClass("disabled"),this._$toggleIcon.show(),this._header.attr("tabindex","0")),this._isDisabled=n)},t.prototype.isCollapsiblePanelDisabled=function(){return this._isDisabled},t.EVENT_CONTENT_EXPANDED="collapsible-panel-expanded",t.EVENT_CONTENT_COLLAPSED="collapsible-panel-collapsed",t.enhancementTypeName="tfs.collapsiblepanel",t._defaultToggleIconOverrideClass="custom-toggle-icon",t}(r.Control);t.CollapsiblePanel=l;r.Enhancement.registerJQueryWidget(l,"collapsible");r.Enhancement.registerEnhancement(l,".tfs-collapsible");a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"ajax-panel",replaceContent:!0,cache:!0},t))},t.prototype.initialize=function(){var t=this._options.url;n.prototype.initialize.call(this);t&&this.beginLoad(t,this._options.urlParams,this._options.success,this._options.error)},t.prototype._dispose=function(){this._cancelPendingLoad();n.prototype._dispose.call(this)},t.prototype.beginLoad=function(n,t,s,h){var l=this,c,a;u.logTracePoint("AjaxPanel.beginLoad.start");this._cancelPendingLoad();c=new o.Cancelable(this);this._cancelable=c;this.getElement().empty();this._options.showStatusIndicator!==!1&&(a=r.BaseControl.createIn(e.StatusIndicator,this.getElement(),{center:!0,imageClass:"big-status-progress",message:f.Loading}),a.start());this._element.attr("aria-busy","true");i.issueRequest(n,{type:"GET",data:t,dataType:"html",traditional:!0,cache:this._options.cache}).then(c.wrap(function(n){l.onLoadCompleted(n);typeof s=="function"&&s.call(self,n)}),c.wrap(function(n){var t;typeof h=="function"&&(t=h.call(self,n)===!0);l.onLoadError(n,t)}))},t.prototype.onLoadCompleted=function(n){this.getElement()&&this._options.replaceContent&&(this.getElement().empty(),this.getElement().html(n),r.Enhancement.ensureEnhancements(this.getElement()));this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.onLoadError=function(n,t){t||this.showError(n);this._element.removeAttr("aria-busy");u.logTracePoint("AjaxPanel.beginLoad.complete")},t.prototype.showError=function(n){this.getElement().empty();$(c("div","error")).appendTo(this.getElement()).text(y(n))},t.prototype._cancelPendingLoad=function(){this._cancelable&&(this._cancelable.cancel(),this._cancelable=null)},t.enhancementTypeName="tfs.ajaxPanel",t}(r.Control);t.AjaxPanelO=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(a);t.AjaxPanel=v});

define("VSS/Controls/Dialogs",["require","exports","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Navigation/HubsService","VSS/Controls/Panels","VSS/Controls/PopupContent","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Accessibility","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","q","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabbable","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function rt(n,t){t&&a.BrowserCheckUtils.isEdge()&&$.each(t,function(t,i){var r=i.click;r&&(i.click=function(t){t&&!$(t.currentTarget).is(":disabled")&&r.apply(n[0],arguments)})})}function ut(n,t){var r=t||"",i;return i=typeof n=="string"?n.split(" "):n,r.split(" ").concat(i).filter(function(n,t,i){return i.indexOf(n)===t}).join(" ")}function st(n,t){return w.show(n,t)}function ht(n,t){return b.showMessageDialog(n,t)}function ct(n,t){return ht(n,{title:t||s.UnsavedChangesMessageTitle,noDefaultButton:!0,buttons:[{id:"leave",text:s.UnsavedChangesLeaveButton,reject:!1},{id:"stay",text:s.UnsavedChangesStayButton,reject:!0},]})}var p,it,k,w,d,g,nt,ft,et,tt,b,ot;Object.defineProperty(t,"__esModule",{value:!0});t.showConfirmNavigationDialog=t.showMessageDialog=t.show=t.CopyContentDialog=t.MessageDialog=t.MessageDialogO=t.ConfirmationDialog=t.ConfirmationDialogO=t.ModalDialog=t.ModalDialogO=t.Dialog=t.DialogO=t.preventClickingDisabledButtons=void 0;p=c.delegate;it=a.domElem,function(){var n=[".ms-Layer",".bolt-portal"];$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(t){var i,r,u;if(this._super(t)||a.BrowserCheckUtils.isFirefox()&&t.type==="focusin"&&t.target==document)return!0;for(i=0,r=n;i<r.length;i++)if(u=r[i],$(t.target).closest(u).length)return!0}})}();t.preventClickingDisabledButtons=rt;k=function(n){function t(t){var i=n.call(this,t)||this;return i._closedByNavigation=!1,i._resizing=!1,i._onWindowResizeDelegate=p(i,i._onWindowResize),i}return __extends(t,n),t.beginExecuteDialogAction=function(n){w._dialogActionInProgress||(w._dialogActionInProgress=!0,n(function(){w._dialogActionInProgress=!1}))},t.create=function(n,t){var o=t&&t.content||$("<div />"),r,u,f,e;return t&&t.contentText&&o.text(t.contentText),r=i.Enhancement.enhance(n,o,t),u=this._getNextDialogZIndex(),r._element.parent().css("z-index",u),r._options.modal&&(f=r._element.parent().next("div.ui-widget-overlay").css("z-index",u-1),(a.BrowserCheckUtils.isIE()||a.BrowserCheckUtils.isEdge())&&(e=f.clone().insertAfter(f),f.css("width","50%"),e.css({"z-index":u-1,width:"50%",left:"50%"}),r._secondOverlay=e)),r._element.parent().children("div.ui-icon-gripsmall-diagonal-se").addClass("ui-icon-grip-diagonal-se"),r},t._getNextDialogZIndex=function(){var n,i,t=0;return $("div.ui-dialog").each(function(){n=Number($(this).css("z-index"));!isNaN(n)&&n>t&&(t=n)}),$("div.ms-Modal").closest("div.ms-Layer").each(function(){n=Number($(this).css("z-index"));!isNaN(n)&&n>t&&(t=n)}),$("div.bolt-portal-host").each(function(n,i){(i.querySelector("div.work-item-form-dialog")||i.querySelector("div.run-with-options-dialog-callout-element"))&&(t=1e6)}),t<10001?i=10002:(i=t+2,i%2!=0&&i++),i},t.show=function(n,t){return this.create(n,$.extend({autoOpen:!0},t))},t.prototype.initializeOptions=function(t){var i,r,u,f;this._options=this._options||{};n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog",widthPct:.8,heightPct:.8,modal:!0,draggable:!0,resizable:!0,autoOpen:!1,dynamicSize:!0,disposeOnClose:!0,closeText:s.CloseButtonLabelText},t));i=this._options;r=$(window);i.height==="auto"&&(i.height=null);i.minWidth=Math.max(240,parseInt(i.minWidth,10)||0);i.minHeight=Math.max(192,parseInt(i.minHeight,10)||0);this._specifiedMaxWidth=parseInt(i.maxWidth,10);this._specifiedMaxHeight=parseInt(i.maxHeight,10);this._setMaxSize();this._ensureCtaButton();i.dynamicSize?(i.width=r.width()*i.widthPct,i.height=r.height()*i.heightPct):!i.useLegacyStyle&&i.height&&(u=66,i.subtitle&&(u+=22),f=typeof i.height=="number"?i.height:parseInt(i.height,10),f+=u,i.height=f);i.height&&!isNaN(i.height)&&(i.height=Math.min(i.height,r.height()));i.width&&!isNaN(i.width)&&(i.width=Math.min(i.width,r.width()));i.hideCloseButton&&(i.dialogClass=ut("no-close",i.dialogClass));this._options.useLegacyStyle&&(i.dialogClass=ut("ui-dialog-legacy",i.dialogClass))},t.prototype.initialize=function(){var t=this,s,l,c,h;n.prototype.initialize.call(this);var e=this,v=$(window),i=$.extend({},this._options);i.dialogClass&&(i.classes={"ui-dialog":i.dialogClass},delete i.dialogClass);i.title=this.getTitle();i.close=function(n){t._options.close&&t._options.close(__assign(__assign({},n),{closedByNavigation:t._closedByNavigation}));t._removeSecondOverlay();t.onClose(n)};i.beforeClose=function(n){if(t._options.beforeClose)return t._options.beforeClose(__assign(__assign({},n),{closedByNavigation:t._closedByNavigation}))};i.open=function(n){e._options.open&&e._options.open.call(this,n);e.onOpen(n)};this._bind("dialogdragstart dialogdragstop",function(){u.getService().fire("dialog-move",t);t._onDialogMove()});this._options.attachResize&&this._bind("dialogresizestop",this.onDialogResize.bind(this));this._options.resizable&&(this._bind("dialogresize",this._onDialogResizing.bind(this)),this._bind("dialogresizestart",this._onDialogResizeStart.bind(this)),this._bind("dialogresizestop",this._onDialogResizeStop.bind(this)));i.dynamicSize&&(u.getService().attachEvent("window-resize",this._onWindowResizeDelegate),this._bind("dialogclose",function(){var n=u.getService();n.fire("dialog-close",e);n.detachEvent("window-resize",e._onWindowResizeDelegate)}));i.url||r.logTracePoint("Dialog.initialize.complete");rt(this.getElement(),i.buttons);this._options.contentMargin===!1&&this.getElement().addClass("no-margin");this.getElement().dialog(i);this._options.useLegacyStyle||(s=this.getElement().parent(),l=s.find(".ui-dialog-titlebar"),l.addClass("bowtie").append($("<div />").addClass("ui-dialog-subtitle")),c=$("span.ui-dialog-title",l),c.attr({role:"heading","aria-level":1}),a.tooltipIfOverflow(c[0],{titleTarget:c[0],titleText:this.getTitle()}),s.find(".ui-dialog-buttonpane").addClass("bowtie"),h=s.find("button.ui-dialog-titlebar-close"),this._closeTooltip=o.RichContentTooltip.add(this._options.closeText,h),h.removeAttr("title"),h.attr("aria-label",this._options.closeText),h.find(".ui-button-icon").addClass("bowtie-icon bowtie-navigate-close"),(this._options.useBowtieStyle||this._options.bowtieVersion>0)&&s.addClass("bowtie-style"));this.setSubtitle(this.getSubtitle());this.getElement().keydown(function(n){var i,r,t;if(n.keyCode===$.ui.keyCode.ENTER){if(t=$(n.target),t.attr("role")==="combobox"||t.attr("role")==="radio")return!0;if((!n.shiftKey&&t.is("input[type='text']")||t.is("textarea")&&n.ctrlKey)&&e._options.defaultButton&&e._options.buttons)return i=e._options.buttons[e._options.defaultButton],i&&(r=$("#"+i.id).button("option"),r.disabled||i.click.apply(this,[n])),!1;if(!t.is("textarea")&&!t.is("a")&&!t.is("button")&&!t.hasClass("propagate-keydown-event"))return!1}});this._options.resizable&&this._addResizeKeydownHandler();setTimeout(function(){t._autoSizeAndPosition();t.onInitialize()},0);w._dialogActionInProgress=!1;this._onHubNavigateDelegate=function(){t._closedByNavigation=!0;t.close()};u.getService().attachEvent(f.HubEventNames.PreXHRNavigate,this._onHubNavigateDelegate);a.attachResize(this.getElement(),p(this,this._onWindowResize))},t.prototype._addResizeKeydownHandler=function(){var i=this,n=this.getElement(),t=n.siblings(".ui-icon-gripsmall-diagonal-se");if(t.length>0){t.attr({tabindex:0,role:"button","aria-label":s.DialogResizeLabel});this._resizeIconTooltip=o.RichContentTooltip.add(s.DialogResizeLabel,t);t.removeAttr("title");var r=n.dialog("option","minWidth")||150,u=n.dialog("option","minHeight")||150,f=n.dialog("option","maxWidth")||Number.MAX_VALUE,e=n.dialog("option","maxHeight")||Number.MAX_VALUE;t.keydown(function(n){switch(n.keyCode){case a.KeyCode.LEFT:i._resize("width",!1,r,Math.max);h.announce(s.DialogSizeDecreased);break;case a.KeyCode.RIGHT:i._resize("width",!0,f,Math.min);h.announce(s.DialogSizeIncreased);break;case a.KeyCode.UP:i._resize("height",!1,u,Math.max);h.announce(s.DialogSizeDecreased);break;case a.KeyCode.DOWN:i._resize("height",!0,e,Math.min);h.announce(s.DialogSizeIncreased)}})}},t.prototype._resize=function(n,i,r,u){var f=this.getElement(),e=f.dialog("option",n),o;e==="auto"&&(e=f.parent().height());o=u(e+t.RESIZE_STEP*(i?1:-1),r);f.dialog("option",n,o);f.trigger("dialogresizestop",{size:{width:f.dialog("option","width"),height:f.dialog("option","height")}})},t.prototype._autoSizeAndPosition=function(){var n=this.getElement(),t=this._options;n&&n.length>0&&$.contains(document.body,n[0])&&(t.preventAutoResize||(t.position&&n.dialog("option","position",t.position),t.height?n.dialog("option","height",t.height):n.dialog("option","height","auto"),this._setMaxHeight()),n.show())},t.prototype._ensureCtaButton=function(){var n=this._options,r,u,t,i;n.noAutoCta!==!0&&(r=/(^cta$)|(^cta\ )|(\ cta\ )|( cta$)/,u=/(^warning$)|(^warning\ )|(\ warning\ )|( warning$)/,Array.isArray(n.buttons)&&n.buttons.length>0&&!n.buttons.some(function(n){return r.test(n.class)})&&!n.buttons.some(function(n){return u.test(n.class)})?(i=n.buttons[0].class||"",n.buttons[0].class=i+" cta"):n.buttons&&typeof n.buttons=="object"&&(t=Object.keys(n.buttons),t.length>0&&(t.some(function(t){return r.test(n.buttons[t].class)})||t.some(function(t){return u.test(n.buttons[t].class)})||(i=n.buttons[t[0]].class||"",n.buttons[t[0]].class=i+" cta"))))},t.prototype.onLoadCompleted=function(t){n.prototype.onLoadCompleted.call(this,t);this.setInitialFocus();r.logTracePoint("Dialog.initialize.complete")},t.prototype.setInitialFocus=function(){var n=this._options.initialFocusSelector||":visible:tabbable";this.getElement().find(n).first().focus()},t.prototype.setFormFocusDelayed=function(n){c.delay(this,300,function(){n.eq(0).focus().select()})},t.prototype.setTitle=function(n){this._title=n;this._updateTitle()},t.prototype.getTitle=function(){return this._title||this._options.title||this.getElement().attr("title")||""},t.prototype.setSubtitle=function(n){this._subtitle=n;this._updateSubtitle()},t.prototype.getSubtitle=function(){var n=this._subtitle;return(n===null||n===undefined)&&(n=this._options.subtitle),n||""},t.prototype.centerDialog=function(){this.getElement().dialog("option","position",{my:"center",at:"center",of:window});this._setMaxHeight()},t.prototype.getDialogResult=function(){return this._dialogResult},t.prototype.setDialogResult=function(n){this._dialogResult=n},t.prototype.show=function(){this.getElement().dialog("open")},t.prototype.onOpen=function(){if(!this._options||this._options.hasProgressElement!==!1){var n=$("<div />").addClass("ui-dialog-titlebar-progress-container").appendTo(this.getElement().parent().find(".ui-dialog-titlebar"));this._progressElement=$("<div />").addClass("ui-dialog-titlebar-progress-element").appendTo(n);v.globalProgressIndicator.registerProgressElement(this._progressElement)}u.getService().fire("dialog-open",this)},t.prototype.onClose=function(){u.getService().fire("dialog-close",this);this._progressElement&&v.globalProgressIndicator.unRegisterProgressElement(this._progressElement);this._removeSecondOverlay();this._options.disposeOnClose&&this.dispose();var n=$(".ui-dialog").slice(-1);n.length&&!this._options.noFocusOnClose&&n.focus()},t.prototype.onInitialize=function(){typeof this._options.initialize=="function"&&this._options.initialize.call(this)},t.prototype.close=function(){this.getElement()&&this.getElement().dialog("close")},t.prototype.dispose=function(){this._removeSecondOverlay();u.getService().detachEvent(f.HubEventNames.PreXHRNavigate,this._onHubNavigateDelegate);a.detachResize(this.getElement());this._closeTooltip&&(this._closeTooltip.dispose(),this._closeTooltip=null);this._resizeIconTooltip&&(this._resizeIconTooltip.dispose(),this._resizeIconTooltip=null);n.prototype.dispose.call(this)},t.prototype._removeSecondOverlay=function(){this._secondOverlay&&(this._secondOverlay.remove(),this._secondOverlay=null)},t.prototype._updateSubtitle=function(){if(this._initialized&&this.getElement()){var n=this.getElement().parent().find(".ui-dialog-subtitle"),t=this.getSubtitle()||"";n.text(t);a.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:t});n.toggle(t.length>0)}},t.prototype.onDialogResize=function(){},t.prototype._updateTitle=function(){if(this._initialized&&this.getElement()){var t=this.getElement().dialog("option","title",this.getTitle()),n=$("span.ui-dialog-title",t.parent());a.tooltipIfOverflow(n[0],{titleTarget:n[0],titleText:this.getTitle()})}},t.prototype._onWindowResize=function(){if(!this._resizing){var t=$(window),n=this._options;n.dynamicSize&&(this._setMaxSize(),this.getElement().dialog("option",{width:t.width()*n.widthPct,height:t.height()*n.heightPct,maxHeight:parseInt(this._options.maxHeight,10),maxWidth:parseInt(this._options.maxWidth,10)}));this.getElement().dialog("option","position",{my:"center",at:"center",of:window})}},t.prototype._onDialogResizing=function(n,t){var u=$(window),i,r;t&&t.position&&t.size&&(i=Math.min(t.size.height,u.height()-t.position.top),r=Math.min(t.size.width,u.width()-t.position.left),(i!==t.size.height||r!==t.size.width)&&this.getElement().dialog("option",{width:r,height:i}))},t.prototype._onDialogMove=function(){this._options.preventAutoResize||(this._setMaxHeight(),this._ensureDialogContentHeight());this._hideCloseButtonTooltip();this._hideResizeIconTooltip()},t.prototype._onDialogResizeStart=function(){this._resizing=!0;this._hideCloseButtonTooltip();this._hideResizeIconTooltip()},t.prototype._onDialogResizeStop=function(){this._resizing=!1},t.prototype._ensureDialogContentHeight=function(){var n=this.getElement().parent().css("height");n!=="auto"?this.getElement().css("height",this.getElement().outerHeight()):this.getElement().css("height","auto")},t.prototype._setMaxHeight=function(){var n=this.getElement().prev().outerHeight(!0)+this.getElement().next().outerHeight(!0);this.getElement().css("maxHeight",window.innerHeight-this.getElement().parent().position().top-n)},t.prototype._setMaxSize=function(){this._options.maxWidth=Math.min(window.innerWidth,this._specifiedMaxWidth||Infinity);this._options.maxHeight=Math.min(window.innerHeight,this._specifiedMaxHeight||Infinity)},t.prototype._hideCloseButtonTooltip=function(){this._closeTooltip&&this._closeTooltip.hide()},t.prototype._hideResizeIconTooltip=function(){this._resizeIconTooltip&&this._resizeIconTooltip.hide()},t.enhancementTypeName="tfs.dialog",t._dialogActionInProgress=!1,t.RESIZE_STEP=25,t}(e.AjaxPanelO);t.DialogO=k;w=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(k);t.Dialog=w;d=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"dialog modal-dialog",modal:!0,dynamicSize:!1,width:500,height:"auto",defaultButton:"ok",buttons:{ok:{id:"ok",text:t&&t.okText||s.ModalDialogOkButton,click:p(this,this.onOkClick),"class":"cta",disabled:"disabled"},cancel:{id:"cancel",text:t&&t.cancelText||s.ModalDialogCancelButton,click:p(this,this.onCancelClick)}}},t))},t.prototype.initialize=function(){this._bind(g.EVENT_BUTTON_STATUS_CHANGE,p(this,this.onButtonStatusChange));this._bind("resultReady",p(this,this.onResultReady));n.prototype.initialize.call(this)},t.prototype.updateOkButton=function(n){this.getElement()&&this.getElement().trigger(g.EVENT_BUTTON_STATUS_CHANGE,{enabled:n===!0})},t.prototype.processResult=function(n){var t=this._options.okCallback;n&&(typeof t=="function"&&(t.call(this,n),r.logTracePoint(this.getTypeName()+".callback-complete")),this.close())},t.prototype.onOkClick=function(){r.logTracePoint(this.getTypeName()+".OkClicked");this.processResult(this.getDialogResult())},t.prototype.onResultReady=function(n,t){this.processResult(t)},t.prototype.onCancelClick=function(){typeof this._options.cancelCallback=="function"&&this._options.cancelCallback();this.close()},t.prototype.onButtonStatusChange=function(n,t){var i=this.getElement().siblings(".ui-dialog-buttonpane").find("#"+(t.button||"ok"));i.button("option","disabled",!t.enabled);this.setAttribute("aria-disabled",t.enabled?"false":"true",i)},t.enhancementTypeName="tfs.modaldialog",t.EVENT_BUTTON_STATUS_CHANGE="buttonStatusChange",t}(k);t.ModalDialogO=d;g=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(d);t.ModalDialog=g;nt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:400,height:200,resizable:!1,cssClass:"confirmation-dialog"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.$errorContainer=$(it("div")).addClass("confirmation-dialog-error").prependTo(this.getElement()).hide();this.updateOkButton(!0)},t.prototype._onSuccess=function(){this._fire("resultReady",!0);var n=this._options.successCallback;typeof n=="function"&&(n.apply(this,arguments),r.logTracePoint(this.getTypeName()+".callback-complete"))},t.prototype._onError=function(n){this.$errorContainer.text(n.message).show()},t.prototype.onOkClick=function(t){this.updateOkButton(!1);n.prototype.onOkClick.call(this,t)},t}(d);t.ConfirmationDialogO=nt;ft=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(nt);t.ConfirmationDialog=ft;et=function(){function n(n){this.button=n}return n.prototype.toString=function(){return"MessageDialogResult: Button: "+(this.button?this.button.id:"?")+" ("+v.ErrorHandler.ignoreRejectedPromiseTag+")"},n}();tt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){var u=this,i=$.extend({width:500,height:"auto",hideCloseButton:!0,coreCssClass:"dialog modal-dialog message-dialog",modal:!0,dynamicSize:!1},t),r;i.buttons instanceof Array&&i.buttons.length>0&&(r={},i.buttons.forEach(function(n){r[n.id]=u.getButtonOptions(n)}),t.noDefaultButton||(i.defaultButton=i.buttons[0].id),this.setDialogResult(i.buttons[i.buttons.length-1]),i.buttons=r);t.escapeButton&&this.setDialogResult(t.escapeButton);t.initialFocusButton&&c.delay(this,100,function(){document.getElementById(t.initialFocusButton.id).focus()});n.prototype.initializeOptions.call(this,i)},t.prototype.initialize=function(){var i,t;n.prototype.initialize.call(this);this._options.requiredTypedConfirmation&&this.initializeTypedConfirmation();for(i in this._options.buttons)t=this._options.buttons[i],t.style&&$("#"+t.id).addClass(t.style)},t.prototype.initializeTypedConfirmation=function(){var u=this,f=this.getElement(),n=$("<input type='text' class='textbox message-dialog-confirm-textbox no-match' />"),t=$(),i,r;for(i in this._options.buttons)this._options.buttons[i].reject||(t=t.add($("#"+this._options.buttons[i].id)));r=function(){l.ignoreCaseComparer(n.val(),u._options.requiredTypedConfirmation)==0?(n.removeClass("no-match").addClass("match"),t.button("option","disabled","")):(n.addClass("no-match").removeClass("match"),t.button("option","disabled","disabled"))};n.on("input keyup",r);f.append($("<div class='message-dialog-confirm'><\/div>").append(n));r(null);c.delay(this,100,function(){n.focus();n.select()})},t.prototype.getPromise=function(){return this._deferred||(this._deferred=y.defer()),this._deferred.promise},t.showMessageDialog=function(n,t){var i,r;return t=t||{},i=$.extend({buttons:[b.buttons.ok,b.buttons.cancel],useBowtieStyle:!0,minWidth:t.width,minHeight:t.height,title:s.Confirm},t),i.content=typeof n=="string"?$("<div />").text(n):n,r=st(b,i),r.getPromise()},t.prototype.onClose=function(t){if(this._deferred){var i=new et(this.getDialogResult());this._options.beforeClose&&this._options.beforeClose(i.button);i.button.reject?this._deferred.reject(i):this._deferred.resolve(i)}return n.prototype.onClose.call(this,t)},t.prototype.getButtonOptions=function(n){var t=this;return $.extend({click:function(){t.setDialogResult(n);t.close()}},n)},t.buttons={ok:{id:"ok",text:s.ModalDialogOkButton,reject:!1},cancel:{id:"cancel",text:s.ModalDialogCancelButton,reject:!0},yes:{id:"yes",text:s.ModalDialogYesButton,reject:!1},no:{id:"no",text:s.ModalDialogNoButton,reject:!0},close:{id:"close",text:s.CloseButtonLabelText,reject:!0}},t}(k);t.MessageDialogO=tt;b=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return __extends(t,n),t}(tt);t.MessageDialog=b;ot=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:t.width||600,minWidth:400,height:t.height||450,minHeight:200,attachResize:!0,defaultButton:"close",buttons:[{id:"close",text:s.CloseButtonLabelText,click:p(this,this.close)},]},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.setTitle(s.CopyContentDialogTitle);this._decorate()},t.prototype._decorate=function(){var r=this.getElement(),n,i=$("<div/>").text(this._options.dialogLabel||this._getDefaultLabelText()),t;this._options.dialogLabelExtend&&i.append(this._options.dialogLabelExtend);t=$("<div class='copy-dialog-container'/>").append(i).append($("<p/>"));this._options.excludeTextPanel||(n=$("<div/>"),t.append(n),this._options.copyAsHtml?this._initializeRichEditor(n):(this._initializeTextPanel(n),this._options.preventAutoTextSelection||c.delay(this,100,function(){this._$textArea.focus();this._$textArea.select()})),this._bind("dialogresize",function(){n.css("height",t.height()-i.height()-40+"px")}));r.append(t);this._options.excludeTextPanel||n.css("height",t.height()-i.height()-40+"px")},t.prototype._getDefaultLabelText=function(){return a.BrowserCheckUtils.isMacintosh()?s.CopyContentMacintoshHelpText:s.CopyContentPcHelpText},t.prototype._initializeRichEditor=function(n){var t=this;v.using(["VSS/Controls/RichEditor"],function(r){var u=i.BaseControl.createIn(r.RichEditor,n,{noToolbar:!0,height:"100%",pageHtml:t._options.pageHtml,internal:!0});u.ready(function(){u.setValue(t._options.data);u.bindOnCopy(p(t,function(){c.delay(this,0,function(){this.close()})}));c.delay(t,100,function(){u.selectText();u.setEnabled(!1)})})})},t.prototype._initializeTextPanel=function(n){var t="copy-content-textarea";this._options.textAreaCopyClass&&(t=this._options.textAreaCopyClass);this._$textArea=$("<textarea/>").addClass(t).text(this._options.data);this._$textArea.attr("aria-label",s.CopyTextAreaName);this._options.disableEdit&&(this._$textArea.attr("readonly","readonly"),this._$textArea.focus(function(){this._$textArea.select()}));this._$textArea[0].oncopy=p(this,function(){c.delay(this,0,function(){this.close()})});n.append(this._$textArea)},t.enhancementTypeName="CopyContentDialog",t}(d);t.CopyContentDialog=ot;t.show=st;t.showMessageDialog=ht;t.showConfirmNavigationDialog=ct});

define("Presentation/Scripts/TFS/Resources/TFS.Resources.Discussion",["require","exports"],function(require,exports){var e=exports;e.DeleteActionTooltip="Delete this comment";e.DiscussionCommentReactivate="Reactivate";e.DiscussionStatus="Status:";e.DiscussionCommentUpdate="Update";e.DiscussionCommentResolve="Resolve";e.DiscussionCommentReplyAndResolve="Reply \u0026 resolve";e.OverviewDiscussionCommentHint="Add a comment...";e.EditedComment="edited";e.DiscussionCommentCancel="Cancel";e.DiscussionCommentDelete="Delete";e.DeleteAction="delete";e.SelectionCommentTooltip="Comment on the selected text";e.AddCommentEditorCommand="Add a Comment";e.CommentHeaderAriaLabel="{0} commented {1}.";e.DiscussionStatusClosed="Closed";e.ReplyAction="reply";e.DiscussionStatusActive="Active";e.DiscussionThreadNewComment="1 new comment has been posted to this thread";e.CancelAction="cancel";e.DiscussionThreadUnsavedComments="Some of your comments could not be saved:";e.CommentFeedbackDialog_WrongWordLabelText="Line was correct but position in line was not";e.DiscussionCommentDeleted="Comment deleted";e.CreateWorkItemTooltip="Create a work item from this comment";e.SavePending="saving...";e.CommentFeedbackDialog_SecondaryText="Where did you expect to see this comment?";e.DiscussionCommentUpdateAndResolve="Update \u0026 resolve";e.CommentFeedbackDialog_Title="Comment tracked to the wrong place";e.DiscussionCommentSave="Comment";e.SelectDiscussionStatusTooltip="Select a status for this discussion";e.DiscussionCommentEdit="Edit";e.DiscussionCommentHint="Write a reply...";e.DiscussionThreadUnsavedComment="{0}, line: {1}";e.CommentFeedbackActionTooltip="Send feedback on the position of this comment";e.CreateWorkItemMenuHeader="Create a new:";e.DiscussionCommentUpdateAndReactivate="Update \u0026 reactivate";e.DiscussionStatusWontfix="Won\u0027t fix";e.DiscussionCommentReply="Reply";e.DeletePending="deleting...";e.SaveAction="save";e.SaveActionWithShortcut="save (enter)";e.DiscussionStatusResolved="Resolved";e.DiscussionStatusPending="Pending";e.DiscussionCommentReplyAndReactivate="Reply \u0026 reactivate";e.AddCommentTooltip="Click to add a comment";e.CommentFeedbackDialog_OkText="Send feedback";e.CancelActionWithShortcut="cancel (esc)";});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/TFS.UI.Controls.Common",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Resources/VSS.Resources.Platform","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Controls","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.NotificationEventNames","Presentation/Scripts/TFS/TFS.WebSettingsService","VSS/Utils/UI","VSS/Controls/StatusIndicator","VSS/Controls/Dialogs","VSS/Controls/Notifications","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","Presentation/Scripts/TFS/Resources/TFS.Resources.Discussion","VSS/Service","VSS/Events/Action","VSS/Events/Services","VSS/Telemetry/Services"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var et,ot,ut,st,rt;Object.defineProperty(t,"__esModule",{value:!0});t.IFrameControl=t.CommonMenuItems=t.ResponsiveGrid=t.CommentFeedbackDialog=t.AccountTrialDialog=t.DismissableMessageAreaControl=void 0;var it=i.delegate,tt=l.domElem,ft=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initialize=function(){this._isDismissedOnClient()||(n.prototype.initialize.call(this),this._initializeMessageAreaOptions(),this._messageArea=o.Enhancement.enhance(y.MessageAreaControl,this.getElement(),this._options),this._dismissDelegate=it(this,this._dismissMessage),this._bind(y.MessageAreaControl.EVENT_DISPLAY_CLEARED,this._dismissDelegate))},t.prototype.reconfigure=function(n){if($.extend(this._options,n),this._initializeMessageAreaOptions(),this._unbind(y.MessageAreaControl.EVENT_DISPLAY_CLEARED,this._dismissDelegate),this._isDismissedOnClient()){this._messageArea.clear();return}this._options.message?this._messageArea.setMessage(this._options.message):this._messageArea.clear();this._bind(y.MessageAreaControl.EVENT_DISPLAY_CLEARED,this._dismissDelegate)},t.isDismissedOnClient=function(n,t){var i=k.getApplicationService(c.WebSettingsService).readLocalSetting(p.Messages.DismissNotificationRegistryPath+n,t,!1);return i==="true"},t.prototype._isDismissedOnClient=function(){if(this._options&&this._options.clientDismissable&&this._options.message&&this._options.message.id)return t.isDismissedOnClient(this._options.message.id,this._options.message.scope)},t.prototype._initializeMessageAreaOptions=function(){var n=this._options;if(n){n.message&&typeof n.message.header=="string"&&(n.message.header=$(tt("span")).html(n.message.header));n.message&&typeof n.message.content=="string"&&(n.message.content=$(tt("span")).html(n.message.content));return}},t.prototype._dismissMessage=function(){if(this._options&&this._options.message&&this._options.message.id){var n=this._options.clientDismissable?h.EventNames.ClientNotificationDismissed:h.EventNames.NotificationDismissed;g.getService().fire(n,this._options.message.id,this._options.message.scope)}},t}(o.BaseControl);t.DismissableMessageAreaControl=ft;o.Enhancement.registerEnhancement(ft,".tfs-host-notifications");et=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:450,minWidth:450,height:260,minHeight:260,allowMultiSelect:!1,contentHeader:f.TrialHeader,contentDescription:f.TrialStartToday,buttons:{saveButton:{id:"ok",text:f.StartTrial,click:it(this,this._onSaveClick)},cancelButton:{id:"cancel",text:f.ModalDialogCancelButton,click:it(this,this.onCancelClick)}}},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.buildDialogElements()},t.prototype.buildDialogElements=function(){var n,t;this._$data=$("<div/>").addClass("trial-account-dialog");n=$("<div/>").append(this._$data).addClass("admin-dialog").css("height","100%");this.getElement().append(n);this._$waitControl=o.create(a.WaitControl,this.getElement(),{target:this._$data,cancellable:!1,message:f.DefaultWaitMessage});t=$("<div/>").appendTo(this._$data).addClass("trial-account-header-section");this._options.mainTitle&&$("<div/>").appendTo(t).addClass("dialog-header").text(this._options.mainTitle);this.setTitle(this._options.contentHeader);this._$dataDiv=$("<div/>").appendTo(this._$data).attr("id","main-context");this._$trialTextDiv=$("<div/>").appendTo(this._$dataDiv).addClass("message-trial");this._createTrialHeader();this._createErrorFooter();this._hideError()},t.prototype._updateTrialButtons=function(n){this.updateOkButton(n)},t.prototype._onCloseClick=function(){this.close()},t.prototype._onCancelClick=function(){this.close()},t.prototype._onSaveClick=function(){this._hideError();this._updateTrialButtons(!1);this._$waitControl.startWait();e.postMSJSON(s.TfsContext.getDefault().getActionUrl("EnableAccountTrialMode","account",{area:"api"}),null,it(this,this._postTrialSuccess),it(this,this._postTrialFailure))},t.prototype._postTrialSuccess=function(){this._$waitControl.endWait();d.getService().performAction(d.CommonActions.ACTION_WINDOW_RELOAD)},t.prototype._postTrialFailure=function(n){this._$waitControl.endWait();switch(n.type){case"Microsoft.VisualStudio.Services.Account.AccountTrialException":this._showError(n.message);break;default:this._showError(f.StartTrialFail)}},t.prototype._showError=function(n){this._$errorMessageDiv.show();this._$errorMessageText.text(n)},t.prototype._hideError=function(){this._$errorMessageDiv.hide()},t.prototype._createErrorFooter=function(){this._$errorMessageDiv=$("<div/>").appendTo($("#main-context")).attr("id","account-error-trial").addClass("error-message-div-trial");this._$errorMessageImgDiv=$("<div/>").appendTo(this._$errorMessageDiv).addClass("trial-err-footer-img");this._$errorMessageImg=$("<span/>").appendTo(this._$errorMessageImgDiv).addClass("trial-error-message-icon").addClass("trial-error-message-img");this._$errorMessageText=$("<div/>").appendTo(this._$errorMessageDiv).addClass("error-message-account-trial")},t.prototype._createTrialHeader=function(){var i=$("<div/>").appendTo(this._$trialTextDiv).addClass("trial-text-header-div"),t=$("<div/>").appendTo(this._$trialTextDiv).addClass("trial-text-header-div"),n;t.addClass("description-trial").html(r.format(this._options.contentDescription,this._options.EndDateIfTrialStarted));n=$("<div/>").appendTo(this._$trialTextDiv).addClass("trial-text-header-div");n.addClass("description-frature-trial-once").html(f.PutAccountTrialOnce);n=$("<div/>").appendTo(this._$trialTextDiv).addClass("trial-text-header-div");n.addClass("detail-feature-trial").html(r.format(f.AllFeaturesEnableDuringTrial,this._options.TrialFeatureUrl))},t}(v.ModalDialogO);t.AccountTrialDialog=et;ot=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._thread=t.thread||null,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"comment-feedback-dialog",title:b.CommentFeedbackDialog_Title,okText:b.CommentFeedbackDialog_OkText,resizable:!1,draggable:!0,useBowtieStyle:!0,bowtieVersion:2,width:560},t))},t.prototype.initialize=function(){var i="commentFeedbackInput"+o.getId(),r="commentFeedbackCheckbox"+o.getId(),u=$(tt("div","form-section")).appendTo(this._element),f,t;$(tt("label")).attr("for",i).text(b.CommentFeedbackDialog_SecondaryText).appendTo(u);this._$commentFeedbackInput=$(tt("textarea","comment-feedback-dialog-input")).attr("type","text").attr("id",i).height(100).appendTo(u);f=$(tt("div","form-section")).appendTo(this._element);t=$(tt("div","checkbox-pair")).appendTo(f);this._$wrongWordCheckbox=$(tt("input")).addClass("checkbox-input comment-feedback-dialog-wrong-word-checkbox").attr("type","checkbox").attr("id",r).appendTo(t);this._$wrongWordLabel=$(tt("label")).attr("for",r).addClass("checkbox-label comment-feedback-dialog-wrong-word-label-text").text(b.CommentFeedbackDialog_WrongWordLabelText).appendTo(t);n.prototype.initialize.call(this);this.updateOkButton(!0)},t.prototype.onOkClick=function(){var t=this._$commentFeedbackInput.val(),i=this._$wrongWordCheckbox&&this._$wrongWordCheckbox.is(":checked"),n;this._thread&&this._thread.firstComparingIteration&&this._thread.secondComparingIteration&&(n=new nt.TelemetryEventData("CommentTracking","CommentFeedbackDialog",{threadId:this._thread.id,artifactUri:this._thread.artifactUri,itemPath:this._thread.itemPath,originalFirstIteration:this._thread.firstComparingIteration,originalSecondIteration:this._thread.secondComparingIteration,trackedFirstIteration:this._thread.trackingCriteria.firstComparingIteration,trackedSecondIteration:this._thread.trackingCriteria.secondComparingIteration,feedbackContent:t,wrongWordBoxWasChecked:i}),nt.publishEvent(n));this.close()},t}(v.ModalDialogO);t.CommentFeedbackDialog=ot;ut=function(){function n(){var n=this;this._gridElement=$(".responsive-grid").first();this._gridElement.length===1&&(this._adjustGridSections(),$(window).resize(function(){n._adjustGridSections()}))}return n.prototype._adjustGridSections=function(){this._adjustGridWidth();this._adjustSection3Top()},n.prototype._adjustGridWidth=function(){this._gridElement.width()===640&&this.getSection(3).children().length===0?this.getSection(2).css({width:"640px"}):this.getSection(2).css({width:"320px"})},n.prototype._adjustSection3Top=function(){var t=$(".grid-cell",this.getSection(3)),n=this.getSection(3);this._gridElement.width()===960&&this.getSection(2).height()-this.getSection(1).height()>=160?(n.width()===960&&n.css({width:"640px"}),t.css({top:this.getSection(1).height()-this.getSection(2).height()+"px"})):this._gridElement.width()===960&&this.getSection(2).height()==this.getSection(1).height()?n.width()===640&&(n.css({width:"960px"}),t.css({top:""})):(n.css({width:""}),t.css({top:""}))},n.GetInstance=function(){return this._instance||(this._instance=new n),this._instance},n.prototype.scanViewImports=function(){var n=this;$(function(){var t=$(".grid-view-item");$.each(t,function(t,i){var r=parseInt($(i).attr("data-grid-cell-section")),u=parseInt($(i).attr("data-grid-cell-columns")),f=parseInt($(i).attr("data-grid-cell-rows")),e=$(i).attr("data-grid-cell-adjustHeight").toLowerCase()==="true"?!0:!1;$(i).remove();n.addControlInGrid(r,f,u,e,i);$(i).removeClass("grid-item-hidden").removeClass("grid-view-item")});n._adjustGridSections()})},n.prototype.getElement=function(){return this._gridElement},n.prototype.getSection=function(n){return $(".section"+n,this._gridElement)},n.prototype.addControlInGrid=function(n,t,i,r,u){var f=this.createContainer(n,t,i),e;return u&&($(f).append(u),r&&(e=this._getAdjustedContainerHeight(u)+"px",$(f).css({height:e}))),this._adjustGridSections(),f},n.prototype.createContainer=function(t,i,r){var o=this.getSection(t),u=$('<div class="grid-cell"><\/div>'),f,e;return $(o).append(u),f=r*n.cellSize+"px",e=i*n.cellSize+"px",$(u).css({width:f,height:e}),this._adjustGridSections(),u},n.prototype.createInGrid=function(n,t,i,r,u){var f=this.addControlInGrid(n,t,i,!1);return this._adjustGridSections(),o.BaseControl.createIn(r,f,u)},n.prototype.adjustHeight=function(n){var t=$(n).parent(".grid-cell"),i;t.length>0&&(i=this._getAdjustedContainerHeight(t)+"px",$(t).css({height:i}));this._adjustGridSections()},n.prototype.removeContainer=function(n){$(n).parent(".grid-cell").remove();this._adjustGridSections()},n.prototype.getContainer=function(n){return $(n).parent(".grid-cell")},n.prototype._getAdjustedContainerHeight=function(t){$(t).css({height:"auto"});var i=$(t).height();return i<=0?0:Math.ceil(i/n.cellSize)*n.cellSize},n.cellSize=160,n}();t.ResponsiveGrid=ut;$(function(){ut.GetInstance().scanViewImports()});st=function(){function n(){}return n.addToMyFavs=function(){return{id:n.ADD_TO_MY_FAVORITES_ACTION,text:w.AddToMyFavoritesTitle,title:w.AddToMyFavoritesTooltipText,icon:"bowtie-icon bowtie-favorite",groupName:"favorites"}},n.addToTeamFavs=function(t){return{id:n.ADD_TO_TEAM_FAVORITES_ACTION,text:w.AddToTeamFavoritesTitle,title:w.AddToTeamFavoritesTooltipText,disabled:t===null||t===undefined?!1:t,groupName:"favorites"}},n.removeFromMyFavs=function(){return{id:n.REMOVE_FROM_MY_FAVORITES_ACTION,text:w.RemoveFromMyFavoritesTitle,title:w.RemoveFromMyFavoritesTooltipText,icon:"bowtie-icon bowtie-favorite-outline",groupName:"favorites"}},n.removeFromTeamFavs=function(t){return{id:n.REMOVE_FROM_TEAM_FAVORITES_ACTION,text:w.RemoveFromTeamFavoritesTitle,title:w.RemoveFromTeamFavoritesTooltipText,disabled:t===null||t===undefined?!1:t,groupName:"favorites"}},n.security=function(){return{id:n.ITEM_SECURITY_ACTION,text:w.ItemSecurityTitle,title:w.ItemSecurityTooltipText,icon:"bowtie-icon bowtie-security ",groupName:"security"}},n.pinToHomePage=function(t){return{id:n.PIN_TO_HOMEPAGE_ACTION,text:w.PinToHomepageTitle,title:w.PinToHomepageTooltipText,icon:"icon-pin",disabled:t===null||t===undefined?!1:t,groupName:"pinning"}},n.unpinFromHomePage=function(t){return{id:n.UNPIN_FROM_HOMEPAGE_ACTION,text:w.UnpinFromHomepageTitle,title:w.UnpinFromHomepageTooltipText,icon:"icon-unpin",disabled:t===null||t===undefined?!1:t,groupName:"pinning"}},n.ADD_TO_MY_FAVORITES_ACTION="add-to-my-favorites",n.ADD_TO_TEAM_FAVORITES_ACTION="add-to-team-favorites",n.REMOVE_FROM_MY_FAVORITES_ACTION="remove-from-my-favorites",n.REMOVE_FROM_TEAM_FAVORITES_ACTION="remove-from-team-favorites",n.PIN_TO_HOMEPAGE_ACTION="pin-to-homepage",n.UNPIN_FROM_HOMEPAGE_ACTION="unpin-from-homepage",n.ITEM_SECURITY_ACTION="item-security",n}();t.CommonMenuItems=st;rt=function(n){function t(t){var i=this,r;i=__construct(this,n,[t]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i}return __extends(t,n),t.prototype.initialize=function(){var n=$("<iframe "+this._getSandboxAttributes()+">").attr("src",this._options.contentUrl);this.getElement().append(n)},t.prototype._getSandboxAttributes=function(){return l.BrowserCheckUtils.isFirefox()?"":"sandbox='allow-scripts allow-popups allow-same-origin '"},t.CORE_CSS_CLASS="iframe-control",t}(o.BaseControl);t.IFrameControl=rt;o.Enhancement.registerEnhancement(rt,"."+rt.CORE_CSS_CLASS)});

define("Agile/Scripts/Common/AutoRefreshThrottler",["require","exports","VSS/Utils/Core"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.AutoRefreshThrottler=t.AutoRefreshEventPayload=void 0;r=function(){function n(n,t,i,r,u,f){this.id=n;this.changeType=t;this.revision=i;this.stackRank=r;this.changedChildren=u;this.changedTypeOrTitle=f;this.wasWorkItemAttached=!1;this.forceRefresh=!1}return n}();t.AutoRefreshEventPayload=r;u=function(){function n(n){this._eventsQueue=[];this._isProcessingEvents=!1;this._windowStartTime=(new Date).getTime();this._itemsRefreshedCount=0;this._isThrottling=!1;this._lastEventProcessStartTime=-1;this._isFFEnabled=this.checkFFStatus();this._eventsHelper=n;this._autoRefreshItemsCompletedDelegate=i.delegate(this,this._onAutoRefreshItemsCompleted)}return n.prototype.process=function(n){this._eventsQueue.push(n);this._tryProcessEvents()},n.prototype._onAutoRefreshItemsCompleted=function(n,t){this._isProcessingEvents=!1;this._itemsRefreshedCount+=t;this._tryProcessEvents()},n.prototype._tryProcessEvents=function(){if(this._isFFEnabled&&this._isProcessingEvents){var t=(new Date).getTime();t-this._lastEventProcessStartTime>n.MaxTimeToProcessEvent_In_Milliseconds&&(this._isProcessingEvents=!1,this.logPipelineUnblockedTelemetry())}this._isFFEnabled?this._eventsQueue.length>0&&!this._isProcessingEvents&&(this._setWindowReference(),this._itemsRefreshedCount<n.Items_Refresh_Threshold?(this._isProcessingEvents=!0,this._lastEventProcessStartTime=(new Date).getTime(),this._processNextEvent(),this._logIfThrottlingStopped()):this._delayProcessing()):this._processNextEvent()},n.prototype._processNextEvent=function(){var n=this._eventsQueue.shift();this.fireItemsNeedAutoRefresh(n)},n.prototype._delayProcessing=function(){this._delayedFunction&&this._delayedFunction.isPending()||(this._delayedFunction=i.delay(this,this._windowStartTime+n.Window_Length_In_Milliseconds-(new Date).getTime(),this._tryProcessEvents),this._logIfThrottlingStarted())},n.prototype._isNewWindow=function(){var t=(new Date).getTime();return t>=this._windowStartTime+n.Window_Length_In_Milliseconds},n.prototype._setWindowReference=function(){this._isNewWindow()&&(this._itemsRefreshedCount=0,this._windowStartTime=(new Date).getTime())},n.prototype._logIfThrottlingStopped=function(){this._eventsQueue.length===0&&this._isThrottling&&(this._isThrottling=!1,this.logThrottlingStoppedTelemetry())},n.prototype._logIfThrottlingStarted=function(){!this._isThrottling&&this._eventsQueue.length>0&&(this._isThrottling=!0,this.logThrottlingStartedTelemetry())},n.prototype.getRemainingItems=function(){for(var r,t=0,n=0,i=this._eventsQueue;n<i.length;n++)r=i[n],t+=r.length;return t},n.prototype.dispose=function(){this._delayedFunction&&this._delayedFunction.isPending()&&this._delayedFunction.cancel()},n.prototype.attachAutoRefreshCompletedEvent=function(n){this._eventsHelper.attachEvent(n,this._autoRefreshItemsCompletedDelegate)},n.prototype.detachAutoRefreshCompletedEvent=function(n){this._autoRefreshItemsCompletedDelegate&&(this._eventsHelper.detachEvent(n,this._autoRefreshItemsCompletedDelegate),this._autoRefreshItemsCompletedDelegate=null)},n.Items_Refresh_Threshold=500,n.Window_Length_In_Milliseconds=3e5,n.MaxTimeToProcessEvent_In_Milliseconds=500,n}();t.AutoRefreshThrottler=u});

define("Agile/Scripts/Board/BoardsAutoRefreshCommon",["require","exports","VSS/Telemetry/Services","Agile/Scripts/Common/CustomerIntelligence","Agile/Scripts/Common/EmbeddedHelper","Agile/Scripts/Common/AutoRefreshThrottler"],function(n,t,i,r,u,f){function a(n,t,f,e){e===void 0&&(e=!1);f.EventType=n;f.ExtensionId=t;f.IsEmbedded=u.EmbeddedHelper.isEmbedded();i.publishEvent(new i.TelemetryEventData(r.AgileCustomerIntelligenceArea.AGILE,r.AgileCustomerIntelligenceFeature.KANBANBOARD_AUTOREFRESH,f),e)}var o,s,h,c,e,l;Object.defineProperty(t,"__esModule",{value:!0});t.PublishAutoRefreshTelemetry=t.AutoRefreshState=t.BoardsAutoRefreshEventPayload=t.TracePoints=t.EventType=t.Events=t.Settings=void 0,function(n){n.BoardSettingsChangedInCurrentSession="VSS.Agile.Boards.SettingsChangedInCurrentSession"}(o=t.Settings||(t.Settings={})),function(n){n.ItemsNeedAutoRefresh="VSS.Agile.Boards.ItemsNeedAutoRefresh";n.CommonSettingsChanged="VSS.Agile.Boards.CommonSettingsChanged";n.SignalRConnectionRevived="VSS.Agile.Boards.SignalRConnectionRevived";n.SignalRConnectionStartTimedOut="VSS.Agile.Boards.SignalRConnectionStartTimedOut";n.SignalRConnectionStarted="VSS.Agile.Boards.SignalRConnectionStarted";n.ItemsAutoRefreshCompleted="VSS.Agile.Boards.ItemsAutoRefreshCompleted";n.RefreshBoard="VSS.Agile.Boards.RefreshBoard"}(s=t.Events||(t.Events={})),function(n){n.ItemUpdated="Updated";n.ItemAdded="Added";n.ItemDeleted="Deleted";n.ItemRestored="Restored";n.ItemCreated="Created";n.ItemRemoved="Removed"}(h=t.EventType||(t.EventType={})),function(n){n.ErrorInUpdate="Board.autorefresh.update.error";n.WarningInUpdateNotOnBoard="Board.autorefresh.update.warning.notonboard";n.WarningInUpdateAlreadyFresh="Board.autorefresh.update.warning.alreadyfresh";n.ErrorInAdd="Board.autorefresh.add.error";n.WarningInAddAlreadyOnBoard="Board.autorefresh.add.warning.alreadyonboard";n.WarningInDeleteNotOnBoard="Board.autorefresh.delete.warning.notonboard";n.ErrorInRestore="Board.autorefresh.restore.error";n.InfoInRestoreAlreadyOnBoard="Board.autorefresh.restore.info.alreadyonboard";n.ErrorUnknownEventType="Board.autorefresh.error.unknowneventtype"}(c=t.TracePoints||(t.TracePoints={}));e=function(n){function t(t){return n.call(this,t.id,t.changeType,t.revision,t.stackRank,t.changedChildren,t.changedTypeOrTitle)||this}return __extends(t,n),t}(f.AutoRefreshEventPayload);t.BoardsAutoRefreshEventPayload=e,function(n){n[n.ENABLED=0]="ENABLED";n[n.DISABLED=1]="DISABLED"}(l=t.AutoRefreshState||(t.AutoRefreshState={}));t.PublishAutoRefreshTelemetry=a});

define("Presentation/Scripts/TFS/TFS.Core.WebApi",["require","exports","VSS/WebApi/RestClient"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.TemporaryDataHttpClient=t.IdentityMruHttpClient=void 0;r=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetMru=function(n){return this._beginRequest({area:t.IdentityMruArea,locationId:t.IdentityMruLocationId,httpMethod:"GET",responseIsCollection:!0,routeValues:{mruName:n}})},t.prototype.beginPostMruIdentity=function(n,i){return this._beginRequest({area:t.IdentityMruArea,locationId:t.IdentityMruLocationId,httpMethod:"POST",routeValues:{mruName:n},data:{identityIds:i}})},t.prototype.beginDeleteMruIdentity=function(n,i){return this._beginRequest({area:t.IdentityMruArea,locationId:t.IdentityMruLocationId,httpMethod:"DELETE",routeValues:{mruName:n},data:{identityIds:i}})},t.IdentityMruArea="core",t.IdentityMruLocationId="5EAD0B70-2572-4697-97E9-F341069A783A",t}(i.VssHttpClient);t.IdentityMruHttpClient=r;u=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetTemporaryData=function(n){return this._beginRequest({area:t.TemporaryDataArea,locationId:t.TemporaryDataLocationId,httpMethod:"GET",routeValues:{id:n}})},t.prototype.beginCreateTemporaryData=function(n){return this._beginRequest({area:t.TemporaryDataArea,locationId:t.TemporaryDataLocationId,httpMethod:"POST",data:n})},t.TemporaryDataArea="properties",t.TemporaryDataLocationId="B4B570EF-1775-4093-9218-AFB7E4C8AEF6",t}(i.VssHttpClient);t.TemporaryDataHttpClient=u});

define("Presentation/Scripts/TFS/TFS.OM.Identities.Mru",["require","exports","VSS/VSS","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Events/Handlers","VSS/Service","Presentation/Scripts/TFS/TFS.Core.WebApi","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.OM.Identities"],function(n,t,i,r,u,f,e,o,s,h){var a,v,c,l,y;Object.defineProperty(t,"__esModule",{value:!0});t.BaseIdentityProvider=t.IdentityMru=t.IdentityMruService=t.IdentityMruStore=void 0;a=u.TfsContext;v=function(){function n(){}return n.getGlobalMruName=function(){return u.TfsContext.getDefault().navigation.serviceHost.instanceId},n.beginGetIdentityMru=function(t,i,r,u,f){var o,a,v;if(i===void 0&&(i=!0),o=n.identityMruMap[t],o&&i)typeof r=="function"&&r(o);else{if(o){if(o.isRefreshing()){typeof r=="function"&&r(o);return}o.setRefreshing(!0)}a=e.getCollectionService(c,f);v=new Date;a.beginGetMru(t,function(i){var f=new Date,u;h.IdentityHelper.preProcessIdentities(i,!0);o?(o.refresh(i,!0),o.setRefreshing(!1)):(o=new l(t,i),n.identityMruMap[t]=o);u={elapsedTime:f.getTime()-v.getTime()};s.publishEvent(new s.TelemetryEventData("IdentityMru","IdentityMruLoadTime",u));typeof r=="function"&&r(o)},u)}},n.getIdentityMru=function(t,i){return t||(t=n.getGlobalMruName()),n.identityMruMap[t]||(n.identityMruMap[t]=new l(t,[]),n.beginGetIdentityMru(t,!1,undefined,undefined,i)),n.identityMruMap[t]},n.identityMruMap={},n}();t.IdentityMruStore=v;c=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeConnection=function(t){n.prototype.initializeConnection.call(this,t);this._httpClient=t.getHttpClient(o.IdentityMruHttpClient)},t.prototype.beginGetMru=function(n,t,r){this._httpClient.beginGetMru(n).then(function(n){typeof t=="function"&&t(n)},r||i.handleError)},t.prototype.beginPostMruIdentity=function(n,t,r,u){this._httpClient.beginPostMruIdentity(n,t).then(function(){typeof r=="function"&&r()},u||i.handleError)},t.prototype.beginDeleteMruIdentity=function(n,t,r,u){this._httpClient.beginDeleteMruIdentity(n,t).then(function(){typeof r=="function"&&r()},u||i.handleError)},t}(e.VssService);t.IdentityMruService=c;l=function(){function n(n,t){this._mruName=n;this._refreshing=!1;this._events=new f.NamedEventCollection;this.refresh(t)}return n.prototype.refresh=function(n,t){var i=this;this._mruItems=n;this._idToMruItemMap={};$.each(this._mruItems,function(n,t){i._idToMruItemMap[t.id]=t});t&&this.fireMruRefreshed()},n.prototype.addItems=function(n){var u=this,t=[],i=[],f,r;$.each(n,function(n,r){r.id&&(t.push(r.id),i.push(r),u._idToMruItemMap[r.id]=r)});this._mruItems=h.IdentityHelper.union(this._mruItems,i);t.length>0&&(f=a.getDefault(),r=e.getCollectionService(c),r.beginPostMruIdentity(this._mruName,t))},n.prototype.removeItems=function(n){var i=this,t=[],r=[],f,u;$.each(n,function(n,u){u.id&&i.isItemInMru(u)&&(t.push(u.id),r.push(u),delete i._idToMruItemMap[u.id])});this._mruItems=h.IdentityHelper.subtract(this._mruItems,r);t.length>0&&(f=a.getDefault(),u=e.getCollectionService(c),u.beginDeleteMruIdentity(this._mruName,t))},n.prototype.setRefreshing=function(n){this._refreshing=n},n.prototype.isRefreshing=function(){return this._refreshing},n.prototype.isItemInMru=function(n){return n&&n.id&&this._idToMruItemMap[n.id]?!0:!1},n.prototype.getMruItems=function(){return this._mruItems},n.prototype.attachMruRefreshed=function(t){this._events.subscribe(n.MRU_REFRESHED_EVENT,t)},n.prototype.detachMruRefreshed=function(t){this._events.unsubscribe(n.MRU_REFRESHED_EVENT,t)},n.prototype.fireMruRefreshed=function(){this._events.invokeHandlers(n.MRU_REFRESHED_EVENT,this.getMruItems())},n.MRU_REFRESHED_EVENT="mru-refreshed",n}();t.IdentityMru=l;y=function(){function n(){}return n.prototype.beginAadIdentitySearch=function(n,t,i,f,e){var e=e||u.TfsContext.getDefault(),o=e.getActionUrl("searchAadIdentities","identity",{project:"",team:"",area:"api"});r.getMSJSON(o,{searchTerm:n,identityType:t},i,f)},n.prototype.beginTfsIdentitySearch=function(n,t,i,f,e){var e=e||u.TfsContext.getDefault(),o=e.getActionUrl("searchIdentities","wit",{project:"",team:"",area:"api"});r.getMSJSON(o,{searchTerm:n,identityType:t},i,f)},n}();t.BaseIdentityProvider=y});

/*!
 * jQuery UI Autocomplete 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/autocomplete",["jquery","./menu","./keycode","./position","./safe-active-element","./version","./widget"],e):e(jQuery)}(function(e){"use strict";return e.widget("ui.autocomplete",{version:"1.13.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,u="input"===n;this.isMultiLine=o||!u&&this._isContentEditable(this.element),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault()},menufocus:function(t,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&String.prototype.trim.call(s).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(e("<div>").text(s))},100))},menuselect:function(t,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",t,{item:s})&&this._value(s.value),this.term=this._value(),this.close(t),this.selectedItem=s}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;Array.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||s)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(e("<div>").text(i))},100))}}),e.ui.autocomplete});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Presentation/Scripts/TFS/TFS.UI.Controls.Identities",["require","exports","VSS/Utils/Core","VSS/Utils/String","VSS/Diag","VSS/Resources/VSS.Resources.Platform","Presentation/Scripts/TFS/TFS.Legacy.Ajax","VSS/Controls","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/UI","VSS/Controls/Notifications","VSS/Controls/StatusIndicator","VSS/Events/Services","Presentation/Scripts/TFS/TFS.OM.Identities","VSS/Utils/Html","VSS/Telemetry/Services","Presentation/Scripts/TFS/TFS.OM.Identities.Mru","VSS/Controls/PopupContent","jQueryUI/autocomplete"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k,tt,it;Object.defineProperty(t,"__esModule",{value:!0});t.IdentityViewControl=t.IdentitySearchMode=t.MruIdentityPickerControl=void 0;var d=i.delegate,nt=h.domElem,g=h.KeyCode,rt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"mru-identity-picker input-text-box",pageSize:t.IDENTITY_PICKER_PAGE_SIZE,showDrop:!0,showSelectionAvatar:!0,enableTfsSearch:!0,enableAadSearch:s.TfsContext.getDefault().isAADAccount,identityProvider:new w.BaseIdentityProvider},i))},t.prototype.initialize=function(){var i=this,r;n.prototype.initialize.call(this);this._identityMru=this._options.identityMru;this._selectedItem=this._options.selectedItem;this._enabled=typeof this._options.enabled=="boolean"?this._options.enabled:!0;this._searchItems=[];this._identityFilter=this._options.identityFilter||v.IdentityFilter.All;this._searchTerm="";this._prevSearchTerm="";this._searchMode=this._getDefaultSearchMode();this._deleteItemsQueue=[];this._identityProvider=this._options.identityProvider;this._tfsContext=this._options.tfsContext;r=this._options.items||this._identityMru.getMruItems().slice(0);this._items=this._filterItems(r);this._mruRefreshedDelegate=d(this,this.setSource);this._identityMru.attachMruRefreshed(this._mruRefreshedDelegate);this._$wrapper=$("<div/>").addClass("wrap");this._$wrapper.on("click",function(n){i._enabled&&!$(n.target).hasClass("mru-identity-picker-input")&&i._input.focus()});if(this._input=$("<input>").attr("type","text").addClass("mru-identity-picker-input").appendTo($("<div/>").addClass("text-wrapper").appendTo(this._$wrapper)),this._options.id&&this._input.attr("id",this._options.id+"_txt"),this._showUnsetImage=this._options.showUnsetImage===!0,this._watermarkText=this._options.watermark!==undefined&&typeof this._options.watermark=="string"?this._options.watermark:f.MruIdentityPickerWatermark,this._unsetIdentityImageResource=this._options.unsetIdentityImageResource!==undefined&&typeof this._options.unsetIdentityImageResource=="string"?this._options.unsetIdentityImageResource:t.DefaultUnsetIdentityImageResource,this._enabled&&h.Watermark(this._input,{watermarkText:this._watermarkText}),this._input.attr("title",f.MruIdentityPickerTooltip),this._enabled||this.setEnabled(this._enabled),this._input.attr("autocomplete","off"),this._bind(this._input,"keydown",d(this,this._onInputKeyDown)),this._input.focus(function(){i._enabled&&i._onInputFocus()}),this._input.mousedown(function(){i._enabled&&!i._input.is(":focus")&&i._input.focus()}),this._bind(this._input,"blur",d(this,this._onInputBlur)),this._options.showDrop){this._dropButton=$(nt("div","drop")).appendTo(this.getElement());this._bind(this._dropButton,"click",d(this,this._onDropClick));this._dropButton.on("mousedown",function(n){n.preventDefault()});this._enabled?this._element.addClass("drop"):this._dropButton.hide()}this._$wrapper.appendTo(this.getElement());this._listContainer=this._options.pickerContainer||this.getElement();this._identityPickerListView=o.BaseControl.createIn(tt,this._listContainer,{identityMru:this._identityMru,pageSize:this._options.pageSize,items:this._items,onItemSelect:function(n){i._selectItem(n,{highlightText:!0})},onItemDelete:function(n){i._removeItem(n)},onTfsIdentitySearch:function(){i._beginTfsIdentitySearch(i._searchTerm)},onAadIdentitySearch:function(){i._beginAadIdentitySearch(i._searchTerm)}});this._selectedItem&&this.setValue(this._selectedItem);this._hideDropDown();s.TfsContext.getDefault().isHosted&&this._options.enableAadSearch&&this._checkForGuestUsers()},t.prototype._checkForGuestUsers=function(){function i(t){n._options.enableAadSearch=!t.isGuest}function r(){n._options.enableAadSearch=!1}var n=this,t=s.TfsContext.getDefault(),u=t.getActionUrl("IsGuestAadUser","identity",{project:"",team:"",area:"api"});e.getMSJSON(u,{userEmail:t.currentIdentity.email},i,r)},t.prototype.dispose=function(){this._identityMru.detachMruRefreshed(this._mruRefreshedDelegate);n.prototype.dispose.call(this)},t.prototype.getItems=function(){return this._items},t.prototype.setSource=function(n){this._items=this._filterItems(v.IdentityHelper.union(n,this._items))},t.prototype.focus=function(){this._input.focus()},t.prototype.getIdentityMru=function(){return this._identityMru},t.prototype.setEnabled=function(n){n?(this._input.prop("readonly",!1),this._input.removeClass("disabled"),this.getElement().removeClass("readonly"),h.Watermark(this._input,{watermarkText:this._watermarkText}),this._options.showDrop&&(this._dropButton.show(),this._element.addClass("drop"))):(h.Watermark(this._input,{watermarkText:""}),this._input.attr("readonly","readonly"),this._input.addClass("disabled"),this.getElement().addClass("readonly"),this._options.showDrop&&(this._dropButton.hide(),this._element.addClass("drop")));this._enabled=n},t.prototype.getInput=function(){return this._input},t.prototype.getInputText=function(){return this._input.val().trim()},t.prototype.setInputText=function(n,t){this._input.val(n);n.trim()||this._input.trigger("blur");this._searchTerm=n;this._hideDropDown();t&&this._fireChange({selectedItem:this._selectedItem})},t.prototype.getValue=function(){return this._selectedItem?this._selectedItem:{id:"",displayName:this.getInputText(),uniqueName:""}},t.prototype.setValue=function(n,t){t===void 0&&(t=!0);n?(typeof n=="string"&&(n=v.IdentityHelper.parseUniquefiedIdentityName(n)),(n.id||n.uniqueName)&&(this._items=v.IdentityHelper.union(this._items,[n])),this._selectItem(n,{fireChange:t})):this.clear()},t.prototype.setInvalid=function(n){this._element.toggleClass("invalid",n);this._input.attr("aria-invalid",n?"true":"false")},t.prototype.clear=function(n){n===void 0&&(n=!0);this._selectedItem=null;this._searchItems=[];this._markUnresolved();this.setInputText("",n);this._input.attr("title",f.MruIdentityPickerTooltip);this._searchTerm=""},t.prototype.getSearchResult=function(n,t){if(t==="")return[];var r=$.ui.autocomplete.escapeRegex(t),i=new RegExp("(^)"+r,"i");return $.grep(n,function(n){var t=n.uniqueName||"";return t.indexOf("\\")>=0&&(t=t.substr(t.indexOf("\\")+1)),i.test(n.displayName)||i.test(t)})},t.prototype._filterItems=function(n){switch(this._identityFilter){case v.IdentityFilter.Users:return $.map(n,function(n){return n.isContainer?null:n});case v.IdentityFilter.Groups:return $.map(n,function(n){return n.isContainer?n:null});default:return n}},t.prototype._beginAadIdentitySearch=function(n){function e(n){var f=new Date;t._searchItems=v.IdentityHelper.union(n,t._searchItems);t._search({force:!0,showDropDown:!0,searchMode:k.None,fireChange:!1});i={elapsedTime:f.getTime()-r.getTime()};p.publishEvent(new p.TelemetryEventData("IdentityPicker","AadIdentitySearchTime",i));u.logTracePoint("IdentityPicker.AadIdentitySearchEnd")}function o(){t._identityPickerListView.showError(f.AADServiceUnavailable);u.logTracePoint("IdentityPicker.AadIdentitySearchEnd")}var t=this,i,r;u.logTracePoint("IdentityPicker.AadIdentitySearchStart");this._prevSearchTerm=n;this._identityPickerListView.showLoading();i={searchTerm:n.length};p.publishEvent(new p.TelemetryEventData("IdentityPicker","AadIdentitySearch",i));r=new Date;n=n.replace("'","''");this._identityProvider.beginAadIdentitySearch(n,this._identityFilter,e,o,this._tfsContext)},t.prototype._beginTfsIdentitySearch=function(n){function f(n){var f=new Date;v.IdentityHelper.preProcessIdentities(n);t._searchMode=t._options.enableAadSearch?k.SearchAad:k.None;t._searchItems=n;t._search({force:!0,showDropDown:!0,searchMode:t._searchMode,fireChange:!1});i={elapsedTime:f.getTime()-r.getTime()};p.publishEvent(new p.TelemetryEventData("IdentityPicker","IdentitySearchTime",i));u.logTracePoint("IdentityPicker.TfsIdentitySearchEnd")}function e(){t._identityPickerListView.showError();u.logTracePoint("IdentityPicker.TfsIdentitySearchEnd")}var t=this,i,r;u.logTracePoint("IdentityPicker.TfsIdentitySearchStart");this._prevSearchTerm=n;this._identityPickerListView.showLoading();i={searchTerm:n.length};p.publishEvent(new p.TelemetryEventData("IdentityPicker","IdentitySearch",i));r=new Date;this._identityProvider.beginTfsIdentitySearch(n,this._identityFilter,f,e,this._tfsContext)},t.prototype._hideDropDown=function(){this._dropdownVisible=!1;this._identityPickerListView.hideElement();this._detachGlobalEvents()},t.prototype._showDropDown=function(){this._dropdownVisible=!0;this._identityPickerListView.showElement();this._identityPickerListView.setPosition();this._attachGlobalEvents()},t.prototype._selectItem=function(n,t){var f=this,r,u,i;if(n){if(r=!0,t&&typeof t.fireChange=="boolean"&&(r=t.fireChange),this._markUnresolved(),this._selectedItem=n,this.setInputText(n.displayName,r),this._input.attr("aria-owns","items-container-id"),this._input.attr("aria-autocomplete","list"),this._input.attr("role","combobox"),this._input.attr("title",v.IdentityHelper.getFriendlyDistinctDisplayName(n)),u=v.IdentityHelper.getIdentityImageUrl(n,v.IdentityImageMode.ShowGenericImage),this._options.showSelectionAvatar&&u&&n.showGenericImage!==!1){this._resolvedIdentityImage=$("<div/>").addClass("img-container loading").prependTo(this._$wrapper);i=$("<img>").attr("alt",n.displayName).attr("title",v.IdentityHelper.getFriendlyDistinctDisplayName(n)).appendTo(this._resolvedIdentityImage);i.one("load",function(){f._resolvedIdentityImage.removeClass("loading")});i.one("error",function(){f._resolvedIdentityImage.removeClass("loading");var n=s.TfsContext.getDefault();i.attr("src",n.configuration.getResourcesFile("User.svg"))});i.attr("src",u);this._$wrapper.addClass("resolved")}t&&t.highlightText&&this._input.select();typeof this._options.selectionChanged=="function"&&this._options.selectionChanged(n)}},t.prototype._onInputKeyDown=function(n){function o(){return u._identityPickerListView.searchMode===k.SearchAad?(u._beginAadIdentitySearch(u._searchTerm),!0):u._identityPickerListView.searchMode===k.SearchTfs?(u._beginTfsIdentitySearch(u._searchTerm),!1):void 0}var t=this,u=this,s,f,h,e,r,c;if(n.ctrlKey&&(n.keyCode===89||n.keyCode===90))return!1;switch(n.keyCode){case g.UP:if(this._dropdownVisible)return s=this._identityPickerListView.selectPrev(),f=this._identityPickerListView.getSelectedItem(),f&&this._input.attr("aria-activedescendant",f.id),s;case g.DOWN:if(this._dropdownVisible)return h=this._identityPickerListView.selectNext(),e=this._identityPickerListView.getSelectedItem(),e&&this._input.attr("aria-activedescendant",e.id),h;this._openDropdownAndHideSelection();case g.PAGE_UP:if(this._dropdownVisible)return this._identityPickerListView.prevPage();case g.PAGE_DOWN:if(this._dropdownVisible)return this._identityPickerListView.nextPage();case g.TAB:return this._dropdownVisible&&(r=this._identityPickerListView.getSelectedItem(),r&&i.delay(this,0,function(){t._selectItem(r)}),this._hideDropDown()),!0;case g.ENTER:return this._dropdownVisible?(r=this._identityPickerListView.getSelectedItem(),r?this._selectItem(r,{highlightText:!0}):o(),!1):!0;case g.ESCAPE:return this._selectedItem&&this._selectItem(this._selectedItem),this._hideDropDown(),!1;case g.DELETE:return this._dropdownVisible?(r=this._identityPickerListView.getSelectedItem(),r&&this._identityMru.isItemInMru(r)&&this._getCaretPosition()===this._input.val().length?(this._removeItem(r),this._identityPickerListView.removeItem(this._identityPickerListView.getSelectedIndex()),!1):(i.delay(this,0,function(){t._selectedItem=null;t._markUnresolved();t._search({showDropDown:t._dropdownVisible})}),!0)):(i.delay(this,0,function(){t._selectedItem=null;t._markUnresolved();t._search({showDropDown:!0})}),!0);case g.QUESTION_MARK:this._dropdownVisible&&n.ctrlKey&&o();default:return c=this.getInputText(),i.delay(this,0,function(){c!==t.getInputText()&&(t._prevSearchTerm&&t.getInputText().indexOf(t._prevSearchTerm)!==0&&(t._prevSearchTerm="",t._searchMode=t._getDefaultSearchMode()),t._selectedItem=null,t._markUnresolved(),t._search({showDropDown:!0}))}),!0}},t.prototype._markUnresolved=function(){this._resolvedIdentityImage&&(this._resolvedIdentityImage.remove(),this._resolvedIdentityImage=null);this._hideUnassignedIdentityImage(!1);this._$wrapper.removeClass("resolved")},t.prototype._hideUnassignedIdentityImage=function(n){this._unsetIdentityImage&&(this._unsetIdentityImage.remove(),this._unsetIdentityImage=null,n&&this._$wrapper.hasClass("resolved")&&this._$wrapper.removeClass("resolved"))},t.prototype._getCaretPosition=function(){var n=this._input[0];return n.selectionStart},t.prototype._removeItem=function(n){var t=this;n&&this._identityMru.isItemInMru(n)&&(this._deleteItemsQueue.push(n),this._deletingTimeout!==null&&(clearTimeout(this._deletingTimeout),this._deletingTimeout=null),this._deletingTimeout=setTimeout(function(){t._identityMru.removeItems(t._deleteItemsQueue);t._deleteItemsQueue=[]},500),this._items=v.IdentityHelper.subtract(this._items,[n]),this._searchItems=v.IdentityHelper.subtract(this._searchItems,[n]))},t.prototype._openDropdownAndHideSelection=function(){var n=this;this._search({force:!0,showDropDown:!1,fireChange:!1});this._markUnresolved();this._showDropDown();i.delay(this,0,function(){n._input.select()});this._selectedItem&&this._input.attr("aria-activedescendant",this._selectedItem.id)},t.prototype._onDropClick=function(){this._dropdownVisible?(this._hideDropDown(),this._selectedItem&&this._selectItem(this._selectedItem)):(this._openDropdownAndHideSelection(),this._enabled=!1,this._input.focus(),this._enabled=!0)},t.prototype._onInputFocus=function(){this._element.addClass("focus");this.getInputText()?this._openDropdownAndHideSelection():this._hideUnassignedIdentityImage(!0);typeof this._options.onInputFocus=="function"&&this._options.onInputFocus()},t.prototype._onInputBlur=function(){var t=this,n,r;this._element.removeClass("focus");$(".identity-picker-list-view:hover",this._element).length===0?(this._hideDropDown(),this._selectedItem?this._selectItem(this._selectedItem):this._enabled&&this._showUnsetImage&&(this._hideUnassignedIdentityImage(!0),n=this._tfsContext.configuration.getResourcesFile(this._unsetIdentityImageResource),this._unsetIdentityImage=$("<div/>").addClass("img-container").prependTo(this._$wrapper),r=$("<img>").attr("title",this._watermarkText).appendTo(this._unsetIdentityImage).attr("src",n),this._$wrapper.addClass("resolved")),typeof this._options.onInputBlur=="function"&&this._options.onInputBlur()):(this._enabled=!1,this._input.focus(),i.delay(this,0,function(){t._enabled=!0}))},t.prototype._getDefaultSearchMode=function(){return this._options.enableTfsSearch?k.SearchTfs:this._options.enableAadSearch?k.SearchAad:k.None},t.prototype._search=function(n){var t=this,e,o,i,s,r;u.logTracePoint("IdentityPicker.SearchStarted");e=function(){return t._searchTerm?n&&n.searchMode?n.searchMode:t._prevSearchTerm&&t._searchTerm.indexOf(t._prevSearchTerm)===0?t._searchMode:t._getDefaultSearchMode():k.None};(n&&n.force||this._searchTerm!==this.getInputText())&&(this._searchTerm=this.getInputText(),o=e(),i=this._items,this._searchTerm?(s=v.IdentityHelper.union(this._searchItems,this._items),i=this.getSearchResult(s,this._searchTerm)):this._searchItems=[],this._identityPickerListView.update(i,this._searchTerm,o),this._selectedItem||this._input.attr("title",this._searchTerm===""?f.MruIdentityPickerTooltip:this._searchTerm),n&&n.showDropDown&&this._searchTerm?this._showDropDown():this._hideDropDown(),r=!0,n&&typeof n.fireChange=="boolean"&&(r=n.fireChange),r&&this._fireChange({selectedItem:this._selectedItem}),u.logTracePoint("IdentityPicker.SearchEnd"))},t.prototype._fireChange=function(n){typeof this._options.change=="function"&&this._options.change(n)},t.prototype._attachGlobalEvents=function(){this._bind(this.getElement().parents(),"scroll",d(this,this._hideDropDown));this._bind(this.getElement().parents(),"resize",d(this,this._hideDropDown));a.getService().attachEvent("dialog-move",d(this,this._hideDropDown))},t.prototype._detachGlobalEvents=function(){this._unbind(this.getElement().parents(),"scroll",d(this,this._hideDropDown));this._unbind(this.getElement().parents(),"resize",d(this,this._hideDropDown));a.getService().detachEvent("dialog-move",d(this,this._hideDropDown))},t.IDENTITY_PICKER_PAGE_SIZE=8,t.DefaultUnsetIdentityImageResource="notassigned-user.svg",t}(o.BaseControl);t.MruIdentityPickerControl=rt,function(n){n[n.None=1]="None";n[n.SearchTfs=2]="SearchTfs";n[n.SearchAad=3]="SearchAad"}(k=t.IdentitySearchMode||(t.IdentitySearchMode={}));tt=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._scrollTimeout=null,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"identity-picker-list-view",pageSize:10},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._identityMru=this._options.identityMru;this._element.on("mousedown",function(n){n.preventDefault()});this._element.attr("role","menu");this._element.attr("aria-hidden","true");this.update(this._options.items,this._options.highlightTerm)},t.prototype.setPosition=function(){var i=this._element.parent().outerWidth()-2,u;this._element.width(i<t.MIN_WIDTH?t.MIN_WIDTH:i);h.Positioning.position(this.getElement(),this._element.parent(),{elementAlign:"left-top",baseAlign:"left-bottom"});var n=this._element.parent().offset().top,f=this._element.offset().top,r=this._element.height();f<n&&n<r&&(u=this._itemsContainer.height(),this._itemsContainer.height(u-(r-n)))},t.prototype.update=function(n,t,i){i===void 0&&(i=k.SearchTfs);this._items=n||[];this._highlightTerm=t||"";this._itemsUIArr=[];this._selectedIndex=null;this.searchMode=i;this._render();this.setSelectedIndex(0,!1)},t.prototype.getListItems=function(){return this._items},t.prototype.showLoading=function(){var n=$(".search",this._element).empty(),t=o.BaseControl.createIn(l.StatusIndicator,n,{center:!0,message:f.Loading});t.start()},t.prototype.showError=function(n){var t=$(".search",this._element).empty().addClass("search-error").off("click").removeClass("search-tfs-noresult"),i;this.searchMode=k.None;i=o.BaseControl.createIn(c.MessageAreaControl,t,{closeable:!1,message:{header:$("<span/>").html(n||f.MruIdentityPickerError),type:c.MessageAreaType.Warning},showIcon:!0})},t.prototype.nextPage=function(){var n=this._selectedIndex+this._options.pageSize;return this._loadNextPage(!0),this.setSelectedIndex(n<this._itemsUIArr.length?n:this.searchMode===k.None?this._itemsUIArr.length-1:-1,!0,h.Positioning.VerticalScrollBehavior.Top),!1},t.prototype.prevPage=function(){var n=this._selectedIndex-this._options.pageSize;return this.setSelectedIndex(n>=0?n:0,!0,h.Positioning.VerticalScrollBehavior.Top),!1},t.prototype.selectNext=function(){return(this._selectedIndex<this._numItemsDisplayed-1||this._selectedIndex===this._items.length-1)&&this.setSelectedIndex(this._selectedIndex+1,!0),!1},t.prototype.selectPrev=function(){return this._selectedIndex>0&&this.setSelectedIndex(this._selectedIndex-1,!0,h.Positioning.VerticalScrollBehavior.Top),!1},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t.prototype.getSelectedItem=function(){return this._selectedIndex>=this._items.length?null:this._items[this._selectedIndex]},t.prototype.setSelectedIndex=function(n,t,i){i===void 0&&(i=h.Positioning.VerticalScrollBehavior.Bottom);n>=0&&n<this._itemsUIArr.length&&(this._selectedIndex=n,$("li",this._itemsContainer).removeClass("selected"),$("li").attr("aria-selected","false"),$(".search",this._element).removeClass("selected"),this._itemsUIArr[this._selectedIndex].addClass("selected"),this._element.css("display")!=="none"&&this._itemsUIArr[this._selectedIndex].attr("aria-selected","true"),t&&this._scrollItemIntoView(this._selectedIndex,i))},t.prototype.removeItem=function(n){n<this._items.length&&n>=0&&(this._itemsUIArr[n].remove(),this._items.splice(n,1),this._itemsUIArr.splice(n,1),this._numItemsDisplayed--,this._loadNextPage(),n===this._selectedIndex&&this.setSelectedIndex(n,!0),this._numItemsDisplayed>0&&this._numItemsDisplayed<this._items.length?this._$itemsStatus.text(r.format(f.MruIdentityPickerStatus,this._items.length)):this._$itemsStatus.hide(),this.setPosition())},t.prototype.hideElement=function(){this._element.attr("aria-hidden","true");n.prototype.hideElement.call(this)},t.prototype.showElement=function(){this._element.attr("aria-hidden","false");n.prototype.showElement.call(this)},t.prototype._render=function(){var t=this,o=this._element.parent(),i,n,u,e;if(this._element.detach(),this._element.empty(),this._itemsContainer=$(nt("ul","items")),this._itemsContainer.attr("id","items-container-id"),this._element.append(this._itemsContainer),this._itemsContainer.scroll(function(n){t._onScroll(n)}),this._items.length==0)this._numItemsDisplayed=0;else for(this._numItemsDisplayed=Math.min(this._items.length,this._options.pageSize),i=0;i<Math.min(this._items.length,this._options.pageSize);i++)this._itemsContainer.append(this._createItem(i));if(this._$itemsStatus=$("<div/>").addClass("search-result-status").appendTo(this._element),this._numItemsDisplayed>0&&this._numItemsDisplayed<this._items.length?this._$itemsStatus.text(r.format(f.MruIdentityPickerStatus,this._items.length)):this._$itemsStatus.hide(),this.searchMode!==k.None){u=this.searchMode===k.SearchTfs?f.MruIdentityPickerTfsSearchTitle:f.MruIdentityPickerAadSearchTitle;n=$("<div/>").addClass("search").attr("title",u).attr("role","menu");this.searchMode===k.SearchAad&&this._items.length==0?(e=f.MruIdentityPickerNoResult,n=n.addClass("search-tfs-noresult").text(e).append("<br />").append(u).appendTo(this._element)):n=n.text(u).appendTo(this._element);n.append($("<span/>").addClass("bowtie-icon bowtie-search"));n.click(function(){t.searchMode===k.SearchTfs&&typeof t._options.onTfsIdentitySearch=="function"?t._options.onTfsIdentitySearch():t.searchMode===k.SearchAad&&typeof t._options.onAadIdentitySearch=="function"&&t._options.onAadIdentitySearch()});this._itemsUIArr.push(n);n.on("mouseenter",function(){n.addClass("hover")}).on("mouseleave",function(){n.removeClass("hover")})}else this._items.length===0&&(n=$("<div/>").addClass("no-result").text(f.MruIdentityPickerNoResult).appendTo(this._element));o.append(this._element)},t.prototype._createItem=function(n){var r=this,t=this._items[n],e=$.ui.autocomplete.escapeRegex(this._highlightTerm),a=new RegExp("(^)"+e,"i"),c=new RegExp("(^)"+e,"i"),o=v.IdentityHelper.getFriendlyUniqueName(t),u,h;o.indexOf("\\")>=0&&(c=new RegExp("(\\\\)"+e,"i"));var p=t.displayName.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(a,function(n){return"<b>"+n+"<\/b>"}),w=o.replace(c,function(n){return o.indexOf("\\")>=0?(n=n.replace("\\",""),"\\<b>"+n+"<\/b>"):"<b>"+n+"<\/b>"}),l=v.IdentityHelper.getIdentityImageUrl(t,v.IdentityImageMode.ShowGenericImage),i=$(y.TemplateEngine.tmpl('<li title="${tooltip}" class="${itemClass} list-item"  id="${id}" role="menuitem" alt="${tooltip}">   <div class="item-image-container loading ${imgClass}" aria-hidden="true">       <img alt="${alt}" class="identity-picture small" />   <\/div>   <div class="item-text-container">       <div class="title" >{{html title}}<\/div>       <div class="subtitle" >{{html subtitle}}<\/div>   <\/div>   <div class="icon icon-delete-small" title="${iconTitle}" aria-hidden="true"><\/div><\/li>',{id:t.id,title:p,subtitle:w,alt:t.displayName,tooltip:v.IdentityHelper.getFriendlyDistinctDisplayName(t),iconTitle:f.MruIdentityPickerRemoveItemTitle,imgClass:l&&t.showGenericImage!==!1?"":"hidden",itemClass:this._identityMru.isItemInMru(t)?"mru-item":"non-mru-item"}));this._itemsUIArr.push(i);u=i.find("img.identity-picture");h=i.find("div.item-image-container");u.one("load",function(){h.removeClass("loading")});u.one("error",function(){h.removeClass("loading");var n=s.TfsContext.getDefault();u.attr("src",n.configuration.getResourcesFile("User.svg"))});u.attr("src",l);$(".icon.icon-delete-small",i).click(function(){if(typeof r._options.onItemDelete=="function"){r._options.onItemDelete(t);r.removeItem(i.index())}return!1});i.click(function(){if(typeof r._options.onItemSelect=="function")r._options.onItemSelect(t)});i.on("mouseenter",function(){i.addClass("hover")}).on("mouseleave",function(){i.removeClass("hover")});return i},t.prototype._scrollItemIntoView=function(n,t){h.Positioning.scrollIntoViewVertical(this._itemsUIArr[n],t)},t.prototype._onScroll=function(){return this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null),this._scrollTimeout=setTimeout(d(this,this._loadNextPage),100),!1},t.prototype._loadNextPage=function(n){var t,i;if(n===void 0&&(n=!1),n||this._isCloseToBottom()){for(t=this._numItemsDisplayed;t<this._numItemsDisplayed+Math.min(this._items.length-this._numItemsDisplayed,this._options.pageSize);t++)this.searchMode!==k.None&&(i=this._itemsUIArr.pop()),this._itemsContainer.append(this._createItem(t)),i&&this._itemsUIArr.push(i);this._numItemsDisplayed+=Math.min(this._items.length-this._numItemsDisplayed,this._options.pageSize);this._numItemsDisplayed>0&&this._numItemsDisplayed<this._items.length&&this._$itemsStatus.text(r.format(f.MruIdentityPickerStatus,this._items.length))}this._scrollTimeout!==null&&(clearTimeout(this._scrollTimeout),this._scrollTimeout=null)},t.prototype._isCloseToBottom=function(){return this._itemsContainer.scrollTop()+this._itemsContainer.outerHeight()>=this._itemsContainer[0].scrollHeight-5},t.AVATAR_WIDTH=40,t.TEXT_MARGIN=25,t.MIN_WIDTH=250,t.enhancementTypeName="tfs.identityPickerListViewControl",t}(o.BaseControl);it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.getIdentityViewElement=function(n,i){var r=$("<div/>"),u=o.BaseControl.createIn(t,r,$.extend({identifier:n},i));return u.getElement()},t.renderIdentityCellContents=function(n,i,r,u,f,e,s,h,c){var l,v,a;return c===void 0&&(c=!1),l=n._drawCell(i,r,u,f,e,s,h),v=n.getColumnText(r,e,h),l&&(l.addClass("identity-grid-cell"),l.empty(),a=o.create(t,l,{identifier:v,showImage:c,showTooltip:!1}),a.tooltipInfo&&a.tooltipInfo.tooltipText&&(l.data("tooltipText",a.tooltipInfo.tooltipText),l.data("tooltipShowOnOverflow",a.tooltipInfo.showOnOverflow))),l},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"identity-view-control",showImage:!0},t))},t.prototype.initialize=function(){var u,l,f,c,o,s,h;n.prototype.initialize.call(this);this.tooltipInfo={tooltipText:"",showOnOverflow:!1};var t=this._options,e=this.getElement(),i=null;$.isPlainObject(t.identifier)?i=t.identifier:typeof t.identifier=="string"&&(i=v.IdentityHelper.parseUniquefiedIdentityName(t.identifier));u="";l=!1;i&&(u=i.displayName,f=v.IdentityHelper.getFriendlyDistinctDisplayName(i),c=r.localeIgnoreCaseComparer(u,f)!==0,t.showTooltip!==!1?b.RichContentTooltip.add(f,e,u===f?{onlyShowWhenOverflows:e}:undefined):f&&(this.tooltipInfo.tooltipText=f,this.tooltipInfo.showOnOverflow=!c));o=!1;t.showImage&&i&&(s=v.IdentityHelper.getIdentityImageUrl(i,undefined,t.size),s&&(o=!0,h=$("<img />").attr("src",s),h.appendTo(e),t.showTooltip!==!1&&b.RichContentTooltip.add(u,h)));o||e.addClass("no-image");$("<span/>").text(u).appendTo(e)},t}(o.Control);t.IdentityViewControl=it});

define("Agile/Scripts/Card/CardUtils",["require","exports","Agile/Scripts/Common/Utils","Agile/Scripts/Common/Agile","Agile/Scripts/Card/Cards","VSS/Identities/Picker/Controls","VSS/Controls/PopupContent","VSS/Utils/Array","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/Locations","Presentation/Scripts/TFS/TFS.UI.Controls.Identities","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/OM/WiqlOperators","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function b(n){return n?[i.DatabaseCoreFieldRefName.Id,i.DatabaseCoreFieldRefName.Title,i.DatabaseCoreFieldRefName.AssignedTo,n,i.DatabaseCoreFieldRefName.Tags]:[i.DatabaseCoreFieldRefName.Id,i.DatabaseCoreFieldRefName.Title,i.DatabaseCoreFieldRefName.AssignedTo,i.DatabaseCoreFieldRefName.Tags]}function tt(n,t){var i=b(t);return o.contains(i,n,h.ignoreCaseComparer)}function it(n,t){var i;return Math.abs(n.outerHeight()-t.outerHeight())>2?(n.children(".multi-line-ellipsis").length===0&&(i=$("<div>...<\/div>"),i.addClass("multi-line-ellipsis"),n.append(i)),e.RichContentTooltip.add(t.text(),t)):n.children(".multi-line-ellipsis").length!==0?(n.children(".multi-line-ellipsis").remove(),null):void 0}function rt(n,t,i,r,f){n.forEach(function(n){var e,s=n[u.CardSettings.FIELD_IDENTIFIER],o;s&&(e=f(s));e?(o=nt(e,t,i,r),o&&(n.isEditable=o.toString())):n.isEditable=r.toString()})}function ut(n,t){return k(n,t,u.CardFieldDisplayType.ADDITIONAL)}function ft(n,t){return k(n,t,u.CardFieldDisplayType.CORE)}function et(n,t,i){var f=u.CardFieldDisplayFormats.AssignedToFieldFormats,e=t!==f.FullName,r;return r=a.IdentityViewControl.getIdentityViewElement(n,{showImage:e,size:i}),t===f.AvatarOnly&&r.find("span").addClass("avatar-only"),r.find("span").addClass("ellipsis"),r.html()}function k(n,t,i){var r=!1,u=d(n,t);return u!==null&&u!==i&&(r=!0),r}function d(n,t){var i=null;return h.ignoreCaseComparer(n[u.CardSettings.FIELD_IDENTIFIER],"")!==0&&(i=n&&n[u.CardSettings.FIELD_DISPLAY_TYPE]?u.CardFieldDisplayType[n[u.CardSettings.FIELD_DISPLAY_TYPE].toUpperCase()]:o.contains(t,n[u.CardSettings.FIELD_IDENTIFIER],h.ignoreCaseComparer)?u.CardFieldDisplayType.CORE:u.CardFieldDisplayType.ADDITIONAL),i}function ot(n,t){$.map(n,function(n){var i=new u.WitCardFieldDefinition(n.ReferenceName,n.Name,n.Type,n.IsEditable,n.IsIdentity);t[n.ReferenceName.toUpperCase()]=i})}function st(n,t){var i={};return n.forEach(function(n){var r=n[u.CardSettings.FIELD_IDENTIFIER].toUpperCase(),f=t(r);i[r]=f}),i}function ht(n,t){var i=null,r,u,f;return n instanceof Date?i=n:typeof n=="number"?i=new Date(n):typeof n=="string"&&(r=n,r=r.trim(),h.startsWith(r,p.WiqlOperators.MacroToday,h.ignoreCaseComparer)?(r=r.replace(/\s/g,""),r=r.substr(p.WiqlOperators.MacroToday.length),r===""?i=new Date:(u=r.match(/([+-])(\d+)/),u&&(f=parseInt(u[2]),u[1]==="-"&&(f*=-1),i=new Date,i=s.addDays(i,f,!0))),i&&(i=s.convertClientTimeToUserTimeZone(i,!0))):i=t?s.parseDateString(n,undefined,!0):new Date(r)),i}function ct(n){if(!n)return!1;var t=w.BacklogConfigurationService.getBacklogFieldName(w.BacklogFieldTypes.Order);if(h.ignoreCaseComparer(t,n)===0)return!0;switch(n.toLowerCase()){case v.CoreFieldRefNames.AreaId.toLowerCase():case v.CoreFieldRefNames.IterationId.toLowerCase():case v.CoreFieldRefNames.Rev.toLowerCase():case v.CoreFieldRefNames.RevisedDate.toLowerCase():case v.CoreFieldRefNames.NodeName.toLowerCase():case v.CoreFieldRefNames.TeamProject.toLowerCase():case v.CoreFieldRefNames.Watermark.toLowerCase():case v.CoreFieldRefNames.ExternalLinkCount.toLowerCase():case v.CoreFieldRefNames.HyperLinkCount.toLowerCase():case v.CoreFieldRefNames.RelatedLinkCount.toLowerCase():case v.CoreFieldRefNames.RemoteLinkCount.toLowerCase():case v.CoreFieldRefNames.AttachedFileCount.toLowerCase():case v.CoreFieldRefNames.AuthorizedAs.toLowerCase():case v.CoreFieldRefNames.AuthorizedDate.toLowerCase():return!0;default:return!1}}function lt(n,t){var i=t;if(n)switch(n.toLowerCase()){case"true":i=!0;break;case"false":i=!1}return i}function at(n,t,i,r){return!r&&g(n,t,i)?!1:!0}function g(n,t,r){return n<0&&h.ignoreCaseComparer(t,i.DatabaseCoreFieldRefName.Title)===0&&r&&r.keyCode===c.KeyCode.ENTER}function nt(n,t,r,u){var f=u,e;return f&&(e=n.referenceName(),(h.ignoreCaseComparer(r,e)===0||h.ignoreCaseComparer(i.DatabaseCoreFieldRefName.ChangedBy,e)===0)&&(f=!1),f&&(f=n.isEditable()&&yt(n.type()))),f}function vt(n,t,i){return{identityType:{User:!0,Group:!0},operationScope:{Source:!0,IMS:!0},item:n&&(n.uniqueName||n.displayName)||f.EntityFactory.createStringEntity(y.AssignedToEmptyText,l.urlHelper.getVersionedContentUrl("notassigned-user.svg")),size:t||f.IdentityPickerControlSize.Small,displayType:i||f.EDisplayControlType.AvatarText,friendlyDisplayName:n&&n.displayName||y.AssignedToEmptyText,turnOffHover:!0,consumerId:r.IdentityControlConsumerIds.CardFieldDisplayControl}}function yt(n){var t=!1;switch(n){case u.CardFieldType.Boolean:case u.CardFieldType.Double:case u.CardFieldType.Guid:case u.CardFieldType.Identity:case u.CardFieldType.Integer:case u.CardFieldType.PlainText:case u.CardFieldType.String:case u.CardFieldType.DateTime:case u.CardFieldType.TreePath:t=!0;break;case u.CardFieldType.Html:t=!1}return t}Object.defineProperty(t,"__esModule",{value:!0});t.setupCommonIdentityDisplayControlOptions=t.isFieldEditable=t.shouldCreateNewCardAfterEdit=t.shouldFocusOnCardAfterEdit=t.getBoolShowEmptyFieldsFromString=t.isFieldBlackListed=t.buildDate=t.constructFieldDefinitionMap=t.initializeFieldDefinitions=t.getFieldDisplayType=t.buildIdentityViewHtml=t.shouldRenderAsAdditionalField=t.shouldRenderAsCoreField=t.populateFieldSettings=t.applyEllipsis=t.isCoreField=t.getCoreFieldNames=void 0;t.getCoreFieldNames=b;t.isCoreField=tt;t.applyEllipsis=it;t.populateFieldSettings=rt;t.shouldRenderAsCoreField=ut;t.shouldRenderAsAdditionalField=ft;t.buildIdentityViewHtml=et;t.getFieldDisplayType=d;t.initializeFieldDefinitions=ot;t.constructFieldDefinitionMap=st;t.buildDate=ht;t.isFieldBlackListed=ct;t.getBoolShowEmptyFieldsFromString=lt;t.shouldFocusOnCardAfterEdit=at;t.shouldCreateNewCardAfterEdit=g;t.isFieldEditable=nt;t.setupCommonIdentityDisplayControlOptions=vt});

var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))};define("Agile/Scripts/TFS.Agile.Boards",["require","exports","Agile/Scripts/BoardAnnotationsIdentifier","Agile/Scripts/Common/BoardParentDataProvider","Agile/Scripts/Common/EmbeddedHelper","Agile/Scripts/Generated/HubConstants","Agile/Scripts/Sources/AgileDataSource","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Context","VSS/Contributions/Services","VSS/Error","VSS/FeatureAvailability/Services","WorkItemTracking/Scripts/Controls/Links/LinkMapper","WorkItemTracking/Scripts/Filtering/AreaPathFilterProvider","WorkItemTracking/Scripts/Filtering/AssignedToFilterProvider","WorkItemTracking/Scripts/Filtering/FieldFilterProvider","WorkItemTracking/Scripts/Filtering/FilterManager","WorkItemTracking/Scripts/Filtering/IterationPathFilterProvider","WorkItemTracking/Scripts/Filtering/TagsFilterProvider","WorkItemTracking/Scripts/Filtering/TextFilterProvider","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/OM/WorkItemManager","WorkItemTracking/Scripts/Utils/PageWorkItemHelper","WorkItemTracking/Scripts/Utils/TelemetryUtils","VSS/Controls/Notifications","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Array","Presentation/Scripts/TFS/TFS.Legacy.Ajax","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Resources/TFS.Resources.Agile","Agile/Scripts/Resources/TFS.Resources.AgileTaskboard","VSS/Diag","VSS/Service","VSS/Events/Action","VSS/Events/Document","VSS/Events/Handlers","Presentation/Scripts/TFS/TFS.Host.TfsContext","WorkItemTracking/Scripts/TFS.WorkItemTracking","Agile/Scripts/Common/Agile","Agile/Scripts/Common/WorkItemChanges","Agile/Scripts/Common/Utils","Presentation/Scripts/TFS/TFS.Core.Utils","Agile/Scripts/Card/Cards","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.WebSettingsService","Presentation/Scripts/TFS/TFS.UI.Controls.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TFS/WorkItemTracking/RestClient","VSS/Performance","VSS/Telemetry/Services","q","TFS/Work/RestClient","Agile/Scripts/Board/BoardsAutoRefreshCommon","Agile/Scripts/Card/CardUtils","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/FeatureAvailability/Services","Agile/Scripts/Common/CustomerIntelligence","Agile/Scripts/BoardAnnotationsIdentifier","VSS/LoaderPlugins/Css!Agile"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki){var tr,vr,sr,gi,dr,di,hr,yr,pr,gr,iu,ir,nu,cr,tu,fr,ur,nr,wr,br,lr,ar,kr;Object.defineProperty(t,"__esModule",{value:!0});t.BoardMemberFilterDataSource=t.BoardSettingsManager=t.BoardValidator=t.BoardRowValidator=t.BoardColumnValidator=t.KanbanTelemetry=t.Board=t.BoardNode=t.BoardNodeLayoutStyle=t.BoardMember=t.BoardFieldType=t.BoardColumnType=t.ColumnType=t.BoardAnnotationSettingsProvider=t.WorkItemSource=t.WitBoardCardField=t.WorkItemItemAdapter=t.ItemSource=t.AnnotationItemSource=t.Item=t.FunctionCollection=t.BoardMembershipEvaluator=t.Notifications=t.BoardAnnotationsIdentifier=t.maxBacklogOrderValue=t.unparentedId=t.parentItemFieldRefName=t.annotationItemSourceTypeFactory=void 0;var er=ft.delegate,rr=kt.TfsContext.getDefault(),or=ti.DatabaseCoreFieldRefName;t.parentItemFieldRefName="System.ParentItem";t.unparentedId=-1;t.maxBacklogOrderValue=Math.pow(2,32);Object.defineProperty(t,"BoardAnnotationsIdentifier",{enumerable:!0,get:function(){return ki.BoardAnnotationsIdentifier}}),function(n){n.BoardMemberAdded="VSS.Agile.Boards.BoardMemberAdded";n.BoardItemAdded="VSS.Agile.Boards.BoardItemAdded";n.BoardItemUpdated="VSS.Agile.Boards.BoardItemUpdated";n.BoardItemRemoved="VSS.Agile.Boards.BoardItemRemoved";n.BoardItemNeedsUpdate="VSS.Agile.Boards.BoardItemNeedsUpdate";n.BoardItemSourceChanged="VSS.Agile.Boards.BoardItemSourceChanged";n.BoardItemsUpdated="VSS.Agile.Boards.BoardItemsUpdated";n.BoardModelUpdated="VSS.Agile.Boards.BoardModelUpdated";n.BoardUpdated="VSS.Agile.Boards.BoardUpdated";n.BoardMemberItemCountChanged="VSS.Agile.Boards.BoardMemberItemCountChanged";n.BoardTileMoveLock="VSS.Agile.Boards.BoardTileMoveLock";n.BoardTileMoveUnlock="VSS.Agile.Boards.BoardTileMoveUnlock";n.BoardTileMoved="VSS.Agile.Boards.BoardTileMoved";n.BoardNewItemEdited="VSS.Agile.Boards.BoardNewItemEdited";n.BoardAddNewIncomingItem="VSS.Agile.Boards.BoardAddNewIncomingItem";n.BoardItemFilteringComplete="VSS.Agile.Boards.BoardItemFilteringComplete";n.BoardRedraw="VSS.Agile.Boards.Redraw";n.BoardHeightChanged="VSS.Agile.Boards.BoardHeightChanged";n.BoardContainerResized="VSS.Agile.Boards.BoardContainerResized";n.BoardExpandMember="VSS.Agile.Boards.ExpandMemeber";n.BoardLayoutUpdated="VSS.Agile.Boards.LayoutUpdated";n.BoardCriteriaFilterChanged="TFS.Agile.Boards.BoardFilterChanged";n.BoardMessageDisplay="VSS.Agile.Boards.BoardMessageDisplay";n.ToggleBoardsHubFilterON="TFS.Agile.BoardsHub.ToggleFilterON"}(tr=t.Notifications||(t.Notifications={}));vr=function(n){function t(t){var i=n.call(this,gt.BacklogContext.getInstance().team.id)||this;return t&&i._beginGetSettings(t),i}return __extends(t,n),t.prototype._isIterationValid=function(t){var i=t.fieldValue(or.IterationPath);return n.prototype._isBacklogIterationPathValid.call(this,i)},t.prototype._isWorkItemTypeValid=function(n){var t=gt.BacklogContext.getInstance();return t.backlogContainsWorkItemType(n.fieldValue(or.WorkItemType))},t.prototype._isValid=function(n){var i=this._teamSettings.teamFieldName,r=n.fieldValue(i),t=this._isWorkItemTypeValid(n);return t&&!n.isNew()&&(t=this._isTeamFieldValid(r)&&this._isIterationValid(n)),t},t}(gt.BaseBacklogMembershipEvaluator);t.BoardMembershipEvaluator=vr;sr=function(){function n(){}return n.compareValues=function(n,t,i){switch(typeof n){case"string":return i?et.localeIgnoreCaseComparer(n,t):et.localeComparer(n,t);case"number":return n-t;case"boolean":return n===t?0:n?1:0;case"object":return n instanceof Date?ot.defaultComparer(n,t):typeof n.compare=="function"?n.compare(t):0;default:return 0}},n.typeChecked=function(n){return function(t,i,r){var f=typeof t,u=typeof i;return t===null||f==="undefined"?i===null||u==="undefined"?0:-1:i===null||u==="undefined"?1:f!==u?0:n(t,i,r)}},n.proposedInProgressItemComparer=function(n,i,r){var h=n.itemSource,c=n.fields.orderField,f=h.getAncestors(i.id()),e=h.getAncestors(r.id()),l,a,o,s,u,v;if((i.getTempId()<0||r.getTempId()<0)&&!(i.fieldValue(c)&&r.fieldValue(c)))return i.getTempId()-r.getTempId();for(v=Math.max(f.length,e.length),u=0;u<v;u++){if(f[u]===null||f[u]===undefined)return-1;if(e[u]===null||e[u]===undefined)return 1;if(f[u]!==e[u])return l=h.getCachedItem(f[u]),a=h.getCachedItem(e[u]),o=l.fieldValue(c),(o===null||o===undefined)&&(o=t.maxBacklogOrderValue),s=a.fieldValue(c),(s===null||s===undefined)&&(s=t.maxBacklogOrderValue),o-s||l.id()-a.id()}},n.completedItemComparer=function(n,t,i){var u=n.fields.closedDateField,f=t.fieldValue(u),r=i.fieldValue(u);return f?r?r-f||t.id()-i.id():1:r?-1:t.id()-i.id()},n.orderItemsByFields=function(t,i,r){for(var h,c,e,o=0,l=n.typeChecked(n.compareValues),f=t.fields,u=0,s=f.length;!o&&u<s;u+=1)e=f[u].fieldName,h=i.fieldValue(e),c=r.fieldValue(e),o=l(h,c,f[u].caseInsensitive)*(f[u].order===n.SORT_ASCENDING?1:-1);return o},n.checklistComparer=function(n,t,i){var r=t.fieldValue(n.orderFieldName),u=i.fieldValue(n.orderFieldName);return r&&u?r-u:r?-1:u?1:t.id()-i.id()},n.getFunction=function(n){var i=n.id,r=n.data,t,u;return i=i.charAt(0).toLowerCase()+i.slice(1),t=this[i],r&&(u=t.initialize,t=ft.curry(t,r),t.initialize=u),t},n.SORT_ASCENDING=0,n.teamMembership=function(){var n,t;return t=function(t,i){n.evaluate(t,i)},t.initialize=function(t){n=new vr(t)},t}(),n}();t.FunctionCollection=sr;gi=function(){function n(){this._operations=[]}return n.prototype.id=function(){return 0},n.prototype.isReadOnly=function(){return!1},n.prototype.getTempId=function(){return 0},n.prototype.getParentId=function(){return this._parentId},n.prototype.setParentId=function(n){this._parentId=n},n.prototype.type=function(){return null},n.prototype.setPendingAutoRefreshEvent=function(){},n.prototype.getPendingAutoRefreshEvent=function(){return null},n.prototype.skipPlacement=function(){return!1},n.prototype.fieldValue=function(){},n.prototype.fieldValues=function(){},n.prototype.field=function(){return null},n.prototype.children=function(){return[]},n.prototype.discardChildItem=function(){return null},n.prototype.beginAddNewChild=function(){return null},n.prototype.beginGetChildren=function(){return null},n.prototype.beginRefresh=function(){return null},n.prototype.beginSave=function(){},n.prototype.isValidValue=function(){},n.prototype.isNew=function(){return!1},n.prototype.message=function(){return""},n.prototype.operation=function(){return this._operations.length?this._operations[0]:null},n.prototype.reset=function(){},n.prototype.discard=function(){},n.prototype.dispose=function(){var n,t;if(this._operations)for(n=wt.getRunningDocumentsTable();this._operations.length>0;)t=this._operations[0],this.removeOperation(n,t.running,0)},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype.postRemoveCleanup=function(){},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new bt.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype._startOperation=function(t,i,r){var f=this,e,o=wt.getRunningDocumentsTable(),u={type:t,message:i,complete:function(){var t=st.indexOf(f._operations,u);t!==-1&&(f.removeOperation(o,e,t),f._fireEvent(n.EVENT_OPERATION_COMPLETE,f,u),typeof r=="function"&&r(u))},abort:function(){var n=st.indexOf(f._operations,u);n!==-1&&f.removeOperation(o,e,n)}};return this._operations.push(u),this._fireEvent(n.EVENT_OPERATION_STARTING,this,u),e=o.add("WorkItemItemAdapter",{isDirty:function(){return!0}}),u.running=e,u},n.prototype.removeOperation=function(n,t,i){n.remove(t);this._operations.splice(i,1)},n.EVENT_ITEM_CHANGED="item-changed",n.EVENT_OPERATION_STARTING="item-operation-starting",n.EVENT_OPERATION_COMPLETE="item-operation-complete",n}();t.Item=gi;dr=function(){function n(n){this.parentSource=n}return n.prototype.updateItem=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return[2]})})},n}();t.AnnotationItemSource=dr;di=function(){function n(n,t,i){var e=this,r,u,f;for(this._teamId=t,this._annotationItemSources={},i&&i.forEach(function(n){e._annotationItemSources[n.type()]=n}),this._configuration=n,r=0,u=Object.keys(n.transitions);r<u.length;r++)f=u[r],n.transitions[ti.WorkItemUtils.getKeyFromWorkItemTypeName(f)]=n.transitions[f]}return n.getItemSourceInitializationFuntion=function(t){return!n._itemSourceModuleMap[t],n._itemSourceModuleMap[t]},n.registerItemSourceInitializationFunction=function(t,i){n._itemSourceModuleMap[t]=i},n.prototype.registerAnnotationItemSource=function(n,t){this.isDisposed||(this._annotationItemSources[n]=t)},n.prototype.unregisterAnnotationItemSource=function(n){!this.isDisposed&&this._annotationItemSources.hasOwnProperty(n)&&(this._annotationItemSources[n].dispose(),this._annotationItemSources[n]=null)},n.prototype.getRegisteredAnnotationItemSource=function(n){return this._annotationItemSources&&this._annotationItemSources.hasOwnProperty(n)?this._annotationItemSources[n]:null},n.prototype.updateAnnotationItemSourcesData=function(n){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(i){switch(i.label){case 0:return[4,this._invokeAnnotationItemSource(function(i){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,i.updateItem(n)];case 1:return t.sent(),[2]}})})})];case 1:return i.sent(),[2]}})})},n.prototype.retrieveAnnotationItemSourceData=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,this._invokeAnnotationItemSource(function(i){return i.beginGetItems(n,t)})];case 1:return i.sent(),[2]}})})},n.prototype._invokeAnnotationItemSource=function(i){return __awaiter(this,void 0,void 0,function(){var e,r,u,o,f,s,h=this;return __generator(this,function(c){switch(c.label){case 0:e=function(u){var f;return __generator(this,function(e){switch(e.label){case 0:return(r._annotationItemSources.hasOwnProperty(u)&&r._annotationItemSources[u])?[4,i(r._annotationItemSources[u])]:[3,2];case 1:return e.sent(),[3,3];case 2:f=n.getItemSourceInitializationFuntion(u);typeof f=="function"&&f(function(){return __awaiter(h,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return!this.isDisposed?(this._annotationItemSources[u]=t.annotationItemSourceTypeFactory.createInstance(u,[this,this._teamId]),[4,i(this._annotationItemSources[u])]):[3,2];case 1:n.sent();n.label=2;case 2:return[2]}})})});e.label=3;case 3:return[2]}})};r=this;u=[];for(o in this._annotationItemSources)u.push(o);f=0;c.label=1;case 1:return(f<u.length)?(s=u[f],[5,e(s)]):[3,4];case 2:c.sent();c.label=3;case 3:return f++,[3,1];case 4:return[2]}})})},n.prototype.dispose=function(){for(var n in this._annotationItemSources)this._annotationItemSources.hasOwnProperty(n)&&this._annotationItemSources[n]&&this._annotationItemSources[n].dispose();this._annotationItemSources=null;this._disposed=!0},Object.defineProperty(n.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!1,configurable:!0}),n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new bt.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.Events={ItemChange:"item-change"},n.ChangeTypes=$.extend({MessageChange:"message-change",ChecklistChanged:"checklist-changed",AnnotationItemSourceChanged:"annotation-item-source-changed"},nt.WorkItemChangeType),n._itemSourceModuleMap={},n}();t.ItemSource=di;t.annotationItemSourceTypeFactory=new ii.TypeFactory;hr=function(n){function i(t,i,r,u,f){var e=__construct(this,n,[]);for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);return e._mostRecentAutoRefreshEvent=null,e._workItemSource=t,e._id=i,e._fieldMap={},e._reorderManager=r,e._wiManager=tt.WorkItemManager.get(ui.ProjectCollection.getDefaultConnection().getService(dt.WorkItemStore)),e._workItemData=f,u?e._setWorkItem(u):e._trySetWorkItem(),e._skipPlacement=!1,e}return __extends(i,n),i.prototype.id=function(){return this._workItem?this._workItem.getUniqueId():this._id},i.prototype.isReadOnly=function(){return this._workItem?this._workItem.isReadOnly():!1},i.prototype.type=function(){return this.fieldValue(or.WorkItemType)},i.prototype.getAnnotationItemSource=function(n){return this._workItemSource.getRegisteredAnnotationItemSource(n)},i.prototype.getOrder=function(){return this._order?this._order:0},i.prototype.setOrder=function(n){this._order=n},i.prototype.getTempId=function(){return this._workItem?this._workItem.tempId:0},i.prototype.setPendingAutoRefreshEvent=function(n){this._mostRecentAutoRefreshEvent=n},i.prototype.getPendingAutoRefreshEvent=function(){return this._mostRecentAutoRefreshEvent},i.prototype.fieldValue=function(n,i,r,u){var f,o,e;if(n===t.parentItemFieldRefName)return this._workItemSource.getParentId(this.id());if(i===undefined&&(o=this._getOrderFieldReferenceName(),et.ignoreCaseComparer(n,o)===0&&this._order!==undefined&&this._order!==null))return this._order;if(this._workItem)return(i!==undefined&&(this._workItem.setFieldValue(n,i,u),r&&this._raiseItemChanged({change:di.ChangeTypes.Refresh})),e=this._workItem.getField(n),e&&(f=e.getValue()),f!==null&&f!==undefined&&!(f instanceof Date))?f.valueOf():f;if(typeof i!="undefined")this._pendingChanges||(this._pendingChanges={}),this._pendingChanges[n]=i,this._raiseItemChanged({change:di.ChangeTypes.FieldChange}),r&&this._raiseItemChanged({change:di.ChangeTypes.Refresh});else return this._pendingChanges&&this._pendingChanges.hasOwnProperty(n)?this._pendingChanges[n]:this._workItemData?this._workItemData.fields?this._workItemData.fields[n]:null:this._workItemSource.getPayloadFieldValue(this._id,n)},i.prototype.isWorkItemPaged=function(){return this._workItemSource.isWorkItemPaged(this._id)},i.prototype.fieldValues=function(n){for(var i,t=0;t<n.length;t++)i=n[t],this.fieldValue(i.fieldName,i.fieldValue)},i.prototype.children=function(){return this._workItemSource.getChildren(this._id)},i.prototype.beginAddNewChild=function(n,t){return this._workItemSource.beginCreateNewChildItem(n,this.id(),t)},i.prototype.discardChildItem=function(n){return this._workItemSource.discardChildItem(this.id(),n)},i.prototype.beginGetChildren=function(){var t=this,n=li.defer();return this._workItemSource.beginGetChildren([this._id]).then(function(i){n.resolve(i[t._id])},function(){n.reject("no child data available")}),n.promise},i.prototype.beginRefresh=function(){var t=this,n=li.defer();return this._wiManager.beginGetWorkItem(this._id,function(i){t._setWorkItem(i);n.resolve(t)},function(t){n.reject(t)},!1,null,!0),n.promise},i.prototype.beginSave=function(n,t){var i=this;var f,r=this,u=function(n){return function(){typeof n=="function"&&n.apply(r,arguments);f.complete()}},e=function(n){return function(){r._workItemSource.fireSaveCompleted(r);u(n).call(r,arguments)}};f=this._startOperation(at.Taskboard_SavingTile,at.Taskboard_SavingTile);this.beginRefresh().then(function(r){var f=i.id();i.id()<=0?r._workItem.beginSave(function(t){i.pinAndUnblockReorderOperation(t.workItems[0],f);e(n).call(i,t)},function(n){u(t).call(i,n);n&&i.message(n.message)}):r._workItem.beginSave(e(n),u(t),"KanbanBoard")},function(n){u(function(n){this._reorderManager.dequeueReorder([r.id()]);r.message(n.message);typeof t=="function"&&t.apply(r,arguments)}).call(i,n)})},i.prototype.skipPlacement=function(n){return typeof n!="undefined"&&(this._skipPlacement=n),this._skipPlacement},i.prototype.source=function(){return this._workItemSource},i.prototype.field=function(n){var t=this._fieldMap[n],i;return t||(i=this._getCardSetting().getField(n),t=new yr(this,this._workItemSource.getFieldDefinition(n),i),this._fieldMap[n]=t),t},i.prototype.beginReorder=function(n,t,i,r){var u=this,e;this.isNew()&&(e=this._workItemSource.getAncestors(n.NextId),n.NextId=e[0]);var o=Date.now(),s=this._startOperation(at.Taskboard_SavingTile,at.Taskboard_SavingTile),f={ParentId:n.ParentId,Ids:[this.id()],PreviousId:n.PreviousId,NextId:n.NextId,completedCallback:function(n,f){var e,h,c;f.success?(u.message(null),u._onReorderComplete(f),e=Date.now(),h=e-o,typeof t=="function"&&t.call(u,h)):f.error&&(r||(u.message(f.error.message),f.error.serverError.typeKey==="SameTypeHierarchyException"&&(c=$("<a/>").attr("href","https://aka.ms/AA56xmh").attr("target","_blank").text(lt.FWLink_LearnMore),$(".message-header").append(c))),typeof i=="function"&&i.call(u));s.complete()},continueOnFailure:r};vt.logVerbose(et.format("beginReorder {0},{1},{2},{3}",f.ParentId,f.Ids,f.PreviousId,f.NextId));this._reorderManager.queueReorder(f)},i.prototype.isValidValue=function(n,t,i){var u,r,f=this.fieldValue(or.WorkItemType);return(u=this._workItemSource.getValidStateTransitions(f),$.each(u,function(n,i){if(et.localeIgnoreCaseComparer(t,n)===0)return r=i,!1}),r)?st.contains(r,i):!1},i.prototype.isNew=function(){return this.id()<0?!0:!1},i.prototype.isValid=function(){return this._workItem?this._workItem.isValid():!1},i.prototype.isWorkItemAttached=function(){return this._workItem?!0:!1},i.prototype.message=function(n,t){return typeof n!="undefined"&&this._setMessage(n,t),this._getMessage()},i.prototype.messageClick=function(){return this._messageClick},i.prototype.reset=function(n){var t=n?this.message():null;this._workItem?this._workItem.reset():(this._pendingChanges&&delete this._pendingChanges,this._workItemSource.fireResetEvent(this));this.message(t)},i.prototype.discard=function(){this._workItem&&this._workItem.discardIfNew()},i.prototype.unpinIfOpened=function(n,t){var i=this;this._workItem&&(this.isWorkItemPaged()?(this._wiManager.unpin(this._workItem),this._trySetWorkItem()):this._workItem.extensions&&this._workItem.extensions.length>0&&(this._workItem.getField(n)._reset(),this._workItem.beginResetExtension(t,function(){return i._wiManager.setWorkItem(i._workItem)})))},i.prototype.dispose=function(){n.prototype.dispose.call(this);this._reorderManager.dequeueReorder([this.id(),this.getTempId()]);this._detachWorkItemEvents();this._onTrySetWorkItem&&(this._wiManager.detachWorkItemChanged(this._onTrySetWorkItem),this._onTrySetWorkItem=null);this._workItem&&this._wiManager.unpin(this._workItem);this._fieldMap=null},i.prototype.pinAndUnblockReorderOperation=function(n,t){this._wiManager.pin(n);this._reorderManager.changeReorderId(t,n.id);this._reorderManager.unblockReadyOperations()},i.prototype.postRemoveCleanup=function(){var n=this.getParentId();n&&(this._workItemSource.disassociate(n,this._id),this._raiseChecklistChanged(n))},i.prototype._getCardSetting=function(){return this._cardSetting||(this._cardSetting=this._workItemSource.boardCardsSetting().getCardSettingsForItemType(this.type())),this._cardSetting},i.prototype._onReorderComplete=function(n){var t=this;n.success&&$.each(n.updatedWorkItemIds,function(i,r){var u=t._workItemSource.getCachedItem(r);u&&u.setOrder(n.updatedWorkItemOrders[i])})},i.prototype._getOrderFieldReferenceName=function(){return this._workItemSource.getProcessFieldTypeReferenceName(o.BacklogFieldTypes.Order)},i.prototype.getEffortFieldRefName=function(){return this._workItemSource.getProcessFieldTypeReferenceName(o.BacklogFieldTypes.Effort)},i.prototype._trySetWorkItem=function(){var n=this;this._workItem=this._wiManager.getWorkItem(this._id);this._workItem?this._setWorkItem(this._workItem):(this._onTrySetWorkItem=function(t,i){i.workItem.id===n._id&&(n._wiManager.detachWorkItemChanged(n._onTrySetWorkItem),n._setWorkItem(i.workItem),n._onTrySetWorkItem=null)},this._wiManager.attachWorkItemChanged(this._onTrySetWorkItem))},i.prototype._getMessage=function(){var n;return this._workItem?(n=this._workItem.getError(),n&&n.message):this._message},i.prototype._setMessage=function(n,t){this._workItem?n?this._workItem.setError(new Error(n)):this._workItem.clearError():(this._message=n,this._raiseItemChanged({change:di.ChangeTypes.MessageChange}));this._messageClick=t},i.prototype._raiseItemChanged=function(n){this._fireEvent(gi.EVENT_ITEM_CHANGED,this,__assign({item:this},n))},i.prototype._setWorkItem=function(n){this._workItem=n;n.extensions.length===0&&n.store.beginGetWorkItemTypeExtensions(n.extensionIds,function(t){n.setExtensions(t)});this._wiManager.pin(n);this._pendingChanges&&($.each(this._pendingChanges,function(t,i){n.setFieldValue(t,i)}),delete this._pendingChanges);this._detachWorkItemEvents();this._attachWorkItemEvents()},i.prototype._attachWorkItemEvents=function(){this._onWorkItemChangedDelegate=er(this,this._onWorkItemChanged);this._workItem.attachWorkItemChanged(this._onWorkItemChangedDelegate)},i.prototype._detachWorkItemEvents=function(){this._workItem&&(this._workItem.detachWorkItemChanged(this._onWorkItemChangedDelegate),this._onWorkItemChangedDelegate=null)},i.prototype._onWorkItemChanged=function(n,t){var i,r;switch(t.change){case di.ChangeTypes.Opened:case di.ChangeTypes.Reset:case di.ChangeTypes.Refresh:this._message=null;this.handleRefresh(t);break;case di.ChangeTypes.FieldChange:case di.ChangeTypes.ErrorChanged:this._raiseItemChanged(t);break;case di.ChangeTypes.Saved:this._workItemSource.updatePayloadData(this._workItem);i={workItem:this._workItem,links:t.changedWorkItemLinks,externalLinkChanged:t.externalLinkChanged};this._workItemSource.retrieveAnnotationItemSourceData([this._workItem.id],i);r=t.changedWorkItemLinks;this._handleLinkChanges(r)||this._raiseChecklistChanged(this.getParentId());this._raiseItemChanged(t);break;case di.ChangeTypes.SaveCompleted:this._workItemSource.updateParentPayloadData(t);break;case di.ChangeTypes.Discarded:this._reorderManager.dequeueReorder([t.workItem.getUniqueId()])}},i.prototype.handleRefresh=function(n){var t=this;return new Promise(function(i,r){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this._workItemSource.updateAnnotationItemSourcesData(this._workItem)];case 1:return u.sent(),this._raiseItemChanged(n),i(),[3,3];case 2:return t=u.sent(),l.publishErrorToTelemetry(t),r(),[3,3];case 3:return[2]}})})})},i.prototype._handleLinkChanges=function(n){var r=!1,t,u,i;if(n)for(t=0,u=n.length;t<u;t++)i=n[t].targetId,n[t].linkData.LinkType===ti.WorkItemUtils.PARENT_LINKTYPE_ID?(n[t].command==="remove"?this._workItemSource.disassociate(i,this._id):n[t].command==="add"&&this._workItemSource.setChild(i,this._id),this._raiseChecklistChanged(i),r=!0):n[t].linkData.LinkType===ti.WorkItemUtils.CHILD_LINKTYPE_ID&&(n[t].command==="add"?this._workItemSource.beginGetChildren([this._id],!0):n[t].command==="remove"&&this._workItemSource.disassociate(this._id,i),this._raiseChecklistChanged(this._id),r=!0);return r},i.prototype._raiseChecklistChanged=function(n){var t,i;n&&(t=this._workItemSource.getCachedItem(n),t&&(i=wi.FeatureAvailabilityService.isFeatureEnabled(pi.FeatureAvailabilityFlags.WebAccessAgileCardAnnotations),i?t.fire(gi.EVENT_ITEM_CHANGED,t,{item:t,change:di.ChangeTypes.ChecklistChanged,workItemType:this._workItemData?this._workItemData.fields[oi.CoreFieldRefNames.WorkItemType]:this._workItem.workItemType.name}):t.fire(gi.EVENT_ITEM_CHANGED,t,{item:t,change:di.ChangeTypes.ChecklistChanged})))},i.prototype._parseArtifactLinks=function(){var n,t,i;return this._workItem?(n=this._workItem.getLinks(),!n||n.length<=0)?null:(t=new v.LinkMapper(this._workItem.store),i=t.mapLinks(n)||[],i.map(function(n){return n.mappedLink})):null},i.prototype.getArtifactLinks=function(n){this._workItemSource.beginGetItem(this._id,function(t){n(t._parseArtifactLinks()||[])})},i}(gi);t.WorkItemItemAdapter=hr;yr=function(n){function t(t,i,r){var u=n.call(this,t.id(),i,r)||this;return u._card=t,u}return __extends(t,n),t.prototype.value=function(n){return n!==undefined?this._card.fieldValue(this.referenceName(),n):n=this._card.fieldValue(this.referenceName()),n},t.prototype.isEditable=function(){switch(this.referenceName()){case this._card.getEffortFieldRefName():return!0;default:return n.prototype.isEditable.call(this)}},t.prototype.getAllowedValues=function(t){return et.ignoreCaseComparer(this.referenceName(),this._card.getEffortFieldRefName())?n.prototype.getAllowedValues.call(this,t):["1","2","3","5","8","13"]},t.prototype.hasAllowedValues=function(){return this.definition().type()===ri.CardFieldType.Identity?!0:et.ignoreCaseComparer(this.referenceName(),this._card.getEffortFieldRefName())?n.prototype.hasAllowedValues.call(this):!0},t}(ri.WitCardField);t.WitBoardCardField=yr;pr=function(n){function u(t,i){var r=n.call(this,t,i.teamId)||this;return r._reorderManager=i,r._initialize(t),r}return __extends(u,n),u.prototype._initialize=function(n){var t=this,r,u,f;n.payload.hierarchy&&(this._parentIds={},$.each(n.payload.hierarchy,function(n,i){t._parentIds[i]=!0}));this._orderedIncomingIds=n.payload.orderedIncomingIds;this._lastIncomingPagedIndex=-1;this._orderedOutgoingIds=n.payload.orderedOutgoingIds;this._lastOutgoingPagedIndex=-1;this._lastFilter="";this._lastFilteredPagedIndex=-1;this._idsForLastFilter=[];this._items=new ii.Dictionary;this._store=ui.ProjectCollection.getDefaultConnection().getService(dt.WorkItemStore);this._witManager=tt.WorkItemManager.get(this._store);this._workItemChangedDelegate=er(this,this._workItemChanged);this._witManager.attachWorkItemChanged(this._workItemChangedDelegate);this._pageData={};this._childrenIds={};this._pageColumns={};this._fieldDefMap={};this._processFieldTypeMap={};n.itemTypes&&(u=wi.FeatureAvailabilityService.isFeatureEnabled(pi.FeatureAvailabilityFlags.WebAccessAgileCardAnnotations),r=u?ur.BoardAnnotationSettings.isAnyAnnotationEnabled():ur.BoardAnnotationSettings.isAnnotationApplicable(i.BoardAnnotationsIdentifier.ChecklistAnnotation),this._workItemTypes=n.itemTypes,r&&(f=ti.BacklogLevelUtils.getDescendentBacklogLevelConfigurationForWorkItemType(this._workItemTypes[0]),this._descendentBacklogDefaultWorkItemType=f.defaultWorkItemType),this._store.beginGetProject(kt.TfsContext.getDefault().navigation.projectId,function(n){n.beginGetWorkItemTypes(r?t._workItemTypes.concat(t._descendentBacklogDefaultWorkItemType):t._workItemTypes,function(){});n.nodesCacheManager.beginGetNodes()}),r&&(this._checklistOrderFieldName=o.BacklogConfigurationService.getBacklogFieldName(o.BacklogFieldTypes.Order),this._checklistComparer=sr.getFunction({id:"checklistComparer",data:{orderFieldName:this._checklistOrderFieldName}})));n.fieldDefinitions&&yi.initializeFieldDefinitions(n.fieldDefinitions,this._fieldDefMap)},u.prototype.dispose=function(){this._workItemChangedDelegate&&(this._witManager.detachWorkItemChanged(this._workItemChangedDelegate),this._workItemChangedDelegate=null);this._fieldDefMap=null;n.prototype.dispose.call(this)},u.prototype.type=function(){return u.itemSourceType},u.prototype._getWitHttpClient=function(){return this._witHttpClient||(this._witHttpClient=this._store.tfsConnection.getHttpClient(si.WorkItemTrackingHttpClient)),this._witHttpClient},u.prototype.boardCardsSetting=function(n){return n!==undefined&&(this._boardCardsSetting=n),this._boardCardsSetting},u.prototype.raiseEventForAnnotationItemSource=function(n,t){var i=this;n.forEach(function(n){var r=i._items.get(n);r.fire(gi.EVENT_ITEM_CHANGED,i,{item:r,change:di.ChangeTypes.AnnotationItemSourceChanged,annotationItemSource:t})})},u.prototype.getProcessFieldTypeReferenceName=function(n){var t=this._processFieldTypeMap[n];return t||(t=o.BacklogConfigurationService.getBacklogFieldName(n),this._processFieldTypeMap[n]=t),t},u.prototype.isParent=function(n){return this._parentIds?this._parentIds.hasOwnProperty(n):!1},u.prototype.getParent=function(n){return this._configuration.payload.hierarchy?this._configuration.payload.hierarchy[n]:null},u.prototype.getCachedItem=function(n){return this._items.get(n)},u.prototype.getCachedItems=function(){return this._items.values()},u.prototype.getAncestors=function(n){var i=this.getParent(n),t;return i?(t=this.getAncestors(i),t.push(n)):t=[n],t},u.prototype.getItemTypes=function(){return this._workItemTypes},u.prototype.getItemCount=function(){return this._items.count()},u.prototype.getFieldDefinition=function(n){var t=this._fieldDefMap[n.toUpperCase()];return t||(t=new ri.WitCardFieldDefinition(n),this._fieldDefMap[n.toUpperCase()]=t),t},u.prototype.getFieldDefinitions=function(){return this._fieldDefMap},u.prototype.getFieldValuesOfAllBoardItems=function(n){for(var i,e,r,u=[],o=this.getItemTypes(),t=0,f=this._items.values();t<f.length;t++)i=f[t],e=i.type(),st.contains(o,e,et.localeIgnoreCaseComparer)&&(r=i.fieldValue(n),r&&u.push(r));return st.unique(u,et.localeIgnoreCaseComparer)},u.prototype.beginGetItem=function(n,t,i){var r=this;this._witManager.beginGetWorkItem(n,function(i){r._witManager.pin(i);t(r.createItem(n))},i,!1,null,!0)},u.prototype.beginGetItems=function(n,t){var i=this,r;this._configuration.itemIds?this._witManager.beginGetWorkItems(this._configuration.itemIds,function(t){r=$.map(t,function(n){return i._witManager.pin(n),i.createItem(n)});n(r)},t,{includeExtensionFields:!0}):this._configuration.payload?(this._pageColumns=this._configuration.payload.columns,this.buildCache(this._configuration.payload.rows),r=$.map(this._pageData,function(n,t){var r=+t,u=i.createItem(r);return i.isParent(r)?null:u}),n(r)):n([])},u.prototype.createItem=function(n,t){var i;return i={},this._items.tryGetValue(n,i)||(i.value=new hr(this,n,this._reorderManager,t),this._items.set(n,i.value)),i.value},u.prototype.clearItems=function(){for(var t=this._items.values(),n=0,i=t.length;n<i;n++)t[n].dispose();this._items.clear()},u.prototype.clearItem=function(n){var t={};this._items.tryGetValue(n,t)&&t.value.dispose();this._items.remove(n)},u.prototype._getChildIDsWiql=function(n){if(!n||n.length===0)return"";return et.format("SELECT [{0}] FROM WorkItemLinks WHERE ([Source].[System.Id] IN ({1})) AND ([System.Links.LinkType] = '{2}') AND ([Target].[System.WorkItemType] = '{3}') mode(MustContain)",oi.CoreFieldRefNames.Id,n.toString(),ti.WorkItemUtils.CHILD_LINK_NAME,this._descendentBacklogDefaultWorkItemType)},u.prototype._getChildIDsWithTypeWiql=function(n,t){if(!n||n.length===0)return"";return et.format("SELECT [{0}] FROM WorkItemLinks WHERE ([Source].[System.Id] IN ({1})) AND ([System.Links.LinkType] = '{2}') AND ([Target].[System.WorkItemType] IN ({3})) mode(MustContain)",oi.CoreFieldRefNames.Id,n.toString(),ti.WorkItemUtils.CHILD_LINK_NAME,t)},u.prototype._beginGetChildIDs=function(n){var t,i;return(t=li.defer(),!n||n.length===0)?(t.resolve({}),t.promise):(i=this._getChildIDsWiql(n),this._getWitHttpClient().queryByWiql({query:i},rr.navigation.project).then(function(n){var i={};$.each(n.workItemRelations,function(n,t){if(t.source&&t.target){var r=t.source.id,u=t.target.id;i[r]||(i[r]=[]);i[r].push(u)}});t.resolve(i)}),t.promise)},u.prototype._beginGetChildIDsWithType=function(n,t){var i,r,u;return(i=li.defer(),!n||n.length===0)?(i.resolve({}),i.promise):(r=$.map(t,function(n){return"'"+n+"'"}),u=this._getChildIDsWithTypeWiql(n,r),this._getWitHttpClient().queryByWiql({query:u},rr.navigation.project).then(function(n){var t={};$.each(n.workItemRelations,function(n,i){if(i.source&&i.target){var r=i.source.id,u=i.target.id;t[r]||(t[r]=[]);t[r].push(u)}});i.resolve(t)}),i.promise)},u.prototype.beginGetParents=function(n,t){var r=this,i=li.defer();return!this._parentChildMap&&n&&n.length>0?this.beginGetParentChildMap(n,t).then(function(){i.resolve(r._parentChildMap)}):i.resolve(this._parentChildMap),i.promise},u.prototype.setParentChildMap=function(n){n&&(this._parentChildMap=[],n.length>0&&(n[0].id!==t.unparentedId&&this._parentChildMap.push({childWorkItemIds:[t.unparentedId],id:t.unparentedId,title:ct.Kanban_Unparented,workItemTypeName:""}),this._parentChildMap=this._parentChildMap.concat(n),this._setChildParentMap(this._parentChildMap)))},u.prototype.getParentId=function(n){return this._childParentMap?this._childParentMap[n]?this._childParentMap[n]:t.unparentedId:null},u.prototype.beginGetParentChildMapInternal=function(n){var t=gt.BacklogContext.getInstance(),i=t.level.id,r={projectId:rr.contextData.project.id,teamId:t.team.id},u=new yt.VssConnection(rr.contextData),f=u.getHttpClient(ai.WorkHttpClient);return f.getBoardMappingParentItems(r,i,n)},u.prototype.beginGetParentChildMap=function(n,t){for(var o,r=this,f=u.checklistPageSize,s=n.length,e=[],i=0;i<s;i+=f)o=n.slice(i,i+f),e.push(this.beginGetParentChildMapInternal(o));return li.all(e).then(function(n){for(var t=0,i=n.length;t<i;t++)r._mergeParentChildMap(n[t]);return r._parentChildMap},function(n){return typeof t=="function"&&t(n.message,ut.MessageAreaType.Error),r._parentChildMap})},u.prototype._mergeParentChildMap=function(n){var u,t,f,i,r;if(!this._parentChildMap){this.setParentChildMap(n);return}for(u={},this._parentChildMap.forEach(function(n,t){u[n.id]=t}),t=0,f=n;t<f.length;t++)i=f[t],r=u[i.id],r!==undefined?this._parentChildMap[r].childWorkItemIds=this._parentChildMap[r].childWorkItemIds.concat(i.childWorkItemIds):this._parentChildMap.push(i);this._setChildParentMap(this._parentChildMap)},u.prototype._setChildParentMap=function(n){var t,r,u,i,f,e;if(n&&n.length>0)for(this._childParentMap={},t=0,r=n;t<r.length;t++)for(u=r[t],i=0,f=u.childWorkItemIds;i<f.length;i++)e=f[i],this._childParentMap[e]=u.id},u.prototype.beginGetChildren=function(n,t){var i=this,e=li.defer(),s=[],r,u={},f,o=!1,h,c,l;return t?o=!0:n&&n.length&&$.each(n,function(n,t){var r=i._childrenIds[t],h,f,e,s;if(r&&r.length>0){for(h=u[t]=[],f=0;f<r.length;f++)if(e={},i._items.tryGetValue(r[f],e)){if(s=e.value,!s)return o=!0,!1;h.push(s)}}else return o=!0,!1}),o?(u={},c=wi.FeatureAvailabilityService.isFeatureEnabled(pi.FeatureAvailabilityFlags.WebAccessAgileCardAnnotations),c?(l=c?ur.BoardAnnotationSettings.getApplicableAnnotationNames():[],h=this._beginGetChildIDsWithType(n,l)):h=this._beginGetChildIDs(n),h.then(function(t){if($.each(n,function(n,i){r=t[i];r&&r.length&&st.addRange(s,r)}),s.length>0){var o=[oi.CoreFieldRefNames.Id,oi.CoreFieldRefNames.Title,oi.CoreFieldRefNames.State,oi.CoreFieldRefNames.WorkItemType,oi.CoreFieldRefNames.AssignedTo,i._checklistOrderFieldName];i._beginGetChildItems(s,o).then(function(o){var s=hi.getScenarioManager().startScenario(nr.CI_AREA_AGILE,nr.Perf_Scenario_AnnotationsSummaryRendering);$.each(n,function(n,e){if(r=t[e],r&&r.length){u[e]=$.map(r,function(n){return o[n].setParentId(e),o[n]});i._clearChildren(e);i._setChildrenIds(e,u[e]);f=i._items.get(e);var s={},h=wi.FeatureAvailabilityService.isFeatureEnabled(pi.FeatureAvailabilityFlags.WebAccessAgileCardAnnotations);h?$.each(o,function(n,t){var r=t.type(),u=r.toLocaleLowerCase();s[u]||(s[u]=!0,f.fire(gi.EVENT_ITEM_CHANGED,i,{item:f,change:di.ChangeTypes.ChecklistChanged,workItemType:r}))}):f.fire(gi.EVENT_ITEM_CHANGED,i,{item:f,change:di.ChangeTypes.ChecklistChanged})}});s.end();e.resolve(u)})}else e.resolve(u)})):e.resolve(u),e.promise},u.prototype.getChildren=function(n){var r=this,i=[],t=this._childrenIds[n];return t&&t.length&&$.each(t,function(n,t){var u=r._items.get(t);u&&st.add(i,u)}),i},u.prototype.setChild=function(n,t){var f=this,i=this._childrenIds[n],r,u;i?i.indexOf(t)>=0||(i.push(t),r=[],$.each(i,function(n,t){st.add(r,f._items.get(t))}),this._setChildrenIds(n,r)):this._childrenIds[n]=[t];u=this._items.get(t);u.setParentId(n)},u.prototype.sortChildrenIds=function(n){var t=this.getChildren(n);this._setChildrenIds(n,t)},u.prototype._clearChildren=function(n){var i=this,t=this._childrenIds[n];t&&t.length&&$.each(t,function(n,t){i.clearItem(t)});this._childrenIds[n]=[]},u.prototype._setChildrenIds=function(n,t){var r=this,i;this._childrenIds[n]=[];t.sort(this._checklistComparer);t&&t.length&&($.each(t,function(n,t){r._items.set(t.id(),t)}),i=$.map(t,function(n){return n.id()}),this._childrenIds[n]=i)},u.prototype._beginGetChildItems=function(n,t){var u=this,i=li.defer(),r={};return n&&n.length?it.PageWorkItemHelper.pageWorkItems(n,null,t).then(function(n){$.each(n,function(n,t){r[t.id]=new hr(u,t.id,u._reorderManager,null,t)});i.resolve(r)}):i.resolve(r),i.promise},u.prototype._getParentOptionFields=function(n){return ti.WorkItemUtils.getParentOptionFields(n)},u.prototype.beginPageItems=function(n,t,i,r,u,f,e,o){return __awaiter(this,void 0,void 0,function(){var s;return __generator(this,function(h){switch(h.label){case 0:return[4,this._updateFilteredIds(n,u)];case 1:return(h.sent(),s=this.getNextPageIds(i,r),!(this._parentChildMap&&s.length>0))?[3,3]:[4,this.beginGetParentChildMap(s,null)];case 2:h.sent();h.label=3;case 3:return[2,this._beginPageItems(n,t,s,f,e,o)]}})})},u.prototype._updateFilteredIds=function(n,t){return __awaiter(this,void 0,void 0,function(){function u(n){if(!n)return"";for(n=n.trim();n.indexOf("'")>0;)n=n.replace("'"," ");return n}var r,i;return __generator(this,function(f){switch(f.label){case 0:return(t=u(t),t===this._lastFilter)?[2,Promise.resolve()]:t?[4,this._getMatchingWorkItemIds(n,t)]:[3,2];case 1:return i=f.sent(),[3,3];case 2:i=[];f.label=3;case 3:return r=i,this._lastFilter=t,this._lastFilteredPagedIndex=-1,this._idsForLastFilter=r,[2]}})})},u.prototype._getMatchingWorkItemIds=function(n,t){return __awaiter(this,void 0,void 0,function(){var i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return(i=this._items.keys(),i.indexOf(t)>-1)?[2,Promise.resolve([])]:(r=this._getWitHttpClient(),u=this._buildWiqlForTextFilter(t,i),[4,r.queryByWiql({query:u},n)]);case 1:return f=e.sent(),[2,f.workItems.map(function(n){return n.id})]}})})},u.prototype._buildWiqlForTextFilter=function(n,t){function r(n){var t=Math.floor(Number(n));return isFinite(t)?t<=0?!1:String(t)!==n?!1:!0:!1}var i=r(n)?"OR [System.Id] = ".concat(n):"";return"\n            SELECT [System.Id]\n            FROM WorkItems\n            WHERE [System.TeamProject] = @project\n                AND [System.Id] NOT IN (".concat(t.join(","),")\n                AND (\n                    [System.Title] = '").concat(n,"'\n                    ").concat(i,"\n                )")},u.prototype.getNextPageIds=function(n,t){var i,r,u,f,e;return i=this._lastFilteredPagedIndex+1,r=this._idsForLastFilter.slice(i,i+t),this._lastFilteredPagedIndex+=r.length,u=t-r.length,et.localeIgnoreCaseComparer(n,ir.INCOMING)===0?(i=this._lastIncomingPagedIndex+1,f=this._orderedIncomingIds.slice(i,i+u),this._lastIncomingPagedIndex+=f.length,__spreadArray(__spreadArray([],r,!0),f,!0)):et.localeIgnoreCaseComparer(n,ir.OUTGOING)===0?(i=this._lastOutgoingPagedIndex+1,e=this._orderedOutgoingIds.slice(i,i+u),this._lastOutgoingPagedIndex+=e.length,__spreadArray(__spreadArray([],r,!0),e,!0)):[]},u.prototype.canPageItems=function(n){var t=!1;return et.localeIgnoreCaseComparer(n,ir.INCOMING)===0?t=this._orderedIncomingIds.length>0&&this._lastIncomingPagedIndex+1<this._orderedIncomingIds.length:et.localeIgnoreCaseComparer(n,ir.OUTGOING)===0&&(t=this._orderedOutgoingIds.length>0&&this._lastOutgoingPagedIndex+1<this._orderedOutgoingIds.length),t},u.prototype.getValidStateTransitions=function(n){return this._configuration.transitions[ti.WorkItemUtils.getKeyFromWorkItemTypeName(n)]},u.prototype.updateTransitions=function(n,t){var i=this._configuration.transitions,r=this.getItemTypes();r.forEach(function(r){var f=ti.WorkItemUtils.getKeyFromWorkItemTypeName(r),u=i[f],h=u[n],e,o,s;for(e in u)u.hasOwnProperty(e)&&(o=u[e],s=st.indexOf(o,n),s>-1&&(o[s]=t));i[f][t]=h;delete i[f][n]})},u.prototype.getPayloadFieldValue=function(n,t){var i;return this._pageData[n]?($.each(this._pageColumns,function(n,r){if(r===t)return i=n,!1}),this._pageData[n][i]):null},u.prototype.isWorkItemPaged=function(n){return!!this._pageData[n]},u.prototype.updatePayloadData=function(n){var i,t,r;if(n&&(i=this._pageData[n.id],i))for(t=0,r=this._pageColumns.length;t<r;t++)i[t]=n.getFieldValue(this._pageColumns[t])},u.prototype.updateParentPayloadOnDelete=function(n){var t=this,i=this._getColumnIndex(oi.CoreFieldRefNames.Parent),u;i!==-1&&(u=r.BoardParentDataProvider.getInstance(),u&&u.invalidate(n),Object.keys(this._pageData).forEach(function(r){var u=Number(r),f=Number(t._pageData[u][i]);f===n&&(t._pageData[u][i]=undefined,t._forceRefresh(u))}))},u.prototype.updateParentPayloadData=function(n){var u=this,f=n.changedFields&&(n.changedFields.hasOwnProperty(oi.CoreFieldRefNames.Title)||n.changedFields.hasOwnProperty(oi.CoreFieldRefNames.WorkItemType)||n.changedFields.hasOwnProperty(oi.CoreFieldRefNames.TeamProject)),e=(n.changedWorkItemLinks||[]).some(function(n){return n.linkData.LinkType===ti.WorkItemUtils.CHILD_LINKTYPE_ID}),i,t,r;(f||e)&&(i=this._getColumnIndex(oi.CoreFieldRefNames.Parent),i!==-1)&&(t={},e&&n.changedWorkItemLinks.forEach(function(n){n.linkData.LinkType===ti.WorkItemUtils.CHILD_LINKTYPE_ID&&(n.command==="add"?t[n.targetId]=n.sourceId:n.command==="remove"&&(t[n.targetId]=undefined))}),f&&(r=n.workItem,r.getLinks().forEach(function(n){n.linkData.LinkType===ti.WorkItemUtils.CHILD_LINKTYPE_ID&&(t[n.linkData.ID]=r.id)})),Object.keys(t).forEach(function(n){var r=Number(n),f=u._pageData[r];f&&(f[i]=t[r]);u._forceRefresh(r)}))},u.prototype._forceRefresh=function(n){var t=this._items.get(n);t&&t._fireEvent(gi.EVENT_ITEM_CHANGED,t,{item:t,change:di.ChangeTypes.Refresh})},u.prototype.buildCache=function(n){var t,f,r,u,i;if(n)for(t=0,f=n.length;t<f;t++)r=n[t],u=r[0],this._pageData[u]=r,i=this._witManager.getWorkItem(u),i&&i.isDirty()&&this.updatePageRow(i);this._updatePagingIndices()},u.prototype.updatePageRow=function(n){var f,r,t,e,u,i;if(f=n.getUniqueId(),r=this._pageData[f],r)for(u=this._pageColumns,t=0,e=u.length;t<e;t++)i=n.getField(u[t]),r[t]=i?i.fieldDefinition.id===oi.CoreField.Id?n.getUniqueId():i.getValue():null},u.prototype.fireResetEvent=function(n){this._fireChangeEvent(n,di.ChangeTypes.Reset)},u.prototype.fireDiscardedEvent=function(n){this._fireChangeEvent(n,di.ChangeTypes.Discarded)},u.prototype.fireSaveCompleted=function(n){this._fireChangeEvent(n,di.ChangeTypes.SaveCompleted)},u.prototype.beginCreateNewItem=function(n,t){var r=this,i=li.defer(),u=function(n){var t={};r._items.tryGetValue(n.getUniqueId(),t);i.resolve(t.value)};return ti.WorkItemUtils.beginGetWorkItemType(t).then(function(t){ti.WorkItemUtils.beginCreateWorkItem(n,t,{parenting:{id:0,fields:null},useDefaultIteration:!0}).then(function(n){u(n)},function(n){i.reject(n)})},function(n){i.reject(n)}),i.promise},u.prototype.beginCreateNewChildItem=function(n,t,i){var r=this,u=li.defer(),f=function(n){r._childrenIds[t]||(r._childrenIds[t]=[]);r._childrenIds[t].push(n.getUniqueId());u.resolve(r._items.get(n.getUniqueId()))};return this._store.beginGetLinkTypes(function(){ti.WorkItemUtils.beginGetWorkItemType(i).then(function(i){ti.WorkItemUtils.beginCreateWorkItem(n,i,{parenting:{id:t,fields:r._getParentOptionFields(n)},useDefaultIteration:!1}).then(function(n){f(n)},function(n){u.reject(n)})},function(n){u.reject(n)})},function(n){u.reject(n)}),u.promise},u.prototype.discardChildItem=function(n,t){if(this._items&&this._items.get(t))this.clearItem(t);else return!1;return this._removeChild(this._childrenIds[n],t)},u.prototype._removeChild=function(n,t){var i;return n&&n.length>0&&(i=st.indexOf(n,t))>=0?(n.splice(i,1),!0):!1},u.prototype.disassociate=function(n,t){return this._removeChild(this._childrenIds[n],t)},u.prototype._fireChangeEvent=function(n,t){this._fireEvent(di.Events.ItemChange,this,{change:t,id:n.id(),getItem:function(){return n}})},u.prototype._beginPageItems=function(n,t,i,r,u,o){var s,h=this,c=Date.now(),l=gt.BacklogContext.getInstance(),a=(s={},s[f.BoardsHubConstants.HubCategoryReferenceName]=l.level.id,s[f.BoardsHubConstants.WorkItemIds]=i,s),v=function(n){var l=Date.now(),a=l-c,u,t,e,f,s;for(h._publishPagingTelemetry(a,i.length,o),h._updatePagedData(n.payload),u=[],t=0,e=n.payload.rows.length;t<e;t++)f=n.payload.rows[t][0],s=h.createItem(f),h.isParent(f)||u.push(s);r(u)};return e.getDataAsync("ms.vss-work-web.team-board-page-board-work-items-data-provider",a).then(function(n){v(n)},u)},u.prototype._publishPagingTelemetry=function(n,t,i){vt.logVerbose("Number of work items(page size): "+t+" Total Paging Time: "+n);var r=$.extend(i||{},{PageSize:t,PagingDuration:n});nr.publish(nr.KANBAN_PAGINGCOLUMNS,r)},u.prototype._updatePagedData=function(n){for(var i=this,t=0,r=n.rows.length;t<r;t++)this._pageData[n.rows[t][0]]=n.rows[t];n.hierarchy&&$.each(n.hierarchy,function(n,t){i._parentIds[t]=!0;i._configuration.payload.hierarchy[n]=t})},u.prototype._updatePagingIndices=function(){var n=0,t=0;if(this._orderedIncomingIds)for(n=0,t=this._orderedIncomingIds.length;n<t;n++)this._pageData.hasOwnProperty(this._orderedIncomingIds[n])&&this._lastIncomingPagedIndex++;if(this._orderedOutgoingIds)for(n=0,t=this._orderedOutgoingIds.length;n<t;n++)this._pageData.hasOwnProperty(this._orderedOutgoingIds[n])&&this._lastOutgoingPagedIndex++},u.prototype._workItemChanged=function(n,t){var e=this,i,r,u,f;(i=t.workItem.getUniqueId(),r=t.workItem.tempId,this.isParent(i))||(u=function(){return e.createItem(i,t.workItem)},f={},i>0&&this._items.tryGetValue(r,f)&&(this._updateItemID(r,i),i=r,u=function(){return f.value}),t=$.extend({},t,{id:i,getItem:u}),this._fireEvent(di.Events.ItemChange,this,t))},u.prototype._updateItemID=function(n,t){var i,f,r={},u;this._items.tryGetValue(n,r)&&(r.value._id=t,this._items.set(t,r.value),this._items.remove(n));for(u in this._childrenIds)if(this._childrenIds.hasOwnProperty(u)&&(i=this._childrenIds[u],(f=st.indexOf(i,n))>=0)){i.splice(f,1,t);break}},u.prototype._updateWorkItemPayload=function(n,t,i,r){var u=n.get(t.fields[oi.CoreField.Id]);u.updateWorkItemPayload(t,i,r)},u.prototype._shouldRefreshWorkItem=function(n,t,i,r){return parseInt(n.stackRank)===i?!1:r&&n.revision===2?!1:(n.changedChildren||n.changedTypeOrTitle)&&this._getColumnIndex(oi.CoreFieldRefNames.Parent)>=0?!0:n.forceRefresh||!n.wasWorkItemAttached||t<n.revision},u.prototype._beginWorkItemsRefresh=function(n,t,i){var u=this,r;if(n&&(r=n.keys().map(function(n){return parseInt(n,10)}),r&&r.length>0)){var c=ui.ProjectCollection.getDefaultConnection().getService(dt.WorkItemStore),e=[],f=0,o=function(){r.length===e.length+f&&(f===0&&typeof t=="function"?t.call(u):f>0&&typeof i=="function"&&i.call(u,e))},s=function(n){e.push(n.id);o()},h=function(){f++;o()};c.beginGetWorkItemData(r,function(t){var f={},e,i,r;if(Array.isArray(t))for(e in t)i=t[e],r=i.fields[oi.CoreField.Id],f[r]=i,u._updateWorkItemPayload(n,i,s,h);else i=t,r=i.fields[oi.CoreField.Id],f[r]=i,u._updateWorkItemPayload(n,t,s,h);u._updateChildren(f)},function(){f=r.length;o()},undefined,undefined,!0)}},u.prototype._updateChildren=function(n){var t=this,i=this._getColumnIndex(oi.CoreFieldRefNames.Parent),u,r;i!==-1&&(u={},Object.keys(n).forEach(function(t){var i=n[+t];i&&i.relations&&i.relations.forEach(function(n){n.LinkType===nt.CoreLinkTypes.Child&&(u[n.ID]=+t)})}),r=[],Object.keys(this._pageData).forEach(function(f){var e=+f,o=u[e];o?(r.push(e),t._pageData[e][i]=o):(o=t._pageData[e][i],o&&n[+o]&&(r.push(e),t._pageData[e][i]=undefined))}),r.forEach(function(n){t._forceRefresh(n)}))},u.prototype._getColumnIndex=function(n){var t=-1;return $.each(this._pageColumns,function(i,r){if(r===n)return t=i,!1}),t},u.prototype.autoRefreshItems=function(n){var i=this,r=this,t=li.defer(),u=function(n){t.reject(n)},f=function(u){var e=new ii.Dictionary;for(var f in u){var h=n.get(u[f].id),o=i._items.get(u[f].id),s=0;o&&(s=o.getOrder());r._shouldRefreshWorkItem(h,u[f].revision,s,u[f].tempId<0)?(e.add(u[f].id,u[f]),o&&o.setOrder(null)):vt.logTracePoint(vi.TracePoints.WarningInUpdateAlreadyFresh)}e.count()>0?i._beginWorkItemsRefresh(e,function(){t.resolve({successCount:e.count(),failureCount:0})},function(n){t.resolve({successCount:n.length,failureCount:e.count()-n.length})}):t.resolve({successCount:0,failureCount:0})};return this._witManager.beginGetWorkItems(n.keys().map(function(n){return parseInt(n,10)}),f,u,{includeExtensionFields:!0,excludeFromUserRecentActivity:!0}),t.promise},u.itemSourceType="wit",u.checklistPageSize=200,u}(di);t.WorkItemSource=pr;gr=function(){function n(n){this._boardAnnotationSettingsOptions=n;this._applicableAnnotationIds=[];this._applicableAnnotationNames=[];this._applicableAnnotationItemSources=[];this._constructApplicableAnnotationsAndItemSourcesList()}return n.prototype.getApplicableAnnotationSettings=function(){var t=this,n=[];return this._boardAnnotationSettingsOptions.annotationSettings.forEach(function(i){st.contains(t._applicableAnnotationIds,i.id)&&n.push(i)}),n},n.prototype.getDisplayName=function(n){for(var t=0,i=this._boardAnnotationSettingsOptions.annotationSettings.length;t<i;t++)if(et.equals(n,this._boardAnnotationSettingsOptions.annotationSettings[t].id,!0))return this._boardAnnotationSettingsOptions.annotationSettings[t].displayNameInSettingsPage;return n},n.prototype.getPreviewIcon=function(n){for(var t=0,i=this._boardAnnotationSettingsOptions.annotationSettings.length;t<i;t++)if(et.equals(n,this._boardAnnotationSettingsOptions.annotationSettings[t].id,!0))return this._boardAnnotationSettingsOptions.annotationSettings[t].previewIcon;return $("<div/>")},n.prototype.isAnnotationApplicable=function(n){return st.contains(this._applicableAnnotationIds,n)},n.prototype.isAnnotationRegistered=function(n){for(var t=0,i=this._boardAnnotationSettingsOptions.annotationSettings.length;t<i;t++)if(et.equals(n,this._boardAnnotationSettingsOptions.annotationSettings[t].id,!0))return!0;return!1},n.prototype.getApplicableAnnotationIds=function(){return this._applicableAnnotationIds},n.prototype.getApplicableAnnotationNames=function(){return this._applicableAnnotationNames},n.prototype.isAnnotationItemSourceApplicable=function(n){return st.contains(this._applicableAnnotationItemSources,n)},n.prototype.getApplicableAnnotationItemSources=function(){return this._applicableAnnotationItemSources},n.prototype.isAnyAnnotationEnabled=function(){return this._applicableAnnotationIds.length>0},n.prototype.getAnnotationItemSources=function(n){var t;return this._boardAnnotationSettingsOptions.annotationSettings.forEach(function(i){if(i.id===n){t=i.annotationItemSourceIds;return}}),t},n.prototype.dispose=function(){this._applicableAnnotationIds=null;this._applicableAnnotationItemSources=null;this._boardAnnotationSettingsOptions=null},n.prototype._constructApplicableAnnotationsAndItemSourcesList=function(){var n=this,t=gt.BacklogContext.getInstance();this._boardAnnotationSettingsOptions.annotationSettings.forEach(function(i){i.isEnabled&&(i.isApplicableForRequirementBacklog&&t.isRequirement||i.isApplicableForPortfolioBacklogs&&t.isPortfolioInContext())&&(n._applicableAnnotationIds.push(i.id),n._applicableAnnotationNames.push(i.workItemTypeName),n._applicableAnnotationItemSources=st.union(n._applicableAnnotationItemSources,i.annotationItemSourceIds))})},n}();t.BoardAnnotationSettingsProvider=gr,function(n){n[n.INCOMING=0]="INCOMING";n[n.INPROGRESS=1]="INPROGRESS";n[n.OUTGOING=2]="OUTGOING"}(iu=t.ColumnType||(t.ColumnType={}));ir=function(){function n(){}return n.INCOMING="incoming",n.INPROGRESS="inprogress",n.OUTGOING="outgoing",n}();t.BoardColumnType=ir;nu=function(){function n(){}return n.ColumnField="ColumnField",n.RowField="RowField",n.DoneField="DoneField",n}();t.BoardFieldType=nu;cr=function(){function n(t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this._id=t;this._node=i;this._values=r;this._title=u||r[0];this._childNode=f||null;this._layoutOptions=e;this._metadata=o;this._handlesNull=s;this._items=new ii.Dictionary;this._ordering=h;this._limits=c;this._previousMember=l;this._nextMember=a;this._canAddNewItemButton=v;this._description=y;this._itemsLoadComplete=!1;this._filterableFieldNamesByItemType=p;this.isFilterable()&&this._setupFilteringCapability();this._acquired=new ii.Dictionary;this._released=new ii.Dictionary;this._filtered=new ii.Dictionary}return n.prototype.isTopLevel=function(){var n=this._node.parentMember();return n?!1:!0},n.prototype.isFilterable=function(){return!this._childNode},n.prototype.getRootNodeFieldName=function(){return this.isTopLevel()?this.node().fieldName():this.node().parentMember().getRootNodeFieldName()},n.prototype.getRootMember=function(){for(var n=this;n.node().parentMember();)n=n.node().parentMember();return n},n.prototype.getColumnMember=function(){for(var n=this;!n.metadata();)n=n.node().parentMember();return n},n.prototype.executeUp=function(n){for(var t=this;t.node().parentMember();)n(t),t=t.node().parentMember()},n.prototype.getTopLevelMemberValue=function(n){return et.ignoreCaseComparer(this.node().fieldName(),n)===0||this.isTopLevel()?this.values()[0]:this.node().parentMember().getTopLevelMemberValue(n)},n.prototype.isFiltered=function(){return this._filterManager&&this._filterManager.isFiltering()},n.prototype.id=function(){return this._id},n.prototype.node=function(){return this._node},n.prototype.itemSource=function(){return this.node().board().itemSource()},n.prototype.filterManager=function(){return this._filterManager},n.prototype.title=function(n){return n!==undefined&&(this._title=n),this._title},n.prototype.canAddNewItemButton=function(){return this._canAddNewItemButton},n.prototype.values=function(){return this._values},n.prototype.childNode=function(){return this._childNode},n.prototype.previousMember=function(n){return n!==undefined&&(this._previousMember=n),this._previousMember},n.prototype.nextMember=function(n){return n!==undefined&&(this._nextMember=n),this._nextMember},n.prototype.memberInPreviousLane=function(n){return n!==undefined&&(this._memberInPreviousLane=n),this._memberInPreviousLane},n.prototype.memberInNextLane=function(n){return n!==undefined&&(this._memberInNextLane=n),this._memberInNextLane},n.prototype.description=function(){return this._description},n.prototype.isMatch=function(n){return this.handlesNull()&&(n===null||n===undefined||n==="")?!0:Boolean(n)?st.contains(this._values,n,et.localeIgnoreCaseComparer):void 0},n.prototype.getFieldUpdateList=function(n){var r;n===void 0&&(n=!1);for(var u=[],i=this.node(),t=this,e=0,f={};i!=null&&t!=null;)r=i.fieldName(),(n||!f[r])&&(u[e++]={fieldName:r,fieldValue:t.values()[0]},f[r]=!0),t=i.parentMember(),t&&(i=t.node());return u},n.prototype.itemComparer=function(){var t,n;return this._itemComparer||(t=this._node.board(),n=$.extend({},this._ordering),n.data=$.extend({itemSource:t.itemSource()},n.data),this._itemComparer=sr.getFunction(n)),this._itemComparer},n.prototype.layoutOptions=function(){return this._layoutOptions},n.prototype.metadata=function(){return this._metadata},n.prototype.handlesNull=function(){return this._handlesNull},n.prototype.rootColumnType=function(){return this.getRootMember().metadata()?this.getRootMember().metadata().boardColumnType:""},n.prototype.isPagingEnabled=function(){return this.isIncoming()||this.isOutgoing()},n.prototype.isIncoming=function(){var n=this.rootColumnType();return et.ignoreCaseComparer(n,ir.INCOMING)===0},n.prototype.isInProgress=function(){var n=this.rootColumnType();return et.ignoreCaseComparer(n,ir.INPROGRESS)===0},n.prototype.isOutgoing=function(){var n=this.rootColumnType();return et.ignoreCaseComparer(n,ir.OUTGOING)===0},n.prototype.isCollapsible=function(){return this.isIncoming()||this.isOutgoing()},n.prototype.limits=function(n){return n!==undefined&&(this._limits=n),this._limits},n.prototype.item=function(n){return this._items.get(n)},n.prototype.items=function(){return this._items.values()},n.prototype.unpinOpenedItems=function(n,t){var i=[];fr.getLeafMembers(this._node,i);i.forEach(function(i){var r=i.items();r&&r.length>0&&r.forEach(function(i){i.unpinIfOpened(n,t)})})},n.prototype.startReceivingNewItems=function(){this._shouldReceiveNewItems=!0},n.prototype.stopReceivingNewItems=function(){this._shouldReceiveNewItems=!1},n.prototype.shouldReceiveNewItems=function(){return this._shouldReceiveNewItems},n.prototype.getItemContainer=function(n){return this._childNode?this._childNode.getItemContainer(n):this},n.prototype.updateItem=function(t,i,r){var u=t.id();r&&(this===r?this._released.containsKey(u)&&(this._released.remove(u),this._releaseAcquisition(u)):(r.removeItem(t,!0),this._acquired.containsKey(u)&&(this._acquired.remove(u),this._releaseAcquisition(u))));this._items.set(u,t);this.isFiltered()&&!this._filtered.containsKey(u)&&this._filtered.add(u,!0);r?this._fireItemUpdated(t):this._fireItemAdded(t,i)},n.prototype.removeItem=function(n,t){var i=n.id();this._items.remove(i);this._filtered.containsKey(i)&&this._filtered.remove(i);this._released.containsKey(i)&&(this._released.remove(i),t||this._releaseAcquisition(i));this._fireItemRemoved(n,t)},n.prototype.validateName=function(n,t){var i=this,u=this.node().board(),r=u.getBoardSettings();return this.metadata()?wr.getTitleValidationErrors(n,r.columns.filter(function(n){return n.name!==i.title()})):br.getTitleValidationErrors(n,r.rows.filter(function(n){return n.name!==i.title()}),t)},n.prototype.beginUpdateTitle=function(n){var t=this,f=this.node().board(),i=f.getBoardSettings(),e=li.defer(),y=Date.now(),r,a,c,u,l,v,h;if(this.metadata()){for(c=function(n){var u,o,f;for(t._updateMemberAcquisitionStatus(s,!1),u=0,o=i.columns.length;u<o;u++)if(f=i.columns[u],et.equals(f.id,t.id(),!0)){f.name=r;break}t.title(r);e.reject(n)},u=0,l=i.columns.length;u<l;u++)if(a=i.columns[u],et.equals(a.id,this.id(),!0)){r=a.name;a.name=n;break}this.title(n);var o=this.node(),p=o.parentMember()?o.parentMember().node():o,s=[];fr.getLeafMembers(p,s);this._updateMemberAcquisitionStatus(s,!0,this.id());(new ar).beginUpdateColumns(i.columns,i.id).then(function(u){ur.invalidateStore(i.extensionId);var h=o.fieldName();t._updateNodeMemberValues(f.rootNode(),o.layoutStyle(),r,n);f.itemSource().updateTransitions(r,n);t.getRootMember().unpinOpenedItems(h,i.extensionId);t._updateMemberItemContainer(s,h,n,t.id());t._updateMemberAcquisitionStatus(s,!1,t.id());f.setBoardColumnSettings(u);nr.OnColumnRenamedInline(y);e.resolve(!0)},c)}else{for(c=function(n){var u,o,f;for(t._updateMemberAcquisitionStatus(h,!1),u=0,o=i.rows.length;u<o;u++)if(f=i.rows[u],et.equals(f.id,t.id(),!0)){f.name=r;break}t.title(r);e.reject(n)},u=0,l=i.rows.length;u<l;u++)if(v=i.rows[u],et.equals(v.id,this.id(),!0)){r=v.name;v.name=n;break}this.title(n);h=this.childNode().members();this._updateMemberAcquisitionStatus(h,!0);(new ar).beginUpdateRows(i.rows,i.id).then(function(u){ur.invalidateStore(i.extensionId);var o=t.node(),s=o.fieldName();t._updateNodeMemberValues(f.rootNode(),o.layoutStyle(),r,n);t.getRootMember().unpinOpenedItems(s,i.extensionId);t._updateMemberItemContainer(h,s,n);t._updateMemberAcquisitionStatus(h,!1);f.setBoardRowSettings(u);nr.OnLaneRenamedInline(y);e.resolve(!0)},c)}return e.promise},n.prototype.changeItemId=function(n,t){this._items.set(t,this._items.get(n));this._released.containsKey(n)&&this._released.set(t,this._released.get(n));this._acquired.containsKey(n)&&this._acquired.set(t,this._acquired.get(n));this._filtered.containsKey(n)&&this._filtered.set(t,this._filtered.get(n));this._items.remove(n);this._released.remove(n);this._acquired.remove(n);this._filtered.remove(n);this._fireItemUpdated(this._items.get(t),n)},n.prototype.clear=function(){var n=this;$.each(this._items.values(),function(t,i){n.removeItem(i)})},n.prototype.acquire=function(n){this._logAcquisition(n,"Acquiring item");var r=this._node.board(),u=r.acquisitions(),i,t;i={};u.tryGetValue(n,i)?(t=i.value,t.release.cancel(),t.member!==this&&t.member.release(n,!1)):r.currentContainer(n).release(n);this._acquired.set(n,!0);this._setupRelease(u,n);this._fireItemCountChanged()},n.prototype.scheduleRelease=function(n){this._logAcquisition(n,"Setup delayed release");var t;(this._acquired.containsKey(n)||this._items.containsKey(n))&&(t=this._node.board().acquisitions(),this._setupRelease(t,n).start())},n.prototype.getItemCount=function(){var n={owned:this._items.count(),acquired:this._acquired.count(),released:this._released.count(),wip:this._items.count(),filtered:0,count:0};return n.filtered=this.isFiltered()?this._filtered.count():this._items.count(),this._childNode&&$.each(this._childNode.members(),function(t,i){var r=i.getItemCount();n.owned+=r.owned;n.acquired+=r.acquired;n.released+=r.released;n.filtered+=r.filtered}),n.count=n.filtered+n.acquired-n.released,n.wip=n.owned+n.acquired-n.released,n},n.prototype.getFirstAncestorWithItemLimit=function(){var n=this._node.parentMember();return n?n.hasItemLimit()?n:n.getFirstAncestorWithItemLimit():null},n.prototype.getBoardMemberAncestorByLayout=function(n){var t=this._node.parentMember();return t?t.layoutOptions()&&et.ignoreCaseComparer(t.layoutOptions().cssClass,n)===0?t:t.getBoardMemberAncestorByLayout(n):null},n.prototype.hasItemLimit=function(){return this._limits&&this._limits.limit!==undefined},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new bt.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.onItemsLoaded=function(){this._itemsLoadComplete=!0},n.prototype.setLocalTextFilter=function(n){if(this._localTextFilter=n.trim(),this._searchStartTime=Date.now(),this._filterManager){var t=this._filterManager.getFilters();this._addMemberFilterStringToFilterState(t);this._filterManager.setFilters(t);this._onBoardItemSearchComplete(this._filterManager.filter())}},n.prototype.getLocalTextFilter=function(){var n;return(n=this._localTextFilter)!==null&&n!==void 0?n:undefined},n.prototype.clearLocalTextFilter=function(){if(this._localTextFilter="",this._filtered.clear(),this._filterManager){var t=this._filterManager.getFilters(),n=t[g.TextFilterProvider.PROVIDER_TYPE];n&&(n.values=n.values.slice(0,1));this._filterManager.setFilters(t);this.calculateFilteredItems()}},n.prototype.isDataSetComplete=function(){return this._itemsLoadComplete&&Boolean(this.itemSource())},n.prototype._addMemberFilterStringToFilterState=function(n){var t=n[g.TextFilterProvider.PROVIDER_TYPE],i;t?(i=t.values,i[1]=this._localTextFilter):n[g.TextFilterProvider.PROVIDER_TYPE]={values:["",this._localTextFilter]}},n.prototype.filterItems=function(n){var t=hi.getScenarioManager().startScenario(nr.CI_AREA_AGILE,nr.Perf_Scenario_CriteriaFilterTiles),i=!1;return this._filterManager&&(t.addSplitTiming(nr.Perf_Split_PreCriteriaFilter),!this._localTextFilter||this._addMemberFilterStringToFilterState(n),b.isFilterStateEmpty(n)?this._filterManager.clearFilters():(this._filterManager.setFilters(n),t.addSplitTiming(nr.Perf_Split_PostCriteriaFilter),i=!0),this.calculateFilteredItems(),t.end()),i},n.prototype.ensureSearchIndex=function(){this.isFilterable()&&this._filterManager&&(this._localTextFilter=this._localTextFilter||"",this.setLocalTextFilter(this._localTextFilter))},n.prototype.calculateFilteredItems=function(){if(this._filterManager){var n=this._filterManager.filter();this._fireEvent(tr.BoardItemFilteringComplete,this,n);this._updateFilteredItemsMap(n)}},n.prototype.dispose=function(){this._events&&(this._events.unsubscribeAll(),this._events=null)},n.prototype._setupFilteringCapability=function(){var n=this.node().board();this._filterManager=new b.FilterManager(new kr(n.itemTypes(),this,this._filterableFieldNamesByItemType));a.FeatureAvailabilityService.isFeatureEnabled(s.FeatureAvailabilityFlags.UseTokenFiltering,!1)?this._filterManager.registerFilterProvider(g.TextFilterProvider.PROVIDER_TYPE,new g.TextFilterProvider):this._filterManager.registerFilterProvider(g.TextFilterProvider.PROVIDER_TYPE,new g.SubstringTextFilterProvider);this._filterManager.registerFilterProvider(oi.CoreFieldRefNames.AssignedTo,new p.AssignedToFilterProvider);this._filterManager.registerFilterProvider(oi.CoreFieldRefNames.WorkItemType,new w.FieldFilterProvider(oi.CoreFieldRefNames.WorkItemType));this._filterManager.registerFilterProvider(oi.CoreFieldRefNames.State,new w.FieldFilterProvider(oi.CoreFieldRefNames.State));this._filterManager.registerFilterProvider(oi.CoreFieldRefNames.IterationPath,new k.IterationPathFilterProvider(n.teamId));this._filterManager.registerFilterProvider(oi.CoreFieldRefNames.AreaPath,new y.AreaPathFilterProvider);n.isRootBacklogLevel()||this._filterManager.registerFilterProvider(t.parentItemFieldRefName,new w.FieldFilterProvider(t.parentItemFieldRefName));this._filterManager.registerFilterProvider(oi.CoreFieldRefNames.Tags,new d.TagsFilterProvider);this._filterManager.activate()},n.prototype._updateFilteredItemsMap=function(n){var t,i,r;for(this._filtered.clear(),t=0,i=n;t<i.length;t++)r=i[t],this._filtered.add(r,!0);this._fireItemCountChanged()},n.prototype._onBoardItemSearchComplete=function(n){var t=Date.now();this._fireEvent(tr.BoardItemFilteringComplete,this,n);var i=Date.now(),r=t-this._searchStartTime,u=i-t,f=i-this._searchStartTime;this._updateFilteredItemsMap(n);vt.logVerbose(this.rootColumnType()+" Total Search Time: "+f+", Core: "+r+", Rendering: "+u+", Filter: "+this._localTextFilter+", #Match: "+n.length)},n.prototype._updateNodeMemberValues=function(n,t,i,r){var f=this,u=n;u.members().forEach(function(n){if(u.layoutStyle()===t){var e=n.values(),o=e.indexOf(i);o>-1&&(n.title(r),e[o]=r)}n.childNode()&&f._updateNodeMemberValues(n.childNode(),t,i,r)})},n.prototype._updateMemberItemContainer=function(n,t,i,r){var u=this;n.forEach(function(n){var f;r?(et.equals(n.id(),r)||et.isEmptyGuid(n.id())&&et.equals(n.node().parentMember().id(),r))&&(f=n.items(),f.forEach(function(r){return n.node().updateItemContainer(r,t,i,!0)})):n.childNode()?u._updateMemberItemContainer(n.childNode().members(),t,i):(f=n.items(),f.forEach(function(r){return n.node().updateItemContainer(r,t,i,!0)}))})},n.prototype._updateMemberAcquisitionStatus=function(n,t,i){var r=this;n.forEach(function(n){i?(et.equals(n.id(),i)||et.isEmptyGuid(n.id())&&et.equals(n.node().parentMember().id(),i))&&(n.disableAcquisitions=t):n.childNode()?r._updateMemberAcquisitionStatus(n.childNode().members(),t):n.disableAcquisitions=t})},n.prototype._logAcquisition=function(n,t){vt.logVerbose(et.format("[{0},{1}] ",n,this._title)+t)},n.prototype._setupRelease=function(n,t){var i={member:this,release:new ft.DelayedFunction(this,100,"release-item",this.release,[t,!0])};return n.set(t,i),i.release},n.prototype.release=function(n,t){this._logAcquisition(n,"Releasing item");var u=this._node.board(),f,r,i;r={};this._acquired.containsKey(n)?(this._acquired.remove(n),f=u.acquisitions(),f.tryGetValue(n,r)&&(this._releaseAcquisition(n),t&&(this._logAcquisition(n,"Returning item to owner"),i=u.currentContainer(n),i._released.clear(n),i._fireItemCountChanged()))):this._items.containsKey(n)&&this._released.set(n,!0);this._logAcquisition(n,"Released item");this._fireItemCountChanged()},n.prototype._releaseAcquisition=function(n){var t=this._node.board().acquisitions();t.containsKey(n)&&(t.get(n).release.cancel(),t.remove(n))},n.prototype._resetIndexState=function(){this._filterManager&&this._filterManager.dataUpdated();vt.logVerbose("Search index is now stale")},n.prototype._fireItemAdded=function(n,t){this._fireItemChange(tr.BoardItemAdded,{item:n,deferPlacement:t});n.isNew()||this._resetIndexState()},n.prototype._fireItemUpdated=function(n,t){this._fireItemChange(tr.BoardItemUpdated,{item:n,oldId:t});this._resetIndexState()},n.prototype._fireItemRemoved=function(n,t){this._fireItemChange(tr.BoardItemRemoved,{item:n,isMove:t});n.isNew()||this._resetIndexState()},n.prototype._fireItemChange=function(n,t){this._fireEvent(n,this,t);this._fireItemCountChanged()},n.prototype._fireItemCountChanged=function(){this._updateCountForSwimlane();this._updateCountForWIPLimit()},n.prototype._updateCountForSwimlane=function(){var n=this.getBoardMemberAncestorByLayout("swimlane");n&&n._fireEvent(tr.BoardMemberItemCountChanged,n,n.getItemCount())},n.prototype._updateCountForWIPLimit=function(){var n,t;this.hasItemLimit()?(n=this.getItemCount(),this._logAcquisition(0,"Firing item count changed: "+et.format("Owned:{0}, Acquired:{1}, Released:{2}",n.owned,n.acquired,n.released)),this._fireEvent(tr.BoardMemberItemCountChanged,this,n)):(t=this.getFirstAncestorWithItemLimit(),t&&t._fireItemCountChanged())},n}();t.BoardMember=cr;tu=function(){function n(){}return n.HORIZONTAL="horizontal",n.VERTICAL="vertical",n}();t.BoardNodeLayoutStyle=tu;fr=function(){function n(t,i,r,u){var f=this,e;this._parentMember=r;this._board=t;this._fieldName=i.fieldName;this._layoutStyle=i.layoutStyle;this._itemDriven=i.isItemDriven;this._childNodeMembers=[];this._childNodes=[];e=function(i,r){var e=r.childNode?new n(t,r.childNode,null,u):null,o;e&&f._childNodes.push(e);o=f.addMember(r.id,r.values,r.title,e,r.layoutOptions,r.metadata,r.handlesNull,r.itemOrdering,r.limits,null,null,r.canAddNewItemButton,r.description,u);f._childNodeMembers.push(o);e&&e.parentMember(o)};i.members&&(this._members=[],$.each(i.members,e))}return n.getLeafMembers=function(n,t){var i=this;$.each(n.members(),function(n,r){r.childNode()?i.getLeafMembers(r.childNode(),t):t.push(r)})},n.setLeafMembersPrevAndNext=function(t){var i=null,f=!1,r,u;r=t.members()[1].childNode();r!=null&&r.layoutStyle()==="vertical"&&(u=null,$.each(r.members(),function(r,f){et.isEmptyGuid(f.id())?u=f:(i=[t.members()[0]],n.getLeafMembers(f.childNode(),i),i.push(t.members()[2]),n._setMembersPrevAndNext(i))}),i=[t.members()[0]],n.getLeafMembers(u.childNode(),i),i.push(t.members()[2]),n._setMembersPrevAndNext(i),f=!0,n.setNextAndPreviousLaneMembers(r.members()));f||(i=[],n.getLeafMembers(t,i),n._setMembersPrevAndNext(i))},n.setNextAndPreviousLaneMembers=function(t){var i=null,r=null;t.length>1&&t.forEach(function(t){i=r;r=[];n.getLeafMembers(t.childNode(),r);i&&i.length>0&&n.setNextAndPreviousLaneMembersForGivenLanes(r,i)})},n.setNextAndPreviousLaneMembersForGivenLanes=function(n,t){n.forEach(function(n,i){n.memberInPreviousLane(t[i])});t.forEach(function(t,i){t.memberInNextLane(n[i])})},n._setMembersPrevAndNext=function(n){$.each(n,function(t,i){i.previousMember(t>0?n[t-1]:null);i.nextMember(t+1<n.length?n[t+1]:null)})},n.prototype.board=function(){return this._board},n.prototype.fieldName=function(){return this._fieldName},n.prototype.parentMember=function(n){return n&&(this._parentMember=n),this._parentMember},n.prototype.layoutStyle=function(){return this._layoutStyle},n.prototype.members=function(){return this._members},n.prototype.allFilterableMembers=function(n){n===void 0&&(n=!0);var t=[];return $.each(this._members,function(i,r){var u,f;r.isFilterable()&&t.push(r);n&&(u=r.childNode(),u&&(f=u.allFilterableMembers(),t=t.concat(f||[])))}),t},n.prototype.addMember=function(t,i,r,u,f,e,o,s,h,c,l,a,v,y){var p=new cr(t,this,i,r,u,f,e,o,s,h,c,l,a,v,y);return this._members.push(p),this._fireEvent(tr.BoardMemberAdded,this,{member:p}),p},n.prototype.isItemDriven=function(){return this._itemDriven===!0},n.prototype.updateItemContainer=function(n,t,i,r){var u=ti.ControlUtils.getParentFieldReferenceName(t);u&&et.equals(n.fieldValue(t),n.fieldValue(u))&&n.fieldValue(u,i,!1,r);n.fieldValue(t,i,!0,r)},n.prototype.getItemContainer=function(n){var t=n.fieldValue(this._fieldName),i,r;return typeof t=="boolean"&&(t=t.toString()),!t&&n.isNew()&&(t=this._members[0].title()),$.each(this._members||[],function(r,u){if(u.isMatch(t))return i=u.getItemContainer(n),!1}),!i&&this._itemDriven&&(r=this.addMember(null,[t],t,null,{width:"single"},null,null,null,this._members.length>0?this._members[this._members.length-1]:null),i=r.getItemContainer(n)),i},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new bt.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.dispose=function(){var n,u,i,f,t,r,e,o;if(this._members)for(n=0,u=this._members;n<u.length;n++)t=u[n],t.dispose();if(this._childNodeMembers)for(i=0,f=this._childNodeMembers;i<f.length;i++)t=f[i],t.dispose();if(this._childNodes)for(r=0,e=this._childNodes;r<e.length;r++)o=e[r],o.dispose();this._members=[];this._childNodeMembers=[];this._childNodes=[]},n}();t.BoardNode=fr;ur=function(){function n(n,t,i){var r,u;this._lockedItems=[];this._isRootBacklogLevel=null;this._eventsHelper=t;r=n.board;this._boardSettings=n.boardSettings;this._itemTypes=n.itemTypes||(n.itemSource?n.itemSource.itemTypes:null);this._items=null;this._events=null;this._teamId=this._boardSettings.teamId;this._id=r.id;this._pageSize=r.pageSize;this._filterPageSize=r.filterPageSize;this._node=new fr(this,r.node,null,r.filterableFieldNamesByItemType);fr.setLeafMembersPrevAndNext(this._node);this._fields=r.fields;this._membershipEvaluator=sr.getFunction(r.membership);this._acquisitions=new ii.Dictionary({throwOnKeyMissing:!0});this._workItemIdsTypeChanged={};this._pendingBoardRefresh=!1;i&&(i.clearItems(),this.setItemSource(i));this._onBoardTileMoveLockDelegate=er(this,this._onBoardTileMoveLock);this._onBoardTileMoveUnlockDelegate=er(this,this._onBoardTileMoveUnlock);u=pt.getService();u.registerActionWorker(tr.BoardTileMoveLock,this._onBoardTileMoveLockDelegate,pt.ActionService.MaxOrder);u.registerActionWorker(tr.BoardTileMoveUnlock,this._onBoardTileMoveUnlockDelegate,pt.ActionService.MaxOrder)}return n.createBoard=function(t,i,r){return new n(t,i,r)},n.beginGetModel=function(n,t,i){var r=gt.BacklogContext.getInstance();ei.DismissableMessageAreaControl.isDismissedOnClient(gt.NotificationGuids.LimitedPortfolioAccess,fi.WebSettingsScope.User)||(r.isPortfolioInContext()?$(".tfs-basic-user-limited-portfolio-access-notification").addClass("visible").show():$(".tfs-basic-user-limited-portfolio-access-notification").removeClass("visible").hide());yt.getService(c.WebPageDataService,h.getDefaultWebContext()).getDataAsync(f.BoardsHubConstants.TEAM_BOARD_CONTENT_DATAPROVIDER_ID,null,null).then(function(n){n.exceptionInfo&&n.exceptionInfo.exceptionMessage?i({message:n.exceptionInfo.exceptionMessage,stack:n.exceptionInfo.stackTrace}):t(n.boardModel)},i)},n.prototype._onBoardTileMoveLock=function(n){this._lockedItems.push(n.id)},n.prototype._onBoardTileMoveUnlock=function(n){for(var t=this._lockedItems.indexOf(n.id),i=!1;t>-1;)this._lockedItems.splice(t,1),i=!0,t=this._lockedItems.indexOf(n.id);i&&this._pendingBoardRefresh&&(this._pendingBoardRefresh=!1,this._eventsHelper.fire(vi.Events.RefreshBoard,this))},n.prototype.hasLockedItems=function(){return this._lockedItems.length>0},n.prototype.setPendingBoardRefresh=function(n){this._pendingBoardRefresh=n},n.invalidateStore=function(n){var t=ui.ProjectCollection.getDefaultConnection().getService(dt.WorkItemStore);t.invalidateExtensions([n]);tt.WorkItemManager.get(t).resetCache()},n.prototype.dispose=function(){this._itemSource&&(this._itemSource.detachEvent(di.Events.ItemChange,this._itemChangeHandler),this._itemSource.dispose(),this._itemSource=null,$.each(this._itemContainer.values(),function(n,t){t.clear()}));this._workItemIdsTypeChanged={};this._backlogLevelHelper=null;this._cardSettingsProvider&&(this._cardSettingsProvider.dispose(),this._cardSettingsProvider=null);var n=pt.getService();n.unregisterActionWorker(tr.BoardTileMoveLock,this._onBoardTileMoveLockDelegate);n.unregisterActionWorker(tr.BoardTileMoveUnlock,this._onBoardTileMoveUnlockDelegate);this._node&&(this._node.dispose(),this._node=null);this._events&&(this._events.unsubscribeAll(),this._events=null);this.unsubscribeFromAutoRefreshEvents()},Object.defineProperty(n.prototype,"teamId",{get:function(){return this._teamId},enumerable:!1,configurable:!0}),n.prototype.id=function(){return this._id},n.prototype.getItemSource=function(){return this._itemSource},n.prototype.getBoardSettings=function(){return this._boardSettings},n.prototype.setBoardColumnSettings=function(n){this._boardSettings.columns=n},n.prototype.setBoardRowSettings=function(n){this._boardSettings.rows=n},n.prototype.rootNode=function(){return this._node},n.prototype.itemTypes=function(){return this._itemTypes},n.prototype.getField=function(n){return this._fields[n]},n.prototype.beginPopulate=function(t,r){var u=this,f;f=function(){u._itemSource.beginGetItems(function(r){var f,o,e;u._updateItems(r);f=!1;o=wi.FeatureAvailabilityService.isFeatureEnabled(pi.FeatureAvailabilityFlags.WebAccessAgileCardAnnotations);f=o?n.BoardAnnotationSettings.isAnyAnnotationEnabled():n.BoardAnnotationSettings.isAnnotationApplicable(i.BoardAnnotationsIdentifier.ChecklistAnnotation);f&&(e=$.map(r,function(n){return n.id()}),u._itemSource.retrieveAnnotationItemSourceData(e),u._itemSource.beginGetChildren(e).then(function(n){var t=0,i=0,r;$.each(n,function(n,r){i+=r.length;t++});r=t>0?Math.round(i/t):0;nr.publish(nr.KANBAN_CHECKLIST,{NumberOfCardsWithChecklist:t,AverageNumberOfChecklistsOnCard:r})}));t(r)},r)};this._itemSource?(typeof this._membershipEvaluator.initialize=="function"&&this._membershipEvaluator.initialize(),f()):ft.delay(this,0,t,[])},n.prototype.beginPageMoreItems=function(t,r,u,f,e,o){var s=this,h=t?this._filterPageSize:this._pageSize,c=this._boardSettings.teamId,l=rr.contextData.project.id;return this.itemSource().beginPageItems(l,c,r,h,o,function(t){return __awaiter(s,void 0,void 0,function(){var r;return __generator(this,function(f){switch(f.label){case 0:return(this._updateItems(t),!n.BoardAnnotationSettings.isAnyAnnotationEnabled())?[3,2]:(r=$.map(t,function(n){return n.id()}),this._itemSource.retrieveAnnotationItemSourceData(r),!n.BoardAnnotationSettings.isAnnotationApplicable(i.BoardAnnotationsIdentifier.ChecklistAnnotation))?[3,2]:[4,this._itemSource.beginGetChildren(r)];case 1:f.sent();f.label=2;case 2:return u(t),[2]}})})},f,e)},n.prototype.isRootBacklogLevel=function(){if(this._isRootBacklogLevel===null){var n=gt.BacklogContext.getInstance(),t=o.BacklogConfigurationService.getBacklogConfiguration();this._isRootBacklogLevel=!!(n&&n.level&&t&&t.isRootLevelBacklog(n.level.id))}return this._isRootBacklogLevel},n.prototype.hasWorkItem=function(n){return this._itemSource&&this._itemSource.isWorkItemPaged(n)},n.prototype.getFieldValue=function(n,t){return this._itemSource&&this._itemSource.getPayloadFieldValue(n,t)},n.prototype._ensureInitializedBacklogLevelHelper=function(){if(!this._backlogLevelHelper){this._backlogLevelHelper=new ni.BacklogLevelHelper;var n=gt.BacklogContext.getInstance(),t=n.level.defaultWorkItemType;this._currentBacklogLevel=this._backlogLevelHelper.getLevel(t)}},n.prototype._isItemTypeChildBacklogLevel=function(n){this._ensureInitializedBacklogLevelHelper();var t=this._backlogLevelHelper.getLevel(n);return this._currentBacklogLevel!==-1&&t!==-1&&this._currentBacklogLevel+1===t},n.prototype._isItemTypeCurrentBacklogLevel=function(n){this._ensureInitializedBacklogLevelHelper();var t=this._backlogLevelHelper.getLevel(n);return this._currentBacklogLevel!==-1&&t!==-1&&this._currentBacklogLevel===t},n.prototype.setItemSource=function(n){var t=this;return r.BoardParentDataProvider.clear(),n!==undefined&&(this._itemChangeHandler||(this._itemChangeHandler=er(this,function(n,i){switch(i.change){case di.ChangeTypes.Opened:t._eventsHelper.fire(tr.BoardItemNeedsUpdate,t,{id:i.id,update:function(){t._itemUpdated(n,i)}});break;case di.ChangeTypes.Created:case di.ChangeTypes.SaveCompleted:t._itemUpdated(n,i);break;case di.ChangeTypes.Refresh:case di.ChangeTypes.Reset:delete t._workItemIdsTypeChanged[i.id];t._itemUpdated(n,i);break;case di.ChangeTypes.FieldChange:i.id!==i.getItem().id()&&t._itemUpdated(n,i);break;case di.ChangeTypes.Discarded:case di.ChangeTypes.Deleted:delete t._workItemIdsTypeChanged[i.id];t._itemDiscarded(n,i);break;case di.ChangeTypes.TypeChanged:var r=i.workItem.getOriginalWorkItemType().name,u=i.workItem.workItemType.name,f=t._isItemTypeChildBacklogLevel(r),e=t._isItemTypeCurrentBacklogLevel(u);e&&f&&(t._workItemIdsTypeChanged[i.id]=!0);break;case di.ChangeTypes.Saved:t._workItemIdsTypeChanged[i.id]&&(delete t._workItemIdsTypeChanged[i.id],t._eventsHelper.fire(tr.BoardMessageDisplay,t,{message:ct.BoardRefreshRequired,messageType:ut.MessageAreaType.Warning,clickCallback:function(){window.location.reload()}}))}t._eventsHelper.fire(tr.BoardItemsUpdated,t)})),this._itemSource&&(this._itemSource.detachEvent(di.Events.ItemChange,this._itemChangeHandler),this._itemSource.dispose(),$.each(this._itemContainer.values(),function(n,t){t.clear()})),this._items=new ii.Dictionary,this._itemContainer=new ii.Dictionary,this._itemSource=n,n.attachEvent(di.Events.ItemChange,this._itemChangeHandler),r.BoardParentDataProvider.create(this)),this._itemSource},n.prototype.itemSource=function(){return this._itemSource},n.prototype.updateLimit=function(n,t,i,r){var u=$.map(n.node().members(),function(i){var r=i.limits();return r?(i===n&&(r.limit=t,i.limits(r)),et.format("{0}:{1}",i.title(),r.limit)):null}),f=u.toString(),e={area:"api",includeVersion:!0,teamId:this._boardSettings.teamId},o=rr.getActionUrl("SetTeamWorkInProgressLimits","backlog",e);ht.postMSJSON(o,{data:f},i,r)},n.prototype.currentContainer=function(n){return this._itemContainer.get(n)},n.prototype.acquisitions=function(){return this._acquisitions},n.prototype.fire=function(n,t,i){return this._fireEvent(n,t,i)},n.prototype._fireEvent=function(n,t,i){if(this._events){var r;if(this._events.invokeHandlers(n,t,i,function(n){if(n===!1)return r=!0,!0}),r)return!1}},n.prototype.attachEvent=function(n,t){this._events||(this._events=new bt.NamedEventCollection);this._events.subscribe(n,t)},n.prototype.detachEvent=function(n,t){this._events&&this._events.unsubscribe(n,t)},n.prototype.getCardSettingsProvider=function(){return this._cardSettingsProvider},n.prototype.setCardSettingsProvider=function(n){this._cardSettingsProvider=n},n.prototype.isAutoBoardRefreshOn=function(){return this._boardSettings.autoRefreshState},n.prototype._meetsBoardCriteria=function(n){var t;return this._membershipEvaluator(n,function(n){t=n}),t},n.prototype._updateItems=function(n){var r,t,i;for(hi.getScenarioManager().split(nr.Perf_Split_UpdateItemsStart),r=n.length,t=0;t<r;t++)i=n[t],this._itemUpdated(this.itemSource(),{id:i.id(),getItem:function(){return i},deferPlacement:!0});hi.getScenarioManager().split(nr.Perf_Split_UpdateItemsEnd);this._eventsHelper.fire(tr.BoardItemsUpdated,this)},n.prototype._itemUpdated=function(n,t){var r,u,i,f;if(r=t.id,u=this._items.containsKey(r),u)i=this._items.get(r),r!==i.id()&&this._changeItemId(r,i.id());else if(i=t.getItem(),f=this._node.getItemContainer(i),r<0&&f&&!f.shouldReceiveNewItems())return;this._meetsBoardCriteria(i)?this._updateItem(i,t.deferPlacement,t.change):u&&this.removeItem(i,nr.KANBAN_ITEM_REMOVED_MEMBERSHIP_CHANGED)},n.prototype._itemDiscarded=function(n,t){var i,r,u;i=t.id;r=this._items.containsKey(i);r&&(u=this._items.get(i),this.removeItem(u,nr.KANBAN_ITEM_REMOVED_DELETED));t.change===di.ChangeTypes.Deleted&&this._itemSource.updateParentPayloadOnDelete(i)},n.prototype._changeItemId=function(n,t){var i=this._itemContainer.get(n);this._items.set(t,this._items.get(n));this._itemContainer.set(t,i);this._acquisitions.containsKey(n)&&this._acquisitions.set(t,this._acquisitions.get(n));i.changeItemId(n,t);this._acquisitions.remove(n);this._itemContainer.remove(n);this._items.remove(n)},n.prototype._updateItem=function(n,t,i){var e,s,h,o,c;var u=n.id(),f=this._itemContainer.get(u),r=this._node.getItemContainer(n);if(r){if(r===f?(e={},this._acquisitions.tryGetValue(u,e)&&(s=e.value,h=s.member,h.release(u,!0))):(this._items.set(u,n),this._itemContainer.set(u,r)),r.updateItem(n,t,f),i===di.ChangeTypes.Refresh){o=!1;for(c in this._lockedItems)if(r===this._itemContainer.get(this._lockedItems[c])){o=!0;break}o||r.calculateFilteredItems()}}else f&&this.removeItem(n,nr.KANBAN_ITEM_REMOVED_INVALID_NODE);this._eventsHelper.fire(tr.BoardTileMoved)},n.prototype.removeItem=function(n,t){var i=n.id(),r=this._itemContainer.get(i);r&&(r.removeItem(n),this._itemContainer.remove(i));n.postRemoveCleanup();this._items.remove(i);this._itemSource.clearItem(i);t&&nr.OnItemRemoved(t)},n.prototype.removeItemById=function(n,t){var i=this._itemSource.getCachedItem(n);i&&this.removeItem(i,t)},n.prototype._autoRefreshBoardItems=function(n,t){var u=this,c=function(n){vt.logTracePoint(n);u._eventsHelper.fire(vi.Events.ItemsAutoRefreshCompleted,u,0)},r=new ii.Dictionary,e=0,o,i,f,s,h;for(o in t)if(i=t[o],f=this._itemSource.getCachedItem(i.id),this._lockedItems.indexOf(i.id)>-1)f&&f.setPendingAutoRefreshEvent(i);else switch(i.changeType){case vi.EventType.ItemUpdated:this._items.containsKey(i.id)?(i.wasWorkItemAttached=f.isWorkItemAttached(),r.containsKey(i.id)||r.add(i.id,i)):vt.logTracePoint(vi.TracePoints.WarningInUpdateNotOnBoard);break;case vi.EventType.ItemCreated:case vi.EventType.ItemAdded:this._items.containsKey(i.id)?vt.logTracePoint(vi.TracePoints.WarningInAddAlreadyOnBoard):r.containsKey(i.id)||r.add(i.id,i);break;case vi.EventType.ItemDeleted:case vi.EventType.ItemRemoved:this._items.containsKey(i.id)?(this.removeItemById(i.id),e++):vt.logTracePoint(vi.TracePoints.WarningInDeleteNotOnBoard);break;case vi.EventType.ItemRestored:this._items.containsKey(i.id)?vt.logTracePoint(vi.TracePoints.InfoInRestoreAlreadyOnBoard):r.containsKey(i.id)||r.add(i.id,i);break;default:vt.logTracePoint(vi.TracePoints.ErrorUnknownEventType)}e>0&&(s={SuccessfullyUpdated:e,ErrorUpdating:0},vi.PublishAutoRefreshTelemetry("ItemsRemoved",this._boardSettings.extensionId,s));r.count()>0?(h=function(n){if(n.successCount>0||n.failureCount>0){var t={SuccessfullyUpdated:n.successCount,ErrorUpdating:n.failureCount};vi.PublishAutoRefreshTelemetry("GetWICallResult",u._boardSettings.extensionId,t)}u._eventsHelper.fire(vi.Events.ItemsAutoRefreshCompleted,u,n.successCount)},this._itemSource.autoRefreshItems(r).then(h,c.bind(null,vi.TracePoints.ErrorInUpdate))):this._eventsHelper.fire(vi.Events.ItemsAutoRefreshCompleted,this,0)},n.prototype.subscribeForAutoRefreshEvents=function(){this._autoRefreshBoardItemsDelegate||(this._autoRefreshBoardItemsDelegate=er(this,this._autoRefreshBoardItems),this._eventsHelper.attachEvent(vi.Events.ItemsNeedAutoRefresh,this._autoRefreshBoardItemsDelegate),this._boardSettings.autoRefreshState=!0)},n.prototype.unsubscribeFromAutoRefreshEvents=function(){this._autoRefreshBoardItemsDelegate&&(this._eventsHelper.detachEvent(vi.Events.ItemsNeedAutoRefresh,this._autoRefreshBoardItemsDelegate),this._autoRefreshBoardItemsDelegate=null,this._boardSettings.autoRefreshState=!1)},n}();t.Board=ur;nr=function(){function n(){}return n.OnBoardSettingsSave=function(t,i){var r={IsWIPLimitChanged:t.isWIPLimitChanged,IsColumnNameChanged:t.isColumnNameChanged,IsSplitColumnStateChanged:t.isSplitColumnStateChanged,IsDescriptionChanged:t.isDescriptionChanged,IsColumnStateChanged:t.isColumnStateChanged,IsColumnOrderChanged:t.isColumnOrderChanged,AddedColumnCount:t.newColumnCount,DeletedColumnCount:t.deletedColumnCount,TotalColumnCount:t.totalColumnCount,DescriptionColumnCount:t.descriptionColumnCount,SplitColumnCount:t.splitColumnCount,AverageWipLimitInProgressColumn:t.averageWipLimitInProgressColumn,ElapsedTime:i,IsColumnDeleted:t.isColumnDeleted,IsColumnAdded:t.isColumnAdded};this.publish(n.KANBAN_UPDATEBOARDSETTINGS,r,!0)},n.OnBoardDisplay=function(t,i,r,u){var f,e,o,s;r===void 0&&(r=!1);u===void 0&&(u=null);i?(f=n._getCardCustomTelemetryData(t),this.publish(n.KANBAN_CARD_CUSTOM_INFO,f)):(e=u?JSON.stringify(u):"",o=n._getBoardTelemetryData(t,r,e),this.publish(n.KANBAN_REFRESHBOARD,o));s=!wi.FeatureAvailabilityService.isFeatureEnabled(pi.FeatureAvailabilityFlags.DisableWebAccessServerKanbanLogs);s&&this.publish(n.KANBAN_CUSTOMIZATION,n._getBoardCustomizationData(t))},n._getCardCustomTelemetryData=function(n){var t=this._getCardFieldSettings(n),i=this._getCardStyleSettings(n);return{BoardId:n.id(),AdditionalFieldCount:t.additionalFieldCount,AdditionalStyleCount:i.customStyleCount}},n._getBoardCustomizationData=function(n){var r=this._getCardFieldSettings(n),t=this._getCardStyleSettings(n),i=n.getBoardSettings(),u=i.rows||[],f=i.columns||[];return{SwimlaneCount:u.length,ColumnCount:f.length,StyleRuleCount:t.styleRuleCount,EnabledStyleRuleCount:t.enabledStyleRuleCount,AdditionalCardFieldCount:r.additionalFieldCount,CustomStyleRuleCount:t.customStyleCount,TagColorRuleCount:t.tagColorRuleCount}},n._getCardFieldSettings=function(n){var i=n.getCardSettingsProvider(),r=i.getCardSettings(),u=o.BacklogConfigurationService.getBacklogFieldName(o.BacklogFieldTypes.Effort),t={type:"",showId:!1,showTag:!1,showEffort:!1,showAssignedTo:!1,showEmptyFields:!1,additionalFieldCount:0};return $.each(r.cards,function(n,i){t.type=n;$.each(i,function(n,i){var r=i[ri.CardSettings.FIELD_IDENTIFIER];r?et.ignoreCaseComparer(r,ti.DatabaseCoreFieldRefName.Tags)===0?t.showTag=!0:et.ignoreCaseComparer(r,ti.DatabaseCoreFieldRefName.AssignedTo)===0?t.showAssignedTo=!0:et.ignoreCaseComparer(r,ti.DatabaseCoreFieldRefName.Id)===0?t.showId=!0:et.ignoreCaseComparer(r,u)===0?t.showEffort=!0:et.ignoreCaseComparer(r,ti.DatabaseCoreFieldRefName.Title)===0||t.additionalFieldCount++:i[ri.CardSettings.SHOW_EMPTY_FIELDS]==="true"&&(t.showEmptyFields=!0)})}),t},n._getCardStyleSettings=function(n){var i=n.getCardSettingsProvider(),r=0,u=0,f=0,e=0,o=0,t;return i&&(t=i.getCardSettings().styles,t&&$.each(t,function(n,t){et.ignoreCaseComparer(t.type,"tagStyle")===0?(t.isEnabled&&e++,f++):(t.isEnabled&&u++,et.ignoreCaseComparer(t.type,"fill")===0&&t.isEnabled&&o++,r++)})),{styleRuleCount:r,enabledStyleRuleCount:u,tagColorRuleCount:f,enabledTagColorRuleCount:e,customStyleCount:o}},n._getBoardTelemetryData=function(n,t){var i=n.rootNode().members(),c=0,f=0,l=0,e=0,o=0,a=!1,v=!1,y=!1,r=n.getBoardSettings(),s=r.rows||[],w,d,g;if(i.length>2){var h=null,p=i[1].childNode(),nt=p&&ti.ControlUtils.checkIfFieldReferenceNameIsForSwimlane(p.fieldName());nt?(w=i[1].childNode().members(),h=w[0].childNode().members()):h=i.filter(function(n){return n.isInProgress()});$.each(h,function(n,t){var i=t.totalGroupMemberCount;f=Math.max(f,i);l+=i;e++});e>0&&(c=Math.round(l/e))}$.each(r.columns,function(n,t){t.isSplit&&o++;t.itemLimit>0&&(v=!0);t.description&&(a=!0)});$.each(s,function(n,t){if(et.isEmptyGuid(t.id)&&t.name)return y=!0,!1});var b=[],k=this._getCardFieldSettings(n),u=this._getCardStyleSettings(n);return b.push(k),d=n.isAutoBoardRefreshOn(),g={TotalColumnCount:r.columns.length,AverageItemCount:c,MaxItemCount:f,TotalLaneCount:s.length,HasLanes:s.length>1,HasDefinitionOfDone:a,HasWIPLimit:v,DefaultLaneHasName:y,HasSplitColumn:o>0,SplitColumnCount:o,StyleRuleCount:u.styleRuleCount,EnabledStyleRuleCount:u.enabledStyleRuleCount,TagColorRuleCount:u.tagColorRuleCount,EnabledTagColorRuleCount:u.enabledTagColorRuleCount,CompactionEnabled:k.showEmptyFields===!1,StaleCache:t,CardSettings:JSON.stringify(b),AutoRefreshEnabled:d,ExtensionId:r.extensionId},g},n.OnAddNewItem=function(t,i){var r=Date.now(),u={ItemType:t,ElapsedTime:r-i};this.publish(n.KANBAN_ADDNEWITEM,u)},n.OnColumnRenamedInline=function(t){var i=Date.now(),r=i-t,u={IsColumnNameChangedInline:!0,ElapsedTime:r};this.publish(n.KANBAN_UPDATE_COLUMN_SETTINGS,u)},n.OnLaneRenamedInline=function(t){var i=Date.now(),r=i-t,u={IsLaneNameChangedInline:!0,ElapsedTime:r};this.publish(n.KANBAN_UPDATE_LANE_SETTINGS,u)},n.OnColumnInlineRenameStart=function(){this.publish(n.KANBAN_UPDATE_COLUMN_SETTINGS,{ColumnInlineRenameStart:!0})},n.OnLaneInlineRenameStart=function(){this.publish(n.KANBAN_UPDATE_LANE_SETTINGS,{LaneInlineRenameStart:!0})},n.OnExpandCollapseColumn=function(t,i,r){var u={ColumnType:i,Collapsed:t,IsPageLoad:r};this.publish(n.KANBAN_COLLAPSECOLUMN,u)},n.OnFilter=function(t){var i={Action:"click",FilterArea:t};this.publish(n.KANBAN_FILTERSEARCH,i)},n.OnDragDrop=function(t,i){var r=Date.now(),u={IsColumnChanged:t.isColumnChanged,IsLaneChanged:t.isLaneChanged,ColumnStateChanged:t.columnStateChanged,DoingDoneStateChanged:t.doingDoneStateChanged,ElapsedTime:r-i,IsStakeholder:t.isStakeholder};this.publish(n.KANBAN_DRAG_DROP,u)},n.OnItemRemoved=function(t){(t===n.KANBAN_ITEM_REMOVED_MEMBERSHIP_CHANGED||t===n.KANBAN_ITEM_REMOVED_DELETED||t===n.KANBAN_ITEM_REMOVED_INVALID_NODE)&&this.publish(n.KANBAN_ITEM_REMOVED,{Reason:t})},n.OnTileEdit=function(t){var i=Date.now(),r={ElapsedTime:i-t};this.publish(n.KANBAN_TILE_EDIT,r)},n.OnCardStyleSettingUpdate=function(t){var i=new rt.TelemetryUtils.BoardFieldUsageData,r={};t.forEach(function(n,t){r[t]=n;n.criteria.clauses.forEach(function(n){switch(n.fieldName){case oi.CoreFieldRefNames.BoardColumn:i.column=!0;break;case oi.CoreFieldRefNames.BoardColumnDone:i.done=!0;break;case oi.CoreFieldRefNames.BoardLane:i.lane=!0}})});rt.TelemetryUtils.recordBoardFieldsUsageChange(bi.AgileCustomerIntelligenceArea.AGILE,n.KANBAN_CARDSTYLESETTINGSUPDATE,i)},n.recordChecklistTelemetry=function(t,i,r){n.publish(n.KANBAN_CHECKLIST,{ItemType:t,Action:i,SourceOfAction:r})},n.publish=function(t,i,r){r===void 0&&(r=!1);i.IsEmbedded=u.EmbeddedHelper.isEmbedded();ci.publishEvent(new ci.TelemetryEventData(n.CI_AREA_AGILE,t,i),r)},n.CI_AREA_AGILE="Agile",n.KANBAN_FILTERSEARCH="KanbanFilterSearch",n.KANBAN_FILTERINDEXING="KanbanFilterIndexing",n.KANBAN_PAGINGCOLUMNS="KanbanPagingColumns",n.KANBAN_DRAG_DROP="KanbanDragDrop",n.KANBAN_ITEM_REMOVED="KanbanItemRemoved",n.KANBAN_UPDATE_LANE_SETTINGS="UpdateKanbanLaneSettings",n.KANBAN_UPDATE_COLUMN_SETTINGS="UpdateKanbanColumnSettings",n.KANBAN_UPDATEBOARDSETTINGS="UpdateKanbanBoardSettings",n.KANBAN_REFRESHBOARD="KanbanBoardRefresh",n.KANBAN_ADDNEWITEM="KanbanAddNewItem",n.KANBAN_REORDER="KanbanReorder",n.KANBAN_DEFINITION_OF_DONE="KanbanDefinitionOfDone",n.KANBAN_COLLAPSECOLUMN="KanbanCollapseColumn",n.KANBAN_FILTER_PAGING_COMPLETE="KanbanFilterPagingComplete",n.KANBAN_TILE_EDIT="KanbanTileEdit",n.KANBAN_CARDSTYLESETTINGSUPDATE="CardStyleSettingsUpdate",n.KANBAN_CHECKLIST="KanbanChecklist",n.KANBAN_AUTOBOARDREFRESH_SETTING_ON="KanbanAutoBoardRefreshTurnedOn",n.KANBAN_AUTOBOARDREFRESH_SETTING_OFF="KanbanAutoBoardRefreshTurnedOff",n.KANBAN_CARD_CUSTOM_INFO="KanbanCardCustomInfo",n.KANBAN_COPY_BOARDBADGE_URL="KanbanCopyBoardBadgeUrl",n.KANBAN_COPY_BOARDBADGE_MARKDOWN="KanbanCopyBoardBadgeMarkdown",n.KANBAN_CUSTOMIZATION="KanbanCustomization",n.KANBAN_ADDNEWITEM_KEYBOARD_SHORTCUT="KanbanAddNewItemKeyboardShortcut",n.KANBAN_SELECTFIRSTTILE_KEYBOARD_SHORTCUT="KanbanSelectFirstTileKeyboardShortcut",n.KANBAN_ADDCHILD_KEYBOARD_SHORTCUT="KanbanAddChildItemKeyboardShortcut",n.KANBAN_OPENTILE_KEYBOARD_SHORTCUT="KanbanOpenTileKeyboardShortcut",n.KANBAN_EXPANDTILE_KEYBOARD_SHORTCUT="KanbanExpandTileKeyboardShortcut",n.KANBAN_RENAMETILE_KEYBOARD_SHORTCUT="KanbanRenameTileKeyboardShortcut",n.KANBAN_NEWITEM_KEYBOARD_SHORTCUT="KanbanNewItemTileKeyboardShortcut",n.KANBAN_EXPANDSWIMLANES_KEYBOARD_SHORTCUT="KanbanExpandSwimlanesKeyboardShortcut",n.KANBAN_COLLAPSESWIMLANES_KEYBOARD_SHORTCUT="KanbanCollapseSwimlanesKeyboardShortcut",n.KANBAN_MOVETILEUP_KEYBOARD_SHORTCUT="KanbanMoveTileUpKeyboardShortcut",n.KANBAN_MOVETILEDOWN_KEYBOARD_SHORTCUT="KanbanMoveTileDownKeyboardShortcut",n.KANBAN_MOVETILELEFT_KEYBOARD_SHORTCUT="KanbanMoveTileLeftKeyboardShortcut",n.KANBAN_MOVETILERIGHT_KEYBOARD_SHORTCUT="KanbanMoveTileRightKeyboardShortcut",n.KANBAN_MOVETILETOPOFCOLUMN_KEYBOARD_SHORTCUT="KanbanMoveTileTopOfColumnKeyboardShortcut",n.KANBAN_MOVETILEBOTTOMOFCOLUMN_KEYBOARD_SHORTCUT="KanbanMoveTileBottomOfColumnKeyboardShortcut",n.KANBAN_SELECTSWIMLANEABOVE_KEYBOARD_SHORTCUT="KanbanSelectSwimLaneAboveKeyboardShortcut",n.KANBAN_SELECTSWIMLANEBELOW_KEYBOARD_SHORTCUT="KanbanSelectSwimLaneBelowKeyboardShortcut",n.KANBAN_LAUNCHFILTER_KEYBOARD_SHORTCUT="KanbanLaunchFilterKeyboardShortcut",n.Perf_Scenario_KanbanBoard_Load="KanbanBoardPerf_LoadBoard",n.Perf_Split_BoardDrawBegin="BoardDrawBegin",n.Perf_Split_ItemSourceRetrieved="ItemSourceRetrieved",n.Perf_Split_BoardDrawComplete="BoardDrawComplete",n.Perf_Scenario_DrawBoard="KanbanBoardPerf_DrawBoard",n.Perf_Split_PreUpdateLayout="PreUpdateLayout",n.Perf_Split_PreSetBoard="PreSetBoard",n.Perf_Scenario_SaveCard="KanbanBoardPerf_SaveCard",n.Perf_Scenario_OpenCard="KanbanBoardPerf_OpenCard",n.Perf_Split_LoadWITControlsStart="LoadWITControlsStart",n.Perf_Split_LoadWITControlsEnd="LoadWITControlsEnd",n.Perf_Scenario_PlaceTiles="KanbanBoardPerf_PlaceTiles",n.Perf_Split_BeginPopulateSuccess="BeginPopulateSuccess",n.Perf_Split_UpdateItemsStart="UpdateItemsStart",n.Perf_Split_UpdateItemsEnd="UpdateItemsEnd",n.Perf_Scenario_CriteriaFilterTiles="KanbanBoardPerf_CriteriaFilterTiles",n.Perf_Split_PreCriteriaFilter="ActualCriteriaFilteringStart",n.Perf_Split_PostCriteriaFilter="ActualCriteriaFilteringEnd",n.Perf_Scenario_UpdateSwimlaneHeaders="KanbanBoardPerf_UpdateSwimlaneHeaders",n.Perf_Scenario_AnnotationsSummaryRendering="KanbanBoardPerf_AnnotationsSummary_Rendered",n.KANBAN_ITEM_REMOVED_DELETED="KanbanItemRemoved_Deleted",n.KANBAN_ITEM_REMOVED_INVALID_NODE="KanbanItemRemoved_InvalidNode",n.KANBAN_ITEM_REMOVED_MEMBERSHIP_CHANGED="KanbanItemRemoved_MembershipChanged",n}();t.KanbanTelemetry=nr;wr=function(){function n(){}return n.getTitleValidationErrors=function(n,t){var i="";return n&&(n=n.trim()),n&&et.localeComparer(n,"")!==0?n.length>255?i=ct.CustomizeColumns_LongColumnName:et.containsControlChars(n)||et.containsMismatchedSurrogateChars(n)?i=ct.CustomizeColumnsInvalidCharactersColumnName:lr.isTitleDuplicate(n,t)&&(i=ct.CustomizeColumnsDuplicateColumnName):i=ct.CustomizeColumnsEmptyColumnName,i},n}();t.BoardColumnValidator=wr;br=function(){function n(){}return n.getTitleValidationErrors=function(n,t,i){var r="",u;return n=n.trim(),u=et.localeComparer(n,"")===0,i&&(!i||u)||(u?r=ct.Swimlane_Settings_EmptyLaneName:n.length>255?r=ct.Swimlane_Settings_LongLaneName:et.containsControlChars(n)||et.containsMismatchedSurrogateChars(n)?r=ct.Swimlane_Settings_InvalidCharactersLaneName:lr.isTitleDuplicate(n,t)&&(r=ct.Swimlane_Settings_DuplicateLaneName)),r},n}();t.BoardRowValidator=br;lr=function(){function n(){}return n.isTitleDuplicate=function(n,t){var i=!1;return $.each(t,function(t,r){if(et.equals(n,r.name,!0))return i=!0,!1}),i},n}();t.BoardValidator=lr;ar=function(){function n(){this._tfsConnection=new yt.VssConnection(rr.contextData);this._workHttpClient=this._tfsConnection.getHttpClient(ai.WorkHttpClient);var n=gt.BacklogContext.getInstance();this._teamContext={projectId:rr.contextData.project.id,teamId:n.team.id}}return n.prototype.beginUpdateColumns=function(n,t){return this._workHttpClient.updateBoardColumns(n,this._teamContext,t)},n.prototype.beginUpdateRows=function(n,t){var i=li.defer();return this._workHttpClient.updateBoardRows(n,this._teamContext,t).then(function(n){i.resolve(n)},function(n){if(n.serverError.customProperties&&n.serverError.customProperties.InputWithError){var t=n.serverError.customProperties.InputWithError;et.localeIgnoreCaseComparer(n.serverError.typeKey,"BoardValidatorInvalidCharException")===0?n.message=et.format(ct.BoardValidator_LaneNameContainsInvalidChar,t):et.localeIgnoreCaseComparer(n.serverError.typeKey,"BoardValidatorRowNameLengthInvalidException")===0?n.message=et.format(ct.BoardValidator_LaneNameLengthInvalid,t):et.localeIgnoreCaseComparer(n.serverError.typeKey,"BoardValidatorDuplicateRowNameException")===0&&(n.message=et.format(ct.BoardValidator_MustNotHaveDuplicateLaneName,t))}else et.localeIgnoreCaseComparer(n.serverError.typeKey,"BoardValidatorRowCountInvalidException")===0?n.message=ct.BoardValidator_LaneCountInvalid:et.localeIgnoreCaseComparer(n.serverError.typeKey,"DeletedBoardRowIsNotEmptyException")===0&&(n.message=ct.BoardValidator_DeletedLaneHasItems);i.reject(n)}),i.promise},n}();t.BoardSettingsManager=ar;kr=function(){function n(n,t,i){var r=this;this.itemTypeNames=n;this.boardMember=t;this.filterableFieldNamesByItemType=i;this.getDataSourceName=function(){return"Kanban"};this.getVisibleFields=function(){return r.visibleFieldReferenceNames};this.visibleFieldReferenceNames=this.getVisibleFieldReferenceNames()}return n.prototype.getVisibleFieldReferenceNames=function(){for(var r,n=[],t=0,i=this.itemTypeNames;t<i.length;t++)r=i[t],n.push.apply(n,this.filterableFieldNamesByItemType[r]);return st.unique(n.filter(function(n){return!!n}),et.ignoreCaseComparer)},n.prototype.getItemCount=function(){return this.boardMember.items().length},n.prototype.getIds=function(){return this.boardMember.items().map(function(n){return n.id()})},n.prototype.getValue=function(n,t){var i=this.boardMember.item(n),u,f,o,e;return i&&t===or.Parent&&(u=i.fieldValue(t),f=r.BoardParentDataProvider.getInstance(),u&&f&&(o=Number(u),e=f.getCached(o),e))?e.title:i&&i.fieldValue(t)},n.prototype.getUniqueValues=function(){throw new Error("Not implemented");},n}();t.BoardMemberFilterDataSource=kr});

define("Agile/Scripts/Card/CardsAnnotationsCommon",["require","exports","VSS/Diag","Agile/Scripts/Common/Agile","Agile/Scripts/TFS.Agile.Boards","VSS/Controls","Presentation/Scripts/TFS/TFS.Core.Utils"],function(n,t,i,r,u,f,e){var o,s,h;Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationBadge=t.AnnotationAdapter=t.annotationAdapterFactory=t.AnnotationDetailPaneState=void 0,function(n){n[n.OPENED=0]="OPENED";n[n.CLOSED=1]="CLOSED"}(o=t.AnnotationDetailPaneState||(t.AnnotationDetailPaneState={}));t.annotationAdapterFactory=new e.TypeFactory;s=function(){function n(n){this.options=n;this._eventsHelper=n.eventsHelper;this.menuItems=[]}return n.prototype.acceptHandler=function(){return!1},n.prototype.dropHandler=function(){},n.prototype.refreshAnnotation=function(){},n.prototype.dispose=function(){this.badgeControl&&(this.badgeControl.dispose(),this.badgeControl=null);this.$annotationDetailPaneControl&&(this.$annotationDetailPaneControl.remove(),this.$annotationDetailPaneControl=null)},n.prototype.createDetailPane=function(t){this.$annotationDetailPaneControl=$("<div/>").addClass(n.TILE_CONTENT_DETAILS);this.$annotationDetailPaneControl.append(t);this.ensureBoardHeight();this.options.$annotationDetailPaneContainer.append(this.$annotationDetailPaneControl);this.options.onAnnotationDetailPaneStateChange(this,o.OPENED)},n.prototype.removeDetailPane=function(){if(this.$annotationDetailPaneControl&&this.$annotationDetailPaneControl.length>0){this.$annotationDetailPaneControl=null;this.options.onAnnotationDetailPaneStateChange(this,o.CLOSED)}this._eventsHelper.fire(u.Notifications.BoardHeightChanged)},n.prototype.setFocusToTile=function(){this.options.$badgeContainer&&this.options.$badgeContainer.length>0&&this.options.$badgeContainer.parents(".board-tile").focus()},n.prototype.addNewChildItem=function(){},n.prototype.ensureBoardHeight=function(){var n=this.getScrollableContentContainer(),t=n.children(".horizontal-table");t.outerHeight()<=n.outerHeight()&&n.css("overflow-y","hidden");this._eventsHelper.fire(u.Notifications.BoardHeightChanged)},n.prototype.getScrollableContentContainer=function(){return $(".agile-content-container.scrollable")},n.DRAG_SCOPE_ANNOTATION_ITEM=r.DragDropScopes.WorkItem,n.TILE_CONTENT_DETAILS="board-content-details",n}();t.AnnotationAdapter=s;h=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.applySelectedStyle=function(){this.getElement().addClass(t.BADGE_SELECTED_CLASS);this.getElement().attr("aria-expanded","true")},t.prototype.removeSelectedStyle=function(){this.getElement().removeClass(t.BADGE_SELECTED_CLASS);this.getElement().attr("aria-expanded","false")},t.prototype.initialize=function(){n.prototype.initialize.call(this);this.createLayout()},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.cssClass},t))},t.prototype.update=function(){},t.prototype.dispose=function(){this.$container.off("click");n.prototype.dispose.call(this)},t.prototype.createLayout=function(){if(this.$container=this.getElement(),this.$container[0].appendChild(this._options.$annotationIcon[0]),this._options.clickEventHandler){this.$container.off("click");this.$container.on("click",this._options.clickEventHandler)}this.getElement().attr({tabindex:"0",role:"button","aria-expanded":"false"})},t.BADGE_SELECTED_CLASS="selected",t}(f.Control);t.AnnotationBadge=h});

define("VSS/Common/Contracts/System.Data",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.SqlDbType=void 0;var i;(function(n){n[n.BigInt=0]="BigInt";n[n.Binary=1]="Binary";n[n.Bit=2]="Bit";n[n.Char=3]="Char";n[n.DateTime=4]="DateTime";n[n.Decimal=5]="Decimal";n[n.Float=6]="Float";n[n.Image=7]="Image";n[n.Int=8]="Int";n[n.Money=9]="Money";n[n.NChar=10]="NChar";n[n.NText=11]="NText";n[n.NVarChar=12]="NVarChar";n[n.Real=13]="Real";n[n.UniqueIdentifier=14]="UniqueIdentifier";n[n.SmallDateTime=15]="SmallDateTime";n[n.SmallInt=16]="SmallInt";n[n.SmallMoney=17]="SmallMoney";n[n.Text=18]="Text";n[n.Timestamp=19]="Timestamp";n[n.TinyInt=20]="TinyInt";n[n.VarBinary=21]="VarBinary";n[n.VarChar=22]="VarChar";n[n.Variant=23]="Variant";n[n.Xml=25]="Xml";n[n.Udt=29]="Udt";n[n.Structured=30]="Structured";n[n.Date=31]="Date";n[n.Time=32]="Time";n[n.DateTime2=33]="DateTime2";n[n.DateTimeOffset=34]="DateTimeOffset"})(i=t.SqlDbType||(t.SqlDbType={}));t.TypeInfo={SqlDbType:{enumValues:{BigInt:0,Binary:1,Bit:2,Char:3,DateTime:4,Decimal:5,Float:6,Image:7,Int:8,Money:9,NChar:10,NText:11,NVarChar:12,Real:13,UniqueIdentifier:14,SmallDateTime:15,SmallInt:16,SmallMoney:17,Text:18,Timestamp:19,TinyInt:20,VarBinary:21,VarChar:22,Variant:23,Xml:25,Udt:29,Structured:30,Date:31,Time:32,DateTime2:33,DateTimeOffset:34}}}});

define("TFS/Core/Contracts",["require","exports"],function(n,t){"use strict";var i,r,u,f,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.SourceControlTypes=t.ProjectVisibility=t.ProjectChangeType=t.ProcessType=t.ProcessCustomizationType=t.ConnectedServiceKind=void 0,function(n){n[n.Custom=0]="Custom";n[n.AzureSubscription=1]="AzureSubscription";n[n.Chef=2]="Chef";n[n.Generic=3]="Generic"}(i=t.ConnectedServiceKind||(t.ConnectedServiceKind={})),function(n){n[n.Unknown=-1]="Unknown";n[n.Xml=0]="Xml";n[n.Inherited=1]="Inherited"}(r=t.ProcessCustomizationType||(t.ProcessCustomizationType={})),function(n){n[n.System=0]="System";n[n.Custom=1]="Custom";n[n.Inherited=2]="Inherited"}(u=t.ProcessType||(t.ProcessType={})),function(n){n[n.Modified=0]="Modified";n[n.Deleted=1]="Deleted";n[n.Added=2]="Added"}(f=t.ProjectChangeType||(t.ProjectChangeType={})),function(n){n[n.Unchanged=-1]="Unchanged";n[n.Private=0]="Private";n[n.Organization=1]="Organization";n[n.Public=2]="Public";n[n.SystemPrivate=3]="SystemPrivate"}(e=t.ProjectVisibility||(t.ProjectVisibility={})),function(n){n[n.Tfvc=1]="Tfvc";n[n.Git=2]="Git"}(o=t.SourceControlTypes||(t.SourceControlTypes={}));t.TypeInfo={ConnectedServiceKind:{enumValues:{custom:0,azureSubscription:1,chef:2,generic:3}},Process:{},ProcessCustomizationType:{enumValues:{unknown:-1,xml:0,inherited:1}},ProcessType:{enumValues:{system:0,custom:1,inherited:2}},ProjectChangeType:{enumValues:{modified:0,deleted:1,added:2}},ProjectInfo:{},ProjectMessage:{},ProjectVisibility:{enumValues:{unchanged:-1,"private":0,organization:1,"public":2,systemPrivate:3}},SourceControlTypes:{enumValues:{tfvc:1,git:2}},TeamProject:{},TeamProjectCollection:{},TeamProjectReference:{},TemporaryDataCreatedDTO:{},WebApiConnectedService:{},WebApiConnectedServiceDetails:{},WebApiProject:{}};t.TypeInfo.Process.fields={type:{enumType:t.TypeInfo.ProcessType}};t.TypeInfo.ProjectInfo.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.ProjectMessage.fields={project:{typeInfo:t.TypeInfo.ProjectInfo},projectChangeType:{enumType:t.TypeInfo.ProjectChangeType}};t.TypeInfo.TeamProject.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.TeamProjectCollection.fields={processCustomizationType:{enumType:t.TypeInfo.ProcessCustomizationType}};t.TypeInfo.TeamProjectReference.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}};t.TypeInfo.TemporaryDataCreatedDTO.fields={expirationDate:{isDate:!0}};t.TypeInfo.WebApiConnectedService.fields={project:{typeInfo:t.TypeInfo.TeamProjectReference}};t.TypeInfo.WebApiConnectedServiceDetails.fields={connectedServiceMetaData:{typeInfo:t.TypeInfo.WebApiConnectedService}};t.TypeInfo.WebApiProject.fields={lastUpdateTime:{isDate:!0},visibility:{enumType:t.TypeInfo.ProjectVisibility}}});

define("TFS/TestManagement/Contracts",["require","exports","VSS/Common/Contracts/System.Data","TFS/Core/Contracts"],function(n,t,i,r){"use strict";var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt;Object.defineProperty(t,"__esModule",{value:!0});t.TypeInfo=t.TestSessionState=t.TestSessionSource=t.TestRunSubstate=t.TestRunState=t.TestRunPublishContext=t.TestRunOutcome=t.TestResultsSettingsType=t.TestResultsContextType=t.TestResultGroupBy=t.TestPointState=t.TestOutcome=t.TestLogType=t.TestLogStoreOperationType=t.TestLogStoreEndpointType=t.TestLogStatusCode=t.TestLogScope=t.TestConfigurationState=t.TCMServiceDataMigrationStatus=t.SuiteExpand=t.Service=t.RunType=t.ResultObjectType=t.ResultMetaDataDetails=t.ResultMetadata=t.ResultGroupType=t.ResultDetails=t.OperationType=t.Metrics=t.FlakyDetectionType=t.CustomTestFieldType=t.CustomTestFieldScope=t.CoverageSummaryStatus=t.CoverageStatus=t.CoverageQueryFlags=t.CoverageDetailedSummaryStatus=t.CloneOperationState=t.AttachmentType=void 0,function(n){n[n.GeneralAttachment=0]="GeneralAttachment";n[n.AfnStrip=1]="AfnStrip";n[n.BugFilingData=2]="BugFilingData";n[n.CodeCoverage=3]="CodeCoverage";n[n.IntermediateCollectorData=4]="IntermediateCollectorData";n[n.RunConfig=5]="RunConfig";n[n.TestImpactDetails=6]="TestImpactDetails";n[n.TmiTestRunDeploymentFiles=7]="TmiTestRunDeploymentFiles";n[n.TmiTestRunReverseDeploymentFiles=8]="TmiTestRunReverseDeploymentFiles";n[n.TmiTestResultDetail=9]="TmiTestResultDetail";n[n.TmiTestRunSummary=10]="TmiTestRunSummary";n[n.ConsoleLog=11]="ConsoleLog"}(u=t.AttachmentType||(t.AttachmentType={})),function(n){n[n.Failed=2]="Failed";n[n.InProgress=1]="InProgress";n[n.Queued=0]="Queued";n[n.Succeeded=3]="Succeeded"}(f=t.CloneOperationState||(t.CloneOperationState={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Finalized=2]="Finalized";n[n.Pending=3]="Pending";n[n.UpdateRequestQueued=4]="UpdateRequestQueued";n[n.NoModulesFound=5]="NoModulesFound";n[n.NumberOfFilesExceeded=6]="NumberOfFilesExceeded";n[n.NoInputFiles=7]="NoInputFiles";n[n.BuildCancelled=8]="BuildCancelled";n[n.FailedJobs=9]="FailedJobs";n[n.ModuleMergeJobTimeout=10]="ModuleMergeJobTimeout";n[n.CodeCoverageSuccess=11]="CodeCoverageSuccess";n[n.InvalidBuildConfiguration=12]="InvalidBuildConfiguration";n[n.CoverageAnalyzerBuildNotFound=13]="CoverageAnalyzerBuildNotFound";n[n.FailedToRequeue=14]="FailedToRequeue";n[n.BuildBailedOut=15]="BuildBailedOut";n[n.NoCodeCoverageTask=16]="NoCodeCoverageTask";n[n.MergeJobFailed=17]="MergeJobFailed";n[n.MergeInvokerJobFailed=18]="MergeInvokerJobFailed";n[n.MonitorJobFailed=19]="MonitorJobFailed";n[n.ModuleMergeInvokerJobTimeout=20]="ModuleMergeInvokerJobTimeout";n[n.MonitorJobTimeout=21]="MonitorJobTimeout";n[n.InvalidCoverageInput=22]="InvalidCoverageInput"}(e=t.CoverageDetailedSummaryStatus||(t.CoverageDetailedSummaryStatus={})),function(n){n[n.Modules=1]="Modules";n[n.Functions=2]="Functions";n[n.BlockData=4]="BlockData"}(o=t.CoverageQueryFlags||(t.CoverageQueryFlags={})),function(n){n[n.Covered=0]="Covered";n[n.NotCovered=1]="NotCovered";n[n.PartiallyCovered=2]="PartiallyCovered"}(s=t.CoverageStatus||(t.CoverageStatus={})),function(n){n[n.None=0]="None";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Finalized=3]="Finalized";n[n.Pending=4]="Pending";n[n.UpdateRequestQueued=5]="UpdateRequestQueued"}(h=t.CoverageSummaryStatus||(t.CoverageSummaryStatus={})),function(n){n[n.None=0]="None";n[n.TestRun=1]="TestRun";n[n.TestResult=2]="TestResult";n[n.System=4]="System";n[n.All=7]="All"}(c=t.CustomTestFieldScope||(t.CustomTestFieldScope={})),function(n){n[n.Bit=2]="Bit";n[n.DateTime=4]="DateTime";n[n.Int=8]="Int";n[n.Float=6]="Float";n[n.String=12]="String";n[n.Guid=14]="Guid"}(l=t.CustomTestFieldType||(t.CustomTestFieldType={})),function(n){n[n.Custom=1]="Custom";n[n.System=2]="System"}(a=t.FlakyDetectionType||(t.FlakyDetectionType={})),function(n){n[n.All=1]="All";n[n.ResultSummary=2]="ResultSummary";n[n.ResultsAnalysis=3]="ResultsAnalysis";n[n.RunSummary=4]="RunSummary"}(v=t.Metrics||(t.Metrics={})),function(n){n[n.Add=1]="Add";n[n.Delete=2]="Delete"}(y=t.OperationType||(t.OperationType={})),function(n){n[n.None=0]="None";n[n.Iterations=1]="Iterations";n[n.WorkItems=2]="WorkItems";n[n.SubResults=4]="SubResults";n[n.Point=8]="Point"}(p=t.ResultDetails||(t.ResultDetails={})),function(n){n[n.None=0]="None";n[n.Rerun=1]="Rerun";n[n.DataDriven=2]="DataDriven";n[n.OrderedTest=3]="OrderedTest";n[n.Generic=4]="Generic"}(w=t.ResultGroupType||(t.ResultGroupType={})),function(n){n[n.Rerun=1]="Rerun";n[n.Flaky=2]="Flaky"}(b=t.ResultMetadata||(t.ResultMetadata={})),function(n){n[n.None=0]="None";n[n.FlakyIdentifiers=1]="FlakyIdentifiers"}(k=t.ResultMetaDataDetails||(t.ResultMetaDataDetails={})),function(n){n[n.TestSuite=0]="TestSuite";n[n.TestPlan=1]="TestPlan"}(d=t.ResultObjectType||(t.ResultObjectType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.Normal=1]="Normal";n[n.Blocking=2]="Blocking";n[n.Web=4]="Web";n[n.MtrRunInitiatedFromWeb=8]="MtrRunInitiatedFromWeb";n[n.RunWithDtlEnv=16]="RunWithDtlEnv";n[n.NoConfigRun=32]="NoConfigRun"}(g=t.RunType||(t.RunType={})),function(n){n[n.Any=0]="Any";n[n.Tcm=1]="Tcm";n[n.Tfs=2]="Tfs"}(nt=t.Service||(t.Service={})),function(n){n[n.Children=1]="Children";n[n.DefaultTesters=2]="DefaultTesters"}(tt=t.SuiteExpand||(t.SuiteExpand={})),function(n){n[n.NotStarted=0]="NotStarted";n[n.InProgress=1]="InProgress";n[n.Completed=2]="Completed";n[n.Failed=3]="Failed"}(it=t.TCMServiceDataMigrationStatus||(t.TCMServiceDataMigrationStatus={})),function(n){n[n.Active=1]="Active";n[n.Inactive=2]="Inactive"}(rt=t.TestConfigurationState||(t.TestConfigurationState={})),function(n){n[n.Run=0]="Run";n[n.Build=1]="Build";n[n.Release=2]="Release"}(ut=t.TestLogScope||(t.TestLogScope={})),function(n){n[n.Success=0]="Success";n[n.Failed=1]="Failed";n[n.FileAlreadyExists=2]="FileAlreadyExists";n[n.InvalidInput=3]="InvalidInput";n[n.InvalidFileName=4]="InvalidFileName";n[n.InvalidContainer=5]="InvalidContainer";n[n.TransferFailed=6]="TransferFailed";n[n.FeatureDisabled=7]="FeatureDisabled";n[n.BuildDoesNotExist=8]="BuildDoesNotExist";n[n.RunDoesNotExist=9]="RunDoesNotExist";n[n.ContainerNotCreated=10]="ContainerNotCreated";n[n.APINotSupported=11]="APINotSupported";n[n.FileSizeExceeds=12]="FileSizeExceeds";n[n.ContainerNotFound=13]="ContainerNotFound";n[n.FileNotFound=14]="FileNotFound";n[n.DirectoryNotFound=15]="DirectoryNotFound";n[n.StorageCapacityExceeded=16]="StorageCapacityExceeded"}(ft=t.TestLogStatusCode||(t.TestLogStatusCode={})),function(n){n[n.Root=1]="Root";n[n.File=2]="File"}(et=t.TestLogStoreEndpointType||(t.TestLogStoreEndpointType={})),function(n){n[n.Read=1]="Read";n[n.Create=2]="Create";n[n.ReadAndCreate=3]="ReadAndCreate"}(ot=t.TestLogStoreOperationType||(t.TestLogStoreOperationType={})),function(n){n[n.GeneralAttachment=1]="GeneralAttachment";n[n.CodeCoverage=2]="CodeCoverage";n[n.TestImpact=3]="TestImpact";n[n.Intermediate=4]="Intermediate";n[n.System=5]="System";n[n.MergedCoverageFile=6]="MergedCoverageFile"}(st=t.TestLogType||(t.TestLogType={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.None=1]="None";n[n.Passed=2]="Passed";n[n.Failed=3]="Failed";n[n.Inconclusive=4]="Inconclusive";n[n.Timeout=5]="Timeout";n[n.Aborted=6]="Aborted";n[n.Blocked=7]="Blocked";n[n.NotExecuted=8]="NotExecuted";n[n.Warning=9]="Warning";n[n.Error=10]="Error";n[n.NotApplicable=11]="NotApplicable";n[n.Paused=12]="Paused";n[n.InProgress=13]="InProgress";n[n.NotImpacted=14]="NotImpacted";n[n.MaxValue=14]="MaxValue"}(ht=t.TestOutcome||(t.TestOutcome={})),function(n){n[n.None=0]="None";n[n.Ready=1]="Ready";n[n.Completed=2]="Completed";n[n.NotReady=3]="NotReady";n[n.InProgress=4]="InProgress";n[n.MaxValue=4]="MaxValue"}(ct=t.TestPointState||(t.TestPointState={})),function(n){n[n.Branch=1]="Branch";n[n.Environment=2]="Environment"}(lt=t.TestResultGroupBy||(t.TestResultGroupBy={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release";n[n.Pipeline=3]="Pipeline"}(at=t.TestResultsContextType||(t.TestResultsContextType={})),function(n){n[n.All=1]="All";n[n.Flaky=2]="Flaky";n[n.NewTestLogging=3]="NewTestLogging"}(vt=t.TestResultsSettingsType||(t.TestResultsSettingsType={})),function(n){n[n.Passed=0]="Passed";n[n.Failed=1]="Failed";n[n.NotImpacted=2]="NotImpacted";n[n.Others=3]="Others"}(yt=t.TestRunOutcome||(t.TestRunOutcome={})),function(n){n[n.Build=1]="Build";n[n.Release=2]="Release";n[n.All=3]="All"}(pt=t.TestRunPublishContext||(t.TestRunPublishContext={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Completed=3]="Completed";n[n.Aborted=4]="Aborted";n[n.Waiting=5]="Waiting";n[n.NeedsInvestigation=6]="NeedsInvestigation"}(wt=t.TestRunState||(t.TestRunState={})),function(n){n[n.None=0]="None";n[n.CreatingEnvironment=1]="CreatingEnvironment";n[n.RunningTests=2]="RunningTests";n[n.CanceledByUser=3]="CanceledByUser";n[n.AbortedBySystem=4]="AbortedBySystem";n[n.TimedOut=5]="TimedOut";n[n.PendingAnalysis=6]="PendingAnalysis";n[n.Analyzed=7]="Analyzed";n[n.CancellationInProgress=8]="CancellationInProgress"}(bt=t.TestRunSubstate||(t.TestRunSubstate={})),function(n){n[n.Unknown=0]="Unknown";n[n.XTDesktop=1]="XTDesktop";n[n.FeedbackDesktop=2]="FeedbackDesktop";n[n.XTWeb=3]="XTWeb";n[n.FeedbackWeb=4]="FeedbackWeb";n[n.XTDesktop2=5]="XTDesktop2";n[n.SessionInsightsForAll=6]="SessionInsightsForAll"}(kt=t.TestSessionSource||(t.TestSessionSource={})),function(n){n[n.Unspecified=0]="Unspecified";n[n.NotStarted=1]="NotStarted";n[n.InProgress=2]="InProgress";n[n.Paused=3]="Paused";n[n.Completed=4]="Completed";n[n.Declined=5]="Declined"}(dt=t.TestSessionState||(t.TestSessionState={}));t.TypeInfo={AfnStrip:{},AggregatedDataForResultTrend:{},AggregatedResultDetailsByOutcome:{},AggregatedResultsAnalysis:{},AggregatedResultsByOutcome:{},AggregatedRunsByOutcome:{},AggregatedRunsByState:{},AttachmentType:{enumValues:{generalAttachment:0,afnStrip:1,bugFilingData:2,codeCoverage:3,intermediateCollectorData:4,runConfig:5,testImpactDetails:6,tmiTestRunDeploymentFiles:7,tmiTestRunReverseDeploymentFiles:8,tmiTestResultDetail:9,tmiTestRunSummary:10,consoleLog:11}},BatchResponse:{},BuildConfiguration:{},BuildCoverage:{},BuildReference2:{},BulkResultUpdateRequest:{},CloneOperationInformation:{},CloneOperationState:{enumValues:{failed:2,inProgress:1,queued:0,succeeded:3}},CodeCoverageSummary:{},Coverage2:{},CoverageDetailedSummaryStatus:{enumValues:{none:0,inProgress:1,finalized:2,pending:3,updateRequestQueued:4,noModulesFound:5,numberOfFilesExceeded:6,noInputFiles:7,buildCancelled:8,failedJobs:9,moduleMergeJobTimeout:10,codeCoverageSuccess:11,invalidBuildConfiguration:12,coverageAnalyzerBuildNotFound:13,failedToRequeue:14,buildBailedOut:15,noCodeCoverageTask:16,mergeJobFailed:17,mergeInvokerJobFailed:18,monitorJobFailed:19,moduleMergeInvokerJobTimeout:20,monitorJobTimeout:21,invalidCoverageInput:22}},CoverageQueryFlags:{enumValues:{modules:1,functions:2,blockData:4}},CoverageStatus:{enumValues:{covered:0,notCovered:1,partiallyCovered:2}},CoverageSummaryStatus:{enumValues:{none:0,inProgress:1,completed:2,finalized:3,pending:4,updateRequestQueued:5}},CreateTestMessageLogEntryRequest:{},CreateTestResultsRequest:{},CreateTestRunRequest:{},CustomTestFieldDefinition:{},CustomTestFieldScope:{enumValues:{none:0,testRun:1,testResult:2,system:4,all:7}},CustomTestFieldType:{enumValues:{bit:2,dateTime:4,int:8,float:6,string:12,guid:14}},DatedTestFieldData:{},FailingSince:{},FetchTestResultsResponse:{},FlakyDetection:{},FlakyDetectionType:{enumValues:{custom:1,system:2}},FlakySettings:{},LastResultDetails:{},LegacyBuildConfiguration:{},LegacyReleaseReference:{},LegacyTestCaseResult:{},LegacyTestRun:{},LegacyTestSettings:{},Metrics:{enumValues:{all:1,resultSummary:2,resultsAnalysis:3,runSummary:4}},OperationType:{enumValues:{add:1,"delete":2}},PipelineTestMetrics:{},PointLastResult:{},PointsResults2:{},QueryTestActionResultResponse:{},ReleaseReference:{},ReleaseReference2:{},RequirementsToTestsMapping2:{},Response:{},ResultDetails:{enumValues:{none:0,iterations:1,workItems:2,subResults:4,point:8}},ResultGroupType:{enumValues:{none:0,rerun:1,dataDriven:2,orderedTest:3,generic:4}},ResultMetadata:{enumValues:{rerun:1,flaky:2}},ResultMetaDataDetails:{enumValues:{none:0,flakyIdentifiers:1}},ResultObjectType:{enumValues:{testSuite:0,testPlan:1}},ResultRetentionSettings:{},ResultsByQueryResponse:{},ResultsFilter:{},ResultsSummaryByOutcome:{},ResultSummary:{},ResultUpdateRequest:{},ResultUpdateRequestModel:{},ResultUpdateResponse:{},RunCreateModel:{},RunStatistic:{},RunSummary:{},RunSummaryModel:{},RunType:{enumValues:{unspecified:0,normal:1,blocking:2,web:4,mtrRunInitiatedFromWeb:8,runWithDtlEnv:16,noConfigRun:32}},RunUpdateModel:{},Service:{enumValues:{any:0,tcm:1,tfs:2}},SourceViewBuildCoverage:{},SuiteExpand:{enumValues:{children:1,defaultTesters:2}},TCMServiceDataMigrationStatus:{enumValues:{notStarted:0,inProgress:1,completed:2,failed:3}},TestActionResult:{},TestActionResult2:{},TestActionResultModel:{},TestAttachment:{},TestAuthoringDetails:{},TestCaseReference2:{},TestCaseResult:{},TestConfiguration:{},TestConfigurationState:{enumValues:{active:1,inactive:2}},TestExecutionReportData:{},TestExtensionField:{},TestExtensionFieldDetails:{},TestFailuresAnalysis:{},TestHistoryQuery:{},TestIterationDetailsModel:{},TestLog:{},TestLogReference:{},TestLogScope:{enumValues:{run:0,build:1,release:2}},TestLogStatus:{},TestLogStatusCode:{enumValues:{success:0,failed:1,fileAlreadyExists:2,invalidInput:3,invalidFileName:4,invalidContainer:5,transferFailed:6,featureDisabled:7,buildDoesNotExist:8,runDoesNotExist:9,containerNotCreated:10,apiNotSupported:11,fileSizeExceeds:12,containerNotFound:13,fileNotFound:14,directoryNotFound:15,storageCapacityExceeded:16}},TestLogStoreAttachment:{},TestLogStoreEndpointDetails:{},TestLogStoreEndpointType:{enumValues:{root:1,file:2}},TestLogStoreOperationType:{enumValues:{read:1,create:2,readAndCreate:3}},TestLogType:{enumValues:{generalAttachment:1,codeCoverage:2,testImpact:3,intermediate:4,system:5,mergedCoverageFile:6}},TestMessageLogDetails:{},TestMessageLogEntry:{},TestMessageLogEntry2:{},TestOutcome:{enumValues:{unspecified:0,none:1,passed:2,failed:3,inconclusive:4,timeout:5,aborted:6,blocked:7,notExecuted:8,warning:9,error:10,notApplicable:11,paused:12,inProgress:13,notImpacted:14,maxValue:14}},TestParameter2:{},TestPlan:{},TestPlanCloneRequest:{},TestPlanHubData:{},TestPlansWithSelection:{},TestPoint:{},TestPointReference:{},TestPointsEvent:{},TestPointsQuery:{},TestPointState:{enumValues:{none:0,ready:1,completed:2,notReady:3,inProgress:4,maxValue:4}},TestPointsUpdatedEvent:{},TestResult2:{},TestResultAcrossProjectResponse:{},TestResultAttachment:{},TestResultGroupBy:{enumValues:{branch:1,environment:2}},TestResultHistory:{},TestResultHistoryDetailsForGroup:{},TestResultHistoryForGroup:{},TestResultModelBase:{},TestResultReset2:{},TestResultsContext:{},TestResultsContextType:{enumValues:{build:1,release:2,pipeline:3}},TestResultsDetails:{},TestResultsDetailsForGroup:{},TestResultsEx2:{},TestResultsQuery:{},TestResultsSettings:{},TestResultsSettingsType:{enumValues:{all:1,flaky:2,newTestLogging:3}},TestResultSummary:{},TestResultsUpdateSettings:{},TestResultsWithWatermark:{},TestResultTrendFilter:{},TestRun:{},TestRun2:{},TestRunCanceledEvent:{},TestRunCreatedEvent:{},TestRunEvent:{},TestRunEx2:{},TestRunOutcome:{enumValues:{passed:0,failed:1,notImpacted:2,others:3}},TestRunPublishContext:{enumValues:{build:1,release:2,all:3}},TestRunStartedEvent:{},TestRunState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,completed:3,aborted:4,waiting:5,needsInvestigation:6}},TestRunStatistic:{},TestRunSubstate:{enumValues:{none:0,creatingEnvironment:1,runningTests:2,canceledByUser:3,abortedBySystem:4,timedOut:5,pendingAnalysis:6,analyzed:7,cancellationInProgress:8}},TestRunSummary2:{},TestRunWithDtlEnvEvent:{},TestSession:{},TestSessionExploredWorkItemReference:{},TestSessionSource:{enumValues:{unknown:0,xtDesktop:1,feedbackDesktop:2,xtWeb:3,feedbackWeb:4,xtDesktop2:5,sessionInsightsForAll:6}},TestSessionState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,paused:3,completed:4,declined:5}},TestSettings2:{},TestSubResult:{},TestSuite:{},TestSummaryForWorkItem:{},UpdatedProperties:{},UpdateTestRunRequest:{},UpdateTestRunResponse:{},WorkItemToTestLinks:{}};t.TypeInfo.AfnStrip.fields={creationDate:{isDate:!0}};t.TypeInfo.AggregatedDataForResultTrend.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.AggregatedResultDetailsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.AggregatedResultsAnalysis.fields={notReportedResultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},previousContext:{typeInfo:t.TypeInfo.TestResultsContext},resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},runSummaryByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.AggregatedRunsByState}};t.TypeInfo.AggregatedResultsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.AggregatedRunsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestRunOutcome}};t.TypeInfo.AggregatedRunsByState.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},state:{enumType:t.TypeInfo.TestRunState}};t.TypeInfo.BatchResponse.fields={responses:{isArray:!0,typeInfo:t.TypeInfo.Response}};t.TypeInfo.BuildConfiguration.fields={creationDate:{isDate:!0}};t.TypeInfo.BuildCoverage.fields={configuration:{typeInfo:t.TypeInfo.BuildConfiguration}};t.TypeInfo.BuildReference2.fields={createdDate:{isDate:!0}};t.TypeInfo.BulkResultUpdateRequest.fields={requests:{isArray:!0,typeInfo:t.TypeInfo.ResultUpdateRequest}};t.TypeInfo.CloneOperationInformation.fields={completionDate:{isDate:!0},creationDate:{isDate:!0},resultObjectType:{enumType:t.TypeInfo.ResultObjectType},state:{enumType:t.TypeInfo.CloneOperationState}};t.TypeInfo.CodeCoverageSummary.fields={coverageDetailedSummaryStatus:{enumType:t.TypeInfo.CoverageDetailedSummaryStatus},status:{enumType:t.TypeInfo.CoverageSummaryStatus}};t.TypeInfo.Coverage2.fields={dateCreated:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.CreateTestMessageLogEntryRequest.fields={testMessageLogEntry:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogEntry}};t.TypeInfo.CreateTestResultsRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.CreateTestRunRequest.fields={results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult},testRun:{typeInfo:t.TypeInfo.LegacyTestRun},testSettings:{typeInfo:t.TypeInfo.LegacyTestSettings}};t.TypeInfo.CustomTestFieldDefinition.fields={fieldType:{enumType:t.TypeInfo.CustomTestFieldType},scope:{enumType:t.TypeInfo.CustomTestFieldScope}};t.TypeInfo.DatedTestFieldData.fields={date:{isDate:!0}};t.TypeInfo.FailingSince.fields={date:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.FetchTestResultsResponse.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},results:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.FlakyDetection.fields={flakyDetectionType:{enumType:t.TypeInfo.FlakyDetectionType}};t.TypeInfo.FlakySettings.fields={flakyDetection:{typeInfo:t.TypeInfo.FlakyDetection}};t.TypeInfo.LastResultDetails.fields={dateCompleted:{isDate:!0}};t.TypeInfo.LegacyBuildConfiguration.fields={completedDate:{isDate:!0},createdDate:{isDate:!0}};t.TypeInfo.LegacyReleaseReference.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.LegacyTestCaseResult.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},stackTrace:{typeInfo:t.TypeInfo.TestExtensionField}};t.TypeInfo.LegacyTestRun.fields={buildReference:{typeInfo:t.TypeInfo.LegacyBuildConfiguration},completeDate:{isDate:!0},creationDate:{isDate:!0},customFields:{isArray:!0,typeInfo:t.TypeInfo.TestExtensionField},dueDate:{isDate:!0},lastUpdated:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.LegacyReleaseReference},startDate:{isDate:!0},testMessageLogEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails}};t.TypeInfo.LegacyTestSettings.fields={createdDate:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.PipelineTestMetrics.fields={resultSummary:{typeInfo:t.TypeInfo.ResultSummary},runSummary:{typeInfo:t.TypeInfo.RunSummary},summaryAtChild:{isArray:!0,typeInfo:t.TypeInfo.PipelineTestMetrics}};t.TypeInfo.PointLastResult.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.PointsResults2.fields={lastUpdated:{isDate:!0}};t.TypeInfo.QueryTestActionResultResponse.fields={testActionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},testAttachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment}};t.TypeInfo.ReleaseReference.fields={creationDate:{isDate:!0},environmentCreationDate:{isDate:!0}};t.TypeInfo.ReleaseReference2.fields={environmentCreationDate:{isDate:!0},releaseCreationDate:{isDate:!0}};t.TypeInfo.RequirementsToTestsMapping2.fields={creationDate:{isDate:!0},deletionDate:{isDate:!0}};t.TypeInfo.Response.fields={};t.TypeInfo.ResultRetentionSettings.fields={lastUpdatedDate:{isDate:!0}};t.TypeInfo.ResultsByQueryResponse.fields={testResults:{isArray:!0,typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultsFilter.fields={executedIn:{enumType:t.TypeInfo.Service},maxCompleteDate:{isDate:!0},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.ResultsSummaryByOutcome.fields={aggregatedResultDetailsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultDetailsByOutcome}};t.TypeInfo.ResultSummary.fields={resultSummaryByRunState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState,dictionaryValueTypeInfo:t.TypeInfo.ResultsSummaryByOutcome}};t.TypeInfo.ResultUpdateRequest.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResult},attachments:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testCaseResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.ResultUpdateRequestModel.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel}};t.TypeInfo.ResultUpdateResponse.fields={lastUpdated:{isDate:!0}};t.TypeInfo.RunCreateModel.fields={buildReference:{typeInfo:t.TypeInfo.BuildConfiguration},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},runSummary:{isArray:!0,typeInfo:t.TypeInfo.RunSummaryModel}};t.TypeInfo.RunStatistic.fields={resultMetadata:{enumType:t.TypeInfo.ResultMetadata}};t.TypeInfo.RunSummary.fields={runSummaryByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunOutcome},runSummaryByState:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestRunState}};t.TypeInfo.RunSummaryModel.fields={testOutcome:{enumType:t.TypeInfo.TestOutcome}};t.TypeInfo.RunUpdateModel.fields={logEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails},runSummary:{isArray:!0,typeInfo:t.TypeInfo.RunSummaryModel},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.SourceViewBuildCoverage.fields={configuration:{typeInfo:t.TypeInfo.BuildConfiguration}};t.TypeInfo.TestActionResult.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestActionResultModel.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}};t.TypeInfo.TestAuthoringDetails.fields={lastUpdated:{isDate:!0},state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestCaseReference2.fields={creationDate:{isDate:!0},lastRefTestRunDate:{isDate:!0}};t.TypeInfo.TestCaseResult.fields={completedDate:{isDate:!0},createdDate:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},iterationDetails:{isArray:!0,typeInfo:t.TypeInfo.TestIterationDetailsModel},lastUpdatedDate:{isDate:!0},releaseReference:{typeInfo:t.TypeInfo.ReleaseReference},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestConfiguration.fields={lastUpdatedDate:{isDate:!0},state:{enumType:t.TypeInfo.TestConfigurationState}};t.TypeInfo.TestExecutionReportData.fields={reportData:{isArray:!0,typeInfo:t.TypeInfo.DatedTestFieldData}};t.TypeInfo.TestExtensionField.fields={field:{typeInfo:t.TypeInfo.TestExtensionFieldDetails}};t.TypeInfo.TestExtensionFieldDetails.fields={type:{enumType:i.TypeInfo.SqlDbType}};t.TypeInfo.TestFailuresAnalysis.fields={previousContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestHistoryQuery.fields={groupBy:{enumType:t.TypeInfo.TestResultGroupBy},maxCompleteDate:{isDate:!0},resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryForGroup}};t.TypeInfo.TestIterationDetailsModel.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestLog.fields={logReference:{typeInfo:t.TypeInfo.TestLogReference},modifiedOn:{isDate:!0}};t.TypeInfo.TestLogReference.fields={scope:{enumType:t.TypeInfo.TestLogScope},type:{enumType:t.TypeInfo.TestLogType}};t.TypeInfo.TestLogStatus.fields={status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestLogStoreAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}};t.TypeInfo.TestLogStoreEndpointDetails.fields={endpointType:{enumType:t.TypeInfo.TestLogStoreEndpointType},status:{enumType:t.TypeInfo.TestLogStatusCode}};t.TypeInfo.TestMessageLogDetails.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestMessageLogEntry2.fields={dateCreated:{isDate:!0}};t.TypeInfo.TestParameter2.fields={creationDate:{isDate:!0},dateModified:{isDate:!0}};t.TypeInfo.TestPlan.fields={endDate:{isDate:!0},startDate:{isDate:!0},updatedDate:{isDate:!0}};t.TypeInfo.TestPlanCloneRequest.fields={destinationTestPlan:{typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPlanHubData.fields={testPlan:{typeInfo:t.TypeInfo.TestPlan},testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPoint},testSuites:{isArray:!0,typeInfo:t.TypeInfo.TestSuite}};t.TypeInfo.TestPlansWithSelection.fields={plans:{isArray:!0,typeInfo:t.TypeInfo.TestPlan}};t.TypeInfo.TestPoint.fields={lastResetToActive:{isDate:!0},lastResultDetails:{typeInfo:t.TypeInfo.LastResultDetails},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestPointReference.fields={state:{enumType:t.TypeInfo.TestPointState}};t.TypeInfo.TestPointsEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestPointsQuery.fields={points:{isArray:!0,typeInfo:t.TypeInfo.TestPoint}};t.TypeInfo.TestPointsUpdatedEvent.fields={testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPointReference}};t.TypeInfo.TestResult2.fields={creationDate:{isDate:!0},dateCompleted:{isDate:!0},dateStarted:{isDate:!0},lastUpdated:{isDate:!0}};t.TypeInfo.TestResultAcrossProjectResponse.fields={testResult:{typeInfo:t.TypeInfo.LegacyTestCaseResult}};t.TypeInfo.TestResultAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},creationDate:{isDate:!0}};t.TypeInfo.TestResultHistory.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryDetailsForGroup}};t.TypeInfo.TestResultHistoryDetailsForGroup.fields={latestResult:{typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultHistoryForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult}};t.TypeInfo.TestResultModelBase.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}};t.TypeInfo.TestResultReset2.fields={dateModified:{isDate:!0}};t.TypeInfo.TestResultsContext.fields={contextType:{enumType:t.TypeInfo.TestResultsContextType},release:{typeInfo:t.TypeInfo.ReleaseReference}};t.TypeInfo.TestResultsDetails.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultsDetailsForGroup}};t.TypeInfo.TestResultsDetailsForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsCountByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome}};t.TypeInfo.TestResultsEx2.fields={creationDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestResultsQuery.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsFilter:{typeInfo:t.TypeInfo.ResultsFilter}};t.TypeInfo.TestResultsSettings.fields={flakySettings:{typeInfo:t.TypeInfo.FlakySettings}};t.TypeInfo.TestResultSummary.fields={aggregatedResultsAnalysis:{typeInfo:t.TypeInfo.AggregatedResultsAnalysis},teamProject:{typeInfo:r.TypeInfo.TeamProjectReference},testFailures:{typeInfo:t.TypeInfo.TestFailuresAnalysis},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}};t.TypeInfo.TestResultsUpdateSettings.fields={flakySettings:{typeInfo:t.TypeInfo.FlakySettings}};t.TypeInfo.TestResultsWithWatermark.fields={changedDate:{isDate:!0},pointsResults:{isArray:!0,typeInfo:t.TypeInfo.PointsResults2}};t.TypeInfo.TestResultTrendFilter.fields={maxCompleteDate:{isDate:!0}};t.TypeInfo.TestRun.fields={buildConfiguration:{typeInfo:t.TypeInfo.BuildConfiguration},completedDate:{isDate:!0},createdDate:{isDate:!0},dueDate:{isDate:!0},lastUpdatedDate:{isDate:!0},release:{typeInfo:t.TypeInfo.ReleaseReference},runStatistics:{isArray:!0,typeInfo:t.TypeInfo.RunStatistic},startedDate:{isDate:!0},substate:{enumType:t.TypeInfo.TestRunSubstate}};t.TypeInfo.TestRun2.fields={completeDate:{isDate:!0},creationDate:{isDate:!0},deletedOn:{isDate:!0},dueDate:{isDate:!0},lastUpdated:{isDate:!0},startDate:{isDate:!0}};t.TypeInfo.TestRunCanceledEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunCreatedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunEx2.fields={createdDate:{isDate:!0},dateTimeValue:{isDate:!0}};t.TypeInfo.TestRunStartedEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestRunStatistic.fields={runStatistics:{isArray:!0,typeInfo:t.TypeInfo.RunStatistic}};t.TypeInfo.TestRunSummary2.fields={testRunCompletedDate:{isDate:!0}};t.TypeInfo.TestRunWithDtlEnvEvent.fields={testRun:{typeInfo:t.TypeInfo.TestRun}};t.TypeInfo.TestSession.fields={endDate:{isDate:!0},lastUpdatedDate:{isDate:!0},source:{enumType:t.TypeInfo.TestSessionSource},startDate:{isDate:!0},state:{enumType:t.TypeInfo.TestSessionState}};t.TypeInfo.TestSessionExploredWorkItemReference.fields={endTime:{isDate:!0},startTime:{isDate:!0}};t.TypeInfo.TestSettings2.fields={createdDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSubResult.fields={completedDate:{isDate:!0},lastUpdatedDate:{isDate:!0},resultGroupType:{enumType:t.TypeInfo.ResultGroupType},startedDate:{isDate:!0},subResults:{isArray:!0,typeInfo:t.TypeInfo.TestSubResult}};t.TypeInfo.TestSuite.fields={children:{isArray:!0,typeInfo:t.TypeInfo.TestSuite},lastPopulatedDate:{isDate:!0},lastUpdatedDate:{isDate:!0}};t.TypeInfo.TestSummaryForWorkItem.fields={summary:{typeInfo:t.TypeInfo.AggregatedDataForResultTrend}};t.TypeInfo.UpdatedProperties.fields={lastUpdated:{isDate:!0}};t.TypeInfo.UpdateTestRunRequest.fields={attachmentsToAdd:{isArray:!0,typeInfo:t.TypeInfo.TestResultAttachment},testRun:{typeInfo:t.TypeInfo.LegacyTestRun}};t.TypeInfo.UpdateTestRunResponse.fields={updatedProperties:{typeInfo:t.TypeInfo.UpdatedProperties}};t.TypeInfo.WorkItemToTestLinks.fields={executedIn:{enumType:t.TypeInfo.Service}}});

define("TFS/TestManagement/RestClient",["require","exports","TFS/TestManagement/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f){"use strict";function ht(n){return window.VSS&&window.VSS.VssSDKRestVersion&&ot[window.VSS.VssSDKRestVersion]?r.getClient(ot[window.VSS.VssSDKRestVersion],undefined,undefined,undefined,n):r.getClient(a,undefined,undefined,undefined,n)}var o,s,h,c,e,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,st,ot;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.TestHttpClient=t.TestHttpClient2=t.TestHttpClient2_1=t.TestHttpClient2_2=t.TestHttpClient2_3=t.TestHttpClient3=t.TestHttpClient3_1=t.TestHttpClient3_2=t.TestHttpClient4=t.TestHttpClient4_1=t.TestHttpClient5=t.TestHttpClient5_1=t.TestHttpClient5_2=t.TestHttpClient6=t.TestHttpClient6_1=t.TestHttpClient7=t.TestHttpClient7_1=t.TestHttpClient7_2=t.CommonMethods5_1To7_2=t.CommonMethods5To7_2=t.CommonMethods4_1To7_2=t.CommonMethods3To7_2=t.CommonMethods2To7_2=void 0;o=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.getTestSettingsById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:n,testSettingsId:t},apiVersion:this.testSettingsApiVersion})},t.prototype.deleteTestSettings=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:n,testSettingsId:t},apiVersion:this.testSettingsApiVersion})},t.prototype.createTestSettings=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:t},apiVersion:this.testSettingsApiVersion,data:n})},t.prototype.deleteSharedStep=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"fabb3cc9-e3f8-40b7-8b62-24cc4b73fccf",resource:"SharedStep",routeTemplate:"{project}/_apis/test/{resource}/{sharedStepId}",routeValues:{project:n,sharedStepId:t},apiVersion:this.sharedStepApiVersion})},t.prototype.deleteSharedParameter=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"8300eeca-0f8c-4eff-a089-d2dda409c41f",resource:"SharedParameter",routeTemplate:"{project}/_apis/test/{resource}/{sharedParameterId}",routeValues:{project:n,sharedParameterId:t},apiVersion:this.sharedParameterApiVersion})},t.prototype.updateTestSession=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",requestType:i.TypeInfo.TestSession,responseType:i.TypeInfo.TestSession,routeValues:{project:r,team:u},apiVersion:this.sessionApiVersion,data:n})},t.prototype.getTestSessions=function(n,t,r,u,f,e){var o={period:t,allSessions:r,includeAllProperties:u,source:f,includeOnlyCompletedSessions:e},s=n.projectId||n.project,h=n.teamId||n.team;return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",responseType:i.TypeInfo.TestSession,responseIsCollection:!0,routeValues:{project:s,team:h},queryParams:o,apiVersion:this.sessionApiVersion})},t.prototype.createTestSession=function(n,t){var r=t.projectId||t.project,u=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",requestType:i.TypeInfo.TestSession,responseType:i.TypeInfo.TestSession,routeValues:{project:r,team:u},apiVersion:this.sessionApiVersion,data:n})},t.prototype.updateTestRun=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",requestType:i.TypeInfo.RunUpdateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t,runId:r},apiVersion:this.runsApiVersion,data:n})},t.prototype.getTestRuns=function(n,t,r,u,f,e,o,s,h){var c={buildUri:t,owner:r,tmiRunId:u,planId:f,includeRunDetails:e,automated:o,$skip:s,$top:h};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:c,apiVersion:this.runsApiVersion})},t.prototype.deleteTestRun=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion})},t.prototype.createTestRun=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",requestType:i.TypeInfo.RunCreateModel,responseType:i.TypeInfo.TestRun,routeValues:{project:t},apiVersion:this.runsApiVersion,data:n})},t.prototype.updateResultRetentionSettings=function(n,t){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"a3206d9e-fa8d-42d3-88cb-f75c51e69cde",resource:"ResultRetentionSettings",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.ResultRetentionSettings,responseType:i.TypeInfo.ResultRetentionSettings,routeValues:{project:t},apiVersion:this.resultRetentionSettingsApiVersion,data:n})},t.prototype.getResultRetentionSettings=function(n){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a3206d9e-fa8d-42d3-88cb-f75c51e69cde",resource:"ResultRetentionSettings",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.ResultRetentionSettings,routeValues:{project:n},apiVersion:this.resultRetentionSettingsApiVersion})},t.prototype.getPointsByQuery=function(n,t,r,u){var f={$skip:r,$top:u};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"b4264fd0-a5d1-43e2-82a5-b9c46b7da9ce",resource:"Points",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestPointsQuery,responseType:i.TypeInfo.TestPointsQuery,routeValues:{project:t},queryParams:f,apiVersion:this.pointsApiVersion,data:n})},t.prototype.updateTestPoints=function(n,t,r,u,f){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:i.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u,pointIds:f},apiVersion:this.pointsApiVersion_3bcfd5c8,data:n})},t.prototype.getPoints=function(n,t,r,u,f,e,o,s,h,c){var l={witFields:u,configurationId:f,testCaseId:e,testPointIds:o,includePointDetails:s,$skip:h,$top:c};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:i.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:r},queryParams:l,apiVersion:this.pointsApiVersion_3bcfd5c8})},t.prototype.getPoint=function(n,t,r,u,f){var e={witFields:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:i.TypeInfo.TestPoint,routeValues:{project:n,planId:t,suiteId:r,pointIds:u},queryParams:e,apiVersion:this.pointsApiVersion_3bcfd5c8})},t.prototype.getTestRunLogs=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a1e55200-637e-42e9-a7c0-7e5bfdedb1b3",resource:"MessageLogs",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",responseType:i.TypeInfo.TestMessageLogDetails,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.messageLogsApiVersion})},t.prototype.getTestIterations=function(n,t,r,u){var f={includeActionResults:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"73eb9074-3446-4c44-8296-2f811950ff8d",resource:"Iterations",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{iterationId}",responseType:i.TypeInfo.TestIterationDetailsModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.iterationsApiVersion})},t.prototype.getTestIteration=function(n,t,r,u,f){var e={includeActionResults:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"73eb9074-3446-4c44-8296-2f811950ff8d",resource:"Iterations",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{iterationId}",responseType:i.TypeInfo.TestIterationDetailsModel,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u},queryParams:e,apiVersion:this.iterationsApiVersion})},t.prototype.queryCustomFields=function(n,t){var r={scopeFilter:t};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"8ce1923b-f4c7-4e22-b93b-f6284e525ec2",resource:"ExtensionFields",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.CustomTestFieldDefinition,responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:this.extensionFieldsApiVersion})},t.prototype.addCustomFields=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"8ce1923b-f4c7-4e22-b93b-f6284e525ec2",resource:"ExtensionFields",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.CustomTestFieldDefinition,responseType:i.TypeInfo.CustomTestFieldDefinition,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.extensionFieldsApiVersion,data:n})},t.prototype.getTestRunCodeCoverage=function(n,t,i){var r={flags:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"9629116f-3b89-4ed8-b358-d4694efda160",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:r,apiVersion:this.codeCoverageApiVersion})},t.prototype.updateCodeCoverageSummary=function(n,t,i){var r={buildId:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:t},queryParams:r,apiVersion:this.codeCoverageApiVersion_77560e8a,data:n})},t.prototype.getCodeCoverageSummary=function(n,t,r){var u={buildId:t,deltaBuildId:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.CodeCoverageSummary,routeValues:{project:n},queryParams:u,apiVersion:this.codeCoverageApiVersion_77560e8a})},t.prototype.getBuildCodeCoverage=function(n,t,r){var u={buildId:t,flags:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.BuildCoverage,responseIsCollection:!0,routeValues:{project:n},queryParams:u,apiVersion:this.codeCoverageApiVersion_77560e8a})},t.prototype.getBugsLinkedToTestResult=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"6de20ca2-67de-4faf-97fa-38c5d585eb00",resource:"Bugs",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i},apiVersion:this.bugsApiVersion})},t.prototype.getTestRunAttachmentZip=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachmentContent=function(n,t,i){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,attachmentId:i},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestResultAttachmentZip=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestResultAttachmentContent=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.serviceInstanceId=f.ServiceInstanceTypes.TFS,t}(u.VssHttpClient);t.CommonMethods2To7_2=o;s=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestResultWorkItems=function(n,t,i,r,u,f,e){var o={workItemCategory:t,automatedTestName:i,testCaseId:r,maxCompleteDate:u,days:f,$workItemCount:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"926ff5dc-137f-45f0-bd51-9412fa9810ce",resource:"WorkItems",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.workItemsApiVersion})},t.prototype.queryTestMethodLinkedWorkItems=function(n,t){var i={testName:t};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b0bdee3-a354-47f9-a42c-89018d7808d5",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:i,apiVersion:this.workItemsApiVersion_7b0bdee3})},t.prototype.deleteTestMethodToWorkItemLink=function(n,t,i){var r={testName:t,workItemId:i};return this._beginRequest({httpMethod:"DELETE",area:"Test",locationId:"7b0bdee3-a354-47f9-a42c-89018d7808d5",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/{resource}/{workItemId}",routeValues:{project:n},queryParams:r,apiVersion:this.workItemsApiVersion_7b0bdee3})},t.prototype.addWorkItemToTestLinks=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"371b1655-ce05-412e-a113-64cc77bb78d2",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{resource}",requestType:i.TypeInfo.WorkItemToTestLinks,responseType:i.TypeInfo.WorkItemToTestLinks,routeValues:{project:t},apiVersion:this.workItemsApiVersion_371b1655,data:n})},t.prototype.deleteTestCase=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"4d472e0f-e32c-4ef8-adf4-a4078772889c",resource:"TestCases",routeTemplate:"{project}/_apis/test/{resource}/{testCaseId}",routeValues:{project:n,testCaseId:t},apiVersion:this.testCasesApiVersion})},t.prototype.queryResultTrendForRelease=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"dd178e93-d8dd-4887-9635-d6b9560b7b6e",resource:"ResultTrendByRelease",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByReleaseApiVersion,data:n})},t.prototype.queryResultTrendForBuild=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"fbc82a85-0786-4442-88bb-eb0fda6b01b0",resource:"ResultTrendByBuild",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultTrendFilter,responseType:i.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultTrendByBuildApiVersion,data:n})},t.prototype.queryTestSummaryByRequirement=function(n,t,r){var u={workItemIds:r&&r.join(",")};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"cd08294e-308d-4460-a46e-4cfdefba0b4b",resource:"ResultSummaryByRequirement",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsContext,responseType:i.TypeInfo.TestSummaryForWorkItem,responseIsCollection:!0,routeValues:{project:t},queryParams:u,apiVersion:this.resultSummaryByRequirementApiVersion,data:n})},t.prototype.queryTestResultsSummaryForReleases=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"85765790-ac68-494e-b268-af36c3929744",resource:"ResultSummaryByRelease",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.ReleaseReference,responseType:i.TypeInfo.TestResultSummary,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultSummaryByReleaseApiVersion,data:n})},t.prototype.queryTestResultsReportForRelease=function(n,t,r,u,f,e){var o={releaseId:t,releaseEnvId:r,publishContext:u,includeFailureDetails:f,releaseToCompare:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"85765790-ac68-494e-b268-af36c3929744",resource:"ResultSummaryByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:o,apiVersion:this.resultSummaryByReleaseApiVersion})},t.prototype.queryTestResultsReportForBuild=function(n,t,r,u,f){var e={buildId:t,publishContext:r,includeFailureDetails:u,buildToCompare:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"000ef77b-fea2-498d-a10d-ad1a037f559f",resource:"ResultSummaryByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultSummary,routeValues:{project:n},queryParams:e,apiVersion:this.resultSummaryByBuildApiVersion})},t.prototype.publishTestResultDocument=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"370ca04b-8eec-4ca8-8ba3-d24dca228791",resource:"ResultDocument",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",routeValues:{project:t,runId:i},apiVersion:this.resultDocumentApiVersion,data:n})},t.prototype.getTestResultDetailsForRelease=function(n,t,r,u,f,e,o,s,h){var c={releaseId:t,releaseEnvId:r,publishContext:u,groupBy:f,$filter:e,$orderby:o,shouldIncludeResults:s,queryRunSummaryForInProgress:h};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"b834ec7e-35bb-450f-a3c8-802e70ca40dd",resource:"ResultDetailsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:c,apiVersion:this.resultDetailsByReleaseApiVersion})},t.prototype.getTestResultDetailsForBuild=function(n,t,r,u,f,e,o,s){var h={buildId:t,publishContext:r,groupBy:u,$filter:f,$orderby:e,shouldIncludeResults:o,queryRunSummaryForInProgress:s};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"efb387b0-10d5-42e7-be40-95e06ee9430f",resource:"ResultDetailsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseType:i.TypeInfo.TestResultsDetails,routeValues:{project:n},queryParams:h,apiVersion:this.resultDetailsByBuildApiVersion})},t.prototype.getLinkedWorkItemsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4dcb25b-9878-49ea-abfd-e440bd9b1dcd",resource:"LinkedWorkItemsQuery",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:this.linkedWorkItemsQueryApiVersion,data:n})},t.prototype.queryTestResultHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"234616f5-429c-4e7b-9192-affd76731dfd",resource:"History",routeTemplate:"{project}/_apis/test/Results/{resource}",requestType:i.TypeInfo.ResultsFilter,responseType:i.TypeInfo.TestResultHistory,routeValues:{project:t},apiVersion:this.historyApiVersion,data:n})},t.prototype.getTestRunAttachments=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t},apiVersion:this.attachmentsApiVersion})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:this.attachmentsApiVersion,data:n})},t.prototype.getTestResultAttachments=function(n,t,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:this.attachmentsApiVersion_2bffebe9,data:n})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:this.attachmentsApiVersion_2bffebe9,data:n})},t}(o);t.CommonMethods3To7_2=s;h=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.updateSuiteTestCases=function(n,t,i,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:t,planId:i,suiteId:r,testCaseIds:u,action:"TestCases"},apiVersion:this.suitesApiVersion,data:n})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:this.suitesApiVersion})},t.prototype.queryTestRuns=function(n,t,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b){var k={minLastUpdatedDate:t,maxLastUpdatedDate:r,state:u,planIds:f&&f.join(","),isAutomated:e,publishContext:o,buildIds:s&&s.join(","),buildDefIds:h&&h.join(","),branchName:c,releaseIds:l&&l.join(","),releaseDefIds:a&&a.join(","),releaseEnvIds:v&&v.join(","),releaseEnvDefIds:y&&y.join(","),runTitle:p,$top:w,continuationToken:b};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:n},queryParams:k,apiVersion:this.runsApiVersion})},t.prototype.getTestResultsByRelease=function(n,t,i,r,u,f,e){var o={releaseId:t,releaseEnvid:i,publishContext:r,outcomes:u&&u.join(","),$top:f,continuationToken:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ce01820b-83f3-4c15-a583-697a43292c4e",resource:"ResultsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:this.resultsByReleaseApiVersion})},t.prototype.getTestResultsByBuild=function(n,t,i,r,u,f){var e={buildId:t,publishContext:i,outcomes:r&&r.join(","),$top:u,continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3c191b88-615b-4be2-b7d9-5ff9141e91d4",resource:"ResultsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultsByBuildApiVersion})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:this.resultsApiVersion,data:n})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion_4637d869,data:n})},t.prototype.getTestResults=function(n,t,r,u,f,e){var o={detailsToInclude:r,$skip:u,$top:f,outcomes:e&&e.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:o,apiVersion:this.resultsApiVersion_4637d869})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.resultsApiVersion_4637d869})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:this.resultsApiVersion_4637d869,data:n})},t}(s);t.CommonMethods4_1To7_2=h;c=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestHistory=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"929fd86c-3e38-4d8c-b4b6-90df256e5971",resource:"TestHistory",routeTemplate:"{project}/_apis/test/Results/{resource}",requestType:i.TypeInfo.TestHistoryQuery,responseType:i.TypeInfo.TestHistoryQuery,routeValues:{project:t},apiVersion:this.testHistoryApiVersion,data:n})},t.prototype.getTestRunById=function(n,t,r){var u={includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},queryParams:u,apiVersion:this.runsApiVersion})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:this.runsApiVersion_0a42c424})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u,f){var e={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(","),continuationToken:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ef5ce5d4-a4e5-47ee-804c-354518f8d03f",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:this.resultGroupsByReleaseApiVersion})},t.prototype.getResultGroupsByBuild=function(n,t,i,r,u){var f={buildId:t,publishContext:i,fields:r&&r.join(","),continuationToken:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d279d052-c55a-4204-b913-42f733b52958",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:f,apiVersion:this.resultGroupsByBuildApiVersion})},t.prototype.getTestSubResultAttachmentZip=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestSubResultAttachments=function(n,t,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",responseType:i.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestSubResultAttachmentContent=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:n,runId:t,testCaseResultId:i,attachmentId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.createTestSubResultAttachment=function(n,t,i,r,u){var f={testSubResultId:u};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:f,apiVersion:this.attachmentsApiVersion_2bffebe9,data:n})},t}(h);t.CommonMethods5To7_2=c;e=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype.queryTestResultsMetaData=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"afa7830e-67a7-4336-8090-2b448ca80295",resource:"ResultMetaData",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:t},apiVersion:this.resultMetaDataApiVersion,data:n})},t}(c);t.CommonMethods5_1To7_2=e;l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.bugsApiVersion=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultRetentionSettingsApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sessionApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="7.2-preview.1",r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion=r.testHistoryApiVersion="7.2-preview.2",r.iterationsApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.runsApiVersion=r.runsApiVersion_0a42c424=r.suitesApiVersion="7.2-preview.3",r.resultsApiVersion=r.resultsApiVersion_4637d869="7.2-preview.6",r}return __extends(t,n),t}(e);t.TestHttpClient7_2=l;a=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="7.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="7.1-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="7.1-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="7.1-preview.3",r}return __extends(t,n),t}(e);t.TestHttpClient7_1=a;v=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="7.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="7.0-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="7.0-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="7.0-preview.3",r}return __extends(t,n),t}(e);t.TestHttpClient7=v;y=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="6.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="6.1-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="6.1-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="6.1-preview.3",r}return __extends(t,n),t}(e);t.TestHttpClient6_1=y;p=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="6.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="6.0-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="6.0-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="6.0-preview.3",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"6.0"})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"6.0"})},t}(e);t.TestHttpClient6=p;w=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="5.2",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="5.2-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="5.2-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="5.2-preview.3",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"5.2"})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"5.2"})},t}(e);t.TestHttpClient5_2=w;b=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="5.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="5.1-preview.1",r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultMetaDataApiVersion="5.1-preview.2",r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="5.1-preview.3",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"5.1"})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"5.1"})},t}(e);t.TestHttpClient5_1=b;k=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.runsApiVersion_0a42c424=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testHistoryApiVersion=r.testSettingsApiVersion="5.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="5.0-preview.1",r.resultGroupsByBuildApiVersion=r.resultGroupsByReleaseApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion="5.0-preview.2",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"5.0"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"5.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"5.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"5.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"5.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"5.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"5.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"5.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"5.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"5.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"5.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"5.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"5.0",data:n})},t.prototype.getTestResultsMetaData=function(n,t){var i={testReferenceIds:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"afa7830e-67a7-4336-8090-2b448ca80295",resource:"ResultMetaData",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:n},queryParams:i,apiVersion:"5.0-preview.1"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"5.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"5.0",data:n})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"5.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"5.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"5.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={$expand:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"5.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"5.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"5.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"5.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"5.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"5.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"5.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"5.0",data:n})},t}(c);t.TestHttpClient5=k;d=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.resultsApiVersion=r.resultsApiVersion_4637d869=r.runsApiVersion=r.sessionApiVersion=r.suitesApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="4.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultsByBuildApiVersion=r.resultsByReleaseApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="4.1-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"4.1"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"4.1"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"4.1",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"4.1",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"4.1"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"4.1"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"4.1"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"4.1",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"4.1"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"4.1"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"4.1"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"4.1"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"4.1",data:n})},t.prototype.getResultGroupsByBuild=function(n,t,i,r){var u={buildId:t,publishContext:i,fields:r&&r.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d279d052-c55a-4204-b913-42f733b52958",resource:"ResultGroupsByBuild",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:u,apiVersion:"4.1-preview.1"})},t.prototype.getResultGroupsByRelease=function(n,t,i,r,u){var f={releaseId:t,publishContext:i,releaseEnvId:r,fields:u&&u.join(",")};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"ef5ce5d4-a4e5-47ee-804c-354518f8d03f",resource:"ResultGroupsByRelease",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:n},queryParams:f,apiVersion:"4.1-preview.1"})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"4.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"4.1"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"4.1"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"4.1",data:n})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.1",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"4.1"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={$expand:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"4.1"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={$expand:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"4.1"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.1",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"4.1"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"4.1",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.1"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.1"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.1"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"4.1",data:n})},t}(h);t.TestHttpClient4_1=d;g=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="4.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="4.0-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"4.0"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"4.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"4.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"4.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"4.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"4.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"4.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"4.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"4.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"4.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"4.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"4.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"4.0",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"4.0",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"4.0"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"4.0"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"4.0",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"4.0"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"4.0"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"4.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"4.0",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"4.0"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"4.0"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"4.0"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"4.0"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"4.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"4.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"4.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"4.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"4.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"4.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"4.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"4.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"4.0",data:n})},t}(s);t.TestHttpClient4=g;nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="3.2",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="3.2-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"3.2"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"3.2"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"3.2",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"3.2",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"3.2"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"3.2"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"3.2"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"3.2",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"3.2"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"3.2"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"3.2"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"3.2"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"3.2",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.2",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"3.2"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"3.2"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.2",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"3.2"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"3.2"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"3.2"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"3.2",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.2"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.2"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"3.2"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.2"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.2",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"3.2"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"3.2"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"3.2"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.2",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"3.2"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"3.2",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.2"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.2"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.2"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"3.2",data:n})},t}(s);t.TestHttpClient3_2=nt;tt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="3.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="3.1-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"3.1"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"3.1"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"3.1",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"3.1",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"3.1"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"3.1"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"3.1"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"3.1",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"3.1"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"3.1"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"3.1"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"3.1"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"3.1",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.1",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"3.1"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"3.1"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.1",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"3.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"3.1"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"3.1"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"3.1",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.1"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.1"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"3.1"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.1"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.1",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"3.1"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"3.1"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"3.1"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.1",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"3.1"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"3.1",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.1"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.1"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.1"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"3.1",data:n})},t}(s);t.TestHttpClient3_1=tt;it=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testCasesApiVersion=r.testSettingsApiVersion="3.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.historyApiVersion=r.linkedWorkItemsQueryApiVersion=r.messageLogsApiVersion=r.resultDetailsByBuildApiVersion=r.resultDetailsByReleaseApiVersion=r.resultDocumentApiVersion=r.resultSummaryByBuildApiVersion=r.resultSummaryByReleaseApiVersion=r.resultSummaryByRequirementApiVersion=r.resultTrendByBuildApiVersion=r.resultTrendByReleaseApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion=r.workItemsApiVersion=r.workItemsApiVersion_7b0bdee3=r.workItemsApiVersion_371b1655="3.0-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"3.0"})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"3.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"3.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"3.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"3.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"3.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"3.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"3.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"3.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"3.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"3.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"3.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"3.0",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.0",data:n})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"3.0"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"3.0"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:i.TypeInfo.TestCaseResult,responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"3.0",data:n})},t.prototype.getTestResultsByQuery=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:i.TypeInfo.TestResultsQuery,responseType:i.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"3.0"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"3.0"})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"3.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"3.0",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.0"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.0"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"3.0"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"3.0"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"3.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"3.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"3.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"3.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"3.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"3.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"3.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"3.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"3.0",data:n})},t}(s);t.TestHttpClient3=it;rt=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.3",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.3-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.3"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.3",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.3",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.3",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.3",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.3",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.3"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.3"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.3"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.3",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.3"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.3"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.3"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.3"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.3",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.3",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.3",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.3"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.3"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.3"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.3"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.3",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.3",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.3"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.3"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.3-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.3"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.3",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.3"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.3"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.3"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.3"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.3",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.3"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.3"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.3"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.3",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.3"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.3",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.3"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.3"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.3"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.3",data:n})},t}(o);t.TestHttpClient2_3=rt;ut=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.2",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.2-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.2"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.2",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.2",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.2",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.2",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.2",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.2"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.2"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.2"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.2",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.2"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.2"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.2"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.2"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.2",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.2",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.2",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.2"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.2"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.2"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.2"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.2",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.2",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.2"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.2"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.2-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.2"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.2",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.2"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.2"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.2"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.2"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.2",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.2"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.2"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.2"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.2",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.2"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.2",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.2"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.2"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.2"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.2",data:n})},t}(o);t.TestHttpClient2_2=ut;ft=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.1",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.1-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.1"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.1",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.1",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.1",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.1",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.1",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.1"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.1"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.1"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.1",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.1"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.1"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.1"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.1"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.1",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.1",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.1",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.1"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.1"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.1"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.1"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.1",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.1",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.1"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.1"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.1-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.1"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.1",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.1"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.1"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.1"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.1"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.1",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.1"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.1"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.1"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.1",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.1"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.1",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.1"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.1"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.1"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.1",data:n})},t}(o);t.TestHttpClient2_1=ft;et=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.attachmentsApiVersion=r.attachmentsApiVersion_2bffebe9=r.codeCoverageApiVersion=r.codeCoverageApiVersion_77560e8a=r.iterationsApiVersion=r.pointsApiVersion=r.pointsApiVersion_3bcfd5c8=r.resultRetentionSettingsApiVersion=r.runsApiVersion=r.sessionApiVersion=r.testSettingsApiVersion="2.0",r.bugsApiVersion=r.extensionFieldsApiVersion=r.messageLogsApiVersion=r.sharedParameterApiVersion=r.sharedStepApiVersion="2.0-preview.1",r}return __extends(t,n),t.prototype.getActionResults=function(n,t,r,u,f){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:i.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:r,iterationId:u,actionPath:f},apiVersion:"2.0"})},t.prototype.createTestIterationResultAttachment=function(n,t,i,r,u,f){var e={iterationId:u,actionPath:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},queryParams:e,apiVersion:"2.0",data:n})},t.prototype.createTestResultAttachment=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i,testCaseResultId:r},apiVersion:"2.0",data:n})},t.prototype.createTestRunAttachment=function(n,t,i){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:i},apiVersion:"2.0",data:n})},t.prototype.getCloneInformation=function(n,t,r){var u={$includeDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:n,cloneOperationId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.cloneTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:i.TypeInfo.TestPlanCloneRequest,responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r},apiVersion:"2.0",data:n})},t.prototype.cloneTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:i.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:r,sourceSuiteId:u},apiVersion:"2.0",data:n})},t.prototype.createTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteTestConfiguration=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:n,testConfigurationId:t},apiVersion:"2.0"})},t.prototype.getTestConfigurationById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,routeValues:{project:n,testConfigurationId:t},apiVersion:"2.0"})},t.prototype.getTestConfigurations=function(n,t,r,u,f){var e={$skip:t,$top:r,continuationToken:u,includeAllProperties:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:i.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:n},queryParams:e,apiVersion:"2.0"})},t.prototype.updateTestConfiguration=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:i.TypeInfo.TestConfiguration,responseType:i.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:r},apiVersion:"2.0",data:n})},t.prototype.getResultParameters=function(n,t,i,r,u){var f={paramName:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:n,runId:t,testCaseResultId:i,iterationId:r},queryParams:f,apiVersion:"2.0"})},t.prototype.createTestPlan=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteTestPlan=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:n,planId:t},apiVersion:"2.0"})},t.prototype.getPlanById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:n,planId:t},apiVersion:"2.0"})},t.prototype.getPlans=function(n,t,r,u,f,e){var o={owner:t,$skip:r,$top:u,includePlanDetails:f,filterActivePlans:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:n},queryParams:o,apiVersion:"2.0"})},t.prototype.updateTestPlan=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:i.TypeInfo.TestPlan,routeValues:{project:t,planId:r},apiVersion:"2.0",data:n})},t.prototype.addTestResultsToTestRun=function(n,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.0",data:n})},t.prototype.bulkUpdateTestResults=function(n,t,r,u){var f={resultIds:u&&u.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},queryParams:f,apiVersion:"2.0",data:n})},t.prototype.getTestCaseResultById=function(n,t,r,u,f){var e={includeIterationDetails:u,includeAssociatedBugs:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:e,apiVersion:"2.0"})},t.prototype.getTestCaseResults=function(n,t,r){var u={includeIterationDetails:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:u,apiVersion:"2.0"})},t.prototype.getTestResultById=function(n,t,r,u){var f={detailsToInclude:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,routeValues:{project:n,runId:t,testCaseResultId:r},queryParams:f,apiVersion:"2.0"})},t.prototype.getTestResults=function(n,t,r,u,f){var e={detailsToInclude:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:n,runId:t},queryParams:e,apiVersion:"2.0"})},t.prototype.updateTestResults=function(n,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:r},apiVersion:"2.0",data:n})},t.prototype.getTestResultsByQuery=function(n,t,r,u,f,e){var o={includeResultDetails:r,includeIterationDetails:u,$skip:f,$top:e};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:o,apiVersion:"2.0",data:n})},t.prototype.getTestRunStatistics=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",responseType:i.TypeInfo.TestRunStatistic,routeValues:{project:n,runId:t},apiVersion:"2.0"})},t.prototype.getTestRunById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:i.TypeInfo.TestRun,routeValues:{project:n,runId:t},apiVersion:"2.0"})},t.prototype.getTestRunsByQuery=function(n,t,r,u,f){var e={includeRunDetails:r,$skip:u,$top:f};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:i.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:e,apiVersion:"2.0-preview.2",data:n})},t.prototype.getSuiteEntries=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:n,suiteId:t},apiVersion:"2.0"})},t.prototype.reorderSuiteEntries=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:i},apiVersion:"2.0",data:n})},t.prototype.addTestCasesToSuite=function(n,t,i,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.0"})},t.prototype.getTestCaseById=function(n,t,i,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.0"})},t.prototype.getTestCases=function(n,t,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:n,planId:t,suiteId:i,action:"TestCases"},apiVersion:"2.0"})},t.prototype.removeTestCasesFromSuiteUrl=function(n,t,i,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:n,planId:t,suiteId:i,testCaseIds:r,action:"TestCases"},apiVersion:"2.0"})},t.prototype.createTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.0",data:n})},t.prototype.deleteTestSuite=function(n,t,i){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:n,planId:t,suiteId:i},apiVersion:"2.0"})},t.prototype.getTestSuiteById=function(n,t,r,u){var f={includeChildSuites:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:n,planId:t,suiteId:r},queryParams:f,apiVersion:"2.0"})},t.prototype.getTestSuitesForPlan=function(n,t,r,u,f,e){var o={includeSuites:r,$skip:u,$top:f,$asTreeView:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:n,planId:t},queryParams:o,apiVersion:"2.0"})},t.prototype.updateTestSuite=function(n,t,r,u){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:i.TypeInfo.TestSuite,routeValues:{project:t,planId:r,suiteId:u},apiVersion:"2.0",data:n})},t.prototype.getSuitesByTestCaseId=function(n){var t={testCaseId:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:i.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:"2.0"})},t.prototype.createTestVariable=function(n,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:"2.0",data:n})},t.prototype.deleteTestVariable=function(n,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.0"})},t.prototype.getTestVariableById=function(n,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:n,testVariableId:t},apiVersion:"2.0"})},t.prototype.getTestVariables=function(n,t,i){var r={$skip:t,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:n},queryParams:r,apiVersion:"2.0"})},t.prototype.updateTestVariable=function(n,t,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:i},apiVersion:"2.0",data:n})},t}(o);t.TestHttpClient2=et;st=function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t}(l);t.TestHttpClient=st;ot={"7.2":l,"7.1":a,"7.0":v,"6.1":y,"6.0":p,"5.2":w,"5.1":b,"5.0":k,"4.1":d,"4.0":g,"3.2":nt,"3.1":tt,"3.0":it,"2.3":rt,"2.2":ut,"2.1":ft,"2.0":et};t.getClient=ht});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationContracts",["require","exports","Agile/Scripts/Resources/TFS.Resources.AgileControls"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.testCaseWorkItemType=t.TestOutcomeHelper=t.TestOutcome=void 0,function(n){n[n.Active=0]="Active";n[n.Passed=1]="Passed";n[n.Failed=2]="Failed";n[n.Blocked=3]="Blocked";n[n.NotApplicable=4]="NotApplicable";n[n.Paused=5]="Paused";n[n.InProgress=6]="InProgress"}(r=t.TestOutcome||(t.TestOutcome={}));u=function(){function n(){}return n.toByte=function(n){switch(n){case r.Active:return 1;case r.Passed:return 2;case r.Failed:return 3;case r.Blocked:return 7;case r.NotApplicable:return 11;case r.Paused:return 12;case r.InProgress:return 13;default:return 1}},n.fromString=function(n){switch(n){case i.TestOutcome_Active:return r.Active;case i.TestOutcome_Passed:return r.Passed;case i.TestOutcome_Failed:return r.Failed;case i.TestOutcome_Blocked:return r.Blocked;case i.TestOutcome_NotApplicable:return r.NotApplicable;case i.TestOutcome_Paused:return r.Paused;case i.TestOutcome_InProgress:return r.InProgress;default:return r.Active}},n.GetOutcomeText=function(n){switch(n){case r.Passed:return i.TestOutcome_Passed;case r.Failed:return i.TestOutcome_Failed;case r.Blocked:return i.TestOutcome_Blocked;case r.NotApplicable:return i.TestOutcome_NotApplicable;case r.Paused:return i.TestOutcome_Paused;case r.InProgress:return i.TestOutcome_InProgress;case r.Active:return i.TestOutcome_Active;default:return""}},n}();t.TestOutcomeHelper=u;t.testCaseWorkItemType="Test Case"});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationWebApi",["require","exports","Presentation/Scripts/TFS/TFS.Legacy.Ajax","q","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.Service","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Utils/Core","Agile/Scripts/Card/CardsAnnotationsTestAnnotationContracts"],function(n,t,i,r,u,f,e,o,s){function l(){return c||(c=u.ProjectCollection.getConnection(e.TfsContext.getDefault()).getService(h)),c}var h,c;Object.defineProperty(t,"__esModule",{value:!0});t.getClient=t.TcmHttpClient=void 0;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.beginGetSuites=function(n,t){return this._ajaxPost(n,"GetWitTestsForKanbanBoard",{userStoryIds:o.stringifyMSJSON(t)})},t.prototype.beginSetOutcome=function(n,t,i,r,u){return u===s.TestOutcome.Active?this._ajaxPost(n,"ResetTestPoints",{planId:i,testPointIds:[r]}):this._ajaxPost(n,"BulkMarkTestPoints",{planId:i,suiteId:t,testPointIds:[r],outcome:s.TestOutcomeHelper.toByte(u),useTeamSettings:!0})},t.prototype.beginRefreshSuite=function(n,t,i,r){return this._ajaxPost(n,"AddWitTestCasesToRequirementSuite",{requirementId:t,planId:i,suiteId:r})},t.prototype._ajaxPost=function(n,t,u,f){var e=r.defer();return i.postMSJSON(this._getApiLocation(n,t),u,e.resolve,e.reject,f),e.promise},t.prototype._getApiLocation=function(n,t){return this.getTfsContext().getActionUrl(t||"","testManagement",{area:"api",teamId:n})},t}(f.TfsService);t.TcmHttpClient=h;t.getClient=l});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationTelemetry",["require","exports","Agile/Scripts/TFS.Agile.Boards","VSS/Performance"],function(n,t,i,r){var u,f,e;Object.defineProperty(t,"__esModule",{value:!0});t.TelemeteryHelper=t.FeatureScenarios=t.PerfScenarios=void 0;u=function(){function n(){}return n.GetTestSuites="TestAnnotationPerf_GetTestSuites",n}();t.PerfScenarios=u;f=function(){function n(){}return n.BadgeClick="TestAnnotationFeature_BadgeClick",n.AddTest="TestAnnotationFeature_AddTest",n.DragDropComplete="TestAnnotationFeature_DragDropTest",n.GetTestSuites="TestAnnotationFeature_GetTestSuites",n.SetOutcome="TestAnnotationFeature_SetOutcome",n}();t.FeatureScenarios=f;e=function(){function n(){}return n.startPerfScenario=function(n){var t=r.getScenarioManager(),u=t.getScenarios(i.KanbanTelemetry.CI_AREA_AGILE,n);$.each(u,function(n,t){t.abort()});t.startScenario(i.KanbanTelemetry.CI_AREA_AGILE,n)},n.endPerfScenario=function(n){var t=r.getScenarioManager();t.endScenario(i.KanbanTelemetry.CI_AREA_AGILE,n)},n.publishFeatureTelemetry=function(n,t){t||(t={});i.KanbanTelemetry.publish(n,t)},n}();t.TelemeteryHelper=e});

define("VSS/Controls/Validation",["require","exports","VSS/Controls","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/Number","VSS/Utils/String","VSS/VSS","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s){function d(n,t,i){function u(t,i,u,f){u&&u!=="*"&&u!==n||f||r.push(i)}var r=[];return $(i||window.document.body).bind(h.EVENT_VALIDATE_STATUS,u),$(i||window.document.body).trigger(h.EVENT_VALIDATE,[n]),$(i||window.document.body).off(h.EVENT_VALIDATE_STATUS,u),r.length&&t&&$.each(r,function(n,i){t.push(i)}),r.length===0}var c,h,a,v,y,p,w,b,k,l;Object.defineProperty(t,"__esModule",{value:!0});t.validateGroup=t.ValidationSummary=t.MaxLengthValidator=t.IntegerRangeValidator=t.DateValidator=t.CustomValidator=t.RegexValidator=t.RangeValidator=t.RequiredValidator=t.BaseValidator=void 0;c=u.delegate;h=function(n){function t(r){var u=__construct(this,n,[r]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);if(u.getType()===t)throw new Error("You cannot instantiate an abstract type.");return u.instanceId="val_"+i.getId(),u}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({invalidCssClass:"invalid",message:"Invalid input value!",group:"*",allowEmptyString:!1},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind("change",c(this,this.onChanged));this._onValidationRequiredDelegate=c(this,this.onValidationRequired);this._bind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);this._options.bindtokeystrokes&&this._bind("keyup",c(this,this.onKeyUp))},t.prototype.dispose=function(){this._onValidationRequiredDelegate&&this._unbind(window.document.body,t.EVENT_VALIDATE,this._onValidationRequiredDelegate,!0);n.prototype.dispose.call(this)},t.prototype.getValue=function(){return this._element.val()},t.prototype.isValid=function(){return!0},t.prototype.getValidationGroup=function(){return this._options.group},t.prototype.getMessage=function(){var n=this._options.message;return n&&typeof n=="function"&&(n=n.call(this)),n},t.prototype.onKeyUp=function(){this.validate()},t.prototype.onChanged=function(){this.validate()},t.prototype.onValidationRequired=function(n,t){t&&t!=="*"&&t!==this._options.group||this.validate()},t.prototype.validate=function(){var n,i;this._disposed||(n=this._testEmptyString()||this.isValid(),i=this.getValidationGroup(),this._element.toggleClass(this._options.invalidCssClass,!n),this._fire(t.EVENT_VALIDATE_STATUS,[this,i,n]))},t.prototype._testEmptyString=function(){return this._options.allowEmptyString&&this.getValue()===""},t.optionsPrefix="validator",t.EVENT_VALIDATE="validate",t.EVENT_VALIDATE_STATUS="validate-status",t}(i.Enhancement);t.BaseValidator=h;s.initClassPrototype(h,{instanceId:null});a=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value cannot be empty!"},t))},t.prototype.isValid=function(){return this.getValue().trim()?!0:!1},t.optionsPrefix="requiredValidator",t}(h);t.RequiredValidator=a;i.Enhancement.registerEnhancement(a,".validate.required");v=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Out of range"},t))},t.prototype.isValid=function(){var n=this.getValue(),t=this._element.data("rangeValidatorMin"),i=this._element.data("rangeValidatorMax");return n>=t&&n<=i},t.prototype.getMessage=function(){var n=this.getValue(),t=this._element.data("rangeValidatorMin"),i=this._element.data("rangeValidatorMax");return n<t?"Input cannot be smaller than "+t:n>i?"Input cannot be greater than "+i:void 0},t.optionsPrefix="rangeValidator",t}(h);t.RangeValidator=v;i.Enhancement.registerEnhancement(v,".validate.range");y=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't match regex",testEmptyString:!0},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.regex||this._element.data("regexValidatorRegex"),t&&(n=this.getValue(),this._options.testEmptyString||n.trim()))?new RegExp(t).test(n):!0},t.prototype.getMessage=function(){return this._element.data("regexValidatorMessage")||this._options.message},t.optionsPrefix="regexValidator",t}(h);t.RegexValidator=y;i.Enhancement.registerEnhancement(y,".validate.regex");p=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value doesn't satisfy function",testEmptyString:!0,validate:function(){return!0}},t))},t.prototype.isValid=function(){var n,t;return(t=this._options.validate,typeof t=="function"&&(n=this.getValue(),this._options.testEmptyString||n.trim()))?t(n):!0},t.prototype.setValidate=function(n){this._options.validate=n},t.prototype.getMessage=function(){return this._element.data("customValidatorMessage")||this._options.message},t.optionsPrefix="customValidator",t}(h);t.CustomValidator=p;i.Enhancement.registerEnhancement(p,".validate.custom");w=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value must be a valid date",parseFormat:""},t))},t.prototype.isValid=function(){var t=this.getValue().trim(),n;if(t)n=f.parseDateString(t,this._options.parseFormat);else return!0;return n instanceof Date&&!isNaN(n.getTime())},t.prototype.getMessage=function(){return this._element.data("dateValidatorMessage")||this._options.message},t.optionsPrefix="dateValidator",t}(h);t.DateValidator=w;i.Enhancement.registerEnhancement(w,".validate.date");b=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.isValid=function(){var t=this.getValue(),n=this._getBounds();return this.isWithinBounds(t,n.max,n.min)},t.prototype.isWithinBounds=function(n,t,i){var u=e.parseLocale(n),f=!1,r=parseInt(""+u,10),o=parseFloat(""+u);return!isNaN(u)&&r===o&&isFinite(r)&&i<=r&&t>=r&&(f=!0),f},t.prototype.getMessage=function(){var n=this._getBounds();return o.format(r.Validation_IntegerRange,n.min,n.max)},t.prototype._getBounds=function(){var n,t;return n=this._options.minValue!==undefined?this._options.minValue:Number(this._element.data("integerRangeValidatorMin")),t=this._options.maxValue!==undefined?this._options.maxValue:Number(this._element.data("integerRangeValidatorMax")),{min:n,max:t}},t.optionsPrefix="integerRangeValidator",t}(h);t.IntegerRangeValidator=b;i.Enhancement.registerEnhancement(b,".validate.integerRange");k=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:o.format("Input cannot exceed {0} characters.",t.maxLength)},t))},t.prototype.isValid=function(){return this.getValue().length>this._options.maxLength?!1:!0},t.optionsPrefix="maxLengthValidator",t}(h);t.MaxLengthValidator=k;i.Enhancement.registerEnhancement(k,".validate.maxlength");l=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._messages={},t.fixedHeight&&(i._fixedHeight=!0),t.singleMessage&&(i._singleMessage=!0),t.showAsWarning&&(i._showAsWarning=!0),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"validation-summary",group:"*"},t))},t.prototype.initialize=function(){n.prototype.initialize.call(this);this._bind(this._options.context||window.document.body,h.EVENT_VALIDATE_STATUS,c(this,this.onValidationStatus),!0)},t.prototype.onValidationStatus=function(n,t,i,r){delete this._messages[t.instanceId];i&&i!=="*"&&i!==this._options.group||(r||(this._messages[t.instanceId]=t.getMessage()),this._updateUI())},t.prototype.validate=function(){try{this._messages={};this._ignoreUIUpdate=!0;this._fire(this._options.context||window.document.body,h.EVENT_VALIDATE,[this._options.group])}finally{this._ignoreUIUpdate=!1}this._updateUI()},t.prototype._updateUI=function(){var n=this,t=!1,i;this._ignoreUIUpdate||(this._element.empty(),$.each(this._messages,function(i,r){return(t=!0,n._element.append($("<div />").text(r||"")),n._singleMessage)?!1:!0}),i=n._showAsWarning?"invalid-warning":"invalid",this._element.toggleClass(i,t),this._element.toggleClass("fixed-height",n._fixedHeight))},t}(i.Control);t.ValidationSummary=l;s.initClassPrototype(l,{_messages:null,_ignoreUIUpdate:!1,_fixedHeight:!1,_singleMessage:!1,_showAsWarning:!1});i.Enhancement.registerEnhancement(l,".validation-summary");t.validateGroup=d;s.tfsModuleLoaded("VSS.UI.Controls.Validation",t)});

define("VSS/Controls/Virtualization",["require","exports","VSS/Controls","VSS/Utils/Core","VSS/Utils/UI","VSS/Controls/PopupContent","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.VirtualizingListView=void 0;var e=r.delegate,o=u.domElem,s=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._firstVisible=0,t._selectedIndex=-1,t._rowHeight=20,t._ignoreScrollEvent=!1,t._enableMouseOver=!0,t._prevMousePos="",t.visibleRowCount=1,t._pointerDownY=null,t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"virtualizing-list-view",maxRowCount:8,selectedIndex:-1},t))},t.prototype.initialize=function(){this._bind("click",e(this,this._onClick));this._itemsContainer=$(o("ul","items"));this._itemsContainer.attr("role",this._options.virtualizingListViewRole||"listbox");this._itemsContainer.attr("id",i.getId());this._bind(this._itemsContainer,"mouseover",e(this,this._onMouseOver));this._bind(this._itemsContainer,"mousemove",e(this,this._onMouseMove));this._options.preventMouseDown&&this._bind(this._itemsContainer,"mousedown",function(n){return n.preventDefault()});this._bind(this._itemsContainer,u.BrowserCheckUtils.isFirefox()?"DOMMouseScroll":"mousewheel",e(this,this._onMouseWheel));this._bind(this._itemsContainer,"pointerdown",this._onPointerDown.bind(this));this._bind(this._itemsContainer,"pointerleave",this._onPointerLeave.bind(this));this._bind(this._itemsContainer,"pointermove",this._onPointerMove.bind(this));this._element.append(this._itemsContainer);this._scrollContainer=$(o("div","scroller"));this._bind(this._scrollContainer,"scroll",e(this,this._onScroll));this._scrollSpacer=$(o("div","content-spacer"));this._scrollContainer.append(this._scrollSpacer);this._element.append(this._scrollContainer);this._dataSource=this._options.dataSource;this._selectedIndex=this._options.selectedIndex;this.update();this._enableMouseOver=!0;n.prototype.initialize.call(this)},t.prototype.update=function(){var t=this._dataSource.getCount(),n;this.visibleRowCount=Math.min(t,this._options.maxRowCount);this._selectedIndex>=0&&(this._selectedIndex=Math.min(this._selectedIndex,t-1));this._setVisibleBounds(this._selectedIndex);this._drawItems();n=this._itemsContainer.outerHeight();this._element.height(n);this._setupScrollbar(n)},t.prototype.scrollItemIntoView=function(n){var t=this._firstVisible;this._setVisibleBounds(n);this._firstVisible!==t?(this._drawItems(),this._updateScrollbar()):this._updateItemStyles()},t.prototype.selectNext=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,n?this.visibleRowCount:1,null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.selectPrev=function(n){var t=this._dataSource.nextIndex(this._selectedIndex,-(n?this.visibleRowCount:1),null);return t>=0?(this.setSelectedIndex(t),this._fireSelectionChanged(),!0):!1},t.prototype.getSelectedIndex=function(){return this._selectedIndex},t.prototype.getSelectedItem=function(){return this._itemsContainer.children("li.selected")},t.prototype.setSelectedIndex=function(n,t){this._selectedIndex!==n&&(this._selectedIndex=n,t||this.scrollItemIntoView(n))},t.prototype._setVisibleBounds=function(n){n=n||0;n<=this._firstVisible?this._firstVisible=Math.max(0,n):n>=this._firstVisible+this.visibleRowCount&&(this._firstVisible=Math.max(0,Math.min(n,this._dataSource.getCount()-this.visibleRowCount)));this._firstVisible=Math.max(0,Math.min(this._firstVisible,this._dataSource.getCount()-this.visibleRowCount))},t.prototype._createItem=function(n,t,r){t===void 0&&(t=0);r===void 0&&(r=0);var s=this._dataSource.getItemText(n)||"",e=$(o("li",this._options.itemCss)),h=n+1-r,c=this._dataSource.getCount()-t;return e.attr({id:i.getId(),role:"option","aria-posinset":h,"aria-setsize":c}),s&&typeof this._options.getItemContents=="function"?e.append(this._options.getItemContents(s)):e.text(s),(this._options.setTitleOnlyOnOverflow===!1||u.contentsOverflow(e[0]))&&f.RichContentTooltip.add(s,e,{useStrictTarget:!0}),e},t.prototype._drawItems=function(){var n,t,r;this._itemsContainer.empty();var e=this._options.createItem||this._createItem,i=this._firstVisible,o=Math.min(i+this.visibleRowCount,this._dataSource.getCount());for(n=i;n<o;n++)t=e.call(this,n),t.data("index",n),t.attr("data-id",n),this._itemsContainer.append(t),r=this._dataSource.getItemText(n)||"",(this._options.setTitleOnlyOnOverflow===!1||u.contentsOverflow(t))&&f.RichContentTooltip.add(r,t,{useStrictTarget:!0});this._updateItemStyles();this._updateAriaAttributes();this._enableMouseOver=!1;this._fireItemsUpdated()},t.prototype._updateItemStyles=function(){var n=this._firstVisible,t=this._selectedIndex;this._itemsContainer.children("li").each(function(i){$(this).toggleClass("selected",i+n===t)})},t.prototype._updateAriaAttributes=function(){var n=this._selectedIndex;this._itemsContainer.children("li").each(function(t){$(this).attr("aria-selected","".concat(t===n))})},t.prototype._setupScrollbar=function(n){var t=this._dataSource.getCount(),i=this.visibleRowCount<t;this._element.toggleClass("scroll",i);i&&(this._rowHeight=(n||this._itemsContainer.outerHeight())/this.visibleRowCount,this._scrollSpacer.height(this._rowHeight*t),this._updateScrollbar())},t.prototype._updateScrollbar=function(){try{this._ignoreScrollEvent=!0;this._scrollContainer.scrollTop(Math.ceil(this._rowHeight*this._firstVisible))}finally{this._ignoreScrollEvent=!1}},t.prototype._onScroll=function(){var n=this._dataSource.getCount();return this._ignoreScrollEvent||(this._firstVisible=Math.max(0,Math.min(Math.round(this._scrollContainer.scrollTop()/this._rowHeight),n-this.visibleRowCount)),this._drawItems()),!1},t.prototype._onMouseMove=function(n){var t="".concat(n.screenX,"-").concat(n.screenY);this._prevMousePos&&this._prevMousePos===t||(this._prevMousePos=t,this._enableMouseOver=!0)},t.prototype._onMouseOver=function(n){var t=this,i=$(n.target);r.delay(this,10,function(){if(t._enableMouseOver&&t._pointerDownY===null){t._enableMouseOver=!1;var n=i.closest("li");n.length&&(t._selectedIndex=n.data("index"),t._updateItemStyles())}})},t.prototype._onPointerDown=function(n){var t=n.originalEvent;t.pointerType==="touch"&&t.isPrimary&&(this._pointerDownY=t.pageY,this._pointerDownFirstVisible=this._firstVisible)},t.prototype._onPointerLeave=function(n){var t=n.originalEvent;t.pointerType==="touch"&&t.isPrimary&&(this._pointerDownY=null)},t.prototype._onPointerMove=function(n){var r=n.originalEvent,u,i,t;r.pointerType==="touch"&&r.isPrimary&&this._pointerDownY!==null&&(u=this._dataSource.getCount(),i=(this._pointerDownY-r.pageY)/this._rowHeight,i-=i%1,t=this._pointerDownFirstVisible+i,t=Math.max(t,0),t=Math.min(t,u-this.visibleRowCount),this._firstVisible!==t&&(this._firstVisible=t,this._drawItems(),this._updateScrollbar()))},t.prototype._onMouseWheel=function(n){var t=u.getWheelDelta(n);if(t!==0)return this._firstVisible=Math.max(0,Math.min(this._firstVisible+(t>0?-1:1),this._dataSource.getCount()-this.visibleRowCount)),this._drawItems(),this._updateScrollbar(),!1},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("li"),i;if(t.length){if(i=t.data("index"),this._options.itemClick&&this._options.itemClick.call(this,n,i,r,t)===!1)return!1;this.setSelectedIndex(i);this._updateItemStyles();this._fireSelectionChanged(!0)}},t.prototype._fireSelectionChanged=function(n){this._options.selectionChange&&this._options.selectionChange.call(this,this._selectedIndex,n)},t.prototype._fireItemsUpdated=function(){this._options.itemsUpdated&&this._options.itemsUpdated.call(this)},t}(i.BaseControl);t.VirtualizingListView=s});

define("VSS/Controls/Combos",["require","exports","VSS/Controls","VSS/Controls/PopupContent","VSS/Utils/Culture","VSS/Diag","VSS/Events/Services","VSS/Resources/VSS.Resources.Platform","VSS/Utils/Core","VSS/Utils/Date","VSS/Utils/String","VSS/Utils/UI","VSS/Controls/Validation","VSS/Controls/Virtualization","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){function ut(n,t){var i=$.extend({},n);return t&&$.each(t,function(n,t){delete i[t]}),i}var ft,d,g,nt,yt,et,w,tt,it,vt,b,ot,st,ht,ct,lt,at;Object.defineProperty(t,"__esModule",{value:!0});t.ComboMultiValueBehavior=t.ComboMultiValueDropPopup=t.DatePicker=t.ComboDateBehavior=t.ComboDateDropPopup=t.DatePanel=t.ComboControlValidator=t.ComboListBehavior=t.ComboListDropPopup=t.Combo=t.ComboO=t.ComboTypeOptionsConstants=t.BaseComboDropPopup=t.BaseComboBehavior=t.ListDataSource=t.extendWithout=void 0;var p=s.delegate,k=l.domElem,y=l.KeyCode,rt;(function(n){function t(t){var i=$("<div/>").attr("id",n._PROBE_ID).css("position","absolute").css("left","-50000px").css("top","-50000px").css("width","9em").css("height","18ex").css("overflow","auto").appendTo(t);return $("<div><\/div>").css("width","3in").css("height","36ex").appendTo(i),i}function i(t){t=t||$(document.body);var i=t.children("#"+n._PROBE_ID);return i.length===0&&(i=n._createProbe(t)),i}function r(){return n._getProbe().width()/9}function u(){return n._getProbe().height()/18}function f(){return $("div",n._getProbe()).width()/3}function e(t){var i=n._getProbe(t);return i.width()-i[0].clientWidth}function o(t){var i=n._getProbe(t);return i.height()-i[0].clientHeight}function s(t){t=t.toLowerCase();var i=parseInt(t,10);return t.indexOf("px")>0?i=Math.round(parseFloat(t)):t.indexOf("em")>0?i=Math.round(parseFloat(t)*n.getUnitEm()):t.indexOf("ex")>0?i=Math.round(parseFloat(t)*n.getUnitEx()):t.indexOf("in")>0?i=Math.round(parseFloat(t)*n.getUnitIn()):t.indexOf("mm")>0?i=Math.round(parseFloat(t)*n.getUnitIn()/25.4):t.indexOf("cm")>0&&(i=Math.round(parseFloat(t)*n.getUnitIn()/2.54)),i}n._PROBE_ID="tfs-measurement-probe";n._createProbe=t;n._getProbe=i;n.getUnitEm=r;n.getUnitEx=u;n.getUnitIn=f;n.getScrollbarWidth=e;n.getScrollbarHeight=o;n.getUnitAsPixel=s})(rt||(rt={}));t.extendWithout=ut;ft=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(i.BaseDataSource);t.ListDataSource=ft;d=function(){function n(n,t){this.combo=n;this._options=t||{};this._onForceHideDropPopupDelegate=p(this,this.onForceHideDropPopup);this._onParentsScrollDelegate=p(this,this.onParentsScroll);this._onWheelDelegate=function(){}}return n.prototype.initialize=function(){this._options.source&&this.setSource(this._options.source)},n.prototype.dispose=function(){this.hideDropPopup()},n.prototype.setMode=function(n){this._options.mode=n},n.prototype.canType=function(){return!0},n.prototype.getAriaAutocomplete=function(){return this._options.autoComplete===!1?"none":"both"},n.prototype.getAriaDescription=function(){return null},n.prototype.getValue=function(){return null},n.prototype.getDropPopup=function(){return this._dropPopup},n.prototype.getDataSource=function(){return this._dataSource},n.prototype.getDropOptions=function(){return $.extend({combo:this.combo,anchor:this.combo.getElement(),host:this.combo.getElement(),width:this.getDropWidth(),dropElementAlign:"left-top",dropBaseAlign:"left-bottom",dataSource:this._dataSource,setTitleOnlyOnOverflow:this._options.setTitleOnlyOnOverflow},this._options.dropOptions)},n.prototype.getDropWidth=function(){return this.combo.getElement().innerWidth()},n.prototype.showDropPopup=function(){var t=this._options.dropControlType,n;return(this._dropPopup&&this.hideDropPopup(),t)?(n=this.getDropOptions(),n.width=this.getDropWidth(),this._attachGlobalEvents(),this._dropPopup=i.BaseControl.createIn(t,n.host||$(document.body),n),this._options.dropShow&&this._options.dropShow(this._dropPopup),!0):!1},n.prototype.hideDropPopup=function(){if(this._dropPopup){if(this._detachGlobalEvents(),!this._options.dropHide||this._options.dropHide(this._dropPopup))return this._dropPopup.dispose(),this._dropPopup=null,!0;this._dropPopup=null}return!1},n.prototype.toggleDropDown=function(){this._dropPopup?this.hideDropPopup():this.showDropPopup()},n.prototype.isDropVisible=function(){return Boolean(this._dropPopup)},n.prototype.setSource=function(n){this._dataSource&&this._dataSource.setSource(n)},n.prototype.getSelectedIndex=function(){return-1},n.prototype.setSelectedIndex=function(){},n.prototype.getText=function(){return this.combo.getInputText()},n.prototype.setText=function(n,t){typeof n!="undefined"&&this.combo.setInputText(n,t)},n.prototype.upKey=function(n){if(n.altKey)return this.isDropVisible()&&this.hideDropPopup(),!1},n.prototype.downKey=function(n){if(n.altKey)return this.isDropVisible()||this.showDropPopup(),!1},n.prototype.pageUpKey=function(){},n.prototype.pageDownKey=function(){},n.prototype.leftKey=function(){},n.prototype.rightKey=function(){},n.prototype.keyDown=function(){},n.prototype.keyPress=function(){},n.prototype.keyUp=function(){},n.prototype.onForceHideDropPopup=function(){this.hideDropPopup()},n.prototype.onParentsScroll=function(n){if(n&&n.target){var t=$(n.target);if(t.css("overflow-x")==="hidden"&&t.css("overflow-y")==="hidden"&&t.css("overflow")==="hidden"){n.stopPropagation();return}}this.onForceHideDropPopup(n)},n.prototype.getItemText=function(n,t){return typeof this._options.getItemText=="function"?this._options.getItemText(this._dataSource.getItem(n,!0)):this._dataSource.getItemText(n,t)},n.prototype._attachGlobalEvents=function(){this.combo._bind(this.combo.getElement().parents(),"scroll resize",this._onParentsScrollDelegate);this.combo._bind(this.combo.getElement().parents(),"wheel",this._onWheelDelegate);e.getService().attachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n.prototype._detachGlobalEvents=function(){this.combo._unbind(this.combo.getElement().parents(),"scroll resize",this._onForceHideDropPopupDelegate);this.combo._unbind(this.combo.getElement().parents(),"wheel",this._onWheelDelegate);e.getService().detachEvent("dialog-move",this._onForceHideDropPopupDelegate)},n}();t.BaseComboBehavior=d;g=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.combo=i._options.combo,i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"combo-drop-popup"},t))},t.prototype.initialize=function(){this._bind("mousedown",p(this,this._onMouseDown));this.setPosition();this.getElement().attr("title","");n.prototype.initialize.call(this)},t.prototype.setPosition=function(){l.Positioning.position(this.getElement(),this._options.anchor,{elementAlign:this._options.dropElementAlign,baseAlign:this._options.dropBaseAlign});this.getElement().css("opacity","1")},t.prototype.getSelectedIndex=function(){return-1},t.prototype.getSelectedValue=function(){return""},t.prototype.getSelectedItem=function(){return undefined},t.prototype.setSelectedValue=function(){},t.prototype.selectNext=function(){return!1},t.prototype.selectPrev=function(){return!1},t.prototype.update=function(){},t.prototype.dispose=function(){var i=this,t;if(!this.isDisposed())if(t=this.getElement(),t[0]&&!t[0].style.transition)n.prototype.dispose.call(this);else this.getElement().css("opacity","0").on("transitionend",function(){n.prototype.dispose.call(i)})},t.prototype._onMouseDown=function(){this.combo.blockBlur()},t}(i.BaseControl);t.BaseComboDropPopup=g;nt={},function(n){n.ListType="list";n.DateTimeType="date-time";n.MultiValueType="multi-value";n.TreeType="tree";n.TreeSearchType="treesearch"}(yt=t.ComboTypeOptionsConstants||(t.ComboTypeOptionsConstants={}));et=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._currentText="",t}return __extends(t,n),t.registerBehavior=function(n,t){nt[n]=t},t.attachBehavior=function(n,t){var i=nt[n._options.type];return i=n._options.type?nt[n._options.type]:d,i?new i(n,t):null},t.prototype.focus=function(){this._input.focus()},t.prototype.initializeOptions=function(t){var i=this,r,u;t=$.extend({allowEdit:!0,type:"list",treeLevel:1,mode:"drop",dropWidth:"dynamic",dropCount:8,invalidCss:"invalid",disabledCss:"disabled",dropButtonHoverCss:"hover",inputCss:undefined,coreCssClass:"combo input-text-box",enabled:!0},t);r=t.dropHide;t.dropHide=function(n){var t=!0;return r&&(t=r(n)),t&&(i.updateAriaAttributes(!1),s.delay(i,1,i._updateTooltip)),t};u=t.dropShow;t.dropShow=function(n){u&&u(n);s.delay(i,1,i._updateTooltip);i.updateAriaAttributes(!0)};n.prototype.initializeOptions.call(this,t)},t.prototype._dispose=function(){this._disposeBehavior();n.prototype._dispose.call(this)},t.prototype._disposeBehavior=function(){this._behavior&&(typeof this._behavior.dispose=="function"&&this._behavior.dispose(),this._behavior=null)},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);this._input=$(k("input")).attr("type","text");this._options.id&&this._input.attr("id",this._options.id+"_txt");typeof this._options.value!="undefined"&&(this._input.val(this._options.value),this._currentText=this.getInputText());this._decorate()},t.prototype._enhance=function(n){this._createElement();this._input=n;n.after(this.getElement());this._decorate();this._currentText=this.getInputText()},t.prototype.initialize=function(){this._ensureBehavior();n.prototype.initialize.call(this)},t.prototype.getBehavior=function(){return this._behavior},t.prototype.getText=function(){return this._behavior.getText()},t.prototype.setText=function(n,t){this._behavior&&this._behavior.setText(n,t)},t.prototype.getDropButton=function(){return this._dropButton},t.prototype.getInput=function(){return this._input},t.prototype.getInputText=function(){return this._input.val()},t.prototype._updateTooltip=function(){!this._input||!this._input[0]||this._behavior&&this._behavior.isDropVisible()?this._tooltip&&this._tooltip.disable():(this._tooltip||(this._tooltip=r.RichContentTooltip.addIfOverflow("",this._input[0])),this._tooltip.enable(),this._tooltip.setTextContent(this._input[0].value))},t.prototype.setInputText=function(n,t){this._input.val()!==n&&this._input.val(n);this._updateTooltip();t?this.fireChangeIfNecessary(n):this._currentText=n;this.updateAriaActiveDescendant();this._updateStyles()},t.prototype.getSelectedIndex=function(){return this._behavior.getSelectedIndex()},t.prototype.setSelectedIndex=function(n,t){this._behavior.setSelectedIndex(n,t)},t.prototype.getValue=function(){return this._behavior.getValue()},t.prototype.fireChangeIfNecessary=function(n){return typeof n=="undefined"&&(n=this.getText()),this._currentText!==n?(this._currentText=n,this._updateTooltip(),this._fireChange()):void 0},t.prototype.toggleDropDown=function(){this._behavior.toggleDropDown();this._input.focus();var n=this.getElement();n&&this._fire("dropDownToggled",{isDropVisible:this.isDropVisible(),target:n})},t.prototype.showDropPopup=function(){this._behavior.showDropPopup();this._input.focus()},t.prototype.hideDropPopup=function(){return this._behavior.hideDropPopup()},t.prototype.isDropVisible=function(){return this._behavior?this._behavior.isDropVisible():!1},t.prototype.isBlockingBlur=function(){return this._blockBlur},t.prototype.blockBlur=function(){this._blockBlur=!0;this.delayExecute("blockBlur",200,!0,function(){this.cancelBlockBlur()})},t.prototype.cancelBlockBlur=function(){this._blockBlur=!1;this.cancelDelayedFunction("blockBlur")},t.prototype._onInputKeyDown=function(n){if(this._options.onKeyDown&&this._options.onKeyDown.call(this,n),this._behavior.keyDown(n)===!1)return!1;switch(n.keyCode){case y.BACKSPACE:if(!this._options.allowEdit)return n.stopPropagation(),n.preventDefault(),!1;break;case y.PAGE_UP:return this._options.enabled?this._behavior.pageUpKey(n):!1;case y.UP:return this._options.enabled?this._behavior.upKey(n):!1;case y.PAGE_DOWN:return this._options.enabled?this._behavior.pageDownKey(n):!1;case y.DOWN:return this._options.enabled?this._behavior.downKey(n):!1;case y.LEFT:return this._options.enabled?this._behavior.leftKey(n):!1;case y.RIGHT:return this._options.enabled?this._behavior.rightKey(n):!1;case y.TAB:this.cancelBlockBlur();break;case y.ENTER:case y.ESCAPE:if(this.fireChangeIfNecessary(),this.hideDropPopup())return!1;break;default:if(!this._behavior.canType())return!1}},t.prototype.setTextSelection=function(n){var t=this._input[0],i;t.setSelectionRange?t.setSelectionRange(n,t.value.length):t.createTextRange&&(i=t.createTextRange(),i.moveStart("character",n),i.select())},t.prototype.setSource=function(n){this._behavior&&this._behavior.setSource(n)},t.prototype.getEnabled=function(){return this._options.enabled===!0},t.prototype.setEnabled=function(n){this._options.enabled=n===!0;this._updateStyles()},t.prototype.getMode=function(){return this._options.mode},t.prototype.setMode=function(n){this._options.mode=n;this._behavior.setMode(n);this._updateStyles()},t.prototype.setType=function(n){this._options.type!==n&&(this.hideDropPopup(),this.getElement().removeClass(this._options.type),this._options.type=n,this._ensureBehavior(),this._updateStyles())},t.prototype.getComboType=function(){return this._options?this._options.type:null},t.prototype.setInvalid=function(n){if(this.getElement().toggleClass(this._options.invalidCss,n),this._input.attr(t.invalidAttribute,n?"true":"false"),this._options.errorMessage&&(this._errorAriaDescription&&this._errorAriaDescription.remove(),n)){var r=String(i.getId());this._errorAriaDescription=$("<div />").attr("id",r).attr("role","alert").hide().text(this._options.errorMessage).appendTo(this._element);this._input.attr("aria-describedby",r)}},t.prototype.isValid=function(){return c.ignoreCaseComparer(this._input.attr(t.invalidAttribute),"true")!==0},t.prototype._ensureBehavior=function(){var n,t;if(this._disposeBehavior(),this._behavior=w.attachBehavior(this,this._options),!this._behavior)throw new Error(c.format("Unsupported combo behavior '{0}'.",this._options.type));this._behavior.initialize();n=this._behavior.getAriaDescription();n?(this._ariaDescription&&this._ariaDescription.remove(),t=String(i.getId()),this._ariaDescription=$("<div />").attr("id",t).hide().text(n).appendTo(this._element),this._input.attr("aria-describedby",t)):this._input.attr("aria-describedby",null);this._input.attr("aria-autocomplete",this._options.mode!="text"?this._behavior.getAriaAutocomplete():null)},t.prototype._decorate=function(){var f=this,u=this,t=this._options,i=this.getElement(),n=this._input,r;i.val=function(){return arguments.length?u.setText(arguments[0],!1):u.getText()};n.attr("autocomplete","off");this._setAriaAttributes();this._bind("mousedown",p(this,this._onMouseDown));this._bind(n,"keydown",p(this,this._onInputKeyDown));this._bind(n,"keypress",p(this,this._onInputKeyPress));this._bind(n,"keyup",p(this,this._onInputKeyUp));this._bind(n,"focus",p(this,this._onInputFocus));this._bind(n,"blur",p(this,this._onInputBlur));this._bind(n,"click",p(this,this._onInputClick));this._bind(n,"focus",function(){f.getEnabled()&&i.addClass("focus")});this._bind(n,"blur",function(){i.removeClass("focus")});t.allowEdit||(n.attr("readonly","readonly"),i.addClass("no-edit"));t.inputCss&&n.addClass(t.inputCss);t.placeholderText&&n.attr("placeholder",t.placeholderText);n.on("change input",function(){return u.fireChangeIfNecessary()});this._input.attr("title","");this._updateTooltip();t.noDropButton&&i.addClass("no-background");r=$(k("div","wrap"));r.append(n);this._options.label&&n.attr("aria-label",this._options.label);this._options.required&&n.prop("required",!0);t.iconCss&&($(k("div","preWrapIcon")).addClass(t.iconCss).appendTo(i),r.addClass("withIcon"));i.append(r);this._dropButton=$(k("div","drop"));this._dropButton.attr({role:"button"});this._bind(this._dropButton,"mouseenter",function(){$(this).addClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"mouseleave",function(){$(this).removeClass(t.dropButtonHoverCss)});this._bind(this._dropButton,"click",p(this,this._onDropButtonClick));i.append(this._dropButton);this._updateStyles()},t.prototype._setAriaAttributes=function(){this._input&&n.prototype._setAriaAttributes.call(this,this._input)},t.prototype._updateStyles=function(){var t=this.getElement(),n=this._input,i,r;t.addClass(this._options.type);this._dropButton.removeClass(c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-chevron-down-light":"bowtie-icon bowtie-calendar");this._dropButton.addClass(c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?"bowtie-icon bowtie-calendar":"bowtie-icon bowtie-chevron-down-light");this._dropButton.attr("aria-label",c.localeIgnoreCaseComparer(this._options.type,"date-time")===0?o.CalendarComboExpandButtonLabel:o.ComboExpandButtonLabel);i=this._options.enabled;i&&this._options.allowEdit?n.prop("readonly",!1):n.attr("readonly","readonly");n.toggleClass(this._options.disabledCss,!i);t.children("div").toggleClass(this._options.disabledCss,!i);i?(t.prop("readonly",!1),n.prop("disabled",!1),this._options.isFocusableWhenDisabled||(n.removeAttr("tabindex"),n.removeAttr("aria-disabled"))):(this._currentText===""?(n.prop("readonly",!1),n.attr("disabled","disabled")):(n.prop("disabled",!1),n.attr("readonly","readonly")),t.attr("readonly","readonly"),this._options.isFocusableWhenDisabled||n.attr({tabindex:-1,"aria-disabled":!0}));r=i&&this._options.mode==="drop";t.toggleClass("drop",r&&!this._options.noDropButton);t.toggleClass("text",!r);this._options.mode==="text"?this._input.attr({"aria-autocomplete":null,"aria-expanded":null,role:null}):(this._input.attr({"aria-expanded":"false"}),this._input.attr("role")!=="combobox"&&this._input.attr({role:"combobox"}),this._behavior&&this._input.attr("aria-autocomplete",this._behavior.getAriaAutocomplete()))},t.prototype._onDropButtonClick=function(){return this.toggleDropDown(),!1},t.prototype._onInputClick=function(){return!this._options.allowEdit&&this._options.enabled&&this.toggleDropDown(),!1},t.prototype._onInputFocus=function(){if(!this._onInputFocusInProgress)try{this._onInputFocusInProgress=!0;this._blockBlur||this._options.disableTextSelectOnFocus||this._input.select();typeof this._options.focus=="function"&&this._options.focus.apply(this,arguments)}finally{this._onInputFocusInProgress=!1}},t.prototype._onInputBlur=function(){var n=this;this._disposed||(this.fireChangeIfNecessary(),this._blockBlur?setTimeout(function(){n._input.focus()},10):this.hideDropPopup(),typeof this._options.blur=="function"&&this._options.blur.apply(this,arguments))},t.prototype._onMouseDown=function(){this.blockBlur()},t.prototype._onInputKeyPress=function(n){return this._behavior.keyPress(n)},t.prototype._onInputKeyUp=function(n){var i=this._behavior.keyUp(n),t;return this.fireChangeIfNecessary(),t=this._behavior&&this._behavior.getDropPopup(),t&&t.setPosition(),i},t.prototype.updateAriaAttributes=function(n){if(n===void 0&&(n=this.isDropVisible()),n){var t=this._behavior.getDropPopup();this._input.attr({"aria-expanded":"true","aria-owns":t?t.getId():null});this.updateAriaActiveDescendant()}else this._input.attr({"aria-expanded":"false","aria-owns":null,"aria-activedescendant":null})},t.prototype.updateAriaActiveDescendant=function(){var n=this._behavior.getDropPopup(),t=n&&n.getSelectedItem();this._input.attr("aria-activedescendant",t?t.attr("id"):null)},t.invalidAttribute="aria-invalid",t.enhancementTypeName="tfs.combo",t}(i.Control);t.ComboO=et;w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(et);t.Combo=w;i.Enhancement.registerJQueryWidget(w,"comboList",{type:"list"});i.Enhancement.registerJQueryWidget(w,"comboTree",{type:"tree"});tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({itemCss:""},t))},t.prototype.initialize=function(){this._dataSource=this._options.dataSource;this._initializeVirtualization();n.prototype.initialize.call(this)},t.prototype._initializeVirtualization=function(){var r=this,n=$.extend(ut(this._options,["coreCssClass"]),{maxRowCount:this._options.dropCount,itemsUpdated:function(){r.combo.updateAriaAttributes()}}),t=this._options.combo._enhancementOptions.ariaAttributes;t&&t.label&&(n.ariaAttributes||(n.ariaAttributes={}),n.ariaAttributes.label=t.label);this.virtualizingListView=i.Enhancement.enhance(v.VirtualizingListView,this.getElement(),n)},t.prototype.selectPrev=function(n){return this.virtualizingListView.selectPrev(n)},t.prototype.selectNext=function(n){return this.virtualizingListView.selectNext(n)},t.prototype.getSelectedIndex=function(){return this.virtualizingListView.getSelectedIndex()},t.prototype.getSelectedValue=function(){return this._dataSource.getItemText(this.virtualizingListView.getSelectedIndex())},t.prototype.setSelectedValue=function(n){var t=n?this._dataSource.getItemIndex(n):-1;this.virtualizingListView.setSelectedIndex(t)},t.prototype.getSelectedItem=function(){return this.virtualizingListView.getSelectedItem()},t.prototype.getDataSource=function(){return this._dataSource},t.prototype.update=function(){this.virtualizingListView.update()},t}(g);t.ComboListDropPopup=tt;it=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:tt},i))||this}return __extends(t,n),t.prototype.initialize=function(){this._dataSource=this._createDataSource();n.prototype.initialize.call(this)},t.prototype.setSource=function(t){n.prototype.setSource.call(this,t);this._maxItemLength=null},t.prototype.getDropOptions=function(){return $.extend(n.prototype.getDropOptions.call(this),{selectedIndex:this._dataSource.getItemIndex(this.combo.getText()),selectionChange:p(this,this._dropSelectionChanged)})},t.prototype.getValue=function(){return this.getText()},t.prototype.getMaxItemLength=function(){var n;if(this._maxItemLength===null){var r=this._dataSource.getCount(!0),i=void 0,t=0;for(n=0;n<r;n++)i=this.getItemText(n,!0),t=Math.max(i.length,t);this._maxItemLength=t}return this._maxItemLength},t.prototype.getDropWidth=function(){var i=n.prototype.getDropWidth.call(this),t;return this._options.fixDropWidth?i:(t=this.getMaxItemLength()*rt.getUnitEx(),t*=1.2,this._options.maxAutoExpandDropWidth!=null&&t>i?Math.min(Math.max(this._options.maxAutoExpandDropWidth,i),t):Math.max(i,t))},t.prototype.getSelectedIndex=function(n,t){return this._dataSource.getItemIndex(n||this.getText(),!1,t)},t.prototype.setSelectedIndex=function(n,t){this._setSelectedIndex(n,t)},t.prototype.setText=function(t,i){var r=t!==this.getText(),u=this.getDropPopup();n.prototype.setText.call(this,t,i);i&&r&&this._options.indexChanged&&this._options.indexChanged.call(this,this.getSelectedIndex(t,!0));u&&r&&u.update()},t.prototype.upKey=function(t){if(this._options.mode!=="text")return n.prototype.upKey.call(this,t)===!1?!1:this.selectPrev()},t.prototype.downKey=function(t){if(this._options.mode!=="text")return n.prototype.downKey.call(this,t)===!1?!1:this.selectNext()},t.prototype.pageUpKey=function(t){if(this._options.mode!=="text")return n.prototype.pageUpKey.call(this,t)===!1?!1:this.selectPrev(!0)},t.prototype.pageDownKey=function(t){if(this._options.mode!=="text")return n.prototype.pageDownKey.call(this,t)===!1?!1:this.selectNext(!0)},t.prototype.keyDown=function(n){if(this._options.mode!=="text")if(n.keyCode===229)this._enableAutoFill=!1;else if(n.ctrlKey&&(n.keyCode===89||n.keyCode===90))return!1},t.prototype.keyPress=function(n){if(this._options.mode!=="text")return n.metaKey||(this._enableAutoFill=typeof this._options.autoComplete=="undefined"?!0:this._options.autoComplete),!0},t.prototype.keyUp=function(n){var t;if(this._options.mode!=="text")return t=n.keyCode||n.charCode,this._options.enableFilter===!0&&(t>=47||t===y.SPACE||t===y.BACKSPACE||t===y.DELETE)&&this._applyFilter(),this._enableAutoFill&&((t>=47||t===y.SPACE)&&this._tryAutoFill(),this._enableAutoFill=!1),this._options.keyUp&&this._options.keyUp.call(this),!0},t.prototype.selectPrev=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectPrev(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),-1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype.selectNext=function(n){var i=this.getDropPopup(),t;if(i){if(i.selectNext(n))return!1}else if(!n&&(t=this._dataSource.nextIndex(this.getSelectedIndex(null,!0),1,!0),t>=0))return this._setSelectedIndex(t,!0),!1},t.prototype._createDataSource=function(){return new ft(this._options)},t.prototype._dropSelectionChanged=function(n,t){this.setText(this.getItemText(n,!1),!0);t&&this.hideDropPopup()},t.prototype._setSelectedIndex=function(n,t){this.setText(this.getItemText(n,!0),t)},t.prototype._tryAutoFill=function(){var n,t,i,r;f.logTracePoint("Combo._tryAutoFill.start");t=this.combo.getText();i=this._dataSource.getItemIndex(t,!0,!0);i>=0&&(n=this.getItemText(i,!0));n&&(this.combo.setText(n,!0),this.combo.setTextSelection(t.length));r=this.getDropPopup();r&&r.setSelectedValue(n);f.logTracePoint("Combo._tryAutoFill.complete")},t.prototype._applyFilter=function(){f.logTracePoint("Combo._applyFilter.start");this._filterData(this.combo.getText());var n=this.getDropPopup();n&&n.update();f.logTracePoint("Combo._applyFilter.complete")},t.prototype._filterData=function(n){var r=this,t,i;n?(t=this._dataSource.getItemIndexes(n,!0,!0),i=t.map(function(n){return r._dataSource.getItem(n,!0)}),this._dataSource.setItems(i,this._dataSource.getItems(!0))):this._dataSource.setItems(this._dataSource.getItems(!0))},t}(d);t.ComboListBehavior=it;w.registerBehavior("list",it);vt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({message:"Input value is not allowed!"},t))},t.prototype.isValid=function(){var t=this.getValue().trim(),n;return t&&(n=i.Enhancement.getInstance(w,this.getElement()),n)?n.getSelectedIndex()>=0:!0},t}(a.BaseValidator);t.ComboControlValidator=vt;b=function(){function n(n){this._setDate(n||new Date)}return n.toGregorian=function(n,t,i){var r=u.getDateTimeFormat().Calendar.convert;return r?r.toGregorian(n,t,i):new Date(n,t,i)},n.fromGregorian=function(n){var t=u.getDateTimeFormat().Calendar.convert;if(t)return t.fromGregorian(n)},n.prototype.getBaseDate=function(){return this._baseDate},n.prototype.setTime=function(n){n=n instanceof Date?n:new Date(n);this._setDate(n)},n.prototype.getTime=function(){return this.getBaseDate().getTime()},n.prototype.getDay=function(){return this.getBaseDate().getDay()},n.prototype.getFullYear=function(n){return n===!0&&this._convertedDate?this._convertedDate[0]:this.getBaseDate().getFullYear()},n.prototype.getMonth=function(n){return n===!0&&this._convertedDate?this._convertedDate[1]:this.getBaseDate().getMonth()},n.prototype.getDate=function(n){return n===!0&&this._convertedDate?this._convertedDate[2]:this.getBaseDate().getDate()},n.prototype.jumpToMonthStart=function(){var i=this.getFullYear(),r=this.getMonth(),u=this.getDate(),t=new n(new Date(i,r,u,12));return this.setTime(t.getTime()-n.DAY_IN_MILLISECONDS*(t.getDate(!0)-1)),this},n.prototype.jumpToWeekStart=function(){var t=u.getDateTimeFormat().FirstDayOfWeek,i=(n.DAYS_IN_A_WEEK-t+this.getDay())%n.DAYS_IN_A_WEEK;return this.setTime(this.getTime()-i*n.DAY_IN_MILLISECONDS),this},n.prototype.nextDay=function(){return this.setTime(this.getTime()+n.DAY_IN_MILLISECONDS),this},n.prototype.prevMonth=function(){return this._increment(0,-1),this},n.prototype.nextMonth=function(){return this._increment(0,1),this},n.prototype.prevYear=function(){return this._increment(-1,0),this},n.prototype.nextYear=function(){return this._increment(1,0),this},n.prototype.equals=function(n){return this.getFullYear()===n.getFullYear()&&this.getMonth()===n.getMonth()&&this.getDate()===n.getDate()},n.prototype._setDate=function(t){this._baseDate=t;this._convertedDate=n.fromGregorian(t)},n.prototype._increment=function(t,i){var r=this.getMonth(!0),u=this.getFullYear(!0);i>0?++r>11&&(r=0,u++):i<0&&--r<0&&(r=11,u--);u+=t;this.setTime(n.toGregorian(u,r,1))},n.DAY_IN_MILLISECONDS=864e5,n.DAYS_IN_A_WEEK=7,n}();ot=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"date-panel",canTakeFocus:!1},t))},t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._date=this._selectedDate||h.getNowInUserTimeZone();this._bind("click",p(this,this._onClick));this._bind("keydown",p(this,this._onKeyDown));this._draw(this._date,"prev-month");n.prototype.initialize.call(this)},t.prototype.prevMonth=function(){var n=new b(this._date);this._date=n.prevMonth().getBaseDate();this._draw(this._date,"prev-month")},t.prototype.nextMonth=function(){var n=new b(this._date);this._date=n.nextMonth().getBaseDate();this._draw(this._date,"next-month")},t.prototype.prevYear=function(){var n=new b(this._date);this._date=n.prevYear().getBaseDate();this._draw(this._date,"prev-year")},t.prototype.nextYear=function(){var n=new b(this._date);this._date=n.nextYear().getBaseDate();this._draw(this._date,"next-year")},t.prototype.selectDate=function(n){this.setSelectedDate(n);this._options.onSelectDate&&this._options.onSelectDate()},t.prototype.setSelectedDate=function(n){this._selectedDate=this._date=n;this._draw(this._selectedDate);this._fireChange()},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.getSelectedItem=function(){return this._$selectedItem},t.prototype._draw=function(n,t){var f=this.getElement(),e=this._options.todayFormat||"d",u=$("<div />"),i=$("<div />").addClass("quick-nav flex-row"),r;$("<a />").addClass("prev-month").attr("href","#").attr("tabindex",-1).append($("<span/>").addClass("icon icon-drop-left")).appendTo($("<div/>").addClass("prev-month").appendTo(i));r=$("<div/>").addClass("month-year").appendTo(i);r.text(h.localeFormat(n,"y",!0));$("<a />").addClass("next-month").attr("href","#").attr("tabindex",-1).append($("<span/>").addClass("icon icon-drop-right")).appendTo($("<div/>").addClass("next-month").appendTo(i));u.append(i);i=$("<div/>");r=$("<div />").addClass("days");r.append(this._drawCalendarTable(n));i.append(r);u.append(i);i=$("<div />");r=$("<div />").addClass("legend");$("<span/>").addClass("today").appendTo(r);$("<a />").addClass("today").attr("href","#").attr("tabindex",-1).append(c.format(o.TodayTitle,h.localeFormat(new Date,e))).appendTo(r);i.append(r);u.append(i);i=$("<div />");r=$("<div />").addClass("note").text(c.format(o.DatePanel_ControlsHelpLabel,"pageup","pagedown","t")).appendTo(i);u.append(i);f.empty().append(u);t&&this._options.canTakeFocus&&$("."+t).focus()},t.prototype._drawCalendarTable=function(n){var a=h.getTodayInUserTimeZone(),o=u.getDateTimeFormat(),r=new b(n),v=r.getMonth(!0),s,e,c,f,l,t;for(r.jumpToMonthStart(),r.jumpToWeekStart(),s=$("<table />").attr("cellSpacing",0).attr("border",0),e=$("<tr />").addClass("day-names"),f=0;f<7;f++)t=$("<th />"),c=(o.FirstDayOfWeek+f)%b.DAYS_IN_A_WEEK,t.text(o.ShortestDayNames[c]),t.attr("aria-label",o.DayNames[c]),e.append(t);for(s.append(e),f=0;f<6;f++){for(e=$("<tr />").addClass("days"),l=0;l<b.DAYS_IN_A_WEEK;l++)t=$("<td />").addClass("date-cell").attr({id:i.getId(),"aria-label":h.localeFormat(r.getBaseDate(),o.LongDatePattern,!0)}),$("<span />").addClass("date").attr("href","#").attr("tabindex",-1).data("date",r.getTime()).text(r.getDate(!0)).appendTo(t),r.getMonth(!0)!==v&&t.addClass("other-month"),r.equals(a)&&t.addClass("today"),this._selectedDate instanceof Date?r.equals(this._selectedDate)&&(t.addClass("selected"),this._options.canTakeFocus&&t.focus(),this._$selectedItem=t):r.equals(n)&&(this._options.canTakeFocus&&t.focus(),t.addClass("selected")),e.append(t),r.nextDay();s.append(e)}return s},t.prototype._onKeyDown=function(n){return n.keyCode===y.ENTER||n.keyCode===y.SPACE?this._onClick(n):n.keyCode===y.LEFT||n.keyCode===y.RIGHT||n.keyCode===y.UP||n.keyCode===y.DOWN?!1:void 0},t.prototype._onClick=function(n){var r=$(n.target),t=r.closest("a"),i,u;return t.length?(t.hasClass("prev-month")?this.prevMonth():t.hasClass("next-month")?this.nextMonth():t.hasClass("prev-year")?this.prevYear():t.hasClass("next-year")?this.nextYear():t.hasClass("today")&&this.selectDate(h.getNowInUserTimeZone()),!1):(i=r.closest("span"),i.length)?(i.hasClass("date")&&this.selectDate(new Date(i.data("date"))),!1):(u=r.closest(".date-cell"),u.length)?(this.selectDate(new Date(u.find("span").data("date"))),!1):void 0},t}(i.BaseControl);t.DatePanel=ot;st=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initialize=function(){this._selectedDate=this._options.selectedDate;this._datePanel=i.BaseControl.createIn(ot,this.getElement(),$.extend(ut(this._options,["coreCssClass"]),{change:p(this,this._onChange)}));n.prototype.initialize.call(this)},t.prototype.getSelectedDate=function(){return this._selectedDate},t.prototype.getSelectedItem=function(){return this._datePanel.getSelectedItem()},t.prototype.setSelectedDate=function(n){this._selectedDate=n;this._datePanel&&this._datePanel.setSelectedDate(n)},t.prototype._onChange=function(){return this._selectedDate=this._datePanel.getSelectedDate(),this._fireChange(),!1},t}(g);t.ComboDateDropPopup=st;ht=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:st,dateTimeFormat:u.getDateTimeFormat().ShortDatePattern},i))||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._timeValue=this._options.defaultTimeOfDay||0},t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getAriaAutocomplete=function(){return"none"},t.prototype.getAriaDescription=function(){return c.format(o.ComboDateScreenReaderHelp,"page up","Page down","t")},t.prototype.getValue=function(){return this.getSelectedDate()},t.prototype.getDropOptions=function(){var i=this,t=this.getSelectedDate();return!t&&this._options.getInitialDate&&(t=this._options.getInitialDate(this.combo)),$.extend(n.prototype.getDropOptions.call(this),{dropElementAlign:"right-top",dropBaseAlign:"right-bottom",selectedDate:t,onSelectDate:function(){i.hideDropPopup()},change:p(this,this._onChange)})},t.prototype.getDropWidth=function(){return undefined},t.prototype.getSelectedDate=function(){var i=this.combo.getText().trim(),n=null,t;return i&&(n=h.parseDateString(i,this._options.parseFormat,!0),n&&(t=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this._options.defaultTimeOfDay&&n.getTime()===t.getTime()?(n=new Date(n.getTime()+this._options.defaultTimeOfDay),this.setText(h.localeFormat(n,this._options.dateTimeFormat,!0),!1)):this._timeValue=n-t)),n},t.prototype.setSelectedDate=function(n,t){t===void 0&&(t=!0);n=new Date(n.getFullYear(),n.getMonth(),n.getDate());n=new Date(n.getTime()+(this._timeValue||0));this.setText(h.localeFormat(n,this._options.dateTimeFormat,!0),t)},t.prototype.upKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-7)),!1},t.prototype.keyDown=function(n){var t;if(n&&n.keyCode===y.ENTER)if(t=this.getDropPopup(),t)t.setSelectedDate(this._getSelectedDate());else return this.combo.toggleDropDown(),!1;else n&&n.keyCode===y.T&&(t=this.getDropPopup(),t&&t.setSelectedDate(h.getTodayInUserTimeZone()))},t.prototype.downKey=function(t){if(n.prototype.downKey.call(this,t)===!1)return!1;var i=this.getDropPopup();if(i)return i.setSelectedDate(this._addDays(this._getSelectedDate(),7)),!1;this.combo.toggleDropDown()},t.prototype.pageUpKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,-1*this._getMonthLength(n.getMonth()-1,n.getFullYear()))),!1},t.prototype.pageDownKey=function(){var t=this.getDropPopup(),n;if(t)return n=this._getSelectedDate(),t.setSelectedDate(this._addDays(n,this._getMonthLength(n.getMonth(),n.getFullYear()))),!1},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),-1)),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.setSelectedDate(this._addDays(this._getSelectedDate(),1)),!1},t.prototype._onChange=function(){var t=this.getDropPopup(),n=t.getSelectedDate();return n&&this.setSelectedDate(n),!1},t.prototype._getSelectedDate=function(){var n=this.getDropPopup();return n.getSelectedDate()||new Date},t.prototype._addDays=function(n,t){var i=new Date;return i.setTime(n.getTime()+t*864e5),i},t.prototype._getMonthLength=function(n,t){n=(n+12)%12+1;switch(n){case 4:case 6:case 9:case 11:return 30;case 2:if(t%4==0){var i=new Date(t,1,29);if(i.getMonth()===1)return 29}return 28;default:return 31}},t}(d);t.ComboDateBehavior=ht;w.registerBehavior("date-time",ht);i.Enhancement.registerJQueryWidget(w,"comboDateTime",{type:"date-time"});ct=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({type:"date-time"},t))},t}(w);t.DatePicker=ct;i.Enhancement.registerJQueryWidget(ct,"datePicker");lt=function(n){function t(t){var r=__construct(this,n,[t]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._checkStates={},r._options.id||(r._options.id="cmvdp_"+i.getId()),r}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"multi-value",createItem:p(this,this._createItem),itemClick:p(this,this._onItemClick)},t))},t.prototype.initialize=function(){var t=this.combo.getText().split(this._options.sepChar),i=this;$.each(t,function(n,t){t=t.trim();t&&(i._checkStates[t]=!0)});n.prototype.initialize.call(this)},t.prototype.getCheckedItems=function(){var n=this;return $.map(this._dataSource.getItems(),function(t){if(n._checkStates[t])return t})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.joinChar||this._options.sepChar+" ")},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this._dataSource.getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype._createItem=function(n){var t=this._dataSource.getItemText(n),r=this._options.id+"_cb"+n,i=$(k("li",this._options.nodeCss)).attr("id",this._options.id+"_li"+n),u=$("<input />").data("value",t).attr("type","checkbox").attr("id",r).data("index",n).appendTo(i);return this._checkStates[t]&&u.prop("checked",!0),i.append($(k("label")).attr("for",r).text(t||"")),i},t.prototype._onItemClick=function(n,t,i,r){var f,u,e=this._dataSource.getItemText(t);f=Boolean(this._checkStates[e]);u=Boolean(r.find("input").prop("checked"));this._checkStates[e]=u;f!==u&&this._fireChange()},t}(tt);t.ComboMultiValueDropPopup=lt;at=function(n){function t(i,r){return n.call(this,i,$.extend({dropControlType:lt,sepChar:t.Default_Seperate_Char,joinChar:t.Default_Join_Char},r))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getValue=function(){var n=this.getDropPopup();return n.getCheckedItems()},t.prototype.getDropOptions=function(){var t=this;return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,selectedIndex:-1,selectionChange:function(){t.combo.updateAriaActiveDescendant()},change:p(this,this._onChange)})},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===y.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t.Default_Seperate_Char=",",t.Default_Join_Char=", ",t}(it);t.ComboMultiValueBehavior=at;w.registerBehavior("multi-value",at)});

define("Charts/ColorUtilities",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.ColorUtilities=void 0;var i=function(){function n(){}return n.selectForegroundColor=function(n){var r=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),i;return t!=null?(i=t.splice(1,t.length-1).map(function(n){return parseInt(n,16)}),this.getAccessibleContrastColor(i)):"#000000"},n.getAccessibleContrastColor=function(t){var i=(n.getRelativeLuminance([255,255,255])+.05)/(n.getRelativeLuminance(t)+.05);return i>4.5?"#FFFFFF":"#000000"},n.getRelativeLuminance=function(n){var t=n.map(function(n){return n=n/255,n<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)});return.2126*t[0]+.7152*t[1]+.0722*t[2]},n}();t.ColorUtilities=i});

define("Presentation/Scripts/TFS/TFS.UI.Controls.Grid.Utils",["require","exports","VSS/Utils/UI"],function(n,t,i){function r(n,t,r,u){var e=u-1,f=null,o;switch(n.keyCode){case i.KeyCode.UP:f=Math.max(t-r,t%r);break;case i.KeyCode.DOWN:o=t+r;f=o<=e?o:t;break;case i.KeyCode.LEFT:f=Math.max(t-1,0);break;case i.KeyCode.RIGHT:f=Math.min(t+1,e);break;case i.KeyCode.HOME:f=0;break;case i.KeyCode.END:f=e}return f}Object.defineProperty(t,"__esModule",{value:!0});t.interpretGridKeyPress=void 0;t.interpretGridKeyPress=r});

define("Presentation/Scripts/TFS/TFS.UI.Controls.ColorPicker",["require","exports","VSS/Controls","VSS/Utils/String","VSS/Utils/UI","VSS/Context","Charts/ColorUtilities","VSS/Controls/PopupContent","Presentation/Scripts/TFS/TFS.UI.Controls.Grid.Utils","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation"],function(n,t,i,r,u,f,e,o,s,h){var l,v,c,p,w,b,k,a,y;Object.defineProperty(t,"__esModule",{value:!0});t.ColorComboView=t.ColorPaletteView=t.DefinedPaletteColorPickerControl=t.PaletteColorPickerControl=t.ColorPickerControl=t.PaletteTemplate=t.AccessibilityColor=t.Color=t.Rgb=void 0;l=function(){function n(t,i,u){if(t<0||t>255)throw Error(r.format("Red value must be between {0} and {1} inclusively.",n.MinValue,n.MaxValue));if(i<0||i>255)throw Error(r.format("Green value must be between {0} and {1} inclusively.",n.MinValue,n.MaxValue));if(u<0||u>255)throw Error(r.format("Blue value must be between {0} and {1} inclusively.",n.MinValue,n.MaxValue));this.red=t;this.green=i;this.blue=u}return n.prototype.getRed=function(){return this.red},n.prototype.getGreen=function(){return this.green},n.prototype.getBlue=function(){return this.blue},n.MinValue=0,n.MaxValue=255,n}();t.Rgb=l;v=function(){function n(n){if(n==null)throw new Error("color must be defined");if(typeof n=="string")this._convertStringColorToRgb(n);else if(n instanceof l)this.value=n;else throw new Error("color not in a known type");}return n.prototype.asHex=function(){return"#"+(16777216+(this.value.getRed()<<16)+(this.value.getGreen()<<8)+this.value.getBlue()).toString(16).slice(1)},n.prototype.asRgb=function(){return r.format("rgb({0},{1},{2})",this.value.getRed(),this.value.getGreen(),this.value.getBlue())},n.prototype._convertStringColorToRgb=function(n){var t;if(n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,t,i,r){return t+t+i+i+r+r}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),t!=null)this.value=new l(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16));else throw new Error("Color in string only support Hex format");},n.prototype.equals=function(n){return n!=null&&this.asHex()===n.asHex()},n.prototype.getRed=function(){return this.value.getRed()},n.prototype.getGreen=function(){return this.value.getGreen()},n.prototype.getBlue=function(){return this.value.getBlue()},n.prototype.convertToGrayscale=function(){var i=this.getRed()+this.getGreen()+this.getBlue(),t=Math.floor(i/3),r=new l(t,t,t);return new n(r)},n.prototype.invert=function(){return new n(new l(l.MaxValue-this.getRed(),l.MaxValue-this.getGreen(),l.MaxValue-this.getBlue()))},n.prototype.toBlackOrWhite=function(){var t=new n(e.ColorUtilities.getAccessibleContrastColor([this.getRed(),this.getGreen(),this.getBlue()]));return t.invert()},n.prototype.isLightColor=function(){return this.getRed()>248&&this.getBlue()>248&&this.getGreen()>248},n}();t.Color=v;c=function(n){function t(t,i){var r=this,f,u;f=t instanceof v?t.asHex():t;r=__construct(this,n,[f]);for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.displayName=i,r}return __extends(t,n),t.prototype.getDisplayName=function(){return this.displayName==null?n.prototype.asHex.call(this):this.displayName},t}(v);t.AccessibilityColor=c,function(n){n[n.Full=0]="Full";n[n.Muted=1]="Muted";n[n.Vibrant=2]="Vibrant"}(p=t.PaletteTemplate||(t.PaletteTemplate={}));w=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);if(t==null)throw new Error("ColorPickerControlOptions is required");return i}return __extends(t,n),t.prototype.getColor=function(){return this.selectedColor},t.prototype.setColor=function(n){this.selectedColor=n instanceof v?n:new c(n)},t}(i.Control);t.ColorPickerControl=w;b=function(n){function t(i){var u=this,o,f,e,s;if(i==null)throw new Error("PaletteColorPickerControlOptions is required");u=__construct(this,n,[i]);for(o in u)u.hasOwnProperty(o)&&(this[o]=u[o]);if(u._isEnabled=!i.isDisabled,i.palette==null||i.palette.length<=0)throw new Error("Palette must be defined with at least one entry");for(f=0;f<i.palette.length;f++)e=i.palette[f],e instanceof c||(typeof e=="string"?i.palette[f]=new c(e):e instanceof v&&(i.palette[f]=new c(e)));if(i.defaultColor!=null&&(i.allowNonPaletteDefaultColor||t.isColorPresentInPalette(i.defaultColor,i.palette))||(i.defaultColor=i.palette[0]),!u.isInColumnRange(i.maximumColumns))throw new Error(r.format("PaletteColorPicker support {0} to {1} columns inclusively",t.MinimumNumberColumn,t.MaximumNumberColumn));return s=function(n){return function(){u._comboView!=null&&u._comboView.getElement().attr("aria-expanded",n?"true":"false")}},i.onClose=u.wrapColorEventCallback(i.onClose,s(!1)),i.onOpen=u.wrapColorEventCallback(i.onOpen,s(!0)),u.options=i,u}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.CssColorPickerPaletteControl},i))},t.prototype.initialize=function(){var t=this,r;n.prototype.initialize.call(this);this.options.triggerElement?(this.options.triggerElement.click(function(){return t.togglePalette()}),this.options.triggerElement.keydown(function(n){t.handleKeyOnTriggerElement(n)})):(r={clicked:function(){t.togglePalette()},keyDown:function(n){t.handleKeyOnTriggerElement(n)},comboWidth:this.options.comboWidth,comboHeight:this.options.comboHeight,ariaLabelPrefix:this.options.ariaLabelPrefix,isDisabled:!this.isEnabled()},this._comboView=i.Control.create(y,this.getElement(),r));this._createPaletteView(this.getElement());this.setColor(this.options.defaultColor);this._comboView&&this._paletteView&&this._comboView.getElement().attr("aria-owns",this._paletteView.getId());$("html").click(function(n){t.onClickOutsideColorPicker(n)})},t.prototype._createPaletteView=function(n){this._paletteView=i.Control.create(a,n,{paletteControl:this,paletteControlOptions:this.options,tooltipContainer:this.options.tooltipContainer})},t.prototype.setFocus=function(){this.options.triggerElement?this.options.triggerElement.focus():this._comboView.focus()},t.prototype.enableElement=function(t){n.prototype.enableElement.call(this,t);t==!1&&this._paletteView.hide();this._isEnabled=t},t.prototype.isEnabled=function(){return this._isEnabled},t.prototype.handleKeyOnTriggerElement=function(n){var f,t,i,r;if(n.keyCode===u.KeyCode.ENTER||n.keyCode===u.KeyCode.SPACE)this.togglePalette(),n.stopPropagation(),n.preventDefault();else if(n.altKey)n.keyCode===u.KeyCode.UP?this._paletteView.hide():n.altKey&&n.keyCode===u.KeyCode.DOWN&&this._paletteView.show();else if(f=this.getColor(),t=this.options.palette.indexOf(f),t=t>=0?t:0,i=s.interpretGridKeyPress(n,t,this.options.maximumColumns,this.options.palette.length),i!==null&&i!=t){r=this.options.palette[i];this.setColor(r);this.options.onColorSelected(this,r)}},t.prototype.wrapColorEventCallback=function(n,t){return function(i){t(i);n!=null&&n(i)}},t.prototype.onClickOutsideColorPicker=function(n){var i,u,r,f;this._paletteView.isVisible()&&(i=$(n.target),u=this.options.triggerElement&&i.closest(this.options.triggerElement).length>0,u||(i.hasClass(y.CssNameCombo)||i.hasClass(a.CssNamePalette)||i.closest("."+y.CssNameCombo).length!==0||i.closest("."+a.CssNamePalette).length!==0||this._paletteView.toggle(),r=i.closest("."+t.CssColorPickerPaletteControl),r.length!==0&&(f=$(r.get(0)).parent().attr("id"),$("."+a.CssNamePalette).each(function(n,i){var r=$(i),u=r.closest("."+t.CssColorPickerPaletteControl),e=$(u.get(0)).parent().attr("id");f!==e&&r.parent().hide()}))))},t.isColorPresentInPalette=function(n,t){if(n==null||t==null)return!1;var i=!1;return t.forEach(function(t){n.equals(t)&&(i=!0)}),i},t.prototype.isInColumnRange=function(n){return n>=t.MinimumNumberColumn&&n<=t.MaximumNumberColumn},t.prototype.togglePalette=function(){var i,n,t;this.isEnabled()&&(i=this.options.triggerElement?this.options.triggerElement:this._comboView.getElement(),n=$(this.getElement().find("."+a.CssNamePalette).get(0)),this._paletteView.toggle(),n.css("visibility","hidden"),t=this.getOffset(n,i),n.css("left",t.left),n.css("top",t.top),n.css("visibility","visible"),n.focus())},t.prototype.setColor=function(i){if(i==null)throw new Error("Color must be defined");i instanceof c&&this.options.palette.forEach(function(n){n.equals(i)&&(i=n)});n.prototype.setColor.call(this,i);this.options.triggerElement||this._comboView.setColor(i);t.isColorPresentInPalette(i,this.options.palette)&&this._paletteView.selectSingleColor(i)},t.prototype.getOffset=function(n,t){var o=0,r=n.outerWidth(),u=n.outerHeight(),s=t.outerHeight(),f=n[0].ownerDocument,h=f.documentElement,e=h.clientWidth+$(f).scrollLeft(),c=h.clientHeight+$(f).scrollTop(),i=t.offset();return i.top+=s,i.left-=Math.min(i.left,i.left+r>e&&e>r?Math.abs(i.left+r-e):0),i.top-=Math.min(i.top,i.top+u>c&&c>u?Math.abs(u+s-o):o),i},t.CssColorPickerPaletteControl="color-picker-control",t.MinimumNumberColumn=1,t.MaximumNumberColumn=12,t}(w);t.PaletteColorPickerControl=b;k=function(n){function t(i){var r=this,f,u;if(i==null)throw new Error("DefinedPaletteColorPickerControlOptions is required");f=t.getPaletteColorPickerControlOptions(i);f.onColorSelected=function(n,t){r.setColor(t);i.onColorSelected(n,t)};r=__construct(this,n,[f]);for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._options=i,r}return __extends(t,n),t.getPaletteColorPickerControlOptions=function(n){var i,r;return n.template===p.Full?(i=t.FullPaletteColors,r=11):n.template===p.Muted?(i=t.MutePaletteColors,r=11):n.template===p.Vibrant&&(i=t.VibrantPaletteColors,r=12),{maximumColumns:r,palette:i,onColorSelected:n.onColorSelected,onColorHover:n.onColorHover,defaultColor:n.defaultColor,allowNonPaletteDefaultColor:n.allowNonPaletteDefaultColor,onOpen:n.onOpen,onClose:n.onClose,comboWidth:n.comboWidth,comboHeight:n.comboHeight,triggerElement:n.triggerElement,tooltipContainer:n.tooltipContainer,ariaLabelPrefix:n.ariaLabelPrefix,isDisabled:n.disabled}},t.FullPaletteColors=[new c("#222222",h.Black),new c("#292E6B",h.Blue),new c("#009CCC",h.Turquoise),new c("#00643A",h.Teal),new c("#339947",h.Green),new c("#FBBC3D",h.Yellow),new c("#DB552C",h.Orange),new c("#7F1725",h.Red),new c("#EC008C",h.Pink),new c("#5C197B",h.Purple),new c("#51399F",h.Indigo),new c("#444444",r.format(h.TenPercentLighterColor,h.Black.toLowerCase())),new c("#1B478B",r.format(h.TenPercentLighterColor,h.Blue.toLowerCase())),new c("#43B4D5",r.format(h.TenPercentLighterColor,h.Turquoise.toLowerCase())),new c("#207752",r.format(h.TenPercentLighterColor,h.Teal.toLowerCase())),new c("#60AF49",r.format(h.TenPercentLighterColor,h.Green.toLowerCase())),new c("#FBD144",r.format(h.TenPercentLighterColor,h.Yellow.toLowerCase())),new c("#E87025",r.format(h.TenPercentLighterColor,h.Orange.toLowerCase())),new c("#B20B1E",r.format(h.TenPercentLighterColor,h.Red.toLowerCase())),new c("#EF33A3",r.format(h.TenPercentLighterColor,h.Pink.toLowerCase())),new c("#71338D",r.format(h.TenPercentLighterColor,h.Purple.toLowerCase())),new c("#6951AA",r.format(h.TenPercentLighterColor,h.Indigo.toLowerCase())),new c("#666666",r.format(h.TwentyPercentLighterColor,h.Black.toLowerCase())),new c("#0D60AB",r.format(h.TwentyPercentLighterColor,h.Blue.toLowerCase())),new c("#86CDDE",r.format(h.TwentyPercentLighterColor,h.Turquoise.toLowerCase())),new c("#56987D",r.format(h.TwentyPercentLighterColor,h.Teal.toLowerCase())),new c("#8DC54B",r.format(h.TwentyPercentLighterColor,h.Green.toLowerCase())),new c("#FBE74B",r.format(h.TwentyPercentLighterColor,h.Yellow.toLowerCase())),new c("#F58B1F",r.format(h.TwentyPercentLighterColor,h.Orange.toLowerCase())),new c("#E60017",r.format(h.TwentyPercentLighterColor,h.Red.toLowerCase())),new c("#F266BA",r.format(h.TwentyPercentLighterColor,h.Pink.toLowerCase())),new c("#9260A1",r.format(h.TwentyPercentLighterColor,h.Purple.toLowerCase())),new c("#8874C2",r.format(h.TwentyPercentLighterColor,h.Indigo.toLowerCase())),new c("#888888",r.format(h.FortyPercentLighterColor,h.Black.toLowerCase())),new c("#007ACC",r.format(h.FortyPercentLighterColor,h.Blue.toLowerCase())),new c("#C9E7E7",r.format(h.FortyPercentLighterColor,h.Turquoise.toLowerCase())),new c("#7CAF9A",r.format(h.FortyPercentLighterColor,h.Teal.toLowerCase())),new c("#A8CE4B",r.format(h.FortyPercentLighterColor,h.Green.toLowerCase())),new c("#FBFD52",r.format(h.FortyPercentLighterColor,h.Yellow.toLowerCase())),new c("#F7A24B",r.format(h.FortyPercentLighterColor,h.Orange.toLowerCase())),new c("#EB3345",r.format(h.FortyPercentLighterColor,h.Red.toLowerCase())),new c("#F599D1",r.format(h.FortyPercentLighterColor,h.Pink.toLowerCase())),new c("#AE88B9",r.format(h.FortyPercentLighterColor,h.Purple.toLowerCase())),new c("#AA9CDF",r.format(h.FortyPercentLighterColor,h.Indigo.toLowerCase())),new c("#AAAAAA",r.format(h.SixtyPercentLighterColor,h.Black.toLowerCase())),new c("#3F9BD8",r.format(h.SixtyPercentLighterColor,h.Blue.toLowerCase())),new c("#D6EDED",r.format(h.SixtyPercentLighterColor,h.Turquoise.toLowerCase())),new c("#9CC3B2",r.format(h.SixtyPercentLighterColor,h.Teal.toLowerCase())),new c("#C3D84C",r.format(h.SixtyPercentLighterColor,h.Green.toLowerCase())),new c("#FCFD7D",r.format(h.SixtyPercentLighterColor,h.Yellow.toLowerCase())),new c("#F9B978",r.format(h.SixtyPercentLighterColor,h.Orange.toLowerCase())),new c("#F06673",r.format(h.SixtyPercentLighterColor,h.Red.toLowerCase())),new c("#F9CCE8",r.format(h.SixtyPercentLighterColor,h.Pink.toLowerCase())),new c("#C7ABD0",r.format(h.SixtyPercentLighterColor,h.Purple.toLowerCase())),new c("#C0B6E9",r.format(h.SixtyPercentLighterColor,h.Indigo.toLowerCase())),new c("#CCCCCC",r.format(h.EightyPercentLighterColor,h.Black.toLowerCase())),new c("#7FBCE5",r.format(h.EightyPercentLighterColor,h.Blue.toLowerCase())),new c("#E4F3F3",r.format(h.EightyPercentLighterColor,h.Turquoise.toLowerCase())),new c("#BFD8CD",r.format(h.EightyPercentLighterColor,h.Teal.toLowerCase())),new c("#D7E587",r.format(h.EightyPercentLighterColor,h.Green.toLowerCase())),new c("#FCFEA8",r.format(h.EightyPercentLighterColor,h.Yellow.toLowerCase())),new c("#FBD0A5",r.format(h.EightyPercentLighterColor,h.Orange.toLowerCase())),new c("#F599A2",r.format(h.EightyPercentLighterColor,h.Red.toLowerCase())),new c("#FBDDEF",r.format(h.EightyPercentLighterColor,h.Pink.toLowerCase())),new c("#E0CAE7",r.format(h.EightyPercentLighterColor,h.Purple.toLowerCase())),new c("#DAD4F7",r.format(h.EightyPercentLighterColor,h.Indigo.toLowerCase()))],t.VibrantPaletteColors=[new c("#222222"),new c("#666666"),new c("#292E6B"),new c("#009CCC"),new c("#00643A"),new c("#339947"),new c("#FBBC3D"),new c("#DB552C"),new c("#7F1725"),new c("#EC008C"),new c("#5C197B"),new c("#51399F"),new c("#FFFFFF"),new c("#CCCCCC"),new c("#007ACC"),new c("#C9E7E7"),new c("#7CAF9A"),new c("#A8CE4B"),new c("#FBFD52"),new c("#F7A24B"),new c("#E60017"),new c("#F599D1"),new c("#AE88B9"),new c("#AA9CDF")],t.MutePaletteColors=[new c("#888888"),new c("#007ACC"),new c("#C9E7E7"),new c("#7CAF9A"),new c("#A8CE4B"),new c("#FBFD52"),new c("#F7A24B"),new c("#EB3345"),new c("#F599D1"),new c("#AE88B9"),new c("#AA9CDF"),new c("#AAAAAA"),new c("#3F9BD8"),new c("#D6EDED"),new c("#9CC3B2"),new c("#C3D84C"),new c("#FCFD7D"),new c("#F9B978"),new c("#F06673"),new c("#F9CCE8"),new c("#C7ABD0"),new c("#C0B6E9"),new c("#CCCCCC"),new c("#7FBCE5"),new c("#E4F3F3"),new c("#BFD8CD"),new c("#D7E587"),new c("#FCFEA8"),new c("#FBD0A5"),new c("#F599A2"),new c("#FBDDEF"),new c("#E0CAE7"),new c("#DAD4F7"),new c("#FFFFFF"),new c("#BFDDF2"),new c("#F1F9F9"),new c("#E3F5EE"),new c("#EBF2C3"),new c("#FEFED3"),new c("#FDE7D2"),new c("#FACCD0"),new c("#FDEEF7"),new c("#F5E5FB"),new c("#EDEAFF")],t}(b);t.DefinedPaletteColorPickerControl=k;a=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.paletteColorPickerControl=t.paletteControl,i.paletteColorPickerControlOptions=t.paletteControlOptions,i}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.createHtml()},t.prototype.createHtml=function(){for(var r=$("<ul/>").addClass(t.CssNamePalette).attr("tabindex",0).attr("role","grid").attr("aria-label",h.ColorPalleteLabel).attr("aria-rowcount",Math.ceil(this.paletteColorPickerControlOptions.palette.length/this.paletteColorPickerControlOptions.maximumColumns)).attr("aria-colcount",this.paletteColorPickerControlOptions.maximumColumns),o=this.paletteColorPickerControlOptions.palette,s=f.isHighContrastMode(),n=0;n<o.length;n++){var u=o[n],e=u.asHex(),i=$("<li/>").addClass(t.CssNameSingleColor).attr("id","".concat(this.getElement().attr("id"),"-color-").concat(n)).attr(t.DataColor,e).css("background-color",e).attr("aria-label",u.getDisplayName());u.isLightColor()&&i.addClass(t.CssNameSingleColorBorder);this.highContrastSingleColor(s,e,i);n%this.paletteColorPickerControlOptions.maximumColumns==0&&i.addClass(t.CssNameSingleColorLast);r.append(i)}r.css("width",this.getWidth());r.appendTo(this.getElement());this.hide()},t.prototype.highContrastSingleColor=function(n,i,r){if(n){var f=$("<canvas/>").attr("width",t.SingleColorSize-1).attr("height",t.SingleColorSize-1).addClass(t.CssNameSingleColorSvg),u=f.get(0).getContext("2d");u.beginPath();u.rect(0,0,t.SingleColorSize-1,t.SingleColorSize-1);u.fillStyle=i;u.fill();r.append(f)}},t.prototype.getWidth=function(){return this.paletteColorPickerControlOptions.maximumColumns*(t.SingleColorSize+t.SingleColorBorderSize+t.SingleColorMargin)+t.PalettePadding*2+2},t.prototype.show=function(){var n=this.getElement(),i,r;if(n.show(),this.addEvents(),this.attachParentEvents(),i=n.find("."+t.CssNamePalette).get(0),this._setTooltips(i),n.parent().get(0).blur(),i.focus(),r=n.find("."+t.CssNameSingleColorSelected),r.length&&this._setMouseEnterToColor(r),this.paletteColorPickerControlOptions.onOpen)this.paletteColorPickerControlOptions.onOpen(this.paletteColorPickerControl)},t.prototype._setTooltips=function(n){var i,r;if(this.tooltips=[],n&&this.paletteColorPickerControlOptions&&this.paletteColorPickerControlOptions.palette)for(i=0;i<n.children.length;i++)if(r=$(n.children[i]),r.hasClass(t.CssNameSingleColor)){var u=this.paletteColorPickerControlOptions.palette[i],f=this._getColorFromAttribute(r),e=u.asHex===f.asHex?u.getDisplayName():f.asHex();this.tooltips.push(o.RichContentTooltip.add(e,r,{setAriaDescribedBy:!1,menuContainer:this._options.tooltipContainer==null?null:$(this._options.tooltipContainer),autoWidth:!0}))}},t.prototype.hide=function(){if(this.getElement().hide(),this.removeEvents(),this.removeParentEvents(),this.tooltips&&this.tooltips.forEach(function(n){n.dispose()}),this.paletteColorPickerControlOptions.onClose)this.paletteColorPickerControlOptions.onClose(this.paletteColorPickerControl)},t.prototype.toggle=function(){this.isVisible()?(this.hide(),this._setMouseLeaveToSelectedColor()):this.show()},t.prototype.attachParentEvents=function(){var n=this;this.getElement().parents().on("scroll resize",function(){return n.onScrollOrMove()})},t.prototype.removeParentEvents=function(){var n=this;this.getElement().parents().off("scroll resize",function(){return n.onScrollOrMove()})},t.prototype.onScrollOrMove=function(){this.hide()},t.prototype.isVisible=function(){return this.getElement().is(":visible")},t.prototype.onColorSelected=function(n){var t=this.getColorHtmlFromTarget($(n.target)),i=this._getColorFromAttribute(t);this.colorSelected(i)},t.prototype.getColorHtmlFromTarget=function(n){if(n.hasClass(t.CssNameSingleColor))return n;var i=n.closest("."+t.CssNameSingleColor);if(i.length!==1)throw new Error("Cannot find any color on the target");return $(i.get(0))},t.prototype.colorSelected=function(n){this.paletteColorPickerControl.setColor(n);this.selectSingleColor(n);this.notifyColorSelectionChange(n);this.hide();this.paletteColorPickerControl.setFocus()},t.prototype.notifyColorSelectionChange=function(n){if(this.paletteColorPickerControlOptions.onColorSelected!=null)this.paletteColorPickerControlOptions.onColorSelected(this.paletteColorPickerControl,n)},t.prototype.onColorHover=function(n){n.stopPropagation();var t=this.getColorHtmlFromTarget($(n.target)),i=this._getColorFromAttribute(t);if(this.paletteColorPickerControlOptions.onColorHover!=null)this.paletteColorPickerControlOptions.onColorHover(this.paletteColorPickerControl,i)},t.prototype._getColorFromAttribute=function(n){var i=n.attr(t.DataColor);return new c(i)},t.prototype.addEvents=function(){var n=this;this.getElement().on(t.EventClick,"."+t.CssNameSingleColor,function(t){return n.onColorSelected(t)});this.getElement().on(t.EventHover,"."+t.CssNameSingleColor,function(t){return n.onColorHover(t)});this.getElement().on(t.EventKeyDown,function(t){return n.key(t)})},t.prototype.removeEvents=function(){this.getElement().off(t.EventClick);this.getElement().off(t.EventHover);this.getElement().off(t.EventKeyDown)},t.prototype.selectSingleColor=function(n){if(n==null)throw new Error("Color is required when selecting");var i=this.getElement().find(r.format('[{0}="{1}"]',t.DataColor,n.asHex()));if(i.length<=0)throw new Error("Color not found in the palette when selecting");this.selectHtmlColorElement($(i.get(0)))},t.prototype.selectHtmlColorElement=function(n){var i,r,u;this._setMouseLeaveToSelectedColor();this.getElement().find("."+t.CssNameSingleColorSelected).removeClass(t.CssNameSingleColorSelected).removeAttr("aria-selected");n.addClass(t.CssNameSingleColorSelected).attr("aria-selected","true");this.getElement().find("."+t.CssNameSingleColorSelectedInnerBorder).not("canvas").remove();this.getElement().find("."+t.CssNameSingleColorSelectedInnerBorder).removeClass(t.CssNameSingleColorSelectedInnerBorder);i=n.find("canvas");i.length===1?(i.addClass(t.CssNameSingleColorSelectedInnerBorder),this._setMouseEnterToColor(i)):(r=$("<div/>").addClass(t.CssNameSingleColorSelectedInnerBorder),n.append(r),this._setMouseEnterToColor(n));u=this.getElement().find(".".concat(t.CssNamePalette));u.attr("aria-activedescendant",n.attr("id"))},t.prototype._setMouseEnterToColor=function(n){var t=n.offset(),i;t.left!==0&&t.top!==0&&(i=this._createCustomEvent("mouseover"),n[0].dispatchEvent(i))},t.prototype._setMouseLeaveToSelectedColor=function(){var i=this._createCustomEvent("mouseout"),n=this.getElement().find("."+t.CssNameSingleColorSelected);n.length&&n[0].dispatchEvent(i)},t.prototype._createCustomEvent=function(n){var t=null;try{t=new Event(n)}catch(i){t=document.createEvent("Event");t.initEvent(n,!0,!0)}return t},t.prototype.key=function(n){switch(n.which){case u.KeyCode.ENTER:case u.KeyCode.SPACE:var i=$(this.getElement().find("."+t.CssNameSingleColorSelected).get(0)),r=this._getColorFromAttribute(i);this.colorSelected(r);break;case u.KeyCode.ESCAPE:n.preventDefault();n.stopPropagation();this.toggle();this.paletteColorPickerControl.setFocus();break;case u.KeyCode.TAB:n.preventDefault();n.stopPropagation();this.toggle();this.findNextElementToFocus().focus();break;case u.KeyCode.LEFT:this._moveSelectedColorRelative(-1,0);break;case u.KeyCode.RIGHT:this._moveSelectedColorRelative(1,0);break;case u.KeyCode.UP:n.altKey?(this.hide(),this.paletteColorPickerControl.setFocus()):this._moveSelectedColorRelative(0,1);break;case u.KeyCode.DOWN:this._moveSelectedColorRelative(0,-1);break;case u.KeyCode.HOME:this._goToFirstElement();break;case u.KeyCode.END:this._goToLastElement();break;default:return}n.preventDefault();n.stopPropagation()},t.prototype._moveSelectedColorRelative=function(n,i){if(n===0&&i!==1&&i!==-1)throw new Error("y value supported is -1 or +1");if(i===0&&n!==1&&n!==-1)throw new Error("x value supported is -1 or +1");if(n!==0&&i!==0)throw new Error("Can only move one direction at a time");var u=$(this.getElement().find("."+t.CssNameSingleColorSelected).get(0)),f=$(this.getElement().find("."+t.CssNameSingleColor)),r;n===1&&(r=this._getRightSingleColor(u,f));n===-1&&(r=this._getLeftSingleColor(u,f));i===-1&&(r=this._getDownSingleColor(u,f));i===1&&(r=this._getUpSingleColor(u,f));r!=null&&this.selectHtmlColorElement(r)},t.prototype._getRightSingleColor=function(n,t){var i=n.next();return i.length===0&&(i=$(t.get(0))),i},t.prototype._getLeftSingleColor=function(n,t){var i=n.prev();return i.length===0&&(i=$(t.get(t.length-1))),i},t.prototype._getDownSingleColor=function(n,t){var i,r,u;return n.nextAll().length>=this.paletteColorPickerControlOptions.maximumColumns?i=n.nextAll().slice(this.paletteColorPickerControlOptions.maximumColumns-1,this.paletteColorPickerControlOptions.maximumColumns):(r=t.index(n),u=r%this.paletteColorPickerControlOptions.maximumColumns,i=$(t.get(u))),i},t.prototype._getUpSingleColor=function(n,t){var i;if(n.prevAll().length>=this.paletteColorPickerControlOptions.maximumColumns)i=n.prevAll().slice(this.paletteColorPickerControlOptions.maximumColumns-1,this.paletteColorPickerControlOptions.maximumColumns);else{var r=t.index(n),u=t.length,e=u/this.paletteColorPickerControlOptions.maximumColumns,o=u%this.paletteColorPickerControlOptions.maximumColumns,f=0;r>=o&&(f=-1);i=$(t.get(r+(Math.floor(e)+f)*this.paletteColorPickerControlOptions.maximumColumns))}return i},t.prototype._goToLastElement=function(){var i=$(this.getElement().find("."+t.CssNameSingleColor)),n=i.eq(i.length-1);return n!=null&&this.selectHtmlColorElement(n),n},t.prototype._goToFirstElement=function(){var n=$(this.getElement().find("."+t.CssNameSingleColor)).eq(0);return this.selectHtmlColorElement(n),n},t.prototype.findNextElementToFocus=function(){var n=$(document).find("a, button, :input, [tabindex]"),t=n.index(document.activeElement)+1;return t>=n.length&&(t=0),n.eq(t)},t.EventClick="click",t.EventHover="mouseover",t.EventKeyDown="keydown",t.CssNamePalette="color-picker-palette",t.CssNameSingleColor="color-picker-palette-single-color",t.CssNameSingleColorSvg="color-picker-palette-single-color-svg",t.CssNameSingleColorLast="color-picker-palette-single-color-last",t.CssNameSingleColorSelected="color-picker-palette-single-color-selected",t.CssNameSingleColorSelectedInnerBorder="color-picker-palette-single-color-selected-inner",t.CssNameSingleColorBorder="color-picker-palette-single-color-border",t.DataColor="data-hex-color",t.PalettePadding=2,t.SingleColorSize=20,t.SingleColorBorderSize=1,t.SingleColorMargin=1,t}(i.Control);t.ColorPaletteView=a;y=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.height=25,i.width=100,i.highContrastArrowComboWidth=36,i}return __extends(t,n),t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.CssNameCombo},i))},t.prototype.initialize=function(){var t=this._options.comboWidth||this.width,n=this._options.comboHeight||this.height;this.getElement().css("width",t).css("height",n).css("line-height",n+"px").attr("tabindex",0).attr("role","combobox").attr("readonly","readonly").attr("aria-haspopup","grid").attr("aria-expanded","false").attr("aria-label",this._options.ariaLabelPrefix).prop("disabled",this._options.isDisabled);this.richContentTooltip=o.RichContentTooltip.add(this._options.ariaLabelPrefix||"",this.getElement(),{});this.getElement().html("&nbsp;");f.isHighContrastMode()&&(this.canvasHighContrast=$("<canvas>").css("float","left").attr("width",t-this.highContrastArrowComboWidth).attr("height",n-1),this.getElement().append(this.canvasHighContrast));this.getElement().append($("<span/>").addClass("bowtie-icon").addClass("bowtie-chevron-down-light").attr("role","button").css("line-height",n+"px"));this.attachEvents()},t.prototype.setColor=function(n){var i;if(n==null)throw new Error("Color must be defined");if(i=r.format(h.ColorPickerLabelFormat,this._options.ariaLabelPrefix,n.asHex()),this.getElement().css("background-color",n.asHex()).attr("aria-label",i),this.richContentTooltip.setTextContent(i),f.isHighContrastMode()){var u=this._options.comboWidth||this.width,e=this._options.comboHeight||this.height,t=this.canvasHighContrast.get(0).getContext("2d");t.beginPath();t.rect(0,0,u-this.highContrastArrowComboWidth,e-2);t.fillStyle=n.asHex();t.fill()}},t.prototype.attachEvents=function(){var n=this;this.getElement().click(function(){n._options.clicked()});this.getElement().on("keydown",function(t){n._options.keyDown(t)})},t.CssNameCombo="color-picker-combo",t}(i.Control);t.ColorComboView=y});

/*! knockout-secure-binding - v1.0.9 - 2022-05-18
 *  https://github.com/brianmhunt/knockout-secure-binding
 *  Copyright (c) 2013 - 2017 Brian M Hunt; License: MIT */
;(function(factory) {
    //AMD
    if (typeof define === "function" && define.amd) {
        define("knockoutSecureBinding",["knockout", "exports"], factory);
        //normal script tag
    } else {
        factory(ko);
    }
}(function(ko, exports, undefined) {
function value_of(e){return e instanceof Identifier||e instanceof Expression?e.get_value():e}function _object_map(e,t){if(!e)return e;var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n}function _virtualNodeBindingValue(e){var t=(commentNodesHaveTextProperty?e.text:e.nodeValue).match(startCommentRegex);return t?t[1]:null}function is_identifier_char(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<=9||"_"===e||"$"===e}function secureBindingsProvider(e){new ko.bindingProvider;e=e||{},this.attribute=e.attribute||"data-sbind",this.noVirtualElements=e.noVirtualElements||!1,this.globals=e.globals||{},this.bindings=e.bindings||ko.bindingHandlers}function registerBindings(e){ko.utils.extend(this.bindings,e)}function nodeHasBindings(e){var t;return e.nodeType===e.ELEMENT_NODE?e.getAttribute(this.attribute)||ko.components&&ko.components.getComponentNameForNode(e):e.nodeType===e.COMMENT_NODE?!this.noVirtualElements&&(t=(""+e.nodeValue||e.text).trim(),0===t.indexOf("ko ")):void 0}function getBindingsString(e){switch(e.nodeType){case e.ELEMENT_NODE:return e.getAttribute(this.attribute);case e.COMMENT_NODE:return _virtualNodeBindingValue(e);default:return null}}function nodeParamsToObject(e,t){var n=t.parse(e.getAttribute("params"));if(!n||0===Object.keys(n).length)return{$raw:{}};var r=_object_map(n,function(t,n){return ko.computed(t,null,{disposeWhenNodeIsRemoved:e})}),i=_object_map(r,function(t,n){var r=t.peek();return t.isActive()?ko.computed({read:function(){return ko.utils.unwrapObservable(t())},write:ko.isWriteableObservable(r)&&function(e){t()(e)},disposeWhenNodeIsRemoved:e}):r});return i.hasOwnProperty("$raw")||(i.$raw=r),i}function getBindings(e,t){var n,r={},i=new Parser(e,t,this.globals),o=this.getBindingsString(e);if(e.nodeType===e.ELEMENT_NODE&&ko.components&&(n=ko.components.getComponentNameForNode(e)),o&&(r=i.parse(o||"")),n){if(r.component)throw new Error("Cannot use a component binding on custom elements");var s={name:n,params:nodeParamsToObject(e,i)};r.component=function(){return s}}return r}var Identifier,Expression,Parser,Node,originalBindingProviderInstance=new ko.bindingProvider,commentNodesHaveTextProperty=document&&"<!--test-->"===document.createComment("test").text,startCommentRegex=commentNodesHaveTextProperty?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/;Identifier=function(){function e(e,t,n){this.token=t,this.dereferences=n,this.parser=e}return e.prototype.lookup_value=function(e){var t=this.token,n=this.parser,r=n.context,i=r.$data||{},o=n.globals||{};if(e)return value_of(e)[t];switch(t){case"$element":return n.node;case"$context":return r;case"$data":return i}return i[t]||r[t]||o[t]},e.prototype.dereference=function(e){var t,n,r,i,o=this.dereferences||[],s=this.parser,h=s.context||{},a=h.$data||{},u={$context:h,$data:a,globals:s.globals||{},$element:s.node};for(r=0,i=o.length;r<i;++r)t=o[r],t instanceof Array?e&&e.call&&(e=e.apply(n||a||u,this.convert_args(t)),n=e):(n=e,e&&(e=e[value_of(t)]));return e},e.prototype.convert_args=function(t){var n,r=[];if(!t||0===t.length)return r;for(n=0;n<t.length;n++)t[n]instanceof e||t[n]instanceof Expression?r.push(t[n].get_value()):r.push(t[n]);return r},e.prototype.get_value=function(e){return this.dereference(this.lookup_value(e))},e.prototype.set_value=function(e){var t,n,r,i=this.parser,o=i.context,s=o.$data||{},h=i.globals||{},a=this.dereferences||[],u=this.token;if(Object.hasOwnProperty.call(s,u))r=s;else if(Object.hasOwnProperty.call(o,u))r=o;else{if(!Object.hasOwnProperty.call(h,u))throw new Error("Identifier::set_value -- The property '"+u+"' does not exist on the $data, $context, or globals.");r=h}for(n=a.length,0===n&&(r[u]=e),r=r[u],t=0;t<n-1;++t)u=a[t],r=u===!0?r():r[value_of(u)];if(a[t]===!0)throw new Error("Cannot assign a value to a function.");r[value_of(a[t])]=e},e}(),Node=function(){function e(e,t,n){this.lhs=e,this.op=t,this.rhs=n}var t={"!":function(e,t){return!t},"!!":function(e,t){return!!t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"^":function(e,t){return e^t},"|":function(e,t){return e|t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?":function(e,t){return e||t},"-:":function(e,t){return e?t:null},":-":function(e,t){return e?null:t}};return t["!"].precedence=4,t["!!"].precedence=4,t["*"].precedence=5,t["/"].precedence=5,t["%"].precedence=5,t["+"].precedence=6,t["-"].precedence=6,t["<"].precedence=8,t["<="].precedence=8,t[">"].precedence=8,t[">="].precedence=8,t["=="].precedence=9,t["!="].precedence=9,t["==="].precedence=9,t["!=="].precedence=9,t["&"].precedence=10,t["^"].precedence=11,t["|"].precedence=12,t["&&"].precedence=13,t["||"].precedence=14,e.operators=t,e.prototype.get_leaf_value=function(t,n){if("function"==typeof t)return ko.utils.unwrapObservable(t());if("object"!=typeof t)return n?n[t]:t;if(t instanceof Identifier||t instanceof Expression)return ko.utils.unwrapObservable(t.get_value(n));if(t instanceof e)return t.get_node_value(n);throw new Error("Invalid type of leaf node: "+t)},e.prototype.get_node_value=function(){return this.op(this.get_leaf_value(this.lhs),this.get_leaf_value(this.rhs))},e}(),Expression=function(){function e(e){this.nodes=e,this.root=this.build_tree(e)}return e.operators=Node.operators,e.Node=Node,e.prototype.build_tree=function(e){var t,n,r,i;for(n=t=new Node(e.shift(),e.shift(),e.shift());e&&(r=e.shift(),i=e.shift(),r);)r.precedence>=t.op.precedence?(t=new Node(t,r,i),n=t):(n.rhs=new Node(n.rhs,r,i),n=n.rhs);return t},e.prototype.get_value=function(){return this.root||(this.root=this.build_tree(this.nodes)),this.root.get_node_value()},e}(),Parser=function(){function e(e,t,n){this.node=e,this.context=t,this.globals=n||{}}var t={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},n=Expression.operators;return e.Expression=Expression,e.Identifier=Identifier,e.Node=Node,e.prototype.white=function(){for(var e=this.ch;e&&e<=" ";)e=this.next();return e},e.prototype.next=function(e){return e&&e!==this.ch&&this.error("Expected '"+e+"' but got '"+this.ch+"'"),this.ch=this.text.charAt(this.at),this.at+=1,this.ch},e.prototype.error=function(e){throw{name:"SyntaxError",message:e,at:this.at,text:this.text}},e.prototype.name=function(){var e="";this.white();for(var t=this.ch;t;){if(":"===t||t<=" "||","===t)return e;e+=t,t=this.next()}return e},e.prototype.number=function(){var e,t="",n=this.ch;for("-"===n&&(t="-",n=this.next("-"));n>="0"&&n<="9";)t+=n,n=this.next();if("."===n)for(t+=".",n=this.next();n&&n>="0"&&n<="9";)t+=n,n=this.next();if("e"===n||"E"===n)for(t+=n,n=this.next(),"-"!==n&&"+"!==n||(t+=n,n=this.next());n>="0"&&n<="9";)t+=n,n=this.next();return e=+t,isFinite(e)?e:void error("Bad number")},e.prototype.object_add_value=function(e,t,n){n instanceof Identifier||n instanceof Expression?Object.defineProperty(e,t,{get:function(){return n.get_value()},enumerable:!0}):e[t]=n},e.prototype.object=function(){var e,t={},n=this.ch;if("{"===n){if(this.next("{"),n=this.white(),"}"===n)return n=this.next("}"),t;for(;n;){if(e='"'===n||"'"===n?this.string():this.name(),this.white(),n=this.next(":"),Object.hasOwnProperty.call(t,e)&&this.error('Duplicate key "'+e+'"'),this.object_add_value(t,e,this.expression()),n=this.white(),"}"===n)return n=this.next("}"),t;this.next(","),n=this.white()}}this.error("Bad object")},e.prototype.read_string=function(e){for(var n,r,i,o="",s=this.next();s;){if(s===e)return s=this.next(),o;if("\\"===s)if(s=this.next(),"u"===s){for(i=0,r=0;r<4&&(n=parseInt(s=this.next(),16),isFinite(n));r+=1)i=16*i+n;o+=String.fromCharCode(i)}else{if("string"!=typeof t[s])break;o+=t[s]}else o+=s;s=this.next()}this.error("Bad string")},e.prototype.string=function(){var e=this.ch;return'"'===e?this.read_string('"'):"'"===e?this.read_string("'"):void this.error("Bad string")},e.prototype.array=function(){var e=[],t=this.ch;if("["===t){if(t=this.next("["),this.white(),"]"===t)return t=this.next("]"),e;for(;t;){if(e.push(this.expression()),t=this.white(),"]"===t)return t=this.next("]"),e;this.next(","),t=this.white()}}this.error("Bad array")},e.prototype.value=function(){var e;switch(this.white(),e=this.ch){case"{":return this.object();case"[":return this.array();case'"':case"'":return this.string();case"-":return this.number();default:return e>="0"&&e<="9"?this.number():this.identifier()}},e.prototype.operator=function(){for(var e,t="",r=this.white();r&&!(is_identifier_char(r)||r<=" "||""===r||'"'===r||"'"===r||"{"===r||"["===r||"("===r);)t+=r,r=this.next();return""!==t&&(e=n[t],e||this.error("Bad operator: '"+t+"'.")),e},e.prototype.condExpression=function(e){var t,n,r,i;return this.white(),this.next("?"),this.white(),t=this.expression(),r=new Expression([e,Expression.operators["-:"],t]),this.white(),this.next(":"),this.white(),n=this.expression(),i=new Expression([e,Expression.operators[":-"],n]),new Expression([r,Expression.operators["?"],i])},e.prototype.expression=function(){for(var e,t=[],n=this.white();n&&(op=this.operator(),op&&(t.push(void 0),t.push(op)),n=this.ch,"("===n?(this.next(),t.push(this.expression()),this.next(")")):(e=this.value(),t.push(e)),n=this.white(),":"!==n&&"}"!==n&&","!==n&&"]"!==n&&")"!==n&&""!==n);){if("?"===n&&1===t.length)return this.condExpression(t[0]);op=this.operator(),op&&t.push(op),n=this.white()}if(0!==t.length)return 1===t.length?t[0]:new Expression(t)},e.prototype.dereference=function(){for(var e,t=this.white();t;){if("("===t){this.next("("),t=this.white();for(var n=[];t;){if(")"===t){this.next(")"),this.white();break}","===t&&(this.next(","),t=this.white()),n.push(this.expression()),t=this.white()}return n}if("["===t)return this.next("["),e=this.expression(),this.white(),this.next("]"),e;if("."===t){for(e="",this.next("."),t=this.white();t&&is_identifier_char(t);)e+=t,t=this.next();return e}break}},e.prototype.identifier=function(){var e,t,n="",r=[];for(e=this.white();e&&is_identifier_char(e);)n+=e,e=this.next();switch(n){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return}for(;e&&(t=this.dereference(),void 0!==t);)r.push(t);return new Identifier(this,n,r)},e.prototype.bindings=function(){var e,t,n={},r=!1;this.white(),"{"===this.ch&&(this.next("{"),this.white(),r=!0);for(var i=this.ch;i;)e=this.name(),t=this.white(),t&&","!==t?(i=this.next(":"),n[e]=this.expression(),this.white(),"}"===this.ch?r?(this.next("}"),i=this.white()):this.error("Unexpected char '}' found"):i=this.ch?this.next(","):""):(i=t?this.next(","):"",n[e]=null);return n},e.prototype.convert_to_accessors=function(e){var t={};return ko.utils.objectForEach(e,function(n,r){r instanceof Identifier?(e[n]=r.get_value(),ko.expressionRewriting._twoWayBindings[n]&&(t[n]=function(e){r.set_value(e)})):r instanceof Expression?e[n]=r.get_value():"function"!=typeof r&&(e[n]=r)}),Object.keys(t).length>0&&(e._ko_property_writers=function(){return t}),e},e.prototype.parse=function(e){if(this.text=(e||"").trim(),this.at=0,this.ch=" ",!this.text)return null;var t=this.bindings();return this.white(),this.ch&&this.error("Syntax Error"),this.convert_to_accessors(t)},e}(),ko.utils.objectForEach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},ko.expressionRewriting._twoWayBindings={},ko.expressionRewriting._twoWayBindings.checked=!0,ko.expressionRewriting._twoWayBindings.hasfocus=!0,ko.expressionRewriting._twoWayBindings.hasFocus=!0,ko.expressionRewriting._twoWayBindings.selectedOptions=!0,ko.expressionRewriting._twoWayBindings.textInput=!0,ko.expressionRewriting._twoWayBindings.value=!0,ko.utils.extend(secureBindingsProvider.prototype,{registerBindings:registerBindings,nodeHasBindings:nodeHasBindings,getBindings:getBindings,getBindingsString:getBindingsString,nodeParamsToObject:nodeParamsToObject,Parser:Parser});    
    ko.secureBindingsProvider = secureBindingsProvider;
    
    return secureBindingsProvider;
}));

/*!
 * jQuery UI Draggable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/draggable",["jquery","./mouse","./data","./plugin","./safe-active-element","./safe-blur","./scroll-parent","./version","./widget"],t):t(jQuery)}(function(t){"use strict";return t.widget("ui.draggable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger("stop",e)&&s._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i="function"==typeof s.helper,o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("VSS/Utils/Draggable",["require","exports","VSS/Diag","jQueryUI/draggable"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});$(function(){$.ui.plugin.add("draggable","scrollables",{start:function(){function s(n){return n.closest("body").length?!0:!1}for(var f=[],i=null,n=null,o=$(this).data("ui-draggable"),r=o.options,e=0,t=0,u=r.scrollables.length;t<u;t++,e++)(i=$(r.scrollables[t]),s(i))&&i.each(function(t,i){var r=$(i);n=r.offset();n.bottom=n.top+r.height();n.right=n.left+r.width();f[e++]={element:i,rect:n}});r.scrollableElements=f},drag:function(n){var s=$(this).data("ui-draggable"),t=s.options,u=t.cursorAt||{left:0,top:0},l=!1,f=null,h=!1,c=t.scrollableElements,r=null,p,o,y;var a=u.top!=null?u.top:s.helperProportions.height-u.bottom,v=u.left!=null?u.left:s.helperProportions.width-u.right,e={left:n.pageX-v,top:n.pageY-a,right:n.pageX-v+s.helperProportions.width,bottom:n.pageY-a+s.helperProportions.height};for(o=0,y=c.length;o<y;o+=1)typeof c[o]!="undefined"&&(f=c[o].element,r=c[o].rect,l=(e.left>=r.left&&e.left<=r.right||e.right>=r.left&&e.right<=r.right)&&(e.top>=r.top&&e.top<=r.bottom||e.bottom>=r.top&&e.bottom<=r.bottom),l&&(t.axis&&t.axis!=="y"||t.scrollablesAxis&&t.scrollablesAxis!=="y"||(r.bottom-n.pageY<t.scrollSensitivity?(f.scrollTop=f.scrollTop+t.scrollSpeed,h=!0):n.pageY-r.top<t.scrollSensitivity&&(f.scrollTop=f.scrollTop-t.scrollSpeed,h=!0)),t.axis&&t.axis!=="x"||t.scrollablesAxis&&t.scrollablesAxis!=="x"||(r.right-n.pageX<t.scrollSensitivity?(f.scrollLeft=f.scrollLeft+t.scrollSpeed,h=!0):n.pageX-r.left<t.scrollSensitivity&&(f.scrollLeft=f.scrollLeft-t.scrollSpeed,h=!0))));h!==!1&&(p=f.offsetHeight)},stop:function(){var n=$(this).data("ui-draggable"),t=n.options;delete t.scrollableElements}})})});

define("Presentation/Scripts/TFS/TFS.Knockout",["require","exports","knockout","VSS/VSS","VSS/Controls","VSS/Controls/Combos","VSS/Utils/UI","VSS/Utils/Date","Presentation/Scripts/TFS/TFS.UI.Controls.ColorPicker","knockoutSecureBinding","jQueryUI/droppable","VSS/Utils/Draggable"],function(n,t,i,r,u,f,e,o,s,h){function c(){var n={attribute:"data-bind",globals:window,bindings:i.bindingHandlers,noVirtualElements:!1};i.bindingProvider.instance=new h(n)}function a(n){var t=i.observable(n);return t.equalityComparer=o.equals,t}function v(n,t){var i=$(l("div")).attr("data-bind","template: { name: '"+n+"' }");return!t||i.addClass(t),i}function y(n){return{init:function(t,i){var e=$(t),r=i(),u="",f;return!r||(typeof r=="string"?u=n[r]:(u=n[r.resource],f=n[r.title])),u&&e.text(u),f&&e.attr("title",f),{controlsDescendantBindings:!1}}}}Object.defineProperty(t,"__esModule",{value:!0});t.getResourceBindingHandler=t.loadHtmlTemplate=t.observableDate=t.overrideDefaultBindings=void 0;t.overrideDefaultBindings=c;var l=e.domElem;t.observableDate=a;t.loadHtmlTemplate=v;t.getResourceBindingHandler=y;i.bindingHandlers.droppable={init:function(n,t){var i=$(n),r=t();i.droppable(r)}};i.bindingHandlers.draggable={init:function(n,t){var r=$(n),i=t();!i.appendToSelector||(i.appendTo=$(i.appendToSelector));r.draggable(i)}};i.bindingHandlers.hover={init:function(n,t){var i=$(n),r=t();i.on("mouseenter",function(){i.addClass(r.hoverClass)}).on("mouseleave",function(){i.removeClass(r.hoverClass)})}};i.bindingHandlers.clickOnEnterKey={init:function(n){var t=$(n);t.keyup(function(n){(n.keyCode===e.KeyCode.ENTER||n.keyCode===e.KeyCode.SPACE)&&t.click()})}};i.bindingHandlers.singleOrDoubleClick={init:function(n,t,i,r,u){var e=t().click,o=t().dblclick,s=t().delay||200,f=0;$(n).click(function(n){f++;f===1&&setTimeout(function(){f===1?e!==undefined&&e.call(r,u.$data,n):o!==undefined&&o.call(r,u.$data,n);f=0},s)})}};i.bindingHandlers.scrollTo={update:function(n,t){if(t()){var i=n.parentNode;$(i).scrollTop(n.offsetTop)}}};i.bindingHandlers.fadeInThenOut={init:function(n,t){var r=t();$(n).toggle(i.utils.unwrapObservable(r))},update:function(n,t){var r=t();i.utils.unwrapObservable(r)&&$(n).fadeIn(750).delay(1e3).fadeOut(750)}};i.bindingHandlers.vssCombo={init:function(n,t){var i=u.Control.create(f.Combo,$(n),t())}};i.bindingHandlers.tfsColorPicker={init:function(n,t){u.Control.create(s.PaletteColorPickerControl,$(n),t())}};i.bindingHandlers.tfsFontColorPicker={init:function(n,t){var e=$(n),i=t()||{},r=$("<div/>").addClass("font-trigger").attr("tabindex",0).attr("role","button").attr("aria-haspopup","true").attr("aria-label",t().ariaLabelPrefix),h=$("<span/>").addClass("icon bowtie-icon bowtie-format-font-color"),f=$("<div/>").addClass("style-rule-font-color-bar"),o;i.defaultColor&&f.css("background-color",i.defaultColor.asHex());r.append(h,f);e.append(r);o=$.extend({},i,{triggerElement:r,onColorSelected:function(n,t){if(f.css("background-color",t.asHex()),typeof i.onColorSelected=="function")i.onColorSelected(n,t)}});u.Control.create(s.PaletteColorPickerControl,e,o)}};r.tfsModuleLoaded("TFS.Knockout",t)});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationModels",["require","exports","knockout","q","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/Contracts","TFS/WorkItemTracking/RestClient","TFS/TestManagement/RestClient","VSS/Service","WorkItemTracking/Scripts/TFS.WorkItemTracking","Agile/Scripts/Card/CardsAnnotationsTestAnnotationContracts","Agile/Scripts/Card/CardsAnnotationsTestAnnotationWebApi","Agile/Scripts/Card/CardsAnnotationsTestAnnotationTelemetry","Presentation/Scripts/TFS/TFS.Knockout","VSS/Utils/String","WorkItemTracking/Scripts/OM/WorkItemManager","VSS/VSS","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var g,nt,it,tt,d,rt;Object.defineProperty(t,"__esModule",{value:!0});t.TestStore=t.TestCaseHelper=t.TestCaseModel=t.TestPointModel=t.TestSuiteModel=void 0;v.overrideDefaultBindings();g="Microsoft.VSTS.Common.TestedBy-Reverse";nt=function(){function n(n){this.testSuiteId=0;this.testPlanId=0;this.testPoints=i.observableArray([]);n&&this._populate(n)}return n.prototype.refresh=function(n,t){var i=this;return l.getClient().beginRefreshSuite(n,t,this.testPlanId,this.testSuiteId).then(function(n){return i._populate(n),i.testSuiteId})},n.prototype.updateTestCasesOrder=function(n){var t=s.getClient(o.TestHttpClient5),i=u.TfsContext.getDefault().contextData.project.name;return t.reorderSuiteEntries(n,i,this.testSuiteId)},n.prototype._populate=function(n){this.testSuiteId=n.testSuiteId;this.testPlanId=n.testPlanId;var t=[];n.testPoints&&$.each(n.testPoints,function(n,i){t.push(new it(i))});this.testPoints(t)},n}();t.TestSuiteModel=nt;it=function(){function n(t){var r=this;this.id=i.observable(0);this.errorMessage=i.observable("");this.sequenceNumber=i.observable(n.MaxSequenceNumber);this.outcome=i.observable(c.TestOutcome.Active);this.testCase=i.observable(new tt);t&&this._populate(t);this.isErrorOccured=i.computed(function(){return r.errorMessage()?r.errorMessage()!=="":!1})}return n.prototype.setOutcome=function(n,t,i,u){return u===this.outcome()?r(undefined):(this.outcome(u),a.TelemeteryHelper.publishFeatureTelemetry(a.FeatureScenarios.SetOutcome,{Outcome:c.TestOutcome[u]}),l.getClient().beginSetOutcome(n,t,i,this.id(),u))},n.prototype._populate=function(n){this.id(n.testPointId);var t=new tt(n);this.testCase=i.observable(t);this.sequenceNumber=i.observable(n.sequenceNumber);this.outcome=i.observable(c.TestOutcomeHelper.fromString(n.outcome))},n.MaxSequenceNumber=99999999,n}();t.TestPointModel=it;tt=function(){function n(n,t){this.id=0;this.name=i.observable("");n&&(this.id=n.testCaseId,this.name(n.testCaseTitle));t&&(this._onDiscard=t.onDiscard)}return n.prototype.beginCreate=function(n,t,i){var r=this,f=e.getClient(),o=u.TfsContext.getDefault().contextData.project.name,s={save:function(){r._workItemSaved=!0},close:function(n){r._workItemSaved?(r._workItemSaved=!1,r.id=n.id,r.name(n.getTitle())):r._onDiscard&&r._onDiscard(i)}};return f.createWorkItem(d.getCreatePatchDocument(this.name(),n),o,t).then(function(n){return r.id=n.id,n},function(){var i;i=b.ProjectCollection.getDefaultConnection().getService(h.WorkItemStore);i.beginGetProject(u.TfsContext.getDefault().navigation.projectId,function(u){u.beginGetWorkItemType(t,function(t){var u=p.WorkItemManager.get(i).createWorkItem(t);i.beginGetLinkTypes(function(){d._populateWorkItem(u,n,r.name());d._showWorkItem(u,s)})})})})},n.prototype.beginUpdate=function(){var n=e.getClient();return n.updateWorkItem(d.getUpdatePatchDocument(this.name()),this.id)},n.prototype.beginUpdateRequirementId=function(n,t,i){var r=this;return this._beginGet().then(function(u){var o=e.getClient(),f;return i&&(f=r._getIndexOfTestCaseInRequirement(u,t),f<0&&(i=!1)),o.updateWorkItem(d.getUpdateTestedByLinkPatchDocument(n,f,i),r.id)})},n.prototype.beginRemove=function(n){var t=this;return this._beginGet().then(function(i){var u=t._getIndexOfTestCaseInRequirement(i,n),f;return u>=0?(f=e.getClient(),f.updateWorkItem(d.getRemoveTestCasePatchDocument(u),t.id)):r(undefined)})},n.prototype._getIndexOfTestCaseInRequirement=function(n,t){var i=-1,r=d.getCollectionUrl();return n&&n.relations&&$.each(n.relations,function(n,u){if(d.compareRelationUrlWithWorkItemUrl(r,t,u.url))return i=n,!1}),i},n.prototype._beginGet=function(){var n=e.getClient();return n.getWorkItem(this.id,null,null,f.WorkItemExpand.Relations)},n}();t.TestCaseModel=tt;d=function(){function n(){}return n._populateWorkItem=function(n,t,i){var r=h.WorkItemLink.create(n,g,t.id,y.empty);n.addLink(r);n.setFieldValue(k.CoreField.Title,i);n.setFieldValue(k.CoreField.AreaPath,t.areaPath);n.setFieldValue(k.CoreField.IterationPath,t.iterationPath)},n._showWorkItem=function(n,t){w.using(["WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls"],function(i){i.WorkItemFormDialog.showWorkItem(n,t)})},n.getCreatePatchDocument=function(t,i){var r=[{op:"add",path:"/fields/System.Title",value:t},{op:"add",path:"/fields/System.IterationPath",value:i.iterationPath},{op:"add",path:"/relations/-",value:{rel:g,url:n.getWorkItemApiUrl(i.id),attributes:{comment:""}}}];return i.areaPath&&r.push({op:"add",path:"/fields/System.AreaPath",value:i.areaPath}),r},n.getUpdatePatchDocument=function(n){return[{op:"replace",path:"/fields/System.Title",value:n}]},n.getUpdateTestedByLinkPatchDocument=function(t,i,r){var u=[];return r&&u.push({op:"remove",path:"/relations/"+i}),u.push({op:"add",path:"/relations/-",value:{rel:g,url:n.getWorkItemApiUrl(t),attributes:{comment:""}}}),u},n.getRemoveTestCasePatchDocument=function(n){var t=[];return t.push({op:"remove",path:"/relations/"+n}),t},n.getWorkItemApiUrl=function(t){var i=n.getCollectionUrl(),r=i+"_apis/wit/workItems/"+t;return encodeURI(r)},n.getCollectionUrl=function(){var n=u.TfsContext.getDefault(),t=n.contextData;return t.collection.uri},n.compareRelationUrlWithWorkItemUrl=function(n,t,i){var r="_apis/wit/workItems/"+t;return i=i?i:"",y.startsWith(i,n,y.ignoreCaseComparer)&&y.endsWith(i,r,y.ignoreCaseComparer)},n}();t.TestCaseHelper=d;rt=function(){function n(n){this._suiteCache={};this._teamId=n}return n.prototype.refreshSuite=function(n){var u=this,t,i;return n<=0?r(undefined):(t=this.getSuite(n),t?t.refresh(this._teamId,n):(i=new nt,i.refresh(this._teamId,n).then(function(){u.setSuite(n,i)})))},n.prototype.beginFetchSuites=function(n){var t=this;return!n||n.length===0?r([]):($.each(n,function(n,i){t.removeSuite(i)}),l.getClient().beginGetSuites(this._teamId,n).then(function(n){var i=[];return $.each(n,function(n,r){var u=new nt(r);t._suiteCache!=null&&(t._suiteCache[r.requirementId]=u);i.push(r.requirementId)}),i}))},n.prototype.getSuite=function(n){return this._suiteCache!=null?this._suiteCache[n]:undefined},n.prototype.setSuite=function(n,t){this._suiteCache[n]=t},n.prototype.removeSuite=function(n){this._suiteCache!=null&&(this._suiteCache[n]=null)},n.prototype.dispose=function(){this._suiteCache=null},n}();t.TestStore=rt});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationSource",["require","exports","Agile/Scripts/TFS.Agile.Boards","q","WorkItemTracking/Scripts/TFS.WorkItemTracking","TFS/WorkItemTracking/RestClient","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Utils/Core","Agile/Scripts/Card/CardsAnnotationsTestAnnotationModels","Agile/Scripts/Card/CardsAnnotationsTestAnnotationTelemetry"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.TestSuiteSource=void 0;var l=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._testStore=new h.TestStore(i),r.teamId=i,r._initializeTestedByLinkIds(),r.getDefaultTestCaseWorkItemType=s.delegate(r,r._getDefaultTestCaseWorkItemType),r}return __extends(t,n),t.prototype.type=function(){return t.sourceType},t.prototype.addItem=function(n,t){this._testStore.setSuite(n,t)},t.prototype.getItem=function(n){return this._testStore.getSuite(n)},t.prototype.refreshItem=function(n){return this._testStore.refreshSuite(n)},t.prototype.getItems=function(n){var i=this,t=[];return $.each(n,function(n,r){var u=i._testStore.getSuite(r);u&&t.push(u)}),t},t.prototype.beginGetItem=function(n,t){return this.beginGetItems([n],t).then(function(n){return n&&n.length>0?n[0]:null})},t.prototype.beginGetItems=function(n,t){var i=this;return t&&!this._handleLinkChanges(t.links)?r(undefined):(c.TelemeteryHelper.startPerfScenario(c.PerfScenarios.GetTestSuites),!this._testStore)?r(undefined):this._testStore.beginFetchSuites(n).then(function(n){var t=[];return $.each(n,function(n,r){var u=i._testStore.getSuite(r);u&&t.push(u)}),i.parentSource.raiseEventForAnnotationItemSource(n,i),c.TelemeteryHelper.endPerfScenario(c.PerfScenarios.GetTestSuites),c.TelemeteryHelper.publishFeatureTelemetry(c.FeatureScenarios.GetTestSuites,{Count:n.length}),t})},t.prototype.dispose=function(){this._testStore.dispose()},t.prototype._getDefaultTestCaseWorkItemType=function(){var n=this,t,i;return this.testCaseWorkItemType?r.resolve(this.testCaseWorkItemType):(t=f.getClient(),i=e.TfsContext.getDefault().contextData.project.name,t.getWorkItemTypeCategory(i,"Microsoft.TestCaseCategory").then(function(t){return n.testCaseWorkItemType=t.defaultWorkItemType.name,n.testCaseWorkItemType}))},t.prototype._handleLinkChanges=function(n){if(n)for(var t=0,i=n.length;t<i;t++)if(n[t].linkData){if(n[t].linkData.LinkType===this.testedByParentLinkTypeId)return this.beginGetItem(n[t].targetId),!1;if(n[t].linkData.LinkType===this.testedByChildLinkTypeId)return!0}return!1},t.prototype._initializeTestedByLinkIds=function(){var t=this,n=o.ProjectCollection.getDefaultConnection().getService(u.WorkItemStore);n&&n.beginGetLinkTypes(function(){var r=n.findLinkTypeEnd("Microsoft.VSTS.Common.TestedBy-Reverse"),i;r&&(t.testedByParentLinkTypeId=r.id);i=n.findLinkTypeEnd("Microsoft.VSTS.Common.TestedBy-Forward");i&&(t.testedByChildLinkTypeId=i.id)})},t.sourceType="testSuite",t}(i.AnnotationItemSource);t.TestSuiteSource=l});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationBadge",["require","exports","Agile/Scripts/Card/CardsAnnotationsCommon","Agile/Scripts/Resources/TFS.Resources.AgileControls","VSS/Utils/String","Agile/Scripts/Card/CardsAnnotationsTestAnnotationSource","Agile/Scripts/Card/CardsAnnotationsTestAnnotationContracts","VSS/Controls/PopupContent"],function(n,t,i,r,u,f,e,o){Object.defineProperty(t,"__esModule",{value:!0});t.TestAnnotationBadge=void 0;var s=f.TestSuiteSource.sourceType,h=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.createLayout=function(){n.prototype.createLayout.call(this);this._addErrorMessageIcon();this._addStatusIcon();this._addTextContainer();this._refresh()},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._errorMessageTooltip&&(this._errorMessageTooltip.dispose(),this._errorMessageTooltip=null);this._summaryTooltip&&(this._summaryTooltip.dispose(),this._summaryTooltip=null)},t.prototype.update=function(){this._refresh()},t.prototype._refresh=function(){this._setError();this._setStatus();this._setText()},t.prototype._addErrorMessageIcon=function(){this.$errorMessageIcon=$("<div/>").addClass("error-message-icon bowtie-icon bowtie-status-error");this.$container[0].appendChild(this.$errorMessageIcon[0])},t.prototype._addStatusIcon=function(){var n=$('<span class="test-icon"><span class="bowtie-icon bowtie-test-fill"><\/span><span class="status-badge"><span class="bowtie-stack"><span class="bowtie-icon status-white-icon"><\/span><i class="bowtie-icon status-icon"><\/i><\/span><\/span><\/span>');this.$container[0].appendChild(n[0]);this.$statusBadge=n.find("span.status-badge");this.$statusDot=n.find("span.status-white-icon");this.$status=n.find("i.status-icon")},t.prototype._addTextContainer=function(){this.$content=$("<span/>").addClass("work-item-summary-text");this.$container[0].appendChild(this.$content[0])},t.prototype._setText=function(){var t=0,i=0,f=0,s=this._fetchSuite(),h,n;$.each(s.testPoints(),function(n,r){r.outcome()===e.TestOutcome.Passed?t++:r.outcome()===e.TestOutcome.Failed?i++:f++});h=s.testPoints().length;this.$content.text(h);n=u.format(r.TestAnnotation_Badge_Tooltip,t,i,f);this._summaryTooltip?this._summaryTooltip.setTextContent(n):this._summaryTooltip=o.RichContentTooltip.add(n,this.$container,{setAriaDescribedBy:!0})},t.prototype._setStatus=function(){var n=0,t=0,i=!1,r=this._fetchSuite(),u;if($.each(r.testPoints(),function(r,u){if(u.outcome()===e.TestOutcome.Passed)n++;else if(u.outcome()===e.TestOutcome.NotApplicable)t++;else if(u.outcome()===e.TestOutcome.Failed)return i=!0,!1}),this.$statusDot.removeClass("bowtie-dot white"),this.$status.removeClass("bowtie-status-success success"),this.$status.removeClass("bowtie-status-failure fail"),i){this.$statusDot.addClass("bowtie-dot white");this.$status.addClass("bowtie-status-failure fail");this.$statusBadge.show();return}if(u=r.testPoints().length,n+t===u){this.$statusDot.addClass("bowtie-dot white");this.$status.addClass("bowtie-status-success success");this.$statusBadge.show();return}this.$statusBadge.hide()},t.prototype._setError=function(){var n=this._getErrorMessage(this._fetchSuite().testPoints());this._errorMessageTooltip?this._errorMessageTooltip.setTextContent(n):this._errorMessageTooltip=o.RichContentTooltip.add(n,this.$errorMessageIcon,{setAriaDescribedBy:!0});n?this.$errorMessageIcon.addClass("show"):this.$errorMessageIcon.removeClass("show")},t.prototype._fetchSuite=function(){return this._options.source.getAnnotationItemSource(s).getItem(this._options.source.id())},t.prototype._getErrorMessage=function(n){var i,t,r;if(n)for(t=0,r=n.length;t<r;t++)if(i=n[t].errorMessage(),i)break;return i},t}(i.AnnotationBadge);t.TestAnnotationBadge=h});

define("WorkItemTracking/Scripts/RecycleBinConstants",["require","exports","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i){var r,u;Object.defineProperty(t,"__esModule",{value:!0});t.RecycleBinTelemetryConstants=t.RecycleBinConstants=void 0,function(n){n.EVENT_DELETE_STARTED="recycle-bin-delete-started";n.EVENT_DELETE_FAILED="recycle-bin-delete-failed";n.EVENT_DELETE_FAILED_TEXT_ONLY="recycle-bin-delete-failed-textonly";n.EVENT_DELETE_SUCCEEDED="recycle-bin-delete-succeeded";n.EVENT_DESTROY_STARTED="recycle-bin-destroy-started";n.EVENT_DESTROY_FAILED="recycle-bin-destroy-failed";n.EVENT_DESTROY_SUCCEED="recycle-bin-destroy-succeed";n.EVENT_RESTORE_STARTED="recycle-bin-restore-started";n.EVENT_RESTORE_FAILED="recycle-bin-restore-failed";n.EVENT_RESTORE_SUCCEED="recycle-bin-restore-succeed";n.CLEANUP_SETTING_REGISTRYKEY="/Service/WorkItemTracking/Settings/MaxDaysWorkItemInRecyclebin";n.DROPPED_ON_RECYCLE_BIN_DATAKEY="dropped-on-recycle-bin"}(r=t.RecycleBinConstants||(t.RecycleBinConstants={})),function(n){n.CI_AREA=i.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING;n.WORKITEM_DELETE="WorkItemDelete";n.WORKITEM_DELETE_PROMPT="WorkItemDelete.Prompt";n.WORKITEM_RESTORE="WorkItemRestore";n.WORKITEM_DESTROY="WorkItemDestroy";n.WORKITEM_DELETE_CLIENT_DENIED="WorkItemDeleteClientDenied";n.KANBAN_SOURCE="Kanban";n.TASK_BOARD_SOURCE="TaskBoard";n.BACKLOG_SOURCE="Backlog";n.ITERATION_BACKLOG_SOURCE="IterationBacklog";n.WORK_ITEMS_VIEW_SOURCE="WorkItemsView";n.WORK_ITEMS_FORM_SOURCE="WorkItemsForm";n.UNKNOWN="Unknown";n.DRAGDROP="Dragdrop";n.CONTEXT_MENU="ContextMenu";n.TOOLBAR="Toolbar";n.DELETE_KEY="DeleteKey"}(u=t.RecycleBinTelemetryConstants||(t.RecycleBinTelemetryConstants={}))});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationViewModels",["require","exports","q","knockout","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Resources/TFS.Resources.Agile","VSS/VSS","VSS/Events/Action","VSS/Utils/Core","VSS/Utils/UI","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Controls/Dialogs","Agile/Scripts/Card/CardsAnnotationsTestAnnotationContracts","Agile/Scripts/Card/CardsAnnotationsTestAnnotationModels","Agile/Scripts/Card/CardsAnnotationsTestAnnotationSource","Agile/Scripts/Card/CardsAnnotationsTestAnnotationTelemetry","WorkItemTracking/SharedScripts/WorkItemDialogShim","WorkItemTracking/Scripts/RecycleBinConstants","Presentation/Scripts/TFS/TFS.Knockout"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){var tt,nt,rt;Object.defineProperty(t,"__esModule",{value:!0});t.TestPointViewModel=t.FieldEditorViewModel=t.TestSuiteViewModel=void 0;d.overrideDefaultBindings();var it=p.TestSuiteSource.sourceType,g=s.delegate,ut=function(){function n(n){this.testPointCollection=r.observableArray([]);this.scrolledItem=r.observable({});this.testManagementControllerName="testManagement";this._source=n.source;this._testCaseWorkItemType=n.testCaseWorkItemType;this._populateTestPointCollection();this._handleMenuClick=n.onMenuClick;this._refreshBadgeCallback=n.refreshBadge;this._removeTestSuiteControlCallback=n.removeTestSuiteControl;this._removeTestPointCallback=n.removeTestPointCallback}return n.prototype.onAddTestClick=function(){this.addTestPoint();w.TelemeteryHelper.publishFeatureTelemetry(w.FeatureScenarios.AddTest,{Source:"AddAnnotationButton"})},n.prototype.onNavigateToSuiteClick=function(){var n=this._getTestSuiteUrl();o.getService().performAction(o.CommonActions.ACTION_WINDOW_OPEN,{url:n,target:"_blank"})},n.prototype.onClickTestDiv=function(){return!1},n.prototype.addTestPoint=function(){var i=new y.TestCaseModel(null,{onDiscard:g(this,g(this,this._onDiscard))}),n=new y.TestPointModel,t;n.outcome(v.TestOutcome.Active);n.testCase(i);t=new nt({testPoint:n,beginSave:g(this,this._onEditEnd),onMoreMenu:g(this,this._openMoreMenu),onDiscard:g(this,g(this,this._onDiscard)),refreshBadge:g(this,this._refreshBadge),quickAdd:g(this,g(this,this._onQuickAdd)),onTestCaseRemove:g(this,this._onTestcaseRemove),onTestCaseDeletion:g(this,this.onTestcaseDeletion)});this.testPointCollection.push(t);this._onEditStart(t)},n.prototype.addDroppedTestPoint=function(n,t){var c=n.testPoint().testCase().id,e=!1,r=this.testPointCollection(),o=-1,u,i,s,f,h;if(r){for(u=r.length,i=0;i<u;i++)if(s=r[i].testPoint().testCase().id,c===s){o=i;e=!0;break}f=r[u-1];f.testPoint().id()===0&&this.testPointCollection.remove(f);e&&(h=this.testPointCollection()[o],this.testPointCollection.remove(h));this.testPointCollection.splice(t,0,n)}},n.prototype.getSuiteModel=function(){return this._source.getAnnotationItemSource(it).getItem(this._source.id())},n.prototype.getTeamId=function(){return this._source.getAnnotationItemSource(it).teamId},n.prototype.dispose=function(){this._handleMenuClick=null;this._refreshBadgeCallback=null;this._removeTestSuiteControlCallback=null;this._removeTestPointCallback=null;$.each(this.testPointCollection(),function(n,t){t.dispose()});this.testPointCollection=null},n.prototype.refreshSuite=function(){var n=this,t=this.getSuiteModel();return t.refresh(this.getTeamId(),this._source.id()).then(g(this,this.updateTestPointCollection),function(t){n._setErrorMessageForPoint(n.testPointCollection(),t.message)}).then(g(this,this._refreshBadge)).then(function(){n.testPointCollection().length<1&&n._removeTestSuiteControl()})},n.prototype.getRequirementId=function(){var n=-1;return this._source&&this._source.id()&&(n=this._source.id()),n},n.prototype.droppableAcceptHandler=function(n,t){if(n&&t){var i=t.getRequirementId(),r=this.getRequirementId();return i===r?!1:!0}return!1},n.prototype.dropHandler=function(n,t,r,u){var f=this,e=this.getRequirementId(),o=t.getRequirementId();this.addDroppedTestPoint(n,u);e===o?(n.isSaving(!0),this._reorderTestcases(u,function(){i(f.refreshSuite()).done(function(){n.isSaving(!1)});w.TelemeteryHelper.publishFeatureTelemetry(w.FeatureScenarios.DragDropComplete,{Copy:(!r).toString()})})):e>0&&n&&this.onTestPointDrop(n,o,e,r).then(function(){f._reorderTestcases(u,function(){t.refreshSuite();f.refreshSuite();w.TelemeteryHelper.publishFeatureTelemetry(w.FeatureScenarios.DragDropComplete,{Copy:(!r).toString()})})})},n.prototype.updateTestPointCollection=function(){var n=this,t=!1,f=this.getSuiteModel(),u={},i=[],r;$.each(f.testPoints(),function(t,r){var f=new nt({testPoint:r,onMoreMenu:g(n,n._openMoreMenu),beginSave:g(n,n._onEditEnd),onDiscard:g(n,n._onDiscard),refreshBadge:g(n,n._refreshBadge),quickAdd:g(n,g(n,n._onQuickAdd)),onTestCaseRemove:g(n,n._onTestcaseRemove),onTestCaseDeletion:g(n,n.onTestcaseDeletion)});u[r.testCase().id]=f;i.push(r.testCase().id)});r=[];$.each(this.testPointCollection(),function(f,e){var o,s,h;r.push(e);o=u[e.testPoint().testCase().id];o&&(s=i.indexOf(e.testPoint().testCase().id),i.splice(s,1),(o.testPoint().sequenceNumber()!==e.testPoint().sequenceNumber()||o.testPoint().testCase().name()!==e.testPoint().testCase().name())&&(h=e.isEditing(),n.testPointCollection.replace(e,o),o.isEditing(h),t=!0),r.pop())});$.each(r,function(i,r){r.testPoint().id()!==0&&(n.testPointCollection.remove(r),t=!0)});$.each(i,function(i,r){var f=u[r];n.testPointCollection().push(f);t=!0});this.testPointCollection.sort(function(n,t){return n.testPoint().sequenceNumber()-t.testPoint().sequenceNumber()});t&&this.testPointCollection.valueHasMutated()},n.prototype.onTestPointDrop=function(n,t,r,u){var f=n.testPoint().testCase();return f.id>0?f.beginUpdateRequirementId(r,t,u):i(undefined)},n.prototype.onTestcaseDeletion=function(n){var t=this.getSuiteModel();t.testPoints.remove(n.testPoint());typeof this._refreshBadge=="function"&&this._refreshBadge();this._onDiscard(n)},n.prototype._setErrorMessageForPoint=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].testPoint().id()===0&&n[i].testPoint().testCase().id!==0&&n[i].testPoint().errorMessage(t)},n.prototype._reorderTestcases=function(n,t){var r=this,u=this._getTestCasesOrder(),i=this.getSuiteModel();return i.refresh(this.getTeamId(),this._source.id()).then(function(){i.updateTestCasesOrder(u).then(function(){t()},function(t){r._onReorderFailed(t,n)})})},n.prototype._getTestSuiteUrl=function(){var n,t=this.getSuiteModel();return n=l.TfsContext.getDefault().getActionUrl("",this.testManagementControllerName),n+"?"+$.param({planId:t.testPlanId,suiteId:t.testSuiteId})},n.prototype._onReorderFailed=function(n,t){var i=this,u=this.testPointCollection(),r;u&&u.length>t&&(r=u[t],this.refreshSuite().then(function(){for(var u=i.testPointCollection().length,t=0;t<u;t++)if(i.testPointCollection()[t].testPoint().testCase().id===r.testPoint().testCase().id){r=i.testPointCollection()[t];break}r.testPoint().errorMessage(n.message);i._refreshBadge()}))},n.prototype._getTestCasesOrder=function(){var i=[],t=this.testPointCollection(),r,n,u,f;if(t)for(r=t.length,n=0;n<r;n++)u=t[n].testPoint().testCase(),f={childSuiteId:0,testCaseId:u.id,sequenceNumber:n+1},i.push(f);return i},n.prototype._onEditStart=function(n){var t=this;s.delay(this,0,function(){n.isEditing(!0);t.scrolledItem(n)})},n.prototype._onDiscard=function(n){var t=this.testPointCollection.remove(n);$.each(t,function(n,t){t.dispose()});this.testPointCollection().length<1&&this._removeTestSuiteControl()},n.prototype._onTestcaseRemove=function(n){var t=n.testPoint().testCase(),u=this.getSuiteModel(),r;return u.testPoints.remove(function(t){return t.id()==n.testPoint().id()}),typeof this._refreshBadge=="function"&&this._refreshBadge(),this._onDiscard(n),this._removeTestPoint(),t.id>0?(r=this.getRequirementId(),t.beginRemove(r)):i(undefined)},n.prototype._onQuickAdd=function(){this.addTestPoint()},n.prototype._onEditEnd=function(n){var t=n.testPoint().testCase(),i={id:this._source.id(),areaPath:this._source.fieldValue("System.AreaPath"),iterationPath:this._source.fieldValue("System.IterationPath")};return t.id===0?t.beginCreate(i,this._testCaseWorkItemType,n).then(g(this,this.refreshSuite),function(t){n.testPoint().errorMessage(t.message)}):t.beginUpdate().then(function(){},function(t){n.testPoint().errorMessage(t.message)})},n.prototype._populateTestPointCollection=function(){var n=this,t=this.getSuiteModel();t&&($.each(t.testPoints(),function(t,i){var r=new nt({testPoint:i,onMoreMenu:g(n,n._openMoreMenu),beginSave:g(n,n._onEditEnd),onDiscard:g(n,n._onDiscard),refreshBadge:g(n,n._refreshBadge),quickAdd:g(n,g(n,n._onQuickAdd)),onTestCaseRemove:g(n,n._onTestcaseRemove),onTestCaseDeletion:g(n,n.onTestcaseDeletion)});n.testPointCollection().push(r)}),this.testPointCollection.sort(function(n,t){return n.testPoint().sequenceNumber()-t.testPoint().sequenceNumber()}),this.testPointCollection.valueHasMutated())},n.prototype._openMoreMenu=function(n,t){typeof this._handleMenuClick=="function"&&this._handleMenuClick(n,t)},n.prototype._refreshBadge=function(){typeof this._refreshBadgeCallback=="function"&&this._refreshBadgeCallback()},n.prototype._removeTestSuiteControl=function(){typeof this._removeTestSuiteControlCallback=="function"&&this._removeTestSuiteControlCallback()},n.prototype._removeTestPoint=function(){typeof this._removeTestPointCallback=="function"&&this._removeTestPointCallback()},n}();t.TestSuiteViewModel=ut;tt=function(){function n(){var n=this;this._lastIsEditingValue=!1;this.isEditing=r.observable(!1);this.isSaving=r.observable(!1);this._subscription=this.isEditing.subscribe(function(t){n._lastIsEditingValue&&t===!1&&!n.isSaving()&&n.commit();n._lastIsEditingValue=t})}return n.prototype.beginEdit=function(){this.isEditing(!0)},n.prototype.commit=function(){},n.prototype.dispose=function(){this._subscription.dispose()},n}();t.FieldEditorViewModel=tt;nt=function(n){function t(t){var i=__construct(this,n,[]);for(var u in i)i.hasOwnProperty(u)&&(this[u]=i[u]);return i.testPoint=r.observable(t.testPoint),i._refreshBadge=t.refreshBadge,i._onMoreMenu=t.onMoreMenu,i._beginSaveChanges=t.beginSave,i._onDiscard=t.onDiscard,i._onTestCaseRemove=t.onTestCaseRemove,i._onTestCaseDeletion=t.onTestCaseDeletion,i._quickAdd=t.quickAdd,i.isContextMenuOpen=r.observable(!1),i.isNew=r.computed(function(){return i.testPoint().id()===0}),i.clampedTitle=r.computed(function(){var n=i.testPoint().testCase().name();return n.length>65&&(n=n.substring(0,62)+"..."),n}),i}return __extends(t,n),t.prototype.beginEdit=function(){n.prototype.beginEdit.call(this);this.lastValue=this.testPoint().testCase().name()},t.prototype.removeTestCase=function(){var n=this,i=c.format(u.TestAnnotation_DeleteTestCaseFromSuiteFormat,c.format(u.TestAnnotation_DeleteTestCaseFromSuiteFormat,u.TestAnnotation_RemoveTestCaseWarningMessage,u.TestAnnotation_RemoveTestCaseFromRequirementSuiteMessage),u.TestAnnotation_ConfirmDeletionText),t;this._onTestCaseRemove&&(t={title:f.ConfirmTestRemoval,contentText:i,okText:f.AdminWorkHub_Remove,okCallback:function(){n._onTestCaseRemove(n)}},a.show(rt,t))},t.prototype.open=function(){var n=this;e.using(["VSS/Events/Services","WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls.RecycleBin","VSS/Service"],function(t,i,r){var f=function(t){n.testPoint().errorMessage(t)},e=function(){n._onTestCaseDeletion&&n._onTestCaseDeletion(n)},u=r.getLocalService(t.EventService),o;u.attachEvent(k.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,e);u.attachEvent(k.RecycleBinConstants.EVENT_DELETE_FAILED,f);o=n.testPoint().testCase().id;b.showWorkItemById(o,{save:function(t){n.testPoint().testCase().name(t.getTitle())},close:function(){u.detachEvent(k.RecycleBinConstants.EVENT_DELETE_SUCCEEDED,e);u.detachEvent(k.RecycleBinConstants.EVENT_DELETE_FAILED,f)},addQueryParam:!0})})},t.prototype.setOutcome=function(n,t,i,r){var u=this;this.testPoint().setOutcome(n,t,i,r).then(function(){},function(n){u.testPoint().errorMessage(n.message)});typeof this._refreshBadge=="function"&&this._refreshBadge()},t.prototype.openMoreMenu=function(n,t){typeof this._onMoreMenu=="function"&&(this.isContextMenuOpen(!0),this._onMoreMenu(t,this))},t.prototype.onClickHandler=function(n,t){t&&t.stopPropagation()},t.prototype.refreshBadgeForError=function(){typeof this._refreshBadge=="function"&&this._refreshBadge()},t.prototype.commit=function(){var n=this,t=this.testPoint().testCase().name().trim(),r=t===this.lastValue,i;r||(i=t==="",i?this.isNew()?this._onDiscard(this):this.testPoint().testCase().name(this.lastValue):(this.testPoint().testCase().name.valueHasMutated(),this.isSaving(!0),this._beginSaveChanges(this).then(function(){typeof n._refreshBadge=="function"&&n._refreshBadge();n.isSaving(!1)},function(){n.isSaving(!1)})))},t.prototype.onContextMenu=function(n,t){return t.stopPropagation(),!0},t.prototype.onKeyUp=function(n,t){return this._onKeyUpAnyMode(n,t)?this.isEditing()?this._onKeyUpInEditMode(n,t):this._onKeyUpInNonEditMode(n,t):!1},t.prototype._onKeyUpAnyMode=function(n,t){return t.keyCode===h.KeyCode.F10&&t.shiftKey?(this.openMoreMenu(n,t),!1):!0},t.prototype._onKeyUpInNonEditMode=function(n,t){var i=!0;return t.keyCode===h.KeyCode.F2&&(this.beginEdit(),i=!1),t.keyCode===h.KeyCode.ENTER&&(this.open(),i=!1),i||(t.preventDefault(),t.stopPropagation()),i},t.prototype._onKeyUpInEditMode=function(n,t){var u=!0,e;if(t.keyCode===h.KeyCode.ENTER||t.keyCode===h.KeyCode.ESCAPE){var o=$(t.target).parents(".test"),i=$(document).find("[tabindex='0']"),f=$(t.target).parents(".test-list-container")[0].children.length,r=i.index(o),s=this.isNew&&this.isNew();t.keyCode===h.KeyCode.ENTER?(this.isEditing(!1),s?typeof this._quickAdd=="function"?this._quickAdd():f>1?i[r-1].focus():i[r-3].focus():i[r].focus()):(e=this.isNew&&this.isNew(),this.testPoint().testCase().name(""),this.isEditing(!1),e?f>1?i[r-1].focus():i[r-3].focus():i[r].focus());u=!1}else t.keyCode===h.KeyCode.TAB&&this.isEditing(!1);return u||(t.preventDefault(),t.stopPropagation()),u},t.prototype.onSelectStart=function(n,t){return t.stopPropagation(),!0},t.prototype.isDraggable=function(){return this.isEditing()?!1:!0},t.prototype.dispose=function(){n.prototype.dispose.call(this);this.clampedTitle.dispose();this.clampedTitle=null;this.isNew.dispose();this.isNew=null;this._onMoreMenu=null;this._refreshBadge=null;this._quickAdd=null;this._beginSaveChanges=null;this._onDiscard=null},t}(tt);t.TestPointViewModel=nt;rt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({width:500,height:"auto"},t))},t.prototype.getDialogResult=function(){return!0},t}(a.ConfirmationDialog)});

define("Agile/Scripts/Board/Templates",["require","exports","Agile/Scripts/Resources/TFS.Resources.AgileControls","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Diag","Presentation/Scripts/TFS/TFS.Knockout"],function(n,t,i,r,u,f){function h(n,t){return s(n),f.loadHtmlTemplate(n,t)}function c(){for(var n in e)s(n)}function s(n){var i,t;$("#"+n).length===0&&(i=e[n],t=document.createElement("script"),t.type="text/html",t.text=i,t.id=n,document.body.appendChild(t))}Object.defineProperty(t,"__esModule",{value:!0});t.registerCommonTemplates=t.loadHtmlTemplate=void 0;t.loadHtmlTemplate=h;t.registerCommonTemplates=c;var o=r.TfsContext.getDefault().configuration,e={};e.board_options_badge='\n    <div class="board-badge-options-container">\n        <h2 class="main-header">'.concat(i.Board_Options_Badge_Title,'<\/h2>\n        <div class="main-description">').concat(i.Board_Options_Badge_Description,'<\/div>\n        <div class="badge-enabled-setting">\n            <input type="checkbox" name="badge-enabled-checkbox" id="badge-enabled-checkbox" value="false" data-bind="checked: statusBadgeIsPublicBinding, disable: !canEdit" >\n            <label for="badge-enabled-checkbox">').concat(i.Board_Options_Badge_Enable_Help_Text,'<\/label>\n        <\/div>\n        <div class="board-badge-preview-container">\n            <div class="board-badge-preview-settings">\n                <h3>').concat(i.Board_Options_Badge_Settings_Title,'<\/h3>\n                <div class="badge-configure-description">').concat(i.Board_Options_Badge_Enable_Description,'<\/div>\n                <div class="board-badge-mode-radio-list">\n                    <div>\n                        <input type="radio" name="badge-column-settings" id="ShowOnlyInProgressColumns" value="false" data-bind="checked: includeAllColumnsBinding, disable: !canEdit" >\n                        <label for="ShowOnlyInProgressColumns">').concat(i.Board_Options_Badge_InProgress_Columns,'<\/label>\n                    <\/div>\n                    <div>\n                        <input type="radio" name="badge-column-settings" id="ShowAllColumns" value="true" data-bind="checked: includeAllColumnsBinding, disable: !canEdit" >\n                        <label for="ShowAllColumns">').concat(i.Board_Options_Badge_All_Columns,'<\/label>\n                    <\/div>\n                <\/div>\n            <\/div>\n            <div class="board-badge-preview">\n                <h3>').concat(i.Board_Options_Badge_Preview_Title,'<\/h3>\n                <img src=""  data-bind="attr: { src: badgeSampleUrlBinding }" alt="').concat(i.Board_Options_Badge_Example_Status,'" />\n                <div class="badge-text-wrapper">\n                    <div class="badge-text-field-container flex-column">\n                        <label for="badge-markdown-text">').concat(i.Board_Options_Badge_Markdown_Text,'<\/label>\n                        <div class="badge-text-field flex-column"> \n                            <input class="flex-row flex-center flex-grow" type="text" id="badge-markdown-text" readonly data-bind="value: badgeMarkdownBinding" />\n                        <\/div>\n                    <\/div>\n                    <div class="badge-copy-container">\n                        <div role="button" aria-label="').concat(i.Board_Options_Badge_Copy_Text,'" class="bowtie-icon bowtie-edit-copy" data-bind="click: copyMarkdown"><\/div>\n                    <\/div>\n                <\/div>\n                <div class="badge-text-wrapper">\n                    <div class="badge-text-field-container flex-column">\n                        <label for="badge-url-text">').concat(i.Board_Options_Badge_URL_Text,'<\/label>\n                        <div class="badge-text-field flex-column"> \n                            <input class="flex-row flex-center flex-grow" type="text" id="badge-url-text" readonly data-bind="value: badgeUrlBinding" />\n                        <\/div>\n                    <\/div>\n                    <div class="badge-copy-container">\n                        <div role="button" aria-label="').concat(i.Board_Options_Badge_Copy_Text,'" class="bowtie-icon bowtie-edit-copy" data-bind="click: copyUrl"><\/div>\n                    <\/div>\n                <\/div>\n                <div class="badge-settings-note">').concat(i.Board_Options_Badge_Notice,"<\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n");e.board_options_card_reordering='\n    <div class="board-card-reordering-container">\n        <h2 class="main-header">'.concat(i.Board_Options_CardReorderingTitle,'<\/h2>\n        <div class="main-description">').concat(i.Board_Options_CardReorderingDescription,'<\/div>\n        <div class="card-reordering">\n            <div class="card-reordering-radiolist">\n                <div>\n                    <input type="radio" name="card-reordering-radio" id="AllowBacklogReordering" value="false" data-bind="checked: preserveBacklogOrderBinding, disable: !canEdit, event: { focus: onFocus, blur: onBlur }" >\n                    <label for="AllowBacklogReordering">').concat(i.Board_Options_CardReordering_AllowBacklogReordering,'<\/label>\n                    <div>\n                        <img class="card-reordering-image" alt="" src="').concat(o.getResourcesFile("board.png"),'" data-alt="').concat(o.getResourcesFile("boardallowbacklogreodering.gif"),'" data-bind="click: toggle" />\n                        <img class="card-reordering-image" alt="" src="').concat(o.getResourcesFile("boardallowbacklogreodering.gif"),'" data-bind="visible: false" />\n                    <\/div>\n                <\/div>\n                <div>\n                    <input type="radio" name="card-reordering-radio" id="PreserveBacklogOrder" value="true" data-bind="checked: preserveBacklogOrderBinding, disable: !canEdit, event: { focus: onFocus, blur: onBlur }">\n                    <label for="PreserveBacklogOrder">').concat(i.Board_Options_CardReordering_PreserveBacklogOrder,'<\/label>\n                    <div>\n                        <img class="card-reordering-image" alt="" src="').concat(o.getResourcesFile("board.png"),'" data-alt="').concat(o.getResourcesFile("boardpreservebacklogorder.gif"),'" data-bind="click: toggle" />\n                        <img class="card-reordering-image" alt="" src="').concat(o.getResourcesFile("boardpreservebacklogorder.gif"),'" data-bind="visible: false" />\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n');e.card_annotation_info_template='\n    <div class="text-area-container">\n        <h2 class="main-header card-annotation-title">'.concat(i.CSC_CARDS_ANNOTATION_TAB_TITLE,'<\/h2>\n        <div class="main-description card-annotation-description">').concat(i.CardAnnotation_Description,"<\/div>\n    <\/div>\n");e.card_annotations_customization_template='\n    <div class="annotation-template-container-table-wrapper">\n        <div class="annotation-template-container-table flex-column" aria-label='.concat(i.CardAnnotation_HeaderName,'>\n            <div class="annotation-settings-header" data-bind="visible: (availableAnnotations().length > 0)">\n                <div data-bind="visible: annotationsLimitReached()">\n                    <i class="bowtie-icon bowtie-status-info"><\/i>\n                    <span>').concat(i.CardAnnotation_EnabledLimit,'<\/span>\n                <\/div>\n                <div class="annotation-settings-header-container">\n                    <div class="annotation-name-heading">').concat(i.CardAnnotation_HeaderName,'<\/div>\n                    <div class="annotation-state-heading">\n                        <div class="annotation-preview-heading">').concat(i.CardAnnotation_HeaderPreview,'<\/div>\n                        <div class="annotation-enabled-heading">').concat(i.CardAnnotation_EnabledStateLabel,'<\/div>\n                    <\/div>\n                <\/div>\n            <\/div>\n            <div class="annotations-table-row scroll-auto">\n                <div class="annotations-table-cell">\n                    <div class="annotations-container-wrapper">\n                        <div class="annotations-container">\n                            <div class="annotation-list-template-container" data-bind="foreach: availableAnnotations">\n                                <div class="annotation-container">\n                                    <div data-bind="template: { name: \'annotation_view_template\' }"><\/div>\n                                <\/div>\n                            <\/div>\n                        <\/div>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n');e.annotation_view_template='\n    <div class="compact-annotation-container">\n        <div class="annotation-name" data-bind="text: name"><\/div>\n        <div class="annotation-summary">\n            <div class="annotation-icon" data-bind="html: iconControl"><\/div>\n            <input\n                type="checkbox"\n                class="annotation-toggle"\n                data-bind="checked: isOn, attr: { disabled: !$parent.isEditable(), \'aria-label\': ariaLabel }" />\n        <\/div>\n    <\/div>\n';e.card_styling_info_template='\n    <div class="text-area-container">\n        <h2 class="main-header card-styling-title">'.concat(i.CardStyling_Title,'<\/h2>\n        <div class="main-description card-styling-description" id="cardStylingDescription">').concat(i.CardStyling_Description,'<\/div>\n        <div class="message-container" data-bind="visible: error()">\n            <div class="message-area-control error-message visible server-error">\n                <span data-bind="text: error"><\/span>\n            <\/div>\n        <\/div>\n        <div class="section-description card-styling-manage-rules-standalone-description">').concat(i.CardStyling_ManageRules_Standalone_Description,"<\/div>\n    <\/div>\n");e.card_styling_rules_template='\n    <div class="rules-template-container-table-wrapper">\n        <div role="button" aria-label="'.concat(i.CardStyling_AddRule_Label,'" aria-describedby="cardStylingDescription" class="add-control" data-bind="click: addNewStyleRule, returnKey: addNewStyleRule, hasfocus: addRuleFocus, css: { \'disable\': disableAddStyle }, attr: { \'aria-disabled\': disableAddStyle }" tabindex="0">\n            <span class="add-control-icon">\n                <i class="bowtie-icon bowtie-math-plus" data-bind="css: { \'i.bowtie-math-plus-gray\': disableAddStyle }"><\/i>\n            <\/span>\n            <div class="control-text">').concat(i.CardStyling_NewStylingRule,'<\/div>\n        <\/div>\n        <div data-bind="visible: styleRuleLimitReached()">\n            <i class="bowtie-icon bowtie-status-info"><\/i>\n            <span>').concat(i.CardStyling_MaxRuleWarning,'<\/span>\n        <\/div>\n        <div class="rules-template-container-table">\n            <div class="style-rules-header" data-bind="visible: (styleRules().length > 0)">\n                <div class="style-rules-header-container">\n                    <div class="gripper-placeholder" data-bind="visible: isEditable"><\/div>\n                    <div class="rule-name-heading">').concat(i.CardStyling_HeaderRuleName,'<\/div>\n                    <div class="rule-state-heading" data-bind="css: { \'rules-with-contextmenu\': isEditable }">\n                        <div class="rule-preview-heading">').concat(i.CardStyling_HeaderPreview,'<\/div>\n                        <div class="rule-enabled-heading">').concat(i.CardStyling_EnabledStateLabel,'<\/div>\n                    <\/div>\n                <\/div>\n            <\/div>\n            <div class="rules-table-row">\n                <div class="rules-table-cell">\n                    <div class="rules-container-wrapper">\n                        <div class="rules-container">\n                            <div class="rule-list-template-container" data-bind="foreach: styleRules, styleRulesSortable: styleRules">\n                                <div class="rule-container">\n                                    <div data-bind="template: { name: \'rule_view_template\' }"><\/div>\n                                <\/div>\n                            <\/div>\n                        <\/div>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n');e.rule_view_template='\n    <div class="compact-rule-container" role="button" aria-describedby="CardStyleRule_AriaDescribedby" tabindex="0" data-bind="css: { \'active\': isSelected }, click: $parent.onClickCompactRule, event: { keyup: $parent.onKeyPress }, attr: {\'aria-label\': ariaLabel, \'aria-expanded\': isSelected }">\n        <div id="CardStyleRule_AriaDescribedby" data-bind="visible: false" >'.concat(i.CardStyleRule_AriaDescribedby,'<\/div>\n        <div class="gripper"><\/div>\n        <div class="rule-name" data-bind="text: name"><\/div>\n        <div class="rule-summary">\n            <div class="rule-color" data-bind="style: { backgroundColor: color, color: titleColor },\n                css: { \'bold\': isBoldSelected, \'italic\': isItalicsSelected, \'underline\': isUnderlineSelected },\n                attr: { \'aria-label\': getSelectedColorTooltip() }">\n                ').concat(i.CardStyling_PreviewText,'\n            <\/div>\n            <input aria-label="').concat(i.CardStyling_RuleCheckbox_ToolTip,'" type="checkbox" class="rule-switch" data-bind="checked: isOn, attr: { disabled: !$parent.isEditable(), \'aria-disabled\': !$parent.isEditable() }" tabindex="-1" />\n            <div class="rule-state"><\/div>\n            <div class="bowtie-icon bowtie-ellipsis" data-bind="visible: $parent.isEditable(), menuClickHandler: $data"><\/div>\n            <div class="bowtie-icon bowtie-status-error" data-bind="visible: !isValid() && !isSelected()"><\/div>\n        <\/div>\n    <\/div>\n\n    <div class="rule-form-container" data-bind="visible: isSelected">\n        <!--name section-->\n        <div class="section-header master-detail-content-topmost">').concat(i.CardStyleRule_NameSectionTitle,'<\/div>\n        <div class="name-section">\n            <div class="input-container">\n                <span class="label">').concat(i.CardStyleRule_NameLabel,'<\/span>\n                <span class="input-wrap">\n                    <input aria-label="').concat(i.CardStyleRule_NameSectionTitle,'" type="text" data-bind="value: name, valueUpdate: [\'keyup\', \'input\'], css: { \'invalid\': (isDuplicateName() || isNameEmpty()) }, attr: { readonly: !$parent.isEditable(), disabled: !$parent.isEditable() }" maxlength="255" />\n                <\/span>\n            <\/div>\n            <!-- error message area-->\n            <div class="message-container" data-bind="if: (isDuplicateName() || isNameEmpty())">\n                <div class="message-area-control visible">\n                    <div class="bowtie-icon bowtie-status-error" data-bind="visible: (isDuplicateName() || isNameEmpty())"><\/div>\n                    <div class="agile-board-error-message" data-bind="if: !isNameEmpty() && isDuplicateName()">').concat(i.CardStyling_DuplicateName_Error,'<\/div>\n                    <div class="agile-board-error-message" data-bind="if: isNameEmpty">').concat(i.CardStyling_EmptyName_Error,'<\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <!--style section-->\n        <div class="section-header">').concat(i.CardStyleRule_StylingLabel,'<\/div>\n        <div class="section-description styling">').concat(i.CardStyleRule_StyleInstruction,'<\/div>\n\n        <div class="style-section">\n            <div class="style-sub-label card-color">').concat(i.CardStyleRule_CardColorLabel,'<\/div>\n            <div class="card-background style-section" data-bind="tfsColorPicker: getStyleBackgroundPickerOptions()"><\/div>\n            <div class="title-styling-container" data-bind="event: { keydown: onTitleToolbarKeydown }">\n                <div class="style-sub-label title-style" id="CardStyleRule_TitleStyleLabelId">').concat(i.CardStyleRule_TitleStyleLabel,'<\/div>\n                <div class="title-style style-section-container" role="group" aria-labelledby="CardStyleRule_TitleStyleLabelId">\n                    <div class="title-style style-section">\n                        <div class="rule-form-color-dropdown" data-bind="tfsFontColorPicker: getTitleColorPickerOptions()"><\/div>\n                    <\/div>\n                    <span role="button" class="title-bold title-style-btn noselect" aria-label="').concat(i.CardStyleRule_Title_BoldToolTip,'" data-bind="css: { \'toggle-on\': isBoldSelected, \'disabled\': !$parent.isEditable }, click: toggleBold, enterKeyDown: toggleBold, attr: { \'aria-disabled\': !$parent.isEditable, \'aria-pressed\': isBoldSelected }" tabindex="-1">\n                        <span class="bowtie-icon bowtie-format-bold"><\/span>\n                    <\/span>\n                    <span role="button" class="title-italics title-style-btn noselect" aria-label="').concat(i.CardStyleRule_Title_ItalicToolTip,'" data-bind="css: { \'toggle-on\': isItalicsSelected, \'disabled\': !$parent.isEditable }, click: toggleItalics, enterKeyDown: toggleItalics, attr: { \'aria-disabled\': !$parent.isEditable, \'aria-pressed\': isItalicsSelected }" tabindex="-1">\n                        <span class="bowtie-icon bowtie-format-italic"><\/span>\n                    <\/span>\n                    <span role="button" class="title-underline title-style-btn noselect" aria-label="').concat(i.CardStyleRule_Title_UnderlineToolTip,'" data-bind="css: { \'toggle-on\': isUnderlineSelected, \'disabled\': !$parent.isEditable }, click: toggleUnderline, enterKeyDown: toggleUnderline, attr: { \'aria-disabled\': !$parent.isEditable, \'aria-pressed\': isUnderlineSelected }" tabindex="-1">\n                        <span class="bowtie-icon bowtie-format-underline"><\/span>\n                    <\/span>\n                <\/div>\n            <\/div>\n        <\/div>\n\n        <!--criteria section-->\n        <div class="section-header">').concat(i.CardStyleRule_CriteriaLabel,"<\/div>\n        <div>").concat(i.CardStyleRule_CriteriaInstructions,'<\/div>\n        <!-- criteria error message area-->\n        <div aria-live="assertive" class="message-container" data-bind="if: (isWiqlInvalid() || (isWiqlEmpty() && hasBeenEdited()))">\n            <div class="message-area-control visible">\n                <div class="bowtie-icon bowtie-status-error" data-bind="visible: (isWiqlInvalid() || (!$data.hideWiqlEmptyError() && isWiqlEmpty()))"><\/div>\n                <div class="agile-board-error-message" data-bind="if: isWiqlInvalid">').concat(i.CardStyling_InvalidCriteria_Error,'<\/div>\n                <div class="agile-board-error-message" data-bind="if: (!$data.hideWiqlEmptyError() && isWiqlEmpty())">').concat(i.CardStyling_EmptyCriteria_Error,'<\/div>\n            <\/div>\n        <\/div>\n        <div data-bind="visible: isAddClauseDisabled">\n            <i class="bowtie-icon bowtie-status-info"><\/i>\n            <span>').concat(i.CardStyling_MaxClausesWarning,'<\/span>\n        <\/div>\n        <div class="style-rule-criteria"><\/div>\n\n    <\/div>\n');e.tag_coloring_info_template='\n    <div class="text-area-container">\n        <h2 class="main-header tag-coloring-title">'.concat(i.CSC_CARDS_TAGCOLOR_TAB_TITLE,'<\/h2>\n        <div class="main-description tag-coloring-description" id="tagColoringDescription">').concat(i.TagColoring_Description,"<\/div>\n    <\/div>\n");e.tag_coloring_rules_template='\n    <div class="tag-color-template-container-table-wrapper">\n        <div role="button" class="add-control" data-bind="click: addNewTagColor, tagColorReturnKey: addNewTagColor, hasfocus: focusOnAddTag, css: { \'disable\': disableAdd }, attr: { \'aria-describedby\': disableAdd ? \'tagColoringMaxWaring\' : \'tagColoringDescription\', \'aria-disabled\': disableAdd }" tabindex="0" aria-label="'.concat(i.CardOptions_NewTagColorToolTip,'">\n            <span class="add-control-icon">\n                <i class="bowtie-icon bowtie-math-plus" data-bind="css: { \'i.bowtie-math-plus-gray\': disableAdd }"><\/i>\n            <\/span>\n            <div class="control-text">').concat(i.TagColoring_NewTag,'<\/div>\n        <\/div>\n        <div data-bind="visible: showWarning">\n            <i class="bowtie-icon bowtie-status-info"><\/i>\n            <span id="tagColoringMaxWaring">').concat(i.TagColoring_MaxRuleWarning,'<\/span>\n        <\/div>\n        <div class="tag-color-template-container-table">\n            <div class="tags-container-wrapper">\n                <table class="tag-fields-header">\n                    <tr class="tags-caption" data-bind="visible: ($data.styleRules().length > 0)">\n                        <th class="tags-caption-name">').concat(i.TagColoring_TagHeader,'<\/th>\n                        <th class="tags-caption-color">').concat(i.TagColoring_ColorHeader,'<\/th>\n                        <th class="tags-caption-enable">').concat(i.TagColoring_EnabledHeader,'<\/th>\n                        <th><\/th>\n                        <th><\/th>\n                    <\/tr>\n                <\/table>\n                <div class="tag-fields-scrollable-section">\n                    <table class="tags-container">\n                        <tbody class="tag-fields-section" data-bind="foreach: styleRules">\n                            <tr class="tag-field-content-area" data-bind="handleFocusOnCombo: $data, event: { mouseover: $parent.onMouseOver, onfocusin: $parent.onMouseOver }">\n                                <td class="tag-field" data-bind="tagcombo: $data, comboOptions: $parent.tagsComboOptions, comboContainer: $parent.COMBOCONTAINERSELECTOR">\n                                    <div class="comboarea"><\/div>\n                                <\/td>\n                                <td class="style-section tag-color-picker" data-bind="tfsColorPicker: getTagColorPickerOptions()"><\/td>\n                                <td class="tag-enable-checkbox" aria-label="').concat(i.CardOptions_EnableDisableTagColor,'">\n                                    <input aria-label="').concat(i.CardOptions_EnableDisableTagColor,'" type="checkbox" data-bind="checked: isOn, enable: $parent.isEditable(), attr: { \'aria-disabled\': !$parent.isEditable() }" />\n                                <\/td>\n                                <td class="tag-delete-section">\n                                    <i role="button" aria-label="').concat(i.CardOptions_DeleteTagColor,'" class="bowtie-icon bowtie-math-multiply" data-bind="click: $parent.removeTagColor, clickOnEnterKey: true, visible: $parent.isEditable()" tabindex="0"><\/i>\n                                <\/td>\n                                <td class="error-message-section">\n                                    <div class="control-message-area" data-bind="visible: $data.isDuplicate() ">\n                                        <div class="bowtie-icon bowtie-status-error" style="display: none" data-bind="visible: $data.hasError"><\/div>\n                                        <div class="agile-board-error-message" data-bind="text: $data.errorMessage"><\/div>\n                                    <\/div>\n                                <\/td>\n                            <\/tr>\n                        <\/tbody>\n                    <\/table>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n');e.test_annotation_config_template='\n    <h2 class="main-header">'.concat(i.CSC_TESTS_TAB_TITLE,'<\/h2>\n    <div class="main-description">').concat(i.TestAnnotation_Configuration_Description,"<\/div>\n    <div data-bind=\"template: { name: 'test_plan_configuration_template', data: planSettingsViewModel }\"><\/div>\n    <div data-bind=\"template: { name: 'test_outcome_configuration_template', data: outcomeSettingsViewModel }\"><\/div>\n");e.test_plan_configuration_template='\n    <div class="section-header">'.concat(i.TestAnnotation_Configuration_TestPlan_Title,'<\/div>\n    <div class="section-description">').concat(i.TestAnnotation_Configuration_TestPlan_Description,'<\/div>\n    <div class="team-settings test-settings">\n        <div class="teamsettings-radiolist">\n            <!-- value radio button is bound to enum where 0 is default and 1 is for custom -->\n            <div class="test-settings-option">\n                <input type="radio" name="testPlanType" value="0" id="defaultPlan" data-bind="checked: model.testPlanType, attr: { disabled: !$parent.isEditable(), \'aria-disabled\': !$parent.isEditable() }" />\n                <label for="defaultPlan">').concat(i.TestAnnotation_Configuration_TestPlan_Default,'<\/label>\n            <\/div>\n            <div class="test-settings-option">\n                <input type="radio" name="testPlanType" value="1" id="customPlan" data-bind="checked: model.testPlanType, attr: { disabled: !$parent.isEditable(), \'aria-disabled\': !$parent.isEditable() }" />\n                <label for="customPlan">').concat(i.TestAnnotation_Configuration_TestPlan_Custom,'<\/label>\n            <\/div>\n        <\/div>\n        <div class="test-plan-selection">\n            <input class="selected-test-plan" aria-label="').concat(i.TestAnnotation_Configuration_TestPlan_Custom_Placeholder,'" data-bind="value: testPlanTitle, enable: Number(model.testPlanType()) === 1 && $parent.isEditable()" placeholder="').concat(i.TestAnnotation_Configuration_TestPlan_Custom_Placeholder,'" readonly tabindex="-1"/>\n            <button class="browse-test-plans" data-bind="click: openQueryDialog, enable: Number(model.testPlanType()) === 1 && $parent.isEditable()" title="').concat(i.TestAnnotation_Configuration_TestPlan_Custom_Placeholder,'">...<\/button>\n        <\/div>\n    <\/div>\n');e.test_outcome_configuration_template='\n    <div class="section-header">'.concat(i.Configure_Outcome_Title,'<\/div>\n    <div class="section-description">').concat(i.Configure_Outcome_Description,'<\/div>\n    <div class="team-settings test-settings">\n        <div class="outcome-settings-container">\n            <input id="configureTestOutcome" aria-describedby="configureOutcomeInfo" type="checkbox" data-bind="checked: model.propagateOutcome, attr: { disabled: !$parent.isEditable(), \'aria-disabled\': !$parent.isEditable() }" />\n            <label for="configureTestOutcome">').concat(i.Configure_Outcome_Label,'<\/label>\n        <\/div>\n        <div>\n            <span class="info-icon bowtie-icon bowtie-status-info"><\/span><span style="margin-left: 6px;" id="configureOutcomeInfo">').concat(i.Configure_Outcome_Info,"<\/span>\n        <\/div>\n    <\/div>\n");e["field-settings-tab-content-template"]='\n    <div>\n        <div class="section-header">'.concat(i.CommonSettings_Fields_CoreFieldsSectionHeader,'<\/div>\n        <div class="core-fields-checkbox">\n            <input type="checkbox" id="showId" data-bind="checked: showID">\n            <label for="showId" data-bind="text: idLabelText"><\/label>\n        <\/div>\n        <div class="core-fields-checkbox">\n            <input type="checkbox" id="showAssignedTo" data-bind="checked: showAssignedTo">\n            <label for="showAssignedTo" data-bind="text: assignedToLabelText"><\/label>\n        <\/div>\n        <div>\n            <span class="field-format-selector"  data-bind="combo: assignedToSelectedFormat, comboOptions: assignedToComboOptions, comboContainer: comboContainerSelector"><div class="comboarea"><\/div><\/span>\n        <\/div>\n        <div class="core-fields-checkbox" data-bind="visible: hasEffortField">\n            <input type="checkbox" id="showEffort" data-bind="checked: showEffort">\n            <label for="showEffort" data-bind="text: effortLabelText"><\/label>\n        <\/div>      \n        <div class="core-fields-checkbox">\n            <input type="checkbox" id="showTags" data-bind="checked: showTags">\n            <label for="showTags" data-bind="text: tagsLabelText"><\/label>\n        <\/div>\n        <div class="section-header additional-field-section-header">').concat(i.CommonSettings_Fields_AdditionalFieldsSectionHeader,'<\/div>\n        <div class="section-header-description" id="additionalFieldsHelpText">').concat(i.CardOptions_AdditionalFieldsSectionHelpText,'<\/div>\n        <div role="button" aria-describedby="additionalFieldsHelpText" aria-label="').concat(i.CardFields_AddNewField_Label,'" class="add-control" data-bind="click: addAdditionalField, hasfocus: focusOnAddField, clickOnEnterKey: true, css: {\'disable\': !fieldAdditionEnabled() }, attr: { \'aria-disabled\': !fieldAdditionEnabled() }" tabindex="0">\n            <span class="add-control-icon">\n                <i class="icon bowtie-icon bowtie-math-plus" data-bind="css: { \'i.bowtie-math-plus-gray\': !fieldAdditionEnabled() }"><\/i>\n            <\/span>\n            <div class="control-text">').concat(i.CardOptions_AddField,'<\/div>\n        <\/div>\n        <div  class="additional-fields-section" data-bind="foreach: additionalFields, additionalFieldsSortable: additionalFields">\n           <div class="additional-field" data-bind="combo: $data, comboOptions: $parent.additionalFieldComboOptions, comboContainer: $parent.comboContainerSelector" tabindex="0" aria-label="').concat(i.CardOptions_AddField,'">\n              <span class="additionalfield-content-area" data-bind="handleFocus: true">\n                  <div class="gripper" style="display:none" data-bind="visible: true"><\/div>\n                  <div class="comboarea"><\/div>\n                  <i role="button" aria-label="').concat(i.CardFields_Settings_AdditionalFields_Delete_Label,'" class="icon bowtie-icon bowtie-math-multiply" style="display:none" data-bind="click: $parent.removeAdditionalField, clickOnEnterKey: true, visible: $parent.canEdit" tabindex="0"><\/i>\n              <\/span>\n              <div aria-live="assertive" class="control-message-area" data-bind="visible: $data.showError">\n                  <div class="icon bowtie-icon bowtie-status-error" style="display:none" data-bind="visible: $data.hasError"><\/div>\n                  <div class="agile-board-error-message" data-bind="text: $data.errorMessage"><\/div>\n              <\/div>\n           <\/div>\n        <\/div>\n\n        <div class="section-header" data-bind="text: showEmptyFieldsLabelText" ><\/div>\n        <div class="core-fields-checkbox">\n            <input type="checkbox" id="showEmptyFields" data-bind="checked: showEmptyFields">\n            <label for="showEmptyFields">').concat(i.CardFieldOptions_ShowEmptyFieldsHelpText,"<\/label>\n        <\/div>\n    <\/div>\n");e["filter-control-template"]='\n    <div class="filter-control">\n        <table>\n            <tr class="field-filters-container" data-bind="if: areFieldFiltersAvailable, visible: showFieldFilters">\n                <td>\n                    <div>\n                        <!-- ko foreach: fieldFilterViewModels  -->\n                        <div class="field-filter" data-bind="fieldFilter: $data"><\/div>\n                        <!-- /ko -->\n                        <div data-bind="visible: hasSelectedFilters" class="clearall-section">\n                            <a><span role="button" title="'.concat(i.Filtering_ClearAll,'" data-bind="click: clearAllFilters, clickOnEnterKey: true" tabindex="0">').concat(i.Filtering_ClearAll,"<\/span><\/a>\n                        <\/div>\n                    <\/div>\n                <\/td>\n            <\/tr>\n        <\/table>\n    <\/div>\n");e["tabstrip-collection-template"]='\n    <div class="tabstrip-collection" role="tablist" data-bind="foreach: tabs, sortable: tabs">\n        <div class="tabstrip" role="tab" tabindex="-1" data-bind="attr: { \'aria-label\': tabName, \'aria-selected\': (($parent.activeTabIndex() === $index()) ? \'true\' : \'false\') }, selectTabHandler: $data, tabMenuRightClickHandler: $data, css: { \'active\': $parent.activeTabIndex() == $index(), \'unsortable\': !$data.isSortable() }, icon: { project: $data.projectName, type: $data.workItemTypeName, containerSelector: \'.work-item-icon\' }">\n            <span class="work-item-icon"><\/span>\n            <div class="header-gripper" data-bind="hidden: $parent.tabs().length == 1 || !isSortable()"><\/div>\n            <div class="header" data-bind="text: tabName"><\/div>\n            <div class="icon bowtie-icon bowtie-ellipsis tabstrip-menu" role="button" data-bind="tabMenuClickHandler: $data"><\/div>\n            <div class="icon bowtie-icon bowtie-status-error" data-bind="visible: !isValid()"><\/div>\n        <\/div>\n    <\/div>\n';e.test_list_template='\n    <!-- refactor css classes currently reuse test list class-->\n    <div class="test-list">\n        <div class="separator"><\/div>\n        <div class="test-list-header">\n          <div class="add-test-container" role="button" data-bind="click: onAddTestClick, clickBubble: false" tabindex="0">\n            <div class="bowtie-icon bowtie-math-plus"><\/div>\n            <span class="add-item-text">'.concat(i.TestAnnotation_AddTest,'<\/span>\n        <\/div>\n          <div  class="navigate-to-suite-container" role="link" data-bind="click: onNavigateToSuiteClick, clickBubble: false" tabindex="0">\n                <div class="add-test-separator"><\/div>\n                <div aria-label="navigate-button" class="bowtie-icon bowtie-arrow-open"><\/div>\n          <\/div>\n        <\/div>\n        <div class="test-list-container" data-bind="foreach: testPointCollection, droppableTestPointContainer: $data">\n            <div class="test" tabindex="0" data-bind="click: onClickTestDiv, event: { contextmenu: openMoreMenu, \'keydown.VSS.Agile\': onKeyUp }, clickBubble: false, scrollTo: $root.scrolledItem() == $data, css: { \'tabbed-focus\': isContextMenuOpen, \'point-edit-mode\': isEditing}, draggableTestPointItem: { item: $data, parentItem: $root } ">\n                <div class="gripper"><\/div>\n                <div class="test-state icon" data-bind="testOutcome: testPoint().outcome"><\/div>\n                <div class="error-message-icon bowtie-icon bowtie-status-error" data-bind="visible: testPoint().isErrorOccured"><\/div>\n                <div class="test-title-container">\n                    <div class="title ellipsis" data-bind="clampText: testPoint().testCase().name">\n                        <span class="clamped-text clickable-title" data-bind="text: testPoint().testCase().name, css: { \'error-title\': testPoint().isErrorOccured }, visible: !isEditing(), click: open"><\/span>\n                        <textarea maxlength="255" aria-label="').concat(i.TestAnnotation_AddTest,'" class="editableTitleContent" data-bind="visible: isEditing, click: onClickHandler, value: testPoint().testCase().name, valueUpdate: [\'keyup\', \'paste\'], hasfocus: isEditing, event: { contextmenu: onContextMenu, selectstart: onSelectStart }"><\/textarea>\n                    <\/div>\n                <\/div>\n                <div class="test-point-context-menu" data-bind="click: openMoreMenu">\n                    <div class="bowtie-icon bowtie-ellipsis test-menu" data-bind="visible: !isNew(), css: { \'tabbed-focus\': isContextMenuOpen }"><\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n');e.work_item_list_template='\n    <div class="work-item-list">\n        <div class="separator"><\/div>\n        <div class="add-work-item-container" role="button" data-bind="visible: workItemCreationEnabled, click: addNewDefaultWorkItem, clickBubble: false" tabindex="0">\n            <div class="bowtie-icon bowtie-math-plus"><\/div>\n            <span class="add-item-text" data-bind="text: addItemText"><\/span>\n        <\/div>\n        <div class="work-item-list-container" data-bind="click: onClickWorkItemListContainer, clickBubble: true, foreach: listItems, sortableChecklistContainer: listItems">\n            <div class="work-item" role="checkbox" tabindex="0" data-bind="click: onClickWorkItem, event: { contextmenu: createContextMenu, \'keydown.VSS.Agile\': onKeyDownWorkItemHandler }, clickBubble: true, attr: { id: id(), itemType: $data.itemType }, scrollTo: $root.scrolledItem() == $data, sortableChecklistItem: { item: $data, parentItemList: $root.listItems }, icon: { project: $data.projectName, type: $data.workItemTypeName, containerSelector: \'.work-item-icon\' }">\n                <div class="gripper" data-bind="style: { visibility: canReorder() ? \'\' : \'hidden\' }"><\/div>\n                <input class="work-item-state" type="checkbox" data-bind="checked: isComplete, disable: isSaving, click: onClickWorkItemStateCheckBox, clickBubble: false, style: { visibility: isSaved() ? \'\' : \'hidden\' }" tabindex="-1" />\n                <span class="work-item-icon"><\/span>\n                <div class="error-message-icon bowtie-icon bowtie-status-error" data-bind="visible: !isValid()"><\/div>\n                <div class="work-item-title-container" data-bind="css: { \'show-error\': !isValid() }">\n                    <div class="title ellipsis" data-bind = "css: { \'completed\': isComplete }">\n                        <span class="clickable-title" data-bind="text: name, css: { \'error-title\': !isValid() }, visible: !isEditing(), click: openWorkItem"><\/span>\n                    <\/div>\n                <\/div>\n                <div class="work-item-context-menu" data-bind="click: createContextMenu">\n                    <div class="bowtie-icon bowtie-ellipsis work-item-menu" data-bind="visible: isSaved(), css: { \'tabbed-focus\': isContextMenuOpen() }"><\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n';e["swimlane-settings-tab-content-template"]='\n    <div class="section-header master-detail-content-topmost">\n        <span data-bind="text: title"><\/span>\n    <\/div>\n    <div class="section-description">\n        <span data-bind="text: subtitle"><\/span>\n    <\/div>\n    <div class="input-container" data-bind="visible: isLaneNameEditable">\n        <span class="label">'.concat(i.Swimlane_Settings_Lane_Label,'<\/span>\n        <!-- Add an wrapper span and use the border of the wrapper span instead of input board to solve the FF high contrast issue -->\n        <span class="input-wrap">\n            <input aria-label="').concat(i.Swimlane_Settings_Tab_Title,'" type="text" data-bind="value: name, valueUpdate: \'keyup\', css: { \'invalid\': !isValid() }, attr: { \'aria-invalid\': !isValid() }" class="swimlane-name-input"/>\n        <\/span>\n    <\/div>\n    <div aria-live="assertive" class="control-message-area" data-bind="visible: message() || warningMessage()">\n        <div class="icon bowtie-icon bowtie-status-error" data-bind="visible: !isValid()"><\/div>\n        <div class="agile-board-error-message" data-bind="text: message(), visible: !isValid()"><\/div>\n        <div class="icon bowtie-icon bowtie-status-warning" data-bind="visible: isValid() && warningMessage()"><\/div>\n        <div class="warning-message" data-bind="text: warningMessage()"><\/div>\n    <\/div>\n');e["column-settings-tab-content-template"]='\n    <div class="column-settings-tab-content">\n        <!-- Column Name Section -->\n        <div class="section-header master-detail-content-topmost">'.concat(i.Column_Settings_Name_Title,'<\/div>\n        <div class="input-container" >\n            <span class="label">').concat(i.Column_Settings_Name_Label,'<\/span>\n            <span class="input-wrap">\n                <input aria-label="').concat(i.Column_Settings_Name_Title,'" type="text" data-bind="value: name, valueUpdate: [\'keyup\', \'paste\'], css: {\'invalid\': !nameIsValid()}, attr: { \'aria-invalid\': !isValid() }" class="column-name-input"/>\n            <\/span>\n        <\/div>\n        <div aria-live="assertive" class="control-message-area" data-bind="visible: nameMessage">\n            <div class="icon bowtie-icon bowtie-status-error" data-bind="visible: !nameIsValid()"><\/div>\n            <div class="agile-board-error-message" data-bind="text: nameMessage"><\/div>\n        <\/div>           \n        <!-- ko if: isInProgressColumn() -->\n        <!-- WIP Limit Section -->\n        <div class="section-header">').concat(i.Column_Settings_WIP_Limit_Title,'<\/div>\n        <div class="section-description" id="columnSettingWipLimit">').concat(i.Column_Settings_WIP_Limit_Subtitle,'<\/div>\n        <div class="input-container" >\n            <span class="label">').concat(i.Column_Settings_WIP_Limit_Label,'<\/span>\n            <span class="input-wrap">\n                    <input aria-label="').concat(i.Column_Settings_WIP_Limit_Title,'" aria-describedby="columnSettingWipLimit" class="wip-limit-input" type="text" data-bind="value: itemLimit, valueUpdate: [\'keyup\', \'paste\'], css: {\'invalid\': !itemLimitIsValid()}"/>\n            <\/span>\n        <\/div>\n        <div aria-live="assertive" class="control-message-area" data-bind="visible: itemLimitMessage">\n            <div class="icon bowtie-icon bowtie-status-error" data-bind="visible: !itemLimitIsValid()"><\/div>\n            <div class="agile-board-error-message" data-bind="text: itemLimitMessage"><\/div>\n        <\/div>\n\n        <!-- Split Columns Section -->\n        <div class="section-checkbox">\n            <span><input id="splitColumnCheckbox" type="checkbox" data-bind="checked: isSplit"/><\/span>\n            <label class="split-column-label" for="splitColumnCheckbox">').concat(i.Column_Settings_Split_Columns_Title,'<\/label>\n        <\/div>\n        <!-- /ko -->\n\n        <!-- State Mapping Section -->\n        <div class="section-header">\n            ').concat(i.Column_Settings_State_Mapping_Title,'\n        <\/div>\n        <div class="section-description" data-bind="text: stateMappingsDescription"><\/div>\n        <div data-bind="foreach: stateMappings">\n            <div class="input-container" >\n                <div class="column-state-label label" data-bind="text: stateName"><\/div>\n                <!-- ko if: allowEditing() -->\n                <div aria-label="').concat(i.Column_Settings_State_Mapping_Label,'" class="column-state-value" data-bind="vssCombo: getComboOptions(), css: { \'invalid\': !isValid() }, attr: { \'aria-invalid\': !isValid() }"><\/div>\n                <!-- /ko -->\n                <!-- ko if: !allowEditing() -->\n                    <span class="disabled-input-wrap">\n                        <input aria-disabled="false" type="text" data-bind="value: stateValue, enable: false, attr: { \'aria-invalid\': !isValid(), \'aria-label\': stateName }" />\n                    <\/span>\n                <!-- /ko -->\n            <\/div>\n            <div aria-live="assertive" class="control-message-area" data-bind="visible: message">\n                <div class ="icon bowtie-icon bowtie-status-error" data-bind="visible: !isValid()"><\/div>\n                <div class="agile-board-error-message" data-bind="text: message(), visible: !isValid()"><\/div>\n                <div class="icon bowtie-icon bowtie-status-warning" data-bind="visible: isValid() && message()"><\/div>\n                <div class="warning-message" data-bind="text: message, visible: isValid() && message()"><\/div>\n            <\/div>\n        <\/div>\n        \n        <!-- ko if: isInProgressColumn() -->\n        <!-- Definition of Done -->\n        <div class="section-header">').concat(i.Column_Settings_Definition_of_Done_Title,'<\/div>\n        <div class="section-description" id="columnSettingsDoD">').concat(i.Column_Settings_Definition_of_Done_Subtitle,'<\/div>\n        <div>\n            <textarea aria-label="').concat(i.Column_Settings_Definition_of_Done_Title,'" aria-describedby="columnSettingsDoD" rows="5" type="text" data-bind="value: description, valueUpdate: [\'change\', \'keyup\', \'paste\']"><\/textarea>\n        <\/div>\n        <div aria-live="assertive" class="control-message-area" data-bind="visible: descriptionMessage">\n            <div class="icon bowtie-icon bowtie-status-error" data-bind="visible: !descriptionIsValid()"><\/div>\n            <div class="agile-board-error-message" data-bind="text: descriptionMessage"><\/div>\n        <\/div>\n        <!-- /ko -->\n    <\/div>\n')});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationView",["require","exports","knockout","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Card/CardsAnnotationsCommon","Presentation/Scripts/TFS/TFS.Knockout","VSS/Utils/UI","Agile/Scripts/Card/CardUtils","VSS/Controls","VSS/Utils/Core","VSS/Controls/Menus","Agile/Scripts/Card/CardsAnnotationsTestAnnotationContracts","Agile/Scripts/Card/CardsAnnotationsTestAnnotationViewModels","Agile/Scripts/Board/Templates","VSS/Controls/PopupContent","jQueryUI/droppable","VSS/Utils/Draggable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function it(){(new d).register();(new g).register();(new nt).register();(new tt).register()}var w,k,b;Object.defineProperty(t,"__esModule",{value:!0});t.DragDropBindingConstants=t.TestMenu=t.TestSuiteControl=void 0;f.overrideDefaultBindings();w=h.delegate;k=function(n){function t(i){var r=__construct(this,n,[i]),u,f;for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._addTooltipsToItems=function(n){var t;for(r._disposeManagedTooltips(),r._subscriptions=[],t=0;t<n.length;t++){var o=n[t],i=o.testPoint(),u=i.testCase().name,f=i.outcome,e=i.errorMessage;r._titleChangedTooltipHandler(t,u());r._testStatusChangedTooltipHandler(t,f());r._errorStateChangedTooltipHandler(t,e());var s=u.subscribe(h.curry(r._titleChangedTooltipHandler,t)),c=f.subscribe(h.curry(r._testStatusChangedTooltipHandler,t)),l=e.subscribe(h.curry(r._errorStateChangedTooltipHandler,t));r._subscriptions.push(s);r._subscriptions.push(c);r._subscriptions.push(l)}},r._titleChangedTooltipHandler=function(n,i){var e=r._managedTitleTooltips[n],s=r.getElement().find(t.testCaseContainer),u=$(s[n]).find(".title"),f;e?(e.setTextContent(i),o.applyEllipsis(u,u.children())):(f=o.applyEllipsis(u,u.children()),r._managedTitleTooltips[n]!=null?r._managedTitleTooltips.push(f):r._managedTitleTooltips[n]=f)},r._errorStateChangedTooltipHandler=function(n,i){var u,f;i&&(u=r._managedErrorStateTooltips[n],u?u.setTextContent(i):(f=r.getElement().find(t.testError),u=y.RichContentTooltip.add(i,f[n],{setAriaDescribedBy:!0}),r._managedErrorStateTooltips.push(u)))},r._testStatusChangedTooltipHandler=function(n,i){var u=l.TestOutcomeHelper.GetOutcomeText(i),f,e,o;u&&(f=r._managedTestStateTooltips[n],f?f.setTextContent(u):(e=r.getElement().find(t.testState),o=y.RichContentTooltip.add(u,e[n],{setAriaDescribedBy:!0}),r._managedTestStateTooltips.push(o)))},r._refreshBadge=i.refreshBadge,r._source=i.source,r._removeTestSuiteControl=i.removeTestSuiteControl,r._managedTitleTooltips=[],r._managedErrorStateTooltips=[],r._managedTestStateTooltips=[],f={source:i.source,testCaseWorkItemType:i.defaultTestWorkItemType,onMenuClick:w(r,r._onMenuClick),refreshBadge:r._refreshBadge,removeTestSuiteControl:r._removeTestSuiteControl,removeTestPointCallback:function(){r.focus()}},r.viewModel=new a.TestSuiteViewModel(f),r}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);var r=v.loadHtmlTemplate(t.template,t.templateClass);if(r)i.applyBindings(this.viewModel,r[0]),this.getElement().append(r),this.enhanceTooltips();else throw Error("failed to load template: ");this._initMenu();this._initializeEvent()},t.prototype.refresh=function(){this.viewModel&&this.viewModel.updateTestPointCollection()},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._testListElement&&this._testListElement.off("click");this._menu&&this._menu.dispose();this.viewModel.dispose();this._disposeManagedTooltips();this._refreshBadge=null;this._removeTestSuiteControl=null},t.prototype._disposeManagedTooltips=function(){for(var i,t,r,n=0;n<this._managedTitleTooltips.length;n++)i=this._managedTitleTooltips[n],i&&i.dispose();for(n=0;n<this._managedErrorStateTooltips.length;n++)this._managedErrorStateTooltips[n].dispose();for(n=0;n<this._managedTestStateTooltips.length;n++)this._managedTestStateTooltips[n].dispose();if(this._managedTitleTooltips=[],this._managedErrorStateTooltips=[],this._managedTestStateTooltips=[],this._subscriptions){for(t=0;t<this._subscriptions.length;t++)r=this._subscriptions[t],r.dispose();this._subscriptions=null}},t.prototype.focus=function(){var i=this.getElement(),n=i.find("[tabindex='0']"),t;n&&n[0].focus();t=this.viewModel.testPointCollection;this._addTooltipsToItems(t())},t.prototype.enhanceTooltips=function(){this._addBaseTooltips();var n=this.viewModel.testPointCollection;n.subscribe(this._addTooltipsToItems);this._addTooltipsToItems(n())},t.prototype._addBaseTooltips=function(){var t=this.getElement(),n=t.find(".navigate-to-suite-container .bowtie-arrow-open");n.length>0&&y.RichContentTooltip.add(r.TestAnnotation_NavigateToSuiteTooltip,n,{setAriaDescribedBy:!0})},t.prototype._initMenu=function(){var n=this;this.getElement().click(function(t){$(t.currentTarget).hasClass("test-menu")||n._menu&&(n._menu.dispose(),n._menu=null)})},t.prototype._initializeEvent=function(){if(this._testListElement=this.getElement().find(t.testList),this._testListElement)this._testListElement.on("click",w(this,this._testAnnotationRefreshHandler))},t.prototype._testAnnotationRefreshHandler=function(){var n=parseInt(window.sessionStorage.requirementId,10);this.viewModel.getRequirementId()===n&&(this.viewModel.refreshSuite(),window.sessionStorage.removeItem("requirementId"))},t.prototype._onMenuClick=function(n,i){var f,e,r,u;this._menu&&(f=this._menu._options,f.testPoint.isContextMenuOpen(!1),this._menu.dispose(),this._menu=null);e={align:"left-bottom",testPoint:i,source:this._source,teamId:this.viewModel.getTeamId(),suiteId:this.viewModel.getSuiteModel().testSuiteId,planId:this.viewModel.getSuiteModel().testPlanId,onHide:function(){i.isContextMenuOpen(!1)}};this._menu=s.Control.create(b,this.getElement(),e);this._menu&&(i.isContextMenuOpen(!0),r=$(n.currentTarget),u=r.find(t.testItemContextMenu),u&&u.length>0?this._menu.popup(r,u):this._menu.popup(r,r),this._menu.focus(),n.stopPropagation())},t.template="test_list_template",t.templateClass="test-list-template",t.testList=".test-list",t.testItemContextMenu=".test-point-context-menu",t.testCaseContainer=".test-list-container .test",t.testError=".test-list-container .error-message-icon",t.testState=".test-list-container .test-state",t}(s.Control);t.TestSuiteControl=k;b=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){var i=this,r=this._createPopupMenuItems(t);$.extend(t,{align:"left-bottom",items:[{childItems:r}],contributionIds:["ms.vss-test-web.wit-test-point-context"],contextInfo:{item:{getContributionContext:this.getContributionContext.bind(this)}},onPopupEscaped:function(){i.dispose()}});n.prototype.initializeOptions.call(this,t)},t.prototype.getContributionContext=function(){return{id:this.getOptions().testPoint.testPoint().testCase().id,requirementId:this.getOptions().source.id(),testPointId:this.getOptions().testPoint.testPoint().id(),testPlanId:this.getOptions().planId,testSuiteId:this.getOptions().suiteId,testPointOutCome:l.TestOutcomeHelper.toByte(this.getOptions().testPoint.testPoint().outcome()),onErrorDelegate:w(this,this._onError)}},t.prototype._onError=function(n){this.getOptions().testPoint.testPoint().errorMessage(n);this.getOptions().testPoint.refreshBadgeForError()},t.prototype.getOptions=function(){return this._options},t.prototype._createPopupMenuItems=function(n){var t=[],i=n.testPoint,u=n.suiteId,f=n.planId,e=n.teamId;return t.push({id:"open-testcase",text:r.TestAnnotation_OpenTestTitle,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-arrow-open",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.open()}}),t.push({separator:!0}),t.push({id:"edit-title",text:r.TestAnnotation_EditTitle,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-edit",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.beginEdit()}}),t.push({id:"remove-testcase",text:r.TestAnnotation_RemoveTestTitle,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-edit-delete",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.removeTestCase()}}),t.push({separator:!0}),t.push({id:"set-active",text:r.TestAnnotation_ResetToActive,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-edit-redo",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.setOutcome(e,u,f,l.TestOutcome.Active)}}),t.push({id:"set-passed",text:r.TestAnnotation_PassTest,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-status-success",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.setOutcome(e,u,f,l.TestOutcome.Passed)}}),t.push({id:"set-failed",text:r.TestAnnotation_FailTest,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-status-failure",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.setOutcome(e,u,f,l.TestOutcome.Failed)}}),t.push({id:"set-blocked",text:r.TestAnnotation_BlockTest,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-math-minus-circle",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.setOutcome(e,u,f,l.TestOutcome.Blocked)}}),t.push({id:"set-not-applicable",text:r.TestAnnotation_NotApplicableTest,cssClass:"inlinetest-menu-item",icon:"bowtie-icon bowtie-status-no-fill noFillColor",setTitleOnlyOnOverflow:!0,argument:null,action:function(){i.setOutcome(e,u,f,l.TestOutcome.NotApplicable)}}),t},t.prototype.dispose=function(){var t=this._options;t&&t.testPoint&&t.testPoint.isContextMenuOpen(!1);n.prototype.dispose.call(this)},t}(c.PopupMenu);t.TestMenu=b;var d=function(){function n(){this._hasfocusUpdatingProperty="__ko_hasfocusUpdating";this._hasfocusLastValue="__ko_hasfocusLastValue"}return n.prototype.register=function(){var n=this;i.bindingHandlers.focusOn={init:function(t,i){var r=function(r){t[n._hasfocusUpdatingProperty]=!0;r=$(t).is(":focus");i()()!==r&&i()(r);t[n._hasfocusLastValue]=r;t[n._hasfocusUpdatingProperty]=!1};$(t).focus(function(){r(!0)});$(t).blur(function(){r(!1)})},update:function(t,i){var r=i();t[n._hasfocusUpdatingProperty]||t[n._hasfocusLastValue]===r()||(r()?($(t).focus(),$(t).is("textarea")&&$(t).select()):$(t).blur())}}},n}(),g=function(){function n(){}return n.prototype.register=function(){var n=this;i.bindingHandlers.testOutcome={init:function(t,i){var r=i();$(t).addClass(n._getIcon(r()))},update:function(t,i){var r=i();$(t).removeClass();$(t).addClass("test-state icon").addClass(n._getIcon(r()))}}},n.prototype._getIcon=function(n){switch(n){case l.TestOutcome.Active:return"bowtie-icon bowtie-dot";case l.TestOutcome.Passed:return"bowtie-icon bowtie-status-success";case l.TestOutcome.Failed:return"bowtie-icon bowtie-status-failure";case l.TestOutcome.Blocked:return"bowtie-icon bowtie-math-minus-circle";case l.TestOutcome.NotApplicable:return"bowtie-icon bowtie-status-no-fill noFillColor";case l.TestOutcome.Paused:return"bowtie-icon bowtie-status-pause";case l.TestOutcome.InProgress:return"bowtie-icon bowtie-status-run"}return""},n}(),nt=function(){function n(){}return n.prototype.register=function(){var n=this;i.bindingHandlers.draggableTestPointItem={init:function(t,i){n._makeItemDraggable(t,i)}}},n.prototype._makeItemDraggable=function(n,t){var i=t();$(n).data(p.DataKeyDraggableItem,i.item);$(n).data(p.DataKeyDroppableItem,i.parentItem)},n}(),tt=function(){function n(){}return n.prototype.register=function(){var n=this;i.bindingHandlers.droppableTestPointContainer={init:function(t,i){n._makeItemSortable(t,i);n._makeItemDroppable(t,i)}}},n.prototype._makeItemSortable=function(n,t){var i=this;$(n).data(p.DataKeyDroppableItem,t());h.delay(this,0,function(){$(n).data(p.DataKeyItemList,t());$(n).sortable({items:p.TEST_POINT_SELECTOR,cancel:p.EditModeClassSelector,tolerance:"pointer",opacity:.8,cursor:"move",refreshPositions:!0,zIndex:1e3,appendTo:document.body,containment:".agile-board",connectWith:p.TEST_LIST_CONTAINER_SELECTOR,scope:u.AnnotationAdapter.DRAG_SCOPE_ANNOTATION_ITEM,hoverClass:p.DRAG_DROP_HOVER_CLASS,helper:function(n,t){return n.ctrlKey||n.metaKey?i._cloneHelper(t,n):i._moveHelper(t,n)},start:function(n,t){$(".recycle-bin").droppable("option","disabled",!0);$(t.item).data(p.DataKeyOldIndex,t.item.index());t.helper.width(t.placeholder.width())},beforeStop:function(){$(n).sortable("enable")},stop:function(t,r){$(".recycle-bin").droppable("option","disabled",!1);i._onSortStop(t,r,n)},sort:function(t,r){i._onSort(t,r,$(n))},update:function(n,t){i._onUpdate(n,t)}}).keydown(function(n){return i._onKeyDown(n)})})},n.prototype._makeItemDroppable=function(n){var t=this;$(n).droppable({over:function(i,r){t._onSortableOver(i,r,n)},out:function(i,r){t._onSortableOut(i,r,n)},scope:u.AnnotationAdapter.DRAG_SCOPE_ANNOTATION_ITEM,accept:p.TEST_POINT_SELECTOR,tolerance:"pointer"})},n.prototype._onSortableOver=function(n,t,i){var u=p.TEST_POINT_SELECTOR+".ui-sortable-placeholder",f=!0,e=t.draggable.data(p.DataKeyDroppableItem),o=$(i).data(p.DataKeyDroppableItem),r;(n.ctrlKey||n.metaKey)&&o===e&&(f=!1);$(i).sortable("enable");f?(r=$(u),r.removeClass(p.HIDE_PLACEHOLDER_CLASS),t.draggable.parent()[0]===r.parent()[0]&&t.draggable.removeClass(p.ORIGINAL_TESTPOINT_CLASS)):($(i).sortable("disable"),$(t.placeholder).css("display","none"),$(u).addClass(p.HIDE_PLACEHOLDER_CLASS),t.draggable.removeClass(p.ORIGINAL_TESTPOINT_CLASS))},n.prototype._onSortableOut=function(n,t){var i=p.TEST_POINT_SELECTOR+".ui-sortable-placeholder";n.ctrlKey||n.metaKey?($(t.placeholder).css("display","none"),t.draggable.removeClass(p.ORIGINAL_TESTPOINT_CLASS)):t.draggable.addClass(p.ORIGINAL_TESTPOINT_CLASS);$(i).addClass(p.HIDE_PLACEHOLDER_CLASS)},n.prototype._isAccepted=function(n,t,i){var r=t.item.data(p.DataKeyDroppableItem),u=$(i).data(p.DataKeyDroppableItem);return(n.ctrlKey||n.metaKey)&&u===r?!1:!0},n.prototype._moveHelper=function(n){var t=n.clone();return t.find(".clickable-title").attr("title",""),t.data(p.DataKeyId,i.dataFor(n[0]).testPoint().id()),t},n.prototype._cloneHelper=function(n){var t=n.clone().insertAfter(n);return t.data(p.DataKeyId,i.dataFor(n[0]).testPoint().id()),$(this).data("copied",!1),n.clone().insertAfter(n)},n.prototype._dropHandler=function(n,t,r){var u=t.item.data(p.DataKeyDraggableItem),e=t.item.data(p.DataKeyDroppableItem),f=$(r).data(p.DataKeyDroppableItem),o=t.item.index(),s=!(n.ctrlKey||n.metaKey);i.removeNode(t.item[0]);u&&f&&f.dropHandler(u,e,s,o)},n.prototype._onSortStop=function(n,t,r){var f,u,e;t.item.removeClass(p.ORIGINAL_TESTPOINT_CLASS);$(r).sortable("enable");t.item.data(p.DataKeyItemDroppedOnTile)?i.removeNode(t.item[0]):(f=i.dataFor(t.item[0]),u=t.item.index(),t.placeholder.hasClass(p.HIDE_PLACEHOLDER_CLASS)&&(u=t.item.data(p.DataKeyOldIndex)),e=$(n.target).data(p.DataKeyItemList).testPointCollection,e.remove(f),u>=0&&e.splice(u,0,f),i.removeNode(t.item[0]))},n.prototype._onUpdate=function(n,t){if(!t.sender){if(t.placeholder.hasClass(p.HIDE_PLACEHOLDER_CLASS)||t.item.data(p.DataKeyItemDroppedOnTile))return!1;var i=t.item.parent(),r=this._isAccepted(n,t,i);r?this._dropHandler(n,t,i):i.sortable("cancel")}},n.prototype._onSort=function(n,t){var u,o,i,f;t.item.data(p.DataKeyDraggableItem);var r=!1,s=this._getScrollableContentContainer(),e=[s[0],t.placeholder[0].parentNode];for(u=0,o=e.length;u<o;u++)i=e[u],typeof i!="undefined"&&(f=$(i).offset(),f.top+i.offsetHeight-n.pageY<p.ScrollingSensitivity?(i.scrollTop=i.scrollTop+p.ScrollingSpeed,r=!0):n.pageY-f.top<p.ScrollingSensitivity&&(i.scrollTop=i.scrollTop-p.ScrollingSpeed,r=!0),f.left+i.offsetWidth-n.pageX<p.ScrollingSensitivity?(i.scrollLeft=i.scrollLeft+p.ScrollingSpeed,r=!0):n.pageX-f.left<p.ScrollingSensitivity&&(i.scrollLeft=i.scrollLeft-p.ScrollingSpeed,r=!0),r&&u===0&&t.item.parent().sortable("refresh"))},n.prototype._onKeyDown=function(n){var f,o,h,s,t,i,c,r,u,l,v;if((n.ctrlKey||n.metaKey)&&(n.keyCode===e.KeyCode.UP||n.keyCode===e.KeyCode.DOWN))try{if((f=$(n.target),o=f.parent(p.TEST_LIST_CONTAINER_SELECTOR),!o||o.length===0)||(h=f.data(p.DataKeyDraggableItem),s=f.data(p.DataKeyDroppableItem),!(h instanceof a.TestPointViewModel)||!(s instanceof a.TestSuiteViewModel)||!(s instanceof a.TestSuiteViewModel))||(t=h,i=s,t.isSaving())||(c=i.testPointCollection(),r=c.indexOf(t),r<0)||(u=n.keyCode===e.KeyCode.DOWN?r+1:r-1,u<0||u>=c.length))return!1;i.dropHandler(t,i,!1,u);l=i.testPointCollection()[r];v=l.testPoint().sequenceNumber();l.testPoint().sequenceNumber(t.testPoint().sequenceNumber());t.testPoint().sequenceNumber(v);$(o[0].children[u]).focus()}finally{n.preventDefault();n.stopPropagation()}},n.prototype._getScrollableContentContainer=function(){return $(".agile-content-container.scrollable")},n}(),p=function(){function n(){}return n.DataKeyDraggableItem="draggableItem",n.DataKeyDroppableItem="droppableItem",n.DataKeyId="itemId",n.DataKeyItemDroppedOnTile="droppedOnTile",n.DataKeyOldIndex="startIndex",n.TEST_POINT_CLASS="test",n.TEST_POINT_SELECTOR="."+n.TEST_POINT_CLASS,n.TEST_LIST_CONTAINER_CLASS="test-list-container",n.TEST_LIST_CONTAINER_SELECTOR="."+n.TEST_LIST_CONTAINER_CLASS,n.HIDE_PLACEHOLDER_CLASS="hide-placeholder",n.DRAG_DROP_HOVER_CLASS="agileDragTargetHoverColor",n.ORIGINAL_TESTPOINT_CLASS="original-point",n.ScrollingSensitivity=60,n.ScrollingSpeed=10,n.DataKeyItemList="itemList",n.EditModeClassSelector=".point-edit-mode",n}();t.DragDropBindingConstants=p;it()});

define("Agile/Scripts/Card/CardsAnnotationsTestAnnotationAdapter",["require","exports","knockout","Agile/Scripts/Card/CardsAnnotationsCommon","Agile/Scripts/Resources/TFS.Resources.AgileControls","VSS/Controls","VSS/Utils/Core","VSS/Utils/UI","Agile/Scripts/Card/CardsAnnotationsTestAnnotationModels","Agile/Scripts/Card/CardsAnnotationsTestAnnotationSource","Agile/Scripts/Card/CardsAnnotationsTestAnnotationBadge","Agile/Scripts/Card/CardsAnnotationsTestAnnotationView","Agile/Scripts/Card/CardsAnnotationsTestAnnotationTelemetry","Presentation/Scripts/TFS/TFS.Knockout","VSS/Utils/Draggable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var y,p,w;Object.defineProperty(t,"__esModule",{value:!0});t.TestAnnotationAdapter=t.testAnnotationId=void 0;v.overrideDefaultBindings();y=e.delegate;p=o.domElem;t.testAnnotationId="Microsoft.VSTS.TestManagement.TestAnnotation";w=function(n){function r(i){var r=n.call(this,$.extend(i,{id:t.testAnnotationId,priority:20,$annotationDetailPaneContainer:$(p("div","testlist-action-pane")),$badgeContainer:$(p("div","badge testlist-badge"))}))||this;return r._registerCardMenuItem(),r}return __extends(r,n),r.prototype.refreshAnnotation=function(){var n=this,t=this._fetchSuite();t&&t.testPoints().length!==0?(this._refreshBadge(),e.delay(this,0,function(){n._testSuiteControl&&n._testSuiteControl.refresh()})):this.dispose()},r.prototype.dispose=function(){n.prototype.dispose.call(this);this._removeTestSuiteControl();this.badgeControl&&this.badgeControl.dispose()},r.prototype._getItemSource=function(){return this.options.source.getAnnotationItemSource(h.TestSuiteSource.sourceType)},r.prototype._registerCardMenuItem=function(){var n=this;this.menuItems.push({id:"add-test",text:u.TestAnnotation_CardMenu_AddTest,icon:"bowtie-icon bowtie-math-plus",groupId:"modify",setTitleOnlyOnOverflow:!0,action:function(){n._onAddTestMenuItemClick()}})},r.prototype._onAddTestMenuItemClick=function(){var n=this;this.$annotationDetailPaneControl?this._testSuiteControl.viewModel.addTestPoint():(this._fetchSuite()||this._getItemSource().addItem(this._getRequirementId(),new s.TestSuiteModel),this._createTestSuiteControl().then(function(){n._testSuiteControl.viewModel.addTestPoint()}));a.TelemeteryHelper.publishFeatureTelemetry(a.FeatureScenarios.AddTest,{Source:"CardContextMenu"})},r.prototype._onAnnotationClick=function(n){this.$annotationDetailPaneControl?this._removeTestSuiteControl():this._createTestSuiteControl();a.TelemeteryHelper.publishFeatureTelemetry(a.FeatureScenarios.BadgeClick,{Action:"Click"});n.preventDefault()},r.prototype._createBadge=function(){this.badgeControl=f.Control.create(c.TestAnnotationBadge,this.options.$badgeContainer,{cssClass:"child-tests-summary",$annotationIcon:$("<span/>"),clickEventHandler:y(this,this._onAnnotationClick),source:this.options.source})},r.prototype._refreshBadge=function(){this.badgeControl?this._fetchSuite().testPoints&&this._fetchSuite().testPoints().length!==0?this.badgeControl.update(this.options.source):(this.badgeControl.dispose(),this.badgeControl=null):this._fetchSuite()&&this._fetchSuite().testPoints&&this._fetchSuite().testPoints().length>0&&(this._createBadge(),this.$annotationDetailPaneControl&&this.badgeControl.applySelectedStyle())},r.prototype._createTestSuiteControl=function(){var n=this;return this._getItemSource().getDefaultTestCaseWorkItemType().then(function(t){n._removeTestSuiteControl();var i=$("<div/>"),r={source:n.options.source,defaultTestWorkItemType:t,refreshBadge:y(n,n._refreshBadge),removeTestSuiteControl:y(n,n._removeTestSuiteControl)};n._testSuiteControl=f.Control.create(l.TestSuiteControl,i,r);n.createDetailPane(i);n._testSuiteControl.focus()})},r.prototype._removeTestSuiteControl=function(){this._testSuiteControl&&(this.$annotationDetailPaneControl&&this.$annotationDetailPaneControl.length>0&&i.removeNode(this.$annotationDetailPaneControl[0]),this._testSuiteControl.dispose(),this._testSuiteControl=null,this.removeDetailPane(),this.setFocusToTile())},r.prototype._fetchSuite=function(){var n=this._getItemSource();return n?n.getItem(this.options.source.id()):null},r.prototype._getRequirementId=function(){return this.options.source.id()},r.prototype.acceptHandler=function(n){var i,t,r,u;return n.hasClass(l.DragDropBindingConstants.TEST_POINT_CLASS)?(i=n.data(l.DragDropBindingConstants.DataKeyDraggableItem),t=n.data(l.DragDropBindingConstants.DataKeyDroppableItem),i&&t)?(r=t.getRequirementId(),u=this.options.source.id(),!(r===u)):!1:!1},r.prototype.dropHandler=function(n,t){var i=this,f=t.draggable.data(l.DragDropBindingConstants.DataKeyDraggableItem),r=t.draggable.data(l.DragDropBindingConstants.DataKeyDroppableItem),e,o=!(n.ctrlKey||n.metaKey),u,s;i._testSuiteControl&&i._testSuiteControl.viewModel&&(e=i._testSuiteControl.viewModel);e?e.dropHandler(f,r,o,r.testPointCollection.length):(u=i.options.source.id(),s=r.getRequirementId(),u>0&&f&&r.onTestPointDrop(f,s,u,o).then(function(){r.refreshSuite();i._getItemSource().refreshItem(u).then(function(){i._refreshBadge()})}));t.draggable.data(l.DragDropBindingConstants.DataKeyItemDroppedOnTile,!0)},r}(r.AnnotationAdapter);t.TestAnnotationAdapter=w});

define("Agile/Scripts/Card/Annotations/ChecklistAnnotationBadge",["require","exports","Agile/Scripts/Card/CardsAnnotationsCommon","Agile/Scripts/Resources/TFS.Resources.AgileControls","VSS/Diag","VSS/Utils/String","VSS/Controls/PopupContent"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.ChecklistAnnotationBadge=void 0;var o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.update=function(t){n.prototype.update.call(this,t);this._updateSummary(t)},t.prototype.createLayout=function(){n.prototype.createLayout.call(this);this._$errorMessageIcon=$("<div/>").addClass("error-message-icon bowtie-icon bowtie-status-error");this.$container[0].appendChild(this._$errorMessageIcon[0]);this._$summaryText=$("<span/>").addClass("work-item-summary-text");this.$container[0].appendChild(this._$summaryText[0])},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._errorMessageTooltip&&(this._errorMessageTooltip.dispose(),this._errorMessageTooltip=null);this._summaryTooltip&&(this._summaryTooltip.dispose(),this._summaryTooltip=null)},t.prototype._updateSummary=function(n){var t,i,s;for(t=0,i=0,s=n.length;i<s;i++)n[i].id()>0&&t++;var h=this._options.getCompletedItemsCount(n),o=this._getErrorMessage(n),l=this._options.workItemType,c=f.format(r.Checklist_Summary_Tooltip,h,t,l);this._$summaryText.text(f.format(r.Checklist_Summary,h,t));this._summaryTooltip?this._summaryTooltip.setTextContent(c):this._summaryTooltip=e.RichContentTooltip.add(c,this.$container,{setAriaDescribedBy:!0});this._errorMessageTooltip?this._errorMessageTooltip.setTextContent(o):this._errorMessageTooltip=e.RichContentTooltip.add(o,this._$errorMessageIcon,{setAriaDescribedBy:!0});o?this._$errorMessageIcon.addClass("show"):this._$errorMessageIcon.removeClass("show")},t.prototype._getErrorMessage=function(n){for(var t,i=0,r=n.length;i<r;i++)if(t=n[i].message(),t)break;return t},t}(i.AnnotationBadge);t.ChecklistAnnotationBadge=o});

define("WorkItemTracking/Scripts/Utils/PermissionHandler",["require","exports","VSS/Service","VSS/Contributions/Services","jQueryUI/droppable"],function(n,t,i,r){function u(){var u=i.getService(r.WebPageDataService),n=u.getPageData(t.BACKLOGPERMISSION_DATAPROVIDER_ID);return!n?!1:n.hasPermission}Object.defineProperty(t,"__esModule",{value:!0});t.hasAgileToolsBacklogManagementPermission=t.BACKLOGPERMISSION_DATAPROVIDER_ID=void 0;t.BACKLOGPERMISSION_DATAPROVIDER_ID="ms.vss-work-web.backlog-permission-data-provider";t.hasAgileToolsBacklogManagementPermission=u});

define("Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider",["require","exports","q","VSS/Diag","VSS/Error","VSS/Service","VSS/Utils/String","VSS/Contributions/Services","Presentation/Scripts/TFS/TFS.Host.TfsContext","TFS/WorkItemTracking/RestClient","VSS/WebApi/Constants"],function(n,t,i,r,u,f,e,o,s,h,c){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemStateColorsProvider=void 0;var l=function(){function n(){var n,i,t;this._restClient=f.getClient(h.WorkItemTrackingHttpClient);this._projectNameToColorSettingsMap={};this._settingsBeingFetched={};n=s.TfsContext.getDefault().contextData.project;n&&n.name&&(i=f.getService(o.WebPageDataService),t=i.getPageData("ms.vss-work-web.work-item-states-color-data-provider"),!t||this._setData({projectName:n.name,workItemTypeStateColors:this._mapWorkItemStatesColors(t)}))}return n.prototype._mapWorkItemStatesColors=function(n){var i=[],t,r;for(t in n)n.hasOwnProperty(t)&&(r=n[t],i.push({workItemTypeName:t,stateColors:r}));return i},n.getInstance=function(){return n._workItemStatesColorProvider||(n._workItemStatesColorProvider=new n),n._workItemStatesColorProvider},n.prototype.isPopulated=function(n){return n?(n=this._getNormalizedString(n),this._projectNameToColorSettingsMap.hasOwnProperty(n))?!0:!1:!1},n.prototype.getColor=function(t,i,r){var f,u;return r&&t&&i&&(t=this._getNormalizedString(t),i=this._getNormalizedString(i),r=this._getNormalizedString(r),f=this._projectNameToColorSettingsMap[t],!!f&&(u=f[i],!!u&&!!u[r]))?u[r]:n.DEFAULT_STATE_COLOR},n.prototype.ensureColorsArePopulated=function(n){var h=this,e,o,s,t,f;for(!n,e={},o=0,s=n;o<s.length;o++)t=s[o],t=this._getNormalizedString(t),e.hasOwnProperty(t)||this.isPopulated(t)||(e[t]=null);if(f=Object.keys(e),f.length===0)return i(null);if(f.some(function(n){return!n}))try{throw new Error("Invalid Project Name(s) provided to ensureColorsArePopulated");}catch(c){c.name="WorkItemStateColorsInvalidProjects";u.publishErrorToTelemetry(c)}return this._restClient.getWorkItemStateColors(f).then(function(n){for(var r,t=0,i=n;t<i.length;t++)r=i[t],h._setData(r);return null},function(){var n=f.map(function(n){return h._fallbackToDataProvider(n)});return Promise.all(n)})},n.prototype.getColorAsync=function(n,t,r){var f=this,e;return(n=this._getNormalizedString(n),this.isPopulated(n))?i(this.getColor(n,t,r)):this._settingsBeingFetched.hasOwnProperty(n)?this._settingsBeingFetched[n].then(function(){return f.getColor(n,t,r)},function(){}):(e=this.ensureColorsArePopulated([n]).then(function(){return delete f._settingsBeingFetched[n],null},function(t){delete f._settingsBeingFetched[n];u.publishErrorToTelemetry(t)}),this._settingsBeingFetched[n]=e,e.then(function(){return f.getColor(n,t,r)},function(){}))},n.prototype._setData=function(n){var u,o,t,f,i,e;if(!this.isPopulated(n.projectName)){for(u={},o=this._getNormalizedString(n.projectName),t=0,f=n.workItemTypeStateColors;t<f.length;t++){var s=f[t],h={},a=this._getNormalizedString(s.workItemTypeName);for(i=0,e=s.stateColors;i<e.length;i++){var c=e[i],v=this._getNormalizedString(c.name),l=this._getNormalizedString(c.color);h[v]="#".concat(l.substr(l.length-6))}u[a]=h}this._projectNameToColorSettingsMap[o]=u}},n.prototype._getNormalizedString=function(n){return n=n||"",n.trim().toLowerCase()},n.prototype._fallbackToDataProvider=function(n){var t=this,i=f.getService(o.WebPageDataService),r="ms.vss-work-web.work-item-states-color-data-provider",s={id:r,properties:{serviceInstanceType:c.ServiceInstanceTypes.TFS}},h={projectName:n};return i.ensureDataProvidersResolved([s],!0,h).then(function(){var u=i.getPageData(r);return!u||t._setData({projectName:n,workItemTypeStateColors:t._mapWorkItemStatesColors(u)}),null},function(i){u.publishErrorToTelemetry({name:"GetWorkItemStateColorsForProjectsException",message:e.format("Failed to fetch state color data for project {0}: {1}",n,JSON.stringify(i))});t._setData({workItemTypeStateColors:[],projectName:n})})},n.DEFAULT_STATE_COLOR="transparent",n}();t.WorkItemStateColorsProvider=l});

define("Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer",["require","exports","VSS/Utils/String","Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider","VSS/LoaderPlugins/Css!Presentation/FeatureRef/WorkItemStateCellRenderer"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemStateCellRenderer=void 0;var u=function(){function n(){}return n.getColorCell=function(t,i){var r=n.getProcessedStateColor(t),u=$("<span/>").addClass(n.CSS_WORKITEM_STATE_CIRCLE).css({"background-color":r.backgroundColor,"border-color":r.borderColor}),f=$("<span/>").addClass("workitem-state-value").text(i);return $("<div/>").addClass("workitem-state-color-cell").append(u.add(f))},n.getAutoUpdatingColorCell=function(t,i,u){var f,o,e;return!t||!i||!u?null:(f=r.WorkItemStateColorsProvider.getInstance(),f.isPopulated(t)?(o=f.getColor(t,i,u),n.getColorCell(o,u)):(e=n.getColorCell(r.WorkItemStateColorsProvider.DEFAULT_STATE_COLOR,u),f.getColorAsync(t,i,u).then(function(t){var i=n.getProcessedStateColor(t);e.find("."+n.CSS_WORKITEM_STATE_CIRCLE).css({"background-color":i.backgroundColor,"border-color":i.borderColor})},function(){}),e))},n.getProcessedStateColor=function(t){var r="#ffffff";return(t=t||r,i.ignoreCaseComparer(t,r)===0||i.ignoreCaseComparer(t,"transparent")===0)?{backgroundColor:t,borderColor:n.STATES_DEFAULT_COLOR}:{backgroundColor:t,borderColor:t}},n.CSS_WORKITEM_STATE_CIRCLE="workitem-state-circle",n.STATES_DEFAULT_COLOR="#5688E0",n}();t.WorkItemStateCellRenderer=u});

define("Presentation/Scripts/TFS/FeatureRef/FormatUtils",["require","exports","VSS/Diag","VSS/Utils/Culture","VSS/Utils/Number","VSS/Utils/String"],function(n,t,i,r,u,f){Object.defineProperty(t,"__esModule",{value:!0});t.FormatUtils=void 0;var e;(function(n){function t(t,r){var u=f.localeFormat("{0:n"+r+"}",t);return u.replace(n._numberFormatRegexp,"")}function e(t){var i,r=typeof t=="string"?u.parseLocale(t):Number(t);return!t||isNaN(r)?i="":(i=n.formatNumberForDisplay(r,n.REMAINING_WORK_PRECISION),i==="0"&&(i="")),i}n._numberFormatRegexp=new RegExp("(\\"+r.getCurrentCulture().numberFormat.NumberDecimalSeparator+"0*|0+)$");n.REMAINING_WORK_PRECISION=2;n.formatNumberForDisplay=t;n.formatRemainingWorkForDisplay=e})(e=t.FormatUtils||(t.FormatUtils={}))});

define("VSS/Controls/TreeView",["require","exports","VSS/Controls/Combos","VSS/Contributions/Services","VSS/Controls","VSS/Controls/PopupContent","VSS/Diag","VSS/Controls/Menus","VSS/Resources/VSS.Resources.Platform","VSS/Service","VSS/Telemetry/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","jQueryUI/droppable","VSS/Utils/Draggable","VSS/LoaderPlugins/Css!VSS.Controls"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){function lt(n){return n=n||a.localeIgnoreCaseComparer,function(t,i){return n(t.text,i.text)}}function g(n,t,i){var r,e,u,f=n.children;if(f&&(e=f.length))for(r=0;r<e;r++)u=f[r],t[t.length]=u,(i||u.expanded)&&g(u,t,i)}function st(n){return $.map(n,function(n){if(n.id)t=new d(n.text,n.config,[],n.id);else var t=new d(n.text,n.config);return n.children&&n.children.length&&t.addRange(st(n.children)),t})}function at(n){return n?n.length&&!(n[0]instanceof d)?st(n):n:[]}function ht(n,t){n.expanded=!0;t&&n.hasChildren()&&$.each(n.children,function(n,i){ht(i,t-1)})}var nt,d,it,b,tt,rt,ut,ft,et;Object.defineProperty(t,"__esModule",{value:!0});t.flatten=t.SearchComboTreeBehaviorName=t.SearchComboTreeBehavior=t.ComboTreeMultivalueBehaviorName=t.MultiSelectTreeComboBehavior=t.MultiSelectTreeComboDropPopup=t.ComboTreeBehaviorName=t.ComboTreeBehavior=t.ComboTreeDropPopup=t.TreeView=t.TreeViewO=t.TreeNode=t.TreeDataSource=void 0;var vt=e.log,yt=e.LogVerbosity.Verbose,k=l.delegate,pt=y.getErrorMessage,p=v.KeyCode,w=v.domElem,ot="TFSUICommonControls",ct=0;nt=function(n){function t(t){var i=n.call(this,$.extend({sepChar:"\\"},t))||this;return i._initRoot(),i}return __extends(t,n),t.prototype.setSource=function(t){this._initRoot();this.root.clear();n.prototype.setSource.call(this,t)},t.prototype.prepareSource=function(n){var t=at(n);this.root.addRange(t);this._options.sorted&&this.root.sort(!0,lt(this._options.comparer));this._options.treeLevel&&ht(this.root,this._options.treeLevel);this.updateItemsFromSource()},t.prototype.updateItemsFromSource=function(){var t=[],n;g(this.root,t,!0);n=[];g(this.root,n,!1);this.setItems(n,t)},t.prototype.getItemText=function(n,t,i){return i===!0?this.getItem(n,t).text:this.getItem(n,t).path(!1,this._options.sepChar)},t.prototype.getItemIndex=function(t,i,r){var f=n.prototype.getItemIndex.call(this,t,i,!0),u,e;if(f>=0){for(u=this.getItem(f,!0);u.parent;)u=u.parent,u.expanded||(e=!0),u.expanded=!0;return e&&this._prepareCurrentItems(),n.prototype.getItemIndex.call(this,t,i,r)}return f},t.prototype.expandNode=function(n){n.expanded||(n.expanded=!0,this._prepareCurrentItems())},t.prototype.collapseNode=function(n){n.expanded&&(n.expanded=!1,this._prepareCurrentItems())},t.prototype._initRoot=function(){this.root||(this.root=new d(""),this.root.expanded=!0,this.root.root=!0)},t.prototype._prepareCurrentItems=function(){var n=[];g(this.root,n,!1);this.setItems(n,this.getItems(!0))},t}(u.BaseDataSource);t.TreeDataSource=nt;y.initClassPrototype(nt,{root:null});d=function(){function n(n,t,i,r){r?this.id=r:this._ensureNodeId();this.text=n;this.config=t||{};this.children=[];this.addRange(i)}return n.create=function(t,i,r){return new n(t,i,r)},n.prototype.hasChildren=function(){return this.children.length>0},n.prototype.clear=function(){this.children=[]},n.prototype.remove=function(){var n=this;this.parent&&(this.parent.children=$.map(this.parent.children,function(t){if(t!==n)return t}))},n.prototype.add=function(n){this.children.push(n);n.parent=this},n.prototype.moveTo=function(n){this.remove();n.add(this)},n.prototype.addRange=function(n){var t,i;if(n)for(t=0,i=n.length;t<i;t++)this.add(n[t])},n.prototype.findNode=function(n,t,i){return v.findTreeNode.call(this,n,t||"/",i||a.localeIgnoreCaseComparer,"text")},n.prototype.sort=function(n,t){this._sort(n,t)},n.prototype.path=function(n,t){return v.calculateTreePath.call(this,n,t||"/","text","root")},n.prototype.level=function(n){for(var i=0,t=this.parent;t;){if(n&&t.root)break;i++;t=t.parent}return i},n.prototype.getContributionContext=function(){return this},n.prototype.getHtmlId=function(){return"treeNode"+this.id},n.prototype._ensureNodeId=function(){(this.id<0||this.id===undefined||this.id===null)&&(this.id=""+ct++)},n.prototype._sort=function(n,t){var r,u,i=this.children;if(i&&i.length&&(i.sort(t),n))for(r=0,u=i.length;r<u;r++)i[r]._sort(n,t)},n}();t.TreeNode=d;y.initClassPrototype(d,{id:-1,root:!1,text:null,parent:null,children:null,config:null,expanded:!1,selected:!1,icon:null,tag:null,noFocus:!1,noContextMenu:!1,noTreeIcon:!1,folder:null,type:null,link:"",title:"",droppable:null,iterationPath:null,definition:null,linkDelegate:null,hasExpanded:!1,owner:null,application:null,isSearchHit:null});it=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i.rootNode=new d("root"),i.rootNode.root=!0,i._droppable=i._options.droppable,i._draggable=i._options.draggable,i._focusDelegate=k(i,i._onFocus),i._blurDelegate=k(i,i._onBlur),i._dragStartDelegate=k(i,i._onDragStart),i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({clickSelects:!0,clickToggles:!1,contextMenu:!1,coreCssClass:"tree-view",showIcons:!0,sortMenuItems:!0,styleFocusElement:!0,useArrowKeysForNavigation:!0,useEmptyFolderNodes:!0},t))},t.prototype.initialize=function(){var t=this,i;n.prototype.initialize.call(this);this._bind("mouseover",function(n){var u=$(n.target),i,r;i=u.closest("div.node-content, div.node-context-menu-container");i.length>0&&(r=i.closest("li.node"),t._setFocusElement(r))});this._bind("mouseout",function(){t._setFocusElement(null)});this._bind("click",k(this,this._click));this._bind("contextmenu",k(this,this._onContextMenu));this._bind("keydown",k(this,this._onInputKeyDown));Array.isArray(this._options.nodes)&&this.rootNode.addRange(this._options.nodes);this._options.contextMenu&&this._options.contextMenu.contributionIds&&h.getService(r.ExtensionService).getContributionsForTargets(this._options.contextMenu.contributionIds);i=this._options.useBowtieStyle?"bowtie-tree":"basic-tree";this.getElement().addClass(i);this.getElement().attr("role","tree");this._draw();e.logTracePoint("TreeView.initialize.complete")},t.prototype._draw=function(){var n,i,r;this._focusedNode&&(n=this._getNode(this._focusedNode),i=$("<button/>").appendTo("body").focus());this.getElement().empty();this._options.contextMenu&&(this._ariaDescribedById=String(u.getId()),$(w("div")).attr("id",this._ariaDescribedById).addClass("visually-hidden").text(s.TreeViewOptionsText).appendTo(this.getElement()));this._drawNode(this.rootNode,this.getElement(),-1);n?(r=this._getNodeElement(n),r.length>0&&this._getFirstTabbableChild(r).focus()):this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._getNode(this.getElement().find(t.NODE_VISIBLE_AND_FOCUSABLE).first()));i&&i.remove()},t.prototype._getNodeElement=function(n){return this.getElement().find("#tfs_tnli"+n.id).eq(0)},t.prototype._getNode=function(n){return n.data(b.NODE_DATA_NAME)},t.prototype.getSelectedNode=function(){return this._selectedNode},t.prototype.setSelectedNode=function(n,t){n&&n.config&&n.config.unselectable||(this._selectedNode&&(this._selectedNode.selected=!1),this._selectedNode=n,n&&(n.selected=!0,t||this._fire("selectionchanged",{selectedNode:n}),this._expandNodeParents(n,t),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(n)),this._updateSelections())},t.prototype.focus=function(){this._selectedNode&&(this._getNodeElement(this._selectedNode).children(".node-link").focus(),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._selectedNode))},t.prototype._expandNodeParents=function(n,t){for(var i=n,f=this.rootNode,r,u;i.parent;)i=i.parent,i===f||i.expanded||(i.expanded=!0,r=i);r&&(r.expanded=!1,u=this._getNodeElement(r),this._toggle(r,u,t))},t.prototype._updateSelections=function(){var n=this;this.getElement().find("li.node").each(function(){var i=$(this),t;t=n._getNode(i);t&&(i.toggleClass("selected",t.selected),i.find(".node-link").each(function(){var n=$(this);n.attr("aria-selected",t.selected)}))})},t.prototype._updateNode=function(n,t,i){var r,u,e,s,o;if(n.addClass("node"),!t.root){if(n.attr("id","tfs_tnli"+t.id),n.attr("role","presentation"),t.draggable&&this._draggable&&n.draggable(this._draggable),t.droppable&&this._droppable&&n.droppable(this._droppable),this._draggable&&this._bind(n,"selectstart",function(n){n.preventDefault()}),t.selected&&n.addClass("selected"),t.noFocus&&n.addClass("nofocus"),t.folder&&n.addClass("folder"),t.config&&t.config.css&&n.addClass(t.config.css),r=$("<a />").addClass("node-link").attr("role","treeitem"),this._options.contextMenu&&!t.noContextMenu){var h=$(w("div","node-context-menu-container node-context-menu")).attr("title",""),c=$(w("span","node-context-menu-icon")),l=this._options.useBowtieStyle?"bowtie-icon bowtie-ellipsis":"icon icon-drop";c.addClass(l);h.append(c);n.append(h);r.attr("aria-describedby",this._ariaDescribedById)}else t.noContextMenu&&n.append($(w("div","node-context-menu-container node-no-context-menu")));this._draggable&&this._bind(r,"dragstart",this._dragStartDelegate);t.link&&r.attr("href",t.link);t.linkDelegate&&typeof t.linkDelegate=="function"&&this._bind(r,"click",t.linkDelegate);r.attr("aria-level",i+1);t.noFocus||(this._options.useArrowKeysForNavigation?r.attr("tabindex",-1):r.attr("tabindex",0),this._bind(r,"focus",this._focusDelegate),this._bind(r,"blur",this._blurDelegate));u=$("<div />").addClass("node-content").text(t.text||"");this._draggable&&this._bind(u,"dragstart",this._dragStartDelegate);e=4;this._options.showIcons&&(e=0,s=this._options.onRenderIcon&&this._options.onRenderIcon(t),s?u.prepend($(s)):t.icon&&$("<span />").addClass("icon tree-node-img").addClass(t.icon).prependTo(u));t.noTreeIcon||(o="icon",this._options.useBowtieStyle&&(o="bowtie-icon",(t.hasChildren()||t.folder&&this._options.useEmptyFolderNodes)&&(o+=" bowtie-chevron-right")),$(w("span","node-img "+o)).prependTo(u));e=this._options.useBowtieStyle?e+4:e;u.css("padding-left",e+i*12);r.append(u);n.append(r);this._options.setTitleOnlyOnOverflow!==!1?f.RichContentTooltip.addIfOverflow(t.text||"",u):n.attr("title",t.text||"")}return n.data(b.NODE_DATA_NAME,t),n.data(b.LEVEL_DATA_NAME,i),(t.hasChildren()||t.folder&&this._options.useEmptyFolderNodes)&&this._drawChildren(t,n,i),u},t.prototype._drawChildren=function(n,t,i){var r,u,f;if(n.root||n.expanded){if(f=n.children.length,this._setNodeElementExpandState(t,!0,f>0),r=$(w("ul","tree-children")).attr("id","tfs_tnul"+n.id).attr("role",n.root?"tree":"group"),typeof i=="undefined"&&(i=t.data(b.LEVEL_DATA_NAME)),i=i+1,f===0)this._drawEmptyFolderNode(r,i,n.emptyFolderNodeText||this._options.defaultEmptyFolderNodeText||s.NoItemsInThisFolder);else for(u=0;u<f;u++)this._drawNode(n.children[u],r,i);t.append(r)}else this._setNodeElementExpandState(t,!1)},t.prototype._toggle=function(n,t){return n&&(n.folder||n.hasChildren())?(n.expanded?(n.expanded=!1,t.find("ul.tree-children").first().remove()):(n.expanded=!0,this._drawChildren(n,t)),this._setNodeElementExpandState(t,n.expanded),!0):!1},t.prototype._setNodeExpansion=function(n,t,i){return n.expanded!==i?this._toggle(n,t):!1},t.prototype.removeNode=function(n){var u,i,r,t,f;if(this._options.useArrowKeysForNavigation){if(u=this._getNodeElement(n),i=void 0,n.parent){for(r=n.parent.children.indexOf(n),t=r-1;t>=0;t--)if(!n.parent.children[t].noFocus){i=n.parent.children[t];break}if(!i){for(t=r+1;t<n.parent.children.length;t++)if(!n.parent.children[t].noFocus){i=n.parent.children[t];break}i||(i=n.parent)}}f=this._getNodeElement(n).is(this._focusedNode);u.remove();n.remove();this._restoreTabindexAndFocus(i,f)}else this._getNodeElement(n).remove(),n.remove()},t.prototype.updateNode=function(n,t){var i,r,u;n.root?(i=this.getElement(),r=-1):(i=this._getNodeElement(n),r=i.data(b.LEVEL_DATA_NAME),i.removeClass());u=i.is(this._focusedNode);i.data("ui-draggable")&&i.draggable("destroy");i.data("ui-droppable")&&i.droppable("destroy");i.empty();this._updateNode(i,n,r);this._options.useArrowKeysForNavigation&&!t&&this._restoreTabindexAndFocus(n,u)},t.prototype.onItemClick=function(n,t){if(this._options.clickToggles&&this._toggle(n,t))return!1;this._options.clickSelects&&this.setSelectedNode(n)},t.prototype.onShowPopupMenu=function(n,t){var r,i,f,e,s;if(t&&t.items&&t.items.length){if(i=this._getNodeElement(n),f=this._getFirstTabbableChild(i)[0],e=i.find("div.node-context-menu"),this._popupMenu){if(i.hasClass("context-menu-active")){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(f,e);return}this._popupMenu.dispose();this._popupMenu=null}r=t.items.slice(0);t.sortMenuItems&&r.sort(function(n,t){return(n.rank||9999)-(t.rank||9999)});s=$.extend({},n);this._popupMenu=u.BaseControl.createIn(o.PopupMenu,i,{align:t.align||(this._options.useBowtieStyle?"right-bottom":"left-bottom"),useBowtieStyle:this._options.useBowtieStyle,executeAction:t.executeAction||t.clickHandler,items:[{childItems:r}],onActivate:function(){i.addClass("context-menu-active")},onDeactivate:function(){i.removeClass("context-menu-active")},onPopupEscaped:function(){i.removeClass("context-menu-active")},getCommandState:t.getCommandState,updateCommandStates:t.updateCommandStates,arguments:t.arguments,contributionIds:t.contributionIds,contextInfo:{item:s,menu:this._popupMenu},suppressInitContributions:t.suppressInitContributions});this._popupMenu.getElement().prependTo(i);l.delay(this,10,function(){t.suppressInitContributions&&this._popupMenu.refreshContributedItems();this._popupMenu.popup(f,e)})}},t.prototype.enableFocusStyling=function(n){this._options.styleFocusElement!==n&&(this._options.styleFocusElement=n,this._setFocusElement(this._focusedNode))},t.prototype._setFocusElement=function(n){var t=this._options.styleFocusElement;this._focusedNode&&this._focusedNode.length&&this._focusedNode.removeClass("focus");this._focusedNode=n;t&&this._focusedNode&&this._focusedNode.length&&(this._focusedNode.hasClass("nofocus")||this._focusedNode.addClass("focus"))},t.prototype.getNodeFromElement=function(n){var t=$(n);return this._getNode(t)},t.prototype._drawNode=function(n,t,i){var r;r=n.root?t:$("<li />").appendTo(t);this._updateNode(r,n,i)},t.prototype._drawEmptyFolderNode=function(n,t,i){var r,u;u=$("<li />").appendTo(n);r=new d(i);r.isEmptyFolderChildNode=!0;r.config.css="info";r.config.unselectable=!0;r.noFocus=!0;r.noContextMenu=!0;this._updateNode(u,r,t)},t.prototype._click=function(n){var t=$(n.target),i=t.closest("li.node");if(i.length>0){if(this._options.useArrowKeysForNavigation&&i.children("a.node-link").focus(),this._setFocusElement(i),t.closest("span.node-img").length>0)return this._onToggle(n);if(t.closest("div.node-content").length>0)return this._itemClick(n);if(t.closest("div.node-context-menu").length>0)return this._onContextMenu(n)}},t.prototype.focusOnNode=function(n){if(n&&!n.noFocus){var t=this._getNodeElement(n);t.length>0&&t.children("a.node-link").focus()}},t.prototype._onInputKeyDown=function(n){var f=this,e=$(n.target),i=e.closest("li.node"),r=this._getNode(i),u=function(n,t){var i=t(n);if(i.length>0)return i.children("a.node-link").focus(),!1};switch(n.keyCode){case p.RIGHT:return r&&r.expanded===!0&&this._options.useArrowKeysForNavigation?u(i,function(n){return n.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).first()}):(this._setNodeExpansion(this._getNode(i),i,!0),!1);case p.LEFT:return r&&r.expanded===!1&&this._options.useArrowKeysForNavigation?u(i,function(n){return n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first()}):(this._setNodeExpansion(this._getNode(i),i,!1),!1);case p.DOWN:if(this._options.useArrowKeysForNavigation)return u(i,function(n){var o=f.getNodeFromElement(n),r,u,i,e;if(o&&o.expanded===!0&&(r=n.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).first(),r.length===1))return r;if(u=n.nextAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),u.length===1)return u;for(i=n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first();i.length===1;){if(e=i.nextAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),e.length===1)return e;i=i.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first()}return $([])});case p.UP:if(this._options.useArrowKeysForNavigation)return u(i,function(n){var i=n.prevAll(t.NODE_VISIBLE_AND_FOCUSABLE).first(),r,u,e;return i.length===1?(r=f.getNodeFromElement(i),r&&r.expanded===!0&&(u=i.children("ul.tree-children").find(t.NODE_VISIBLE_AND_FOCUSABLE).last(),u.length===1))?u:i:(e=n.parents(t.NODE_VISIBLE_AND_FOCUSABLE).first(),e.length===1)?e:$([])});case p.ENTER:if(!$(".node-link",i).attr("href")){this.onItemClick(r,i,n);return!1}break;case p.F10:return n.shiftKey?this._onContextMenu():void 0}},t.prototype._onToggle=function(n){var t=$(n.target).parents("li.node").first(),i=this._getNode(t);return typeof this._options.onItemToggle=="function"&&this._options.onItemToggle.call(this,i),this._toggle(i,t),!1},t.prototype._itemClick=function(n){var t=$(n.target).closest("li.node"),i=this._getNode(t);return this.onItemClick(i,t,n)},t.prototype._onContextMenu=function(){if(this._options.contextMenu&&this._focusedNode&&this._focusedNode.length>0)return this._showPopupMenu(this._getNode(this._focusedNode)),!1},t.prototype._showPopupMenu=function(n){var t,i;if(n){t=n.contextMenu;i=typeof t!="undefined"?typeof t=="function"?t.call(this,n):t:this._options.contextMenu;this.onShowPopupMenu(n,i)}},t.prototype._onFocus=function(n){var t=$(n.target).closest("li.node");t.length>0&&(this._setFocusElement(t),this._options.useArrowKeysForNavigation&&this._setNodeHasTabindex(this._getNode(this._focusedNode)));this.getElement().toggleClass("focus",!0);this._hasFocus=!0},t.prototype._onBlur=function(){this._setFocusElement(null);this._clearFocusOnElement()},t.prototype._clearFocusOnElement=function(){this.getElement().toggleClass("focus",!1);this._hasFocus=!1},t.prototype._onDragStart=function(){return!1},t.prototype.setDroppable=function(n){this._droppable=n},t.prototype._getFirstTabbableChild=function(n){return n.children("a.node-link, div.node-content[tabIndex]").first()},t.prototype._setNodeElementExpandState=function(n,t,i){i===void 0&&(i=!0);n.removeClass(b.EXPANDED_CLASS+" "+b.COLLAPSED_CLASS);n.addClass(t?b.EXPANDED_CLASS:b.COLLAPSED_CLASS);var r=this._getFirstTabbableChild(n);r.length>0&&i&&r.attr("aria-expanded",""+t)},t.prototype._restoreTabindexAndFocus=function(n,t){if(this._nodeHasTabindex){var i=this._getNodeElement(this._nodeHasTabindex);if(i.is(":visible")){this._setNodeHasTabindex(this._nodeHasTabindex);t&&i.children("a.node-link").focus();return}}this._setNodeHasTabindex(n);t&&this._getNodeElement(n).children("a.node-link").focus()},t.prototype._setNodeHasTabindex=function(n){var t,i;n&&(this._nodeHasTabindex&&(t=this._getNodeElement(this._nodeHasTabindex),t.removeClass("has-tab-index"),t.children("a.node-link").attr("tabindex",-1)),this._nodeHasTabindex=n,i=this._getNodeElement(this._nodeHasTabindex),i.addClass("has-tab-index"),i.children("a.node-link").attr("tabindex",0))},t._typeName="tfs.treeView",t.NODE_DATA_NAME="nodeData",t.LEVEL_DATA_NAME="nodeLevel",t.EXPANDED_CLASS="expanded",t.COLLAPSED_CLASS="collapsed",t.NODE_VISIBLE_AND_FOCUSABLE="li.node:visible:not(.nofocus)",t}(u.Control);t.TreeViewO=it;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(it);t.TreeView=b;y.initClassPrototype(b,{rootNode:null,_focusDelegate:null,_blurDelegate:null,_dragStartDelegate:null,_hasFocus:!1,_selectedNode:null,_draggable:null,_droppable:null,_focusedNode:null,_popupMenu:null});u.Enhancement.registerJQueryWidget(b,"treeView");tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"tree",createItem:k(this,this._createItem),itemClick:k(this,this._onItemClick),dropPopupRole:"treeview",virtualizingListViewRole:"tree"},t))},t.prototype.expandNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&!n.expanded?(this.getDataSource().expandNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.collapseNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&n.expanded?(this.getDataSource().collapseNode(n),this.virtualizingListView.update(),!0):!1},t.prototype._createItem=function(n){var t=this.getDataSource().getItem(n),i=$(w("li",this._options.nodeCss)),s=t.level(!0),o,r,u,e;return i.attr({id:t.getHtmlId(),role:"treeitem","aria-posinset":t.parent.children.indexOf(t)+1,"aria-setsize":t.parent.children.length,"aria-level":s+1}),t.hasChildren()&&(i.addClass(t.expanded?"expanded":"collapsed"),i.attr("aria-expanded",String(t.expanded)),o=$("<ul><\/ul>"),i.append(o),o.attr({id:"".concat(t.getHtmlId(),"_group"),role:"group","aria-owns":t.children.map(function(n){return n.getHtmlId()}).join(" ")})),r=$(w("div","node-content")).css("padding-left",s*10),$(w("span","node-img icon")).appendTo(r),this._options.showIcons&&t.icon&&$(w("span",t.icon)).appendTo(r),u=t.text||"",e=$(w("span","text")).text(u),this._options.setTitleOnlyOnOverflow!==!1?f.RichContentTooltip.addIfOverflow(u,r):e.attr("title",u),t.isSearchHit&&e.addClass("searchHit"),r.append(e),i.append(r),i},t.prototype._onItemClick=function(n,t,i){var r,u;return i.hasClass("node-img")&&(u=this.getDataSource(),r=u.getItem(t),r.hasChildren())?(r.expanded?(u.collapseNode(r),this.combo._fire("treeNodeCollapsed")):(u.expandNode(r),this.combo._fire("treeNodeExpanded")),this.virtualizingListView.update(),!1):!0},t.prototype._getSelectedNode=function(){return this.getDataSource().getItem(this.virtualizingListView.getSelectedIndex())},t}(i.ComboListDropPopup);t.ComboTreeDropPopup=tt;rt=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:tt,sepChar:"\\",treeLevel:2},i))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyUp=function(t){return this.isDropVisible()?!1:n.prototype.keyUp.call(this,t)},t.prototype._createDataSource=function(){return new nt(this._options)},t}(i.ComboListBehavior);t.ComboTreeBehavior=rt;t.ComboTreeBehaviorName="tree";i.Combo.registerBehavior(t.ComboTreeBehaviorName,rt);ut=function(n){function t(t){var i=__construct(this,n,[t]);for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._checkStates={},i}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({cssClass:"tree",createItem:k(this,this._createItem),itemClick:k(this,this._onItemClick)},t))},t.prototype.initialize=function(){this._options.id||(this._options.id="ctmvdp_"+u.getId());this._updateCheckList();n.prototype.initialize.call(this)},t.prototype.expandNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&!n.expanded?(this.getDataSource().expandNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.collapseNode=function(){var n=this._getSelectedNode();return n&&n.hasChildren()&&n.expanded?(this.getDataSource().collapseNode(n),this.virtualizingListView.update(),!0):!1},t.prototype.getCheckedItems=function(){var t=this,n=this.getDataSource();return $.map(n.getItems(!0),function(i,r){return i=n.getItemText(r,!0),t._checkStates[i]?i:void 0})},t.prototype.getValue=function(){return this.getCheckedItems().join(this._options.multiJoinChar)},t.prototype._createItem=function(n){var f=this.getDataSource(),t=f.getItem(n),r,i,e=this._options.id+"_cb"+n,o=this._checkStates[f.getItemText(n)],s=t.level(!0),h=this._options.id+"_label"+n,u,c;return r=$(w("li",this._options.nodeCss)).attr({id:this._options.id+"_li"+n,"aria-checked":o?"true":"false","aria-level":s+1,"aria-posinset":t.parent.children.indexOf(t)+1,"aria-setsize":t.parent.children.length,"aria-labelledby":h}),t.hasChildren()&&r.addClass(t.expanded?"expanded":"collapsed"),i=$(w("div","node-content")).css("padding-left",s*10),$(w("span","node-img icon")).appendTo(i),this._options.showIcons&&t.icon&&$(w("span",t.icon)).appendTo(i),u=$(w("input","cb")).data("value",t.text||"").attr("title",t.text||"").attr("type","checkbox").attr("id",e).data("index",n),c=$(w("label","text")).attr({"for":e,id:h,title:t.text||""}).text(t.text||""),o&&u.prop("checked",!0),t.isSearchHit&&u.addClass("searchHit"),i.append(u),i.append(c),r.append(i),r},t.prototype._onItemClick=function(n,t,i,r){var u=this.getDataSource(),f=u.getItem(t);if(i.hasClass("node-img")&&(this._fireDropPopupChange(u,t,r),f.hasChildren()))return f.expanded?u.collapseNode(f):u.expandNode(f),this.virtualizingListView.update(),!1;(i.hasClass("text")||i.hasClass("cb"))&&this._fireDropPopupChange(u,t,r)},t.prototype._getSelectedNode=function(){return this.getDataSource().getItem(this.virtualizingListView.getSelectedIndex())},t.prototype.toggleCheckbox=function(n){var r=this._options.id+"_cb"+n,t,i;i=this.getDataSource().getItemText(n);t=$("#"+r);t.prop("checked")?(t.prop("checked",!1),this._checkStates[i]=!1):(t.prop("checked",!0),this._checkStates[i]=!0)},t.prototype.update=function(){this._updateCheckList();n.prototype.update.call(this)},t.prototype._updateCheckList=function(){var n=this.combo.getText().split(this._options.multiJoinChar),t=this;this._clearCheckList();$.each(n,function(n,i){i=i.trim();i&&(t._checkStates[i]=!0)})},t.prototype._clearCheckList=function(){this._checkStates={}},t.prototype._fireDropPopupChange=function(n,t,i){var u,r,f=n.getItemText(t);u=Boolean(this._checkStates[f]);r=Boolean(i.find("input").prop("checked"));this._checkStates[f]=r;u!==r&&this._fireChange()},t}(i.ComboListDropPopup);t.MultiSelectTreeComboDropPopup=ut;ft=function(n){function t(t,i){return n.call(this,t,$.extend({dropControlType:ut,sepChar:"\\",joinChar:"\\",multiJoinChar:"; ",treeLevel:2},i))||this}return __extends(t,n),t.prototype.canType=function(){return!this.isDropVisible()},t.prototype.getDropOptions=function(){var t=this;return $.extend(n.prototype.getDropOptions.call(this),{sepChar:this._options.sepChar,joinChar:this._options.joinChar,multiJoinChar:this._options.multiJoinChar,selectedIndex:-1,selectionChange:function(){t.combo.updateAriaActiveDescendant()},change:k(this,this._onChange)})},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyUp=function(t){return this.isDropVisible()?!1:n.prototype.keyUp.call(this,t)},t.prototype.upKey=function(t){this.isDropVisible()&&n.prototype.upKey.call(this,t)},t.prototype.downKey=function(t){this.isDropVisible()?n.prototype.downKey.call(this,t):this.showDropPopup()},t.prototype.keyDown=function(n){var t=this.getDropPopup(),i;t&&n.keyCode===p.SPACE&&(i=t.getSelectedIndex(),i>=0&&(t.toggleCheckbox(i),this.setText(t.getValue(),!0)))},t.prototype._createDataSource=function(){return new nt(this._options)},t.prototype._onChange=function(){var n=this.getDropPopup();return this.setText(n.getValue(),!0),!1},t.prototype.setSource=function(t){if(JSON.stringify(t)===JSON.stringify(this.getDataSource().getSource())){this._maxItemLength=null;return}n.prototype.setSource.call(this,t)},t}(i.ComboListBehavior);t.MultiSelectTreeComboBehavior=ft;t.ComboTreeMultivalueBehaviorName="treeMultiValue";i.Combo.registerBehavior(t.ComboTreeMultivalueBehaviorName,ft);et=function(n){function t(t,i){var r=n.call(this,t,$.extend({dropControlType:tt,sepChar:"\\",treeLevel:2},i))||this;return r.hitText=[],r.selectedHitIndex=-1,r.originalNodes=null,r.lastSearchText="",r.debounceWaitTime=300,r.textHasChanged=!1,r}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this.combo._bind(this.combo.getInput(),"mouseup",k(this,this.mouseUp))},t.prototype.canType=function(){return!0},t.prototype.getAriaAutocomplete=function(){return"list"},t.prototype.getAriaDescription=function(){return s.ComboSearchTreeScreenReaderHelp},t.prototype.leftKey=function(){var n=this.getDropPopup();if(n)return n.collapseNode(),!1},t.prototype.rightKey=function(){var n=this.getDropPopup();if(n)return n.expandNode(),!1},t.prototype.keyDown=function(t){var i=t.keyCode||t.charCode,r;return this.isDropVisible()&&(i===p.ENTER||i===p.TAB)&&!this.searchDebounceTimeout&&(r=this.combo.getText(),r===this.lastSearchText)?(this.acceptSelectedIndex(),!0):i===p.TAB&&this.searchDebounceTimeout?(this.clearSearchDebounce(),!0):n.prototype.keyDown.call(this,t)},t.prototype.keyUp=function(t){var i=t.keyCode||t.charCode,r=n.prototype.keyUp.call(this,t);if(this._options.mode!=="text"&&!this.isComboTextPath()){if(i===p.ENTER)return this.debounceSearch(0),!0;if(i===p.UP||i===p.DOWN||i===p.PAGE_UP||i===p.PAGE_DOWN||i===p.ESCAPE||this.isDropVisible()&&(i===p.LEFT||i===p.RIGHT))return this.clearSearchDebounce(),!0;this.debounceSearch(this.debounceWaitTime)}return r},t.prototype._createDataSource=function(){return new nt(this._options)},t.prototype.mouseUp=function(){if(typeof this._options.onMouseUp=="function"){this._options.onMouseUp.call(this);return}if(!this.textHasChanged){this.lastSearchText=this.combo.getText();this.textHasChanged=!0;return}this.debounceSearch(this.debounceWaitTime)},t.prototype.clearSearchDebounce=function(){clearTimeout(this.searchDebounceTimeout);this.searchDebounceTimeout=null},t.prototype.debounceSearch=function(n){var t=this,i=function(){t.searchDebounceTimeout=null;t.searchNodes()};clearTimeout(this.searchDebounceTimeout);this.searchDebounceTimeout=setTimeout(i,n)},t.prototype.isComboTextPath=function(){var n=this.combo.getText();return n.indexOf("\\")>=0},t.prototype.searchNodes=function(){var n=this.combo.getText(),i,t,r;if(this._ensureOriginalNodesStored(),this.lastSearchText!==n){i=Date.now();this.hitText=[];this.selectedHitIndex=-1;t=!1;n===""||this.isComboTextPath()||(r=this.getNodesToSearch(n),t=this.createCopyOfSubtreeWhichMatchesSearch(n,r));this.modifyDatasourceAndDropdownWithResults(t);var u=Date.now(),f={SearchText:n,SearchTimeTaken:u-i};c.publishEvent(new c.TelemetryEventData(ot,"TreeSearch",f));this.lastSearchText=n}},t.prototype._ensureOriginalNodesStored=function(){if(!this.originalNodes){var n=this._dataSource;this.originalNodes=n.getItems(!0)}},t.prototype.getNodesToSearch=function(n){var t=this._dataSource;return this.lastSearchText!==""&&a.startsWith(n,this.lastSearchText)?t.getItems(!1):this.originalNodes},t.prototype.createCopyOfSubtreeWhichMatchesSearch=function(n,t){var r=this._dataSource,o=[],s=!1,u,f,e,i,h,l,a;for(r.root=this.copyNodeToArray(o,r.root),r.root.root=!0,u=t.length,e=0,i=0;i<u;i++)f=t[i],h=f.text,this.stringContains(h,n)&&(s=!0,this.performSearchHitProcessing(o,f),e++);return l={SearchText:n,SearchResultCount:e.toString(),CountOfItemsSearched:u.toString()},a="TreeSearch",c.publishEvent(new c.TelemetryEventData(ot,a,l)),s},t.prototype.stringContains=function(n,t){return a.caseInsensitiveContains(n,t)},t.prototype.modifyDatasourceAndDropdownWithResults=function(n){var t=this._dataSource,i,r,u;n||(this.hideDropPopup(),this.selectedHitIndex=-1,t.root=this.originalNodes[0].parent);i=[];r=[];g(t.root,i,!1);g(t.root,r,!0);t.setItems(i,r);n&&(this.showDropPopup(),u=this.getDropPopup(),u.virtualizingListView.update(),this.selectedHitIndex=0,this.setHit(this.selectedHitIndex))},t.prototype.expandAncestors=function(n){for(n=n.parent;n&&!n.expanded;)n.expanded=!0,n=n.parent},t.prototype.performSearchHitProcessing=function(n,t){this.copyNodeAndAncestorsToArray(n,t);this.copyDecendantsToArray(n,t);this.hitText[this.hitText.length]=t.path(!1,"\\");t=n[t.id];t.expanded=!1;this.expandAncestors(t);t.isSearchHit=!0},t.prototype.copyNodeToArray=function(n,t){var i=new d(t.text,t.config);return i.id=t.id,n[i.id]=i,i},t.prototype.copyNodeAndAncestorsToArray=function(n,t){if(!n[t.id]){var i=this.copyNodeToArray(n,t);t.parent&&(this.copyNodeAndAncestorsToArray(n,t.parent),n[t.parent.id].add(i))}n[t.id].expanded=!0},t.prototype.copyDecendantsToArray=function(n,t){var u,i,r;if(t.hasChildren)for(u in t.children)i=t.children[u],n[i.id]||(r=this.copyNodeToArray(n,i),r.expanded=!1,n[i.parent.id].add(r),this.copyDecendantsToArray(n,i))},t.prototype.setHit=function(n){if(n<0||n>=this.hitText.length)return!1;var i=this.hitText[n],t=this.getDropPopup();return t&&t.setSelectedValue(i),!0},t.prototype.acceptSelectedIndex=function(){this.selectedHitIndex>=0&&this.selectedHitIndex<this.hitText.length&&this.setText(this.hitText[this.selectedHitIndex],!0)},t}(i.ComboListBehavior);t.SearchComboTreeBehavior=et;t.SearchComboTreeBehaviorName="treeSearch";i.Combo.registerBehavior(t.SearchComboTreeBehaviorName,et);t.flatten=g;y.tfsModuleLoaded("VSS.UI.Controls.TreeView",t)});

define("WorkItemTracking/Scripts/Controls/WorkItemForm/Utils",["require","exports","VSS/Controls/TreeView"],function(n,t,i){function r(n,t,u){var f,h,e=n.children,o,s;if(u=u||1,s=n.name?n.name:n.text,t?(o=i.TreeNode.create(s),t.add(o),t=o):t=i.TreeNode.create(s),t.expanded=u<2,e)for(f=0,h=e.length;f<h;f++)n=e[f],r(n,t,u+1);return t}Object.defineProperty(t,"__esModule",{value:!0});t.populateUINodes=void 0;t.populateUINodes=r});

define("WorkItemTracking/Scripts/TFS.UI.Tags",["require","exports","VSS/VSS","VSS/Error","VSS/Utils/String","VSS/Utils/Array","VSS/Diag","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","VSS/Utils/UI","VSS/Controls","Presentation/Scripts/TFS/FeatureRef/TFS.TagService","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","VSS/Controls/PopupContent","VSS/FeatureAvailability/Services","WorkItemTracking/Scripts/Utils/TagUtils","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.UI.Tags.Constants","jQueryUI/autocomplete"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){var d,tt,nt,g;Object.defineProperty(t,"__esModule",{value:!0});t.TagUtilities=t.TagControl=t.TagChangeType=void 0;d=s.domElem,function(n){n[n.Add=0]="Add";n[n.Delete=1]="Delete"}(tt=t.TagChangeType||(t.TagChangeType={}));nt=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.shouldKeydownTriggerClick=function(n){return n.keyCode===s.KeyCode.ENTER||n.keyCode===s.KeyCode.SPACE},t.prototype.initializeOptions=function(i){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:t.coreCssClass,tags:[],readOnly:!1},i))},t.prototype.initialize=function(){var i,t,r;n.prototype.initialize.call(this);i=this.getElement();this._selectedIndex=0;this._visibleTagsCount=-1;this._options.tagLabel&&$(d("span","tags-label")).attr("id","tags-label").text(this._options.tagLabel).appendTo($(d("div","tags-label-container")).appendTo(i));this._$tagsList=$(d("ul"));this._readOnly=this._options.readOnly;this._readOnly||this._initializeInputElements();t=$(d("div","tags-items-container")).attr("role","toolbar");this._options.tagLabel?t.attr("aria-labelledby","tags-label"):this._options.tags&&(r=this._options.tags.toString(),t.attr("aria-label",r));this._$tagsList.appendTo(t);t.appendTo(i);this._options.tags&&this.setItems(this._options.tags);p.FeatureAvailabilityService.isFeatureEnabled(l.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)||(this._mruList=[])},t.prototype.addTag=function(n){if(n){var t=n.trim();t&&!f.contains(this._tags,t,u.localeIgnoreCaseComparer)&&(this._selectedIndex===this._tags.length&&this._selectedIndex++,this._tags.push(t),this._sortTags(),this._renderItems(),this._fireChange({type:tt.Add,name:t}))}},t.prototype.removeTag=function(n){this._removeTag(n,!0,!1)},t.prototype.setItems=function(n){var t=n.length+(this._readOnly?0:1);this._selectedIndex>=t&&(this._selectedIndex=0);this._tags=n;this._sortTags();this._renderItems()},t.prototype.setReadOnly=function(n){this._readOnly=n;n?this._disposeInputElements():this._initializeInputElements()},t.prototype.clearItems=function(){this.flush();this._tags=[];this._renderItems()},t.prototype.setTagCount=function(n){this._options.getTagCount=n},t.prototype.setMaxWidth=function(n){this._options.maxWidth=n},t.prototype.getWidth=function(){return this._width},t.prototype.focusAddButton=function(){this._selectedIndex=this._getLastIndex();this._renderItems(!0)},t.prototype._sortTags=function(){this._options.unsorted||this._tags.sort(this._options.tagSort||u.localeIgnoreCaseComparer)},t.prototype._setupOverflowEvents=function(n){var i=this;n.click(function(){i._selectedIndex=i._visibleTagsCount;i._overflowClick(n)});n.keydown(function(r){i._updateSelectedIndex(r);t.shouldKeydownTriggerClick(r)&&n.click()})},t.prototype._tagKeyDown=function(n){this._updateSelectedIndex(n);typeof this._options.tagKeyDown=="function"?this._options.tagKeyDown(n):(t.shouldKeydownTriggerClick(n)&&$(n.target).click(),this._removeTagAndSetFocus(n))},t.prototype._updateSelectedIndex=function(n){var t=0,i,r,u,f;if(n.keyCode===s.KeyCode.RIGHT)t=1;else if(n.keyCode===s.KeyCode.LEFT)t=-1;else return;i=this._getLastIndex();r=this._selectedIndex;this._selectedIndex+=t;this._selectedIndex<0?this._selectedIndex=i:this._selectedIndex>i&&(this._selectedIndex=0);u=this.getElement().find(".tag-item[index='"+r+"']");u.attr("tabindex",-1);f=this.getElement().find(".tag-item[index='"+this._selectedIndex+"']");f.attr("tabindex",0).focus()},t.prototype._getLastIndex=function(){var n=this._visibleTagsCount>=0?this._visibleTagsCount:this._tags.length-1;return this._readOnly||n++,n},t.prototype._tagClick=function(n,t){n.preventDefault();n.stopPropagation();var i=Number($(n.target).closest(".tag-item").attr("index"));isNaN(i)||(this._selectedIndex=i,this._renderItems(!0));typeof this._options.tagClick=="function"&&(n.data={tagName:t},this._options.tagClick(n))},t.prototype._normalizeName=function(n,t){var i=n;return n.length>t&&(i=n.substring(0,t-4)+k.TAG_ELLIPSIS),i},t.prototype._renderOverflowElement=function(n,t){var i=g.generateTagContainer(t,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex);return i.find(".tag-box").text(k.TAG_ELLIPSIS),i.addClass("tags-overflow"),i.appendTo(n),i},t.prototype._splitAndAddTags=function(n){for(var i=w.TagUtils.splitAndTrimTags(n),t=0,r=i.length;t<r;t++)this.addTag(i[t])},t.prototype._showInputControl=function(){var n=this,t,i,u;this._$addButtonContainer.hide();this._$tagInput.val("");this._$tagInput.data("ui-autocomplete")||this._$tagInput.autocomplete();t=function(){n._$tagInput.autocomplete("enable");n._$tagInput.css("display","inline-block");var t=n._getNextZIndex();n._$tagInput.data("ui-autocomplete").menu.element[0].style.setProperty("z-index",t,"important");n._$tagInput.focus();n._$tagInput.closest("li.tag-item-delete-experience").attr("aria-hidden","false")};p.FeatureAvailabilityService.isFeatureEnabled(l.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)?t():(i=a.TfsContext.getDefault(),u=v.ProjectCollection.getConnection(i).getService(c.TagService),u.getTagsMru().then(function(i){n._mruList=i;t();n._$tagInput.find(".menu-item-header").removeClass("ui-menu-item")}).catch(function(i){n._mruList=[];r.publishErrorToTelemetry(i);t()}))},t.prototype._hideInputControl=function(n){this._$tagInput.val("");this._$tagInput.is(":visible")&&(this._$tagInput.css("display","none"),this._$tagInput.autocomplete("close"),this._$tagInput.autocomplete("disable"),this._$addButtonContainer.show());n&&this.focusAddButton();this._$tagInput.closest("li.tag-item-delete-experience").attr("aria-hidden","true")},t.prototype._resetListBeforeRender=function(){$("li.tag-item",this._$tagsList).not(".tags-add-button").remove()},t.prototype._renderTagsInContainer=function(n,t){for(var r,i=this._tags.length-1;i>=0;i--)r=this._renderTag(this._tags[i],this._normalizeName(this._tags[i],k.TAG_CHARACTER_LIMIT),i),r.prependTo(n),t&&i===this._selectedIndex&&r.focus();return n.find(".tag-item").not(".tags-overflow")},t.prototype._renderTagsWithMaxWidth=function(n,t,i,r){var s,u,h,c;if(s=[],t){for(var f=0,o=0,l=i.width();n[f]&&t-o>$(n[f]).outerWidth(!0);)o=o+$(n[f]).outerWidth(!0),f++;if(f!==n.length)while(n[f-1]&&t-o<l)o=o-$(n[f-1]).outerWidth(!0),f--;this._visibleTagsCount=f}for(u=0;u<this._visibleTagsCount;u++)$(n[u]).appendTo(this._$tagsList),r&&u===this._selectedIndex&&$(n[u])[0].focus();for(u=this._visibleTagsCount,h=n.length;u<h;u++)s.push(this._tags[u]);s.length>0?(i.attr("index",this._visibleTagsCount),this._options.type==="grid"||this._options.type==="single.line"?(c=s.join(k.TAG_FORMATTING_SEPARATOR),y.RichContentTooltip.add(c,i)):this._setupOverflowEvents(i),i.appendTo(this._$tagsList),this._selectedIndex==this._visibleTagsCount&&i.focus()):(i.remove(),this._visibleTagsCount=-1)},t.prototype._render=function(n){this._resetListBeforeRender();this._renderTagsInContainer(this._$tagsList,n)},t.prototype._renderTagsInContainerWithMaxTags=function(n){for(var r,i=this._options.maxTags,u=this._tags.length>i?i-1:this._tags.length-1,f=this._options.tagCharacterLimit||k.TAG_CHARACTER_LIMIT,t=u;t>=0;t--)r=this._renderTag(this._tags[t],this._normalizeName(this._tags[t],f),t),r.prependTo(n);this._tags.length>this._options.maxTags&&this._renderOverflowInContainer(n)},t.prototype._renderForCard=function(){this._resetListBeforeRender();this._renderTagsInContainerWithMaxTags(this._$tagsList)},t.prototype._renderOverflowInContainer=function(n){var t=this._getOverFlowElement(),i=this._getOverflowTooltipContent();y.RichContentTooltip.add(i,t);t.appendTo(n)},t.prototype._getOverflowTooltipContent=function(){for(var t=[],n=this._options.maxTags,i=this._tags.length;n<i;n++)t.push(this._tags[n]);return t.join(k.TAG_FORMATTING_SEPARATOR)},t.prototype._getOverFlowElement=function(){var n=g.generateTagContainer();return n.find(".tag-box").text(k.TAG_ELLIPSIS),n.addClass("tags-overflow"),n},t.prototype._renderForSingleLine=function(){var r,u;this._resetListBeforeRender();var n=$(this.getElement().parent()).clone(),i=$(d("div","tags-items-container off-screen")),t=$(d("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);r=this._renderOverflowElement(t,!1);u=this._renderTagsInContainer(t);this._renderTagsWithMaxWidth(u,this._options.maxWidth,r);n.remove()},t.prototype._renderForGrid=function(){var n=$(this.getElement().parent(".grid-cell")).clone(),i=$(d("div","tags-items-container off-screen")),t=$(d("ul","tags-unused-host"));t.appendTo(i);i.appendTo(n);n.appendTo(document.body);var r=this._renderOverflowElement(t,!1),u=this._renderTagsInContainer(t),f=n.width();this._renderTagsWithMaxWidth(u,f,r);n.remove()},t.prototype._renderFilterAvailable=function(n){var r,f;this._resetListBeforeRender();var t=$(this.getElement().parent(".tfs-tags-filter")).clone(),u=$(d("div","tags-items-container off-screen")),i=$(d("ul","tags-unused-host"));i.appendTo(u);u.appendTo(t);t.appendTo(document.body);r=this._renderOverflowElement(i,this._options.selectable);y.RichContentTooltip.add(o.TagFilterDropdownTooltip,r);f=this._renderTagsInContainer(i);this._renderTagsWithMaxWidth(f,this._options.maxWidth,r,n);t.remove()},t.prototype._renderFilterApplied=function(n){var o=this,r=this._options.maxTags,s=[],c,l,i,t,a,v,f;this._resetListBeforeRender();var e=$(this.getElement().parent(".tfs-tags-filter")).clone(),h=$(d("div","tags-items-container off-screen")),u=$(d("ul","tags-unused-host"));if(u.appendTo(h),h.appendTo(e),e.appendTo(document.body),!this._tags){this._width=0;return}for(c=this._tags.length>r?r-1:this._tags.length-1,t=c;t>=0;t--)l=this._renderTag(this._tags[t],this._normalizeName(this._tags[t],k.TAG_CHARACTER_LIMIT),t),l.prependTo(u);if(this._tags.length>r){for(this._visibleTagsCount=r,i=g.generateTagContainer(!0,!1,this._visibleTagsCount,this._visibleTagsCount===this._selectedIndex),i.find(".tag-box").text(k.TAG_ELLIPSIS),i.addClass("tags-overflow"),t=r,a=this._tags.length;t<a;t++)s.push(this._tags[t]);v=s.join(k.TAG_FORMATTING_SEPARATOR);y.RichContentTooltip.add(v,i);i.appendTo(u);this._setupOverflowEvents(i)}else this._visibleTagsCount=-1;f=0;$.map(u.children(),function(t){f=f+$(t).outerWidth(!0);o._$tagsList.append(t);var i=$(t),r=Number(i.attr("index"));n&&r===o._selectedIndex&&i.focus()});this._width=f;e.remove()},t.prototype._initializeFilterDropdown=function(){var n=this,t,i,r;this._isAutoCompleteVisible=!1;t=function(){n._$tagInput.hide();n._$tagInput.val("");n._$tagInput.autocomplete("disable");$(".tags-filter-overflow-text").toggleClass("pressed",!1)};i=function(t){$.inArray(t,n._tags)>=0&&typeof n._options.availableDropdownSelect=="function"&&n._options.availableDropdownSelect(t)};this._$tagInput=$(d("input","tags-input tags-filter-dropdown-input tag-box")).attr("type","text").attr("placeholder","").hide();this._$tagInput.closest("li.tag-item-delete-experience").attr("aria-hidden","true");this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",offset:"0 -1"},source:function(t,i){var r=n._getMatchesForPrefix(t.term,n._tags.sort(u.localeIgnoreCaseComparer),!0);i(r)},open:function(){n._isAutoCompleteVisible=!0},select:function(n,r){i(r.item.value);t()},change:function(){i(n._$tagInput.val());t()},close:function(){n._isAutoCompleteVisible=!1;n._$tagInput.is(":focus")||(n._$tagInput.val()&&i(n._$tagInput.val()),t())}});this._$tagInput.blur(function(){this._isAutoCompleteVisible||t()});this._$tagInput.focus(function(){n._$tagInput.is(":visible")&&n._$tagInput.autocomplete("search")});this._$tagInput.keydown(function(i){i.keyCode===s.KeyCode.ESCAPE?(n._$tagInput.autocomplete("close"),t()):i.keyCode===s.KeyCode.ENTER&&$.inArray(n._$tagInput.val(),n._tags)>=0&&(typeof n._options.availableDropdownSelect=="function"&&n._options.availableDropdownSelect(n._$tagInput.val()),n._$tagInput.autocomplete("close"),t())});this._$tagInput.data("ui-autocomplete").menu.element.addClass("tags-autocomplete-menu");r=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+r+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,t){var r=t.label,i=$(d("a")).text(r);return y.RichContentTooltip.addIfOverflow(t.value,i),$(d("li")).data("ui-autocomplete-item",t).append(i).appendTo(n)};$(window).resize(function(){n._$tagInput.autocomplete("close")});$(document.body).append(this._$tagInput)},t.prototype._getNextZIndex=function(){var n=0,t=0;return $("div.ui-dialog").each(function(){var i=$(this).css("z-index"),n=parseInt(i);!isNaN(n)&&n>t&&(t=n)}),t<1001?n=1002:(n=t+2,n%2!=0&&n++),n},t.prototype._overflowClick=function(n){n.children().first().addClass("tags-filter-overflow-text");this._$tagInput||this._initializeFilterDropdown();this._$tagInput.show();this._$tagInput.autocomplete("enable");$(".tags-filter-overflow-text").toggleClass("pressed",!0);this._$tagInput.position({my:"right top",at:"right bottom",of:n.children().first()});this._$tagInput.autocomplete("search");this._$tagInput.focus()},t.prototype._renderItems=function(n){this._$tagInput&&this._$tagInput.data("ui-autocomplete")&&this._$tagInput.autocomplete("close");this._options.type?this._options.type==="grid"?this._renderForGrid():this._options.type==="filter.available"?this._renderFilterAvailable(n):this._options.type==="filter.applied"?this._renderFilterApplied(n):this._options.type==="card"?this._renderForCard():this._options.type==="single.line"&&this._renderForSingleLine():this._render(n);this._renderAddButton(n)},t.prototype._renderTag=function(n,i,r){var o=this,h,f,s;return i||(i=n),h=r===this._selectedIndex,f=g.generateTagContainer(this._options.selectable,this._useDeleteExperience(),r,h),this._useDeleteExperience()&&f.addClass("tag-item-delete-experience"),n!==i&&(y.RichContentTooltip.add(n,f),f.data(t.FullTagNameKey,n)),this._options.selectable&&(f.click(function(t){return o._tagClick(t,n)}),f.keydown({tagName:n},function(n){return o._tagKeyDown(n)})),typeof this._options.tagRenderer=="function"?this._options.tagRenderer(f.find(".tag-container"),n,i):f.find(".tag-box").text(i),this._useDeleteExperience()&&(s=$("<span/>").addClass("tag-delete tag-box-delete-experience").attr("role","button").attr("aria-label",u.format(b.TagsDeleteButton_AriaLabel,n)).attr("dir","ltr").appendTo(f.find(".tag-container")),$("<span/>").addClass("bowtie-icon bowtie-math-multiply-light").appendTo(s),s.click(function(n){o._removeTagAndSetFocus(n,!0)})),f},t.prototype._removeTagAndSetFocus=function(n,i){var r=this,f=n.keyCode===s.KeyCode.DELETE,e=n.keyCode===s.KeyCode.BACKSPACE,o=function(n){var i,u;n[0]&&(r._selectedIndex=Number(n.attr("index")),i=r._getLastIndex(),r._selectedIndex>i&&(r._selectedIndex=i));u=n.data(t.FullTagNameKey)||n.text();r._removeTag(u,!0,!0)},u;(i||f||e||t.shouldKeydownTriggerClick(n))&&!this._readOnly&&(n.preventDefault(),n.stopPropagation(),u=$(n.target).closest(".tag-item"),o(u),u.remove())},t.prototype._removeTag=function(n,t,i){if(n&&f.contains(this._tags,n,u.localeIgnoreCaseComparer)){this._tags.splice($.inArray(n,this._tags),1);var r=this._getLastIndex();this._selectedIndex>r&&this._selectedIndex==r;t?this._renderItems(i):this._renderAddButton(i);this._fireChange({type:tt.Delete,name:n})}},t.prototype._getMatchesForPrefix=function(n,i,r){var o,l,a,s,h,c;if(o=[],n){for(l=$.ui.autocomplete.escapeRegex(n),a=new RegExp("^"+l,"i"),s=0,h=i;s<h.length;s++)if(c=h[s],a.test(c)&&(o.push(c),o.length>t.AUTOCOMPLETE_MATCHES_LIMIT))break}else o=i.length<=t.AUTOCOMPLETE_MATCHES_LIMIT?i:i.slice(0,t.AUTOCOMPLETE_MATCHES_LIMIT);return Boolean(r)||(o=f.subtract(o,this._tags,u.localeIgnoreCaseComparer)),o},t.prototype.gettingSuggestedTagNamesForPrefix=function(n){return __awaiter(this,void 0,void 0,function(){var i,r,o;return __generator(this,function(s){switch(s.label){case 0:return i=[],n.length||p.FeatureAvailabilityService.isFeatureEnabled(l.FeatureAvailabilityFlags.WebAccessWorkItemTrackingDisableTagsMRU)||(i=f.subtract(this._mruList,this._tags,u.localeIgnoreCaseComparer),i.length&&i.indexOf(t.LIST_SUGGESTIONS_HEADER_VALUE)===-1&&(i.unshift(t.LIST_SUGGESTIONS_HEADER_VALUE),i.push(t.LIST_SUGGESTIONS_SEPARATOR_VALUE))),[4,this._getSuggestedValues()];case 1:return r=s.sent(),e.logTracePoint("TagControl.getAutoCompleteMatches.start"),o=this._getMatchesForPrefix(n,r,!1),e.logTracePoint("TagControl.getAutoCompleteMatches.completed"),[2,i.concat(o)]}})})},t.prototype._initializeSuggestedValues=function(){var n=this,i;this._$tagInput.autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom",collision:"flip",offset:"0 -1"},source:function(t,i){n.gettingSuggestedTagNamesForPrefix(t.term).then(function(n){i(n)}).catch(function(){i([])})},select:function(t,i){n.addTag(i.item.value);n._hideInputControl(!0)},change:function(){n.flush()},close:function(){n._$tagInput.is(":focus")||(n._$tagInput.val()&&n.flush(),n._hideInputControl())}});this._$tagInput.data("ui-autocomplete").menu.options.items="> li:not(.menu-item-header)";this._$tagInput.data("ui-autocomplete").menu.element.addClass("tags-autocomplete-menu");i=this._getNextZIndex();this._$tagInput.data("ui-autocomplete").menu.element.css("cssText","z-index: "+i+"! important;");this._$tagInput.data("ui-autocomplete")._renderItem=function(n,i){var u=i.label,r,f;return u===t.LIST_SUGGESTIONS_SEPARATOR_VALUE?(r=$(d("div")).addClass("separator"),$(d("li")).addClass("tag-suggestions-separator").append(r).appendTo(n)):u===t.LIST_SUGGESTIONS_HEADER_VALUE?(r=$(d("div")).text(o.FilteredListSuggestions),$(d("li")).addClass("ui-state-disabled menu-item-header ui-menu-divider").append(r).appendTo(n)):(f=$(d("a")).text(u),y.RichContentTooltip.addIfOverflow(i.value,f),$(d("li")).data("ui-autocomplete-item",i).append(f).appendTo(n))}},t.prototype._getSuggestedValues=function(){if(!this._gettingSuggestedValues){var n=jQuery.Deferred();typeof this._options.beginGetSuggestedValues=="function"?this._options.beginGetSuggestedValues(function(t){n.resolve(t)}):n.resolve([]);this._gettingSuggestedValues=n.promise()}return this._gettingSuggestedValues},t.prototype.resetSuggestedValues=function(){this._gettingSuggestedValues=null},t.prototype._renderAddButton=function(n){var t,i;this._$addButtonContainer&&(this._options.addTagTextOnChange&&(t=this._$addButtonContainer.find(".tag-box"),this._addTagTooltip&&(this._addTagTooltip.dispose(),this._addTagTooltip=null),this._tags.length===0?(t.removeClass("bowtie-icon bowtie-math-plus-light"),t.text(this._options.addButtonText||o.AddButtonText)):(t.text(""),t.append($(d("span","bowtie-icon bowtie-math-plus-light"))),this._addTagTooltip=y.RichContentTooltip.add(this._options.addButtonText||o.AddButtonText,this._$addButtonContainer)),i=this._$addButtonContainer.find(".tag-container"),i.attr("aria-label",this._options.addButtonText||o.AddButtonText)),this._$addButtonContainer.attr("index",this._getLastIndex()),this._selectedIndex===this._getLastIndex()?(this._$addButtonContainer.attr("tabIndex",0),n&&this._$addButtonContainer.focus()):this._$addButtonContainer.attr("tabIndex",-1))},t.prototype._initializeInputElements=function(){var n=this,i;this._$addButtonContainer||(this._$addButtonContainer=g.generateTagContainer(!0,!1,0,!0),this._$addButtonContainer.addClass("tags-add-button"),this._useDeleteExperience()&&this._$addButtonContainer.addClass("tag-item-delete-experience"),this._$addButtonContainer.find(".tag-box").text(this._options.addButtonText||o.AddButtonText),this._$addButtonContainer.click(function(){n._showInputControl()}),this._$addButtonContainer.keydown(function(i){n._updateSelectedIndex(i);t.shouldKeydownTriggerClick(i)?(i.preventDefault(),i.stopPropagation(),n._$addButtonContainer.click()):i.keyCode===s.KeyCode.BACKSPACE&&(i.preventDefault(),i.stopPropagation())}),i=$(d("li")),this._useDeleteExperience()&&i.addClass("tag-item-delete-experience"),this._$tagInput=$(d("input","tags-input tag-box")).attr({type:"text",placeholder:""}).hide(),this._$tagInput.change(function(n){n.stopPropagation();n.preventDefault()}),typeof this._options.beginGetSuggestedValues=="function"&&this._initializeSuggestedValues(),this._$tagInput.focus(function(){n._$tagInput.autocomplete("search")}),this._$tagInput.blur(function(){n._$tagInput.data("ui-autocomplete").menu.element.is(":visible")||n._$tagInput.val()||n._hideInputControl()}),this._$tagInput.keydown(function(t){var i,r;(t.keyCode!==s.KeyCode.ENTER||s.KeyUtils.isModifierKey(t))&&t.keyCode!==s.KeyCode.TAB?t.keyCode===s.KeyCode.ESCAPE&&(t.stopPropagation(),n._hideInputControl(!0)):(i=$(t.target).val(),n._splitAndAddTags(i),r=i.replace(/,|;/g,""),t.keyCode===s.KeyCode.TAB&&r.length===0?(n._hideInputControl(!0),t.shiftKey&&t.preventDefault()):($(t.target).val(""),t.preventDefault(),t.stopPropagation(),typeof n._options.beginGetSuggestedValues=="function"&&n._$tagInput.autocomplete("search")),n._selectedIndex=n._tags.length)}),this._$addButtonContainer.appendTo(this._$tagsList),this._$tagInput.appendTo(i),i.appendTo(this._$tagsList))},t.prototype._useDeleteExperience=function(){return this._options.useDeleteExperience&&!this._readOnly},t.prototype._disposeInputElements=function(){this._$addButtonContainer&&this._$addButtonContainer.remove();this._$tagInput&&this._$tagInput.remove()},t.prototype.flush=function(){if(this._$tagInput){var n=this._$tagInput.val();n&&this._splitAndAddTags(n);this._hideInputControl()}},t.enhancementTypeName="tfs.ui.tagcontrol",t.AUTOCOMPLETE_CHARACTER_LIMIT=15,t.AUTOCOMPLETE_MATCHES_LIMIT=200,t.FILTER_DROPDOWN_WIDTH=150,t.coreCssClass="tfs-tags",t.FullTagNameKey="fullTagName",t.LIST_SUGGESTIONS_SEPARATOR_VALUE=";;;;;",t.LIST_SUGGESTIONS_HEADER_VALUE=";SUGGESTIONS;",t}(h.Control);t.TagControl=nt;i.initClassPrototype(nt,{_tags:null,_$tagsList:null,_$tagInput:null,_$addButtonContainer:null,_gettingSuggestedValues:null,_width:null});g=function(){function n(){}return n.renderTagCellContents=function(n,t,i,r){var o,u,f,s;return o=i.getColumnValue.call(n,t,i.index,r),u=o?o.split(k.TAG_SPLITTING_SEPARATOR):[],$.each(u,function(n,t){u[n]=t.trim()}),f=$(d("div","grid-cell")),f.width(i.width||20),u&&u.length>0?(h.BaseControl.createIn(nt,f,{tags:u,readOnly:!0,type:"grid"}),s=u.join("     "),i.maxLength=Math.max(i.maxLength||0,s.length)):f.html("&nbsp;"),f},n.generateTagContainer=function(n,t,i,r){var f=$(d("li","tag-item")).attr("index",i),u=$(d("span","tag-container")),e=$(d("span","tag-box"));return n&&(r?f.attr("tabindex",0):f.attr("tabindex",-1),t?(e.addClass("tag-box-delete-experience"),u.addClass("tag-container-delete-experience")):(u.addClass("tag-container-selectable"),e.addClass("tag-box-selectable"))),e.attr("dir","ltr"),u.attr("dir","ltr"),u.append(e),f.append(u),f},n.enhancementTypeName="tfs.ui.tagutilities",n}();t.TagUtilities=g;i.tfsModuleLoaded("TFS.UI.Tags",t)});

define("Agile/Scripts/Common/Predicate",["require","exports"],function(n,t){var r,h,s,c,l,f,a,v,u,i,y,p,w,b,k,d,e,g,nt,o,tt,it;Object.defineProperty(t,"__esModule",{value:!0});t.PredicateNotUnderOperator=t.PredicateUnderOperator=t.PredicateFieldTreePathOperator=t.PredicateNotContainsOperator=t.PredicateContainsOperator=t.PredicateFieldContainmentOperator=t.PredicateLessThanOrEqualToOperator=t.PredicateLessThanOperator=t.PredicateGreaterThanOrEqualToOperator=t.PredicateGreaterThanOperator=t.PredicateNotEqualsOperator=t.PredicateEqualsOperator=t.PredicateFieldComparisonOperator=t.PredicateFieldOperator=t.PredicateOrOperator=t.PredicateAndOperator=t.PredicateBinaryOperator=t.PredicateCloseParenthesesOperator=t.PredicateOpenParenthesesOperator=t.OperatorPrecendence=t.PredicateUnaryOperator=t.PredicateOperator=void 0;r=function(){function n(){}return n.prototype.evaluate=function(){return!1},n.prototype.walk=function(n,t,i){return t&&t(this,n)?i?i(this,n):!0:!1},n}();t.PredicateOperator=r;h=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.operand.evaluate(n)},t.prototype.walk=function(t,i,r){var u=this;return n.prototype.walk.call(this,t,i,function(){return u.operand&&!u.operand.walk(u,i,r)?!1:r?r(u,t):!0})},t}(r);t.PredicateUnaryOperator=h,function(n){n[n.Low=0]="Low";n[n.High=1]="High"}(s=t.OperatorPrecendence||(t.OperatorPrecendence={}));c=function(n){function t(){return n.call(this)||this}return __extends(t,n),t}(r);t.PredicateOpenParenthesesOperator=c;l=function(n){function t(){return n.call(this)||this}return __extends(t,n),t}(r);t.PredicateCloseParenthesesOperator=l;f=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.walk=function(t,i,r){var u=this;return n.prototype.walk.call(this,t,i,function(){if(u.operands)for(var f=u.operands.length,n=0;n<f;n++)if(!u.operands[n].walk(u,i,r))return!1;return r?r(u,t):!0})},t}(r);t.PredicateBinaryOperator=f;a=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.precedence=s.High,t}return __extends(t,n),t.prototype.evaluate=function(n){if(this.operands)for(var i=this.operands.length,t=0;t<i;t++)if(!this.operands[t].evaluate(n))return!1;return!0},t}(f);t.PredicateAndOperator=a;v=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t.precedence=s.Low,t}return __extends(t,n),t.prototype.evaluate=function(n){if(this.operands)for(var i=this.operands.length,t=0;t<i;t++)if(this.operands[t].evaluate(n))return!0;return!1},t}(f);t.PredicateOrOperator=v;u=function(n){function t(t,i){var r=__construct(this,n,[]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.field=t,r.value=i,r}return __extends(t,n),t}(r);t.PredicateFieldOperator=u;i=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.compare=function(n){return n.compare(this.field,this.value)},t}(u);t.PredicateFieldComparisonOperator=i;y=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.compare(n)===0},t}(i);t.PredicateEqualsOperator=y;p=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.compare(n)!==0},t}(i);t.PredicateNotEqualsOperator=p;w=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.compare(n)>0},t}(i);t.PredicateGreaterThanOperator=w;b=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.compare(n)>=0},t}(i);t.PredicateGreaterThanOrEqualToOperator=b;k=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.compare(n)<0},t}(i);t.PredicateLessThanOperator=k;d=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.compare(n)<=0},t}(i);t.PredicateLessThanOrEqualToOperator=d;e=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.contains=function(n){return n.contains(this.field,this.value)},t}(u);t.PredicateFieldContainmentOperator=e;g=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.contains(n)===!0},t}(e);t.PredicateContainsOperator=g;nt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.contains(n)===!1},t}(e);t.PredicateNotContainsOperator=nt;o=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.under=function(n){return n.under(this.field,this.value)},t}(u);t.PredicateFieldTreePathOperator=o;tt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.under(n)===!0},t}(o);t.PredicateUnderOperator=tt;it=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.evaluate=function(n){return this.under(n)===!1},t}(o);t.PredicateNotUnderOperator=it});

define("WorkItemTracking/Scripts/OM/WiqlValues",["require","exports","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking.Common","VSS/Utils/String","WorkItemTracking/Scripts/OM/WiqlOperators"],function(n,t,i,r,u){function a(n,t){var i;if(t===void 0&&(t=!1),i=n&&n.trim().match(t?l:c),!i)return null;var f=i[1],e=i[2],r=i[3],u=r&&(e==="+"?+r:-r);return isNaN(u)&&(u=0),{team:f,offset:u}}function v(n){var t=n&&n.trim().match(h),i;return t?(i=t[1],{team:i}):null}function y(n){var i,t,r,u;for(i in o)if(t=n&&n.trim().match(o[i]),t)return r=t[1],u=t[2],{invariantMacro:i,modifier:r,offset:u};return null}var f,h,e,o;Object.defineProperty(t,"__esModule",{value:!0});t.parseDateMacro=t.parseTeamAreas=t.parseCurrentIteration=void 0;var s="\\s*(?:\\(\\s*'(.*?)'\\s*\\))?\\s*(?:(\\+|-)\\s*((?:\\+|-)?\\d*)?)?",c=new RegExp("^@".concat(i.WiqlOperators_MacroCurrentIteration).concat(s,"$"),"i"),l=new RegExp("^".concat(u.WiqlOperators.MacroCurrentIteration).concat(s,"$"),"i");t.parseCurrentIteration=a;h=new RegExp("^@".concat(i.WiqlOperators_MacroTeamAreas,"\\s*(?:\\(\\s*'([^']*?)'\\s*\\))?$"),"i");t.parseTeamAreas=v;e="^@{0}\\s*(?:\\(\\s*'([+-]{{0,1}}\\d{{1,7}}[yMwdhm]?)'\\s*\\))?\\s*((?:[+-]\\s*\\d{{1,7}}))?$";o=(f={},f[u.WiqlOperators.MacroStartOfYear]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfYear),"i"),f[u.WiqlOperators.MacroStartOfMonth]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfMonth),"i"),f[u.WiqlOperators.MacroStartOfWeek]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfWeek),"i"),f[u.WiqlOperators.MacroStartOfDay]=new RegExp(r.format(e,i.WiqlOperators_MacroStartOfDay),"i"),f);t.parseDateMacro=y});

define("Agile/Scripts/Common/PredicateWIT",["require","exports","Agile/Scripts/Common/Utils","VSS/Utils/String","VSS/Utils/Date","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/FeatureRef/TFS.TeamAwarenessService","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Agile/Scripts/Card/Cards","VSS/Diag","Agile/Scripts/Common/Predicate","Agile/Scripts/Card/CardUtils","VSS/Utils/Array","WorkItemTracking/Scripts/OM/WiqlOperators","WorkItemTracking/Scripts/OM/WiqlValues"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var b,g,nt,k,tt,d;Object.defineProperty(t,"__esModule",{value:!0});t.WiqlHelper=t.QueryExpression=t.WorkItemQueryPredicate=t.WorkItemPredicateConfiguration=t.WorkItemPredicateEvaluationHelper=void 0;b=f.TfsContext.getDefault();g=function(){function n(n,t,i){this._teamId=n;this._fieldValue=i;this._fieldDefinitions=t}return n.prototype.getFieldType=function(n){var t=this._fieldDefinitions[n.toUpperCase()];return t?t.type():0},n.prototype.compare=function(n,t){var o,a,y,e,s,h,l,i,f;typeof t=="string"&&(t=t.trim());o=this.getFieldType(n);switch(o){case c.CardFieldType.PlainText:case c.CardFieldType.String:case c.CardFieldType.TreePath:case c.CardFieldType.Identity:case c.CardFieldType.Guid:return t=this._getEvaluatedValue(o,t),r.ignoreCaseComparer(this._getFieldValue(n),t);case c.CardFieldType.Boolean:return a=this._getFieldValue(n)===!0?"True":"False",y=t,a===y?0:1;case c.CardFieldType.Integer:case c.CardFieldType.Double:return(e=this._getFieldValue(n),e===""&&t==="")?0:e===""?-1:t===""?1:(s=Number(e),h=Number(t),isNaN(s)||isNaN(h))?null:s-h;case c.CardFieldType.DateTime:if(l=this._getFieldValue(n),l===""&&t==="")return 0;if(i=v.buildDate(l),f=v.buildDate(t,!0),!i||!f)break;return i=u.convertClientTimeToUserTimeZone(i,!0),i=u.stripTimeFromDate(i),f=u.stripTimeFromDate(f),u.defaultComparer(i,f)}return null},n.prototype.contains=function(n,t){switch(this.getFieldType(n)){case c.CardFieldType.PlainText:case c.CardFieldType.String:if(n===i.DatabaseCoreFieldRefName.Tags){var f=this._getFieldValue(n),u=f.split(";");return u.forEach(function(n,t){u[t]=n.trim().toUpperCase()}),y.contains(u,t.toUpperCase())}case c.CardFieldType.TreePath:case c.CardFieldType.Identity:return r.caseInsensitiveContains(this._getFieldValue(n),t)}return null},n.prototype.under=function(n,t){var u=this.getFieldType(n),i;switch(u){case c.CardFieldType.TreePath:return i=this._getFieldValue(n),i=this._trimTrailingSlashes(i),t=this._getEvaluatedValue(u,t),t=this._trimTrailingSlashes(t),r.startsWith(i,t,r.ignoreCaseComparer)}return null},n.prototype._trimTrailingSlashes=function(n){return n?n.replace(/(\\)+$/,""):""},n.prototype._getFieldValue=function(n){return this._fieldValue?this._fieldValue(n):null},n.prototype._getCurrentIteration=function(n){var i,r,t;return(this._teamSettings||(i=e.ProjectCollection.getConnection(b).getService(s.TeamAwarenessService),this._teamSettings=i.getTeamSettings(this._teamId)),n>0)?(t=this._teamSettings.futureIterations[n-1],t&&t.friendlyPath):n<0?(r=this._teamSettings.previousIterations.length+n,t=this._teamSettings.previousIterations[r],t&&t.friendlyPath):this._teamSettings.currentIteration&&this._teamSettings.currentIteration.friendlyPath},n.prototype._getCurrentIdentity=function(){return this._currentIdentity||(this._currentIdentity=o.IdentityHelper.getFriendlyDistinctDisplayName(b.currentIdentity)),this._currentIdentity},n.prototype._getEvaluatedValue=function(n,t){if(n==c.CardFieldType.Identity&&r.ignoreCaseComparer(p.WiqlOperators.MacroMe,t)===0)return this._getCurrentIdentity();var i=w.parseCurrentIteration(t,!0);return n==c.CardFieldType.TreePath&&i&&(t=this._getCurrentIteration(i.offset)),t},n}();t.WorkItemPredicateEvaluationHelper=g;nt=function(){function n(){}return n.prototype.getSupportedFieldTypes=function(){return[h.FieldType.String,h.FieldType.Integer,h.FieldType.DateTime,h.FieldType.PlainText,h.FieldType.TreePath,h.FieldType.Double,h.FieldType.Guid,h.FieldType.Boolean]},n.prototype.getSupportedOperators=function(n){var t=[];switch(n){case h.FieldType.String:case h.FieldType.PlainText:t=[p.WiqlOperators.OperatorEqualTo,p.WiqlOperators.OperatorNotEqualTo,p.WiqlOperators.OperatorContains,p.WiqlOperators.OperatorNotContains];break;case h.FieldType.TreePath:t=[p.WiqlOperators.OperatorEqualTo,p.WiqlOperators.OperatorNotEqualTo,p.WiqlOperators.OperatorContains,p.WiqlOperators.OperatorNotContains,p.WiqlOperators.OperatorUnder,p.WiqlOperators.OperatorNotUnder];break;case h.FieldType.Boolean:case h.FieldType.Guid:t=[p.WiqlOperators.OperatorEqualTo,p.WiqlOperators.OperatorNotEqualTo];break;case h.FieldType.Integer:case h.FieldType.Double:case h.FieldType.DateTime:t=[p.WiqlOperators.OperatorEqualTo,p.WiqlOperators.OperatorNotEqualTo,p.WiqlOperators.OperatorLessThan,p.WiqlOperators.OperatorLessThanOrEqualTo,p.WiqlOperators.OperatorGreaterThan,p.WiqlOperators.OperatorGreaterThanOrEqualTo]}return t},n.prototype.getSupportedMacros=function(n){var t=[];switch(n){case h.FieldType.DateTime:t.push(p.WiqlOperators.MacroToday);break;case h.FieldType.TreePath:t.push(p.WiqlOperators.MacroCurrentIteration);break;case h.FieldType.String:t.push(p.WiqlOperators.MacroMe)}return t},n}();t.WorkItemPredicateConfiguration=nt;k=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t}(a.PredicateUnaryOperator);t.WorkItemQueryPredicate=k;tt=function(){function n(n){this._operatorStack=[];this._infix=[];this._postFix=[];var t=d.isQueryValid(n);t&&(this._clauses=n.clauses,this._groups=n.groups)}return n.prototype.toPredicate=function(){var n=new k,t;return this._operatorStack=[],this._infix=[],this._postFix=[],this._createInfixExpression(),this._createPostFixExpression(),t=this._createExpressionTree(),n.operand=t,n},n.prototype._createExpressionTree=function(){for(var i,t,n=[],u=this._postFix.length,r=0;r<u;r++)i=this._postFix[r],i instanceof a.PredicateBinaryOperator?(t=i,t.operands=[],t.operands.push(n.pop()),t.operands.push(n.pop()),n.push(t)):n.push(i);return n.pop()},n.prototype._createInfixExpression=function(){for(var i,r,t=this,u=this._clauses.length,n=0;n<u;n++)n>0&&(i=this._getLogicalOperator(this._clauses[n].logicalOperator),i&&this._infix.push(i)),this._groups&&this._groups.length>0&&this._groups.forEach(function(i){i&&i.start===t._clauses[n].index&&t._infix.push(new a.PredicateOpenParenthesesOperator)}),r=this._getFieldOperator(this._clauses[n].operator,this._clauses[n].fieldName,this._clauses[n].value),r&&this._infix.push(r),this._groups&&this._groups.length>0&&this._groups.forEach(function(i){i&&i.end===t._clauses[n].index&&t._infix.push(new a.PredicateCloseParenthesesOperator)})},n.prototype._createPostFixExpression=function(){for(var t,r,u=this._infix.length,n,i=0;i<u;i++)if(t=this._infix[i],t instanceof a.PredicateFieldComparisonOperator||t instanceof a.PredicateFieldContainmentOperator||t instanceof a.PredicateFieldTreePathOperator)this._postFix.push(t);else if(t instanceof a.PredicateOpenParenthesesOperator)this._operatorStack.push(t);else if(t instanceof a.PredicateCloseParenthesesOperator)for(n=this._operatorStack.pop();n&&!(n instanceof a.PredicateOpenParenthesesOperator);)this._postFix.push(n),n=this._operatorStack.pop();else if(t instanceof a.PredicateBinaryOperator){for(r=t,n=this._operatorStack.pop();n;)if(n instanceof a.PredicateOpenParenthesesOperator){this._operatorStack.push(n);break}else if(n.precedence>r.precedence)this._postFix.push(n),n=this._operatorStack.pop();else{this._operatorStack.push(n);break}this._operatorStack.push(r)}for(n=this._operatorStack.pop();n;)this._postFix.push(n),n=this._operatorStack.pop()},n.prototype._getLogicalOperator=function(n){switch(n.toLocaleUpperCase()){case p.WiqlOperators.OperatorAnd:return new a.PredicateAndOperator;case p.WiqlOperators.OperatorOr:return new a.PredicateOrOperator}return null},n.prototype._getFieldOperator=function(n,t,i){switch(n.toLocaleUpperCase()){case p.WiqlOperators.OperatorEqualTo:return new a.PredicateEqualsOperator(t,i);case p.WiqlOperators.OperatorNotEqualTo:return new a.PredicateNotEqualsOperator(t,i);case p.WiqlOperators.OperatorLessThan:return new a.PredicateLessThanOperator(t,i);case p.WiqlOperators.OperatorLessThanOrEqualTo:return new a.PredicateLessThanOrEqualToOperator(t,i);case p.WiqlOperators.OperatorGreaterThan:return new a.PredicateGreaterThanOperator(t,i);case p.WiqlOperators.OperatorGreaterThanOrEqualTo:return new a.PredicateGreaterThanOrEqualToOperator(t,i);case p.WiqlOperators.OperatorContains:return new a.PredicateContainsOperator(t,i);case p.WiqlOperators.OperatorNotContains:return new a.PredicateNotContainsOperator(t,i);case p.WiqlOperators.OperatorUnder:return new a.PredicateUnderOperator(t,i);case p.WiqlOperators.OperatorNotUnder:return new a.PredicateNotUnderOperator(t,i)}return null},n}();t.QueryExpression=tt;d=function(){function n(){}return n.getWiql=function(t){var i="",s=n.isQueryValid(t),u,f;if(!s)return i;if(t&&t.clauses){var o=t.groups,e="",h=t.clauses.length;for(u=0;u<h;u++)i&&t.clauses[u].logicalOperator&&(i=i+" "+t.clauses[u].logicalOperator+" "),o&&o.length&&(e="",$.each(o,function(n,t){t.start===u+1&&(e+="(")}),e&&(i=i+e)),t.clauses[u].fieldName&&t.clauses[u].operator&&(i=i+"["+t.clauses[u].fieldName+"]",i=i+" "+t.clauses[u].operator,f=t.clauses[u].value,f=f.replace(/\'/g,"''"),f=f.trim(),r.startsWith(f,p.WiqlOperators.MacroStart)||(f=" '"+f+"'"),i=i+f),o&&o.length&&(e="",$.each(o,function(n,t){t.end===u+1&&(e+=")")}),e&&(i=i+e))}return i},n.isQueryValid=function(n){var i=[],u=!0,r,t;if(n&&n.clauses){for(r=n.groups,t=0;t<n.clauses.length;t++)r&&r.length&&$.each(r,function(n,r){if(r.start===t+1&&i.push("("),r.end===t+1&&(i.length<=0||!(i.pop()==="("))){u=!1;return}});if(i.length>0||u===!1)return!1}return!0},n.removeFieldClauses=function(n,t){var f=!0,r=[],i=n.clauses.filter(function(n){return n.fieldName===t}),e,o,u;return i.length===0?r:($.each(i,function(n,t){if(n&&!(i[n].index-1===i[n-1].index))return f=!1,!1;r.push(t.value)}),n.clauses=n.clauses.filter(function(n){return n.fieldName!==t}),e=i[0].index,o=i[i.length-1].index,$.each(n.groups,function(n,t){if(t.end===o&&t.start===e)return u=n,!1}),u&&n.groups.splice(u,1),r)},n.addFieldClauses=function(n,t,i,r,u,f){var o,e;u=u||p.WiqlOperators.OperatorOr;r=r||p.WiqlOperators.OperatorEqualTo;o=n.clauses.filter(function(n){return n.fieldName===t});e=0;n.clauses.length>0&&(e=n.clauses[n.clauses.length-1].index);$.each(i,function(i,o){var s=u;i===0&&e>0?s=f||p.WiqlOperators.OperatorAnd:i===0&&(s="");n.clauses.push({fieldName:t,index:e+i+1,logicalOperator:s,operator:r,value:o})});n.groups.push({start:e+1,end:e+i.length,level:0})},n}();t.WiqlHelper=d});

define("Agile/Scripts/Card/CardCustomizationStyle",["require","exports","Agile/Scripts/Common/PredicateWIT","VSS/Utils/String","VSS/Diag","Agile/Scripts/Common/Utils","VSS/Service","TFS/Work/RestClient","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Service","WorkItemTracking/Scripts/TFS.UI.Tags"],function(n,t,i,r,u,f,e,o,s,h,c){var b,y,k,d,p,w,l,a,g,nt,v;Object.defineProperty(t,"__esModule",{value:!0});t.CSSDecorator=t.StyleRuleHelper=t.CSSPropertyValues=t.CSSProperties=t.StyleRuleSettings=t.BoardCardRuleSettings=t.Rule=t.FilterClause=t.Attributes=t.RuleType=void 0;b=f.DatabaseCoreFieldRefName;y=function(){function n(){}return n.ANNOTATION="annotation",n.FILL="fill",n.TAGSTYLE="tagStyle",n}();t.RuleType=y;k=function(){function n(){}return n}();t.Attributes=k;d=function(){function n(){}return n}();t.FilterClause=d;p=function(){function n(n,t,i,r){this.filter=i;this.name=t;this.isEnabled=n;this.settings=r}return n}();t.Rule=p;w=function(){function n(n){if(this.rules={},n)for(var t=0;t<n.length;t++)this.rules[n[t]]||(this.rules[n[t]]=[])}return n.prototype.addRule=function(n,t){this.rules[n]||(this.rules[n]=[]);this.rules[n].push(t)},n}();t.BoardCardRuleSettings=w;l=function(){function n(){}return n.BACKGROUND_COLOR="background-color",n.TITLE_COLOR="title-color",n.TITLE_FONT_WEIGHT="title-font-weight",n.TITLE_FONT_STYLE="title-font-style",n.TITLE_TEXT_DECORATION="title-text-decoration",n}();t.StyleRuleSettings=l;a=function(){function n(){}return n.BACKGROUND_COLOR="background-color",n.COLOR="color",n.FONT_WEIGHT="font-weight",n.FONT_STYLE="font-style",n.TEXT_DECORATION="text-decoration",n}();t.CSSProperties=a;g=function(){function n(){}return n.BOLD="bold",n.ITALIC="italic",n.UNDERLINE="underline",n}();t.CSSPropertyValues=g;nt=function(){function n(){}return n.getStyleAttribute=function(n){var t={};return t[l.BACKGROUND_COLOR]=n.backgroundColor,n.titleColor&&(t[l.TITLE_COLOR]=n.titleColor),n.titleFontStyle&&(t[l.TITLE_FONT_STYLE]=n.titleFontStyle),n.titleFontWeight&&(t[l.TITLE_FONT_WEIGHT]=n.titleFontWeight),n.titleTextDecoration&&(t[l.TITLE_TEXT_DECORATION]=n.titleTextDecoration),t},n.prototype.applyFillStyle=function(n,t,r,f,e){var s,o,h,c;u.logTracePoint("Fill.Style.start");var a=e.length,y=new i.WorkItemPredicateEvaluationHelper(t,r,f),p=[l.BACKGROUND_COLOR],w=[l.TITLE_COLOR,l.TITLE_TEXT_DECORATION,l.TITLE_FONT_WEIGHT,l.TITLE_FONT_STYLE];for(s=0;s<a;s++)if(o=e[s],o.isEnabled&&(h=new i.QueryExpression(o.criteria).toPredicate(),h.evaluate(y))){c=new v(p);c.decorate(n,o.styles);var k=new v(w),d=n.find("[field='"+b.Title+"']"),g=d.find(".clickable-title").first();k.decorate(g,o.styles);n.addClass("custom-style-applied");return}u.logTracePoint("Fill.Style.complete")},n.prototype.applyTagColorStyle=function(n,t){var o,s,f,i,e;for(u.logTracePoint("TagColor.Style.start"),o=["color","background-color"],s=new v(o),f=0;f<t.length;f++)i=t[f],i.isEnabled&&i.styles&&(e=n.find("li.tag-item").filter(function(){return r.equals($(this).data(c.TagControl.FullTagNameKey),i.name,!0)||r.equals($(this).text(),i.name,!0)}),e.length&&s.decorate(e.find("span.tag-box"),i.styles));u.logTracePoint("TagColor.Style.complete")},n.onCustomizeTagColorSave=function(t,i,r,u,f,e){var l=function(){f()},c=s.TfsContext.getDefault(),a=new h.VssConnection(c.contextData),v=a.getHttpClient(o.WorkHttpClient),y={projectId:c.contextData.project.id,teamId:t,project:undefined,team:undefined};v.updateBoardCardRuleSettings(n._convertTagColorSettingToRestDefinition(i,u),y,r).then(l,e)},n._convertTagColorSettingToRestDefinition=function(t,i){for(var r,e,f=new w(i),o=t.length,u=0;u<o;u++)r=t[u],e=new p(r.isEnabled.toString(),r.name,null,n._getTagColorAttribute(r.color,r.backgroundColor)),f.addRule(r.type,e);return f},n._getTagColorAttribute=function(n,t){var i={};return i["background-color"]=t,i.color=n,i},n.prototype.applyCustomStyle=function(n,t,i,u,f){for(var o=[],s=[],e=0;e<f.length;e++)r.equals(f[e].type,y.FILL,!0)&&f[e].criteria?o.push(f[e]):r.equals(f[e].type,y.TAGSTYLE,!0)&&s.push(f[e]);this.applyFillStyle(n,t,i,u,o);this.applyTagColorStyle(n,s)},n.beginGetBoardCardRuleSettings=function(n,t){var i=s.TfsContext.getDefault(),r=new e.VssConnection(i.contextData),u=r.getHttpClient(o.WorkHttpClient),f={projectId:i.contextData.project.id,teamId:n};return u.getBoardCardRuleSettings(f,t)},n.convertRestDefinitionToBoardStyleSetting=function(n,t){var h=[],u,c,f,i,e,o,l,s,a;if(n.rules&&(u=n.rules[t],u))for(c=u.length,f=0;f<c;f++){if(i=u[f],e={},i.settings)for(o in i.settings)i.settings.hasOwnProperty(o)&&(e[o]=i.settings[o]);l=[];l.push(e);s={};i.clauses&&(s={clauses:i.clauses,groups:[],maxGroupLevel:0});a={isEnabled:r.ignoreCaseComparer(i.isEnabled,"true")===0,name:i.name,styles:e,type:t,criteria:s};h.push(a)}return h},n}();t.StyleRuleHelper=nt;v=function(){function n(n){this.allowedStyles=n}return n.prototype.decorate=function(n,t){var i=this;t&&Object.keys(t).forEach(function(r){i.allowedStyles.indexOf(r)>=0&&n.css(i.getCssPropertyName(r),t[r])})},n.prototype.getCssPropertyName=function(n){switch(n){case l.TITLE_COLOR:return a.COLOR;case l.TITLE_TEXT_DECORATION:return a.TEXT_DECORATION;case l.TITLE_FONT_STYLE:return a.FONT_STYLE;case l.TITLE_FONT_WEIGHT:return a.FONT_WEIGHT;default:return n}},n}();t.CSSDecorator=v});

/*!
 * jQuery UI Tabs 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/tabs",["jquery","./keycode","./safe-active-element","./unique-id","./version","./widget"],t):t(jQuery)}(function(t){"use strict";var e;return t.widget("ui.tabs",{version:"1.13.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(e=/#.*$/,function(t){var i,a;i=t.href.replace(e,""),a=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(t){}try{a=decodeURIComponent(a)}catch(t){}return t.hash.length>1&&i===a}),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),Array.isArray(i.disabled)&&(i.disabled=t.uniqueSort(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,a=location.hash.substring(1);return null===e&&(a&&this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===a)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),a=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:a++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,a--;break;case t.ui.keyCode.END:a=this.anchors.length-1;break;case t.ui.keyCode.HOME:a=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(a);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(a!==this.options.active&&a);default:return}e.preventDefault(),clearTimeout(this.activating),a=this._focusNextTab(a,s),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(a).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",a)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){var a=this.tabs.length-1;for(;-1!==t.inArray((e>a&&(e=0),e<0&&(e=a),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,a=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,a){var s,n,h,r=t(a).uniqueId().attr("id"),o=t(a).closest("li"),l=o.attr("aria-controls");e._isLocal(a)?(h=(s=a.hash).substring(1),n=e.element.find(e._sanitizeSelector(s))):(s="#"+(h=o.attr("aria-controls")||t({}).uniqueId()[0].id),(n=e.element.find(s)).length||(n=e._createPanel(h)).insertAfter(e.panels[i-1]||e.tablist),n.attr("aria-live","polite")),n.length&&(e.panels=e.panels.add(n)),l&&o.data("ui-tabs-aria-controls",l),o.attr({"aria-controls":h,"aria-labelledby":r}),n.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(a.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,a,s;for(Array.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),s=0;a=this.tabs[s];s++)i=t(a),!0===e||-1!==t.inArray(s,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,a=this.element.parent();"fill"===e?(i=a.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),a=e.css("position");"absolute"!==a&&"fixed"!==a&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,a=this.active,s=t(e.currentTarget).closest("li"),n=s[0]===a[0],h=n&&i.collapsible,r=h?t():this._getPanelForTab(s),o=a.length?this._getPanelForTab(a):t(),l={oldTab:a,oldPanel:o,newTab:h?t():s,newPanel:r};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||n&&!i.collapsible||!1===this._trigger("beforeActivate",e,l)||(i.active=!h&&this.tabs.index(s),this.active=n?t():s,this.xhr&&this.xhr.abort(),o.length||r.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),r.length&&this.load(this.tabs.index(s),e),this._toggle(e,l))},_toggle:function(e,i){var a=this,s=i.newPanel,n=i.oldPanel;function h(){a.running=!1,a._trigger("activate",e,i)}function r(){a._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&a.options.show?a._show(s,a.options.show,h):(s.show(),h())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){a._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),r()),n.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&n.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,a=this._findActive(e);a[0]!==this.active[0]&&(a.length||(a=this.active),i=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=Array.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=Array.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var a=this,s=this.tabs.eq(e),n=s.find(".ui-tabs-anchor"),h=this._getPanelForTab(s),r={tab:s,panel:h},o=function(t,e){"abort"===e&&a.panels.stop(!1,!0),a._removeClass(s,"ui-tabs-loading"),h.removeAttr("aria-busy"),t===a.xhr&&delete a.xhr};this._isLocal(n[0])||(this.xhr=t.ajax(this._ajaxSettings(n,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(s,"ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.done(function(t,e,s){setTimeout(function(){h.html(t),a._trigger("load",i,r),o(s,e)},1)}).fail(function(t,e){setTimeout(function(){o(t,e)},1)})))},_ajaxSettings:function(e,i,a){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,n){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:n},a))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("WorkItemTracking/Scripts/Dialogs/CommonErrorDialog",["require","exports","VSS/Controls/Dialogs","VSS/Resources/VSS.Resources.Platform","jQueryUI/button","jQueryUI/dialog","jQueryUI/tabs","VSS/LoaderPlugins/Css!Dialogs/CommonErrorDialog"],function(n,t,i,r){Object.defineProperty(t,"__esModule",{value:!0});t.CommonErrorDialog=void 0;var u=function(n){function t(t){return n.call(this,$.extend({cssClass:"wit-common-error-dialog",height:"auto",width:600},t))||this}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);this._message=this._options.message;var t=$("<table/>").addClass("dialog-content"),i=$("<tr/>").appendTo(t),r=$("<td/>").addClass("bowtie-icon bowtie-status-error").appendTo(i);i.append(this._getErrorMessage());this.getElement().append(t)},t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,t)},t.prototype._getErrorMessage=function(){var n=$("<td/>").addClass("dialog-message").text(this._message);return n.append("<br>"),n},t.showDialog=function(n,u,f,e){var o={title:n,message:u,buttons:[]};return f&&o.buttons.push({text:r.ModalDialogOkButton,id:r.ModalDialogOkButton,click:function(){f.apply(this);$(this).dialog("close")}}),e&&o.buttons.push({text:r.ModalDialogCancelButton,id:r.ModalDialogCancelButton,click:function(){e.apply(this);$(this).dialog("close")}}),i.show(t,o)},t}(i.ConfirmationDialogO);t.CommonErrorDialog=u});

define("WorkItemTracking/Scripts/Utils/WitIdentityImages",["require","exports","VSS/Locations"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.WitIdentityImages=void 0;var r=function(){function n(){}return n.UnassignedImageUrl=i.urlHelper.getVersionedContentUrl("notassigned-user.svg"),n.AllUsersImageUrl=i.urlHelper.getVersionedContentUrl("Team.svg"),n}();t.WitIdentityImages=r});

define("WorkItemTracking/Scripts/Utils/WorkItemTrackingCIEventHelper",["require","exports","VSS/Telemetry/Services","WorkItemTracking/Scripts/CustomerIntelligence"],function(n,t,i,r){function u(n,t,u){i.publishEvent(new i.TelemetryEventData(r.WITCustomerIntelligenceArea.WORK_ITEM_TRACKING,n,t),u)}function a(n,t,i){t===void 0&&(t={});u(c,__assign({action:n},t),i)}var f,e,o,s,h,c,l;Object.defineProperty(t,"__esModule",{value:!0});t.publishGitHubTelemetry=t.GitHubIntegrationCIActions=t.QueryCIEvents=t.QueryHierarchyCIEvents=t.AttachmentsControlUIViewMode=t.AttachmentsControlUIActionSource=t.AttachmentsControlCIEvents=void 0;f=function(){function n(){}return n.publishEvent=function(t,i,r){i===void 0&&(i={});u(n._featureName,$.extend({action:t},i),r)},n.ACTIONS_ADD="AddAttachment",n.ACTIONS_DELETE="DeleteAttachment",n.ACTIONS_EDIT="EditAttachment",n.ACTIONS_OPEN="OpenAttachment",n.ACTIONS_SAVE="SaveAttachment",n.UI_CHANGE_VIEW_MODE="UIChangeViewMode",n.UI_PREVIEW_MODE="UIPreviewMode",n.UI_PREVIEW_TRAVERSE="UIPreviewModeNext",n.UI_DOWNLOAD="UIDownload",n.UI_DELETE="UIDelete",n.UI_EDIT_COMMENT="UIEditComment",n.UI_PREVIEW="UIShowPreview",n.UI_SHOW_ATTACHMENT="UIShowAttachment",n._featureName="AttachmentsControl",n}();t.AttachmentsControlCIEvents=f;e=function(){function n(){}return n.UI_THUMBNAIL_CONTEXT_MENU="ThumbnailContextMenu",n.UI_THUMBNAIL_CARD="ThumbnailCard",n.UI_GRID_TITLE="GridTitle",n.UI_GRID_ROW="GridRow",n.UI_GRID_CONTEXT_MENU="GridContextMenu",n.UI_GRID_MIDDLE_CLICK="GridMiddleClick",n.UI_PREVIEW_CONTEXT_MENU="PreviewContextMenu",n}();t.AttachmentsControlUIActionSource=e;o=function(){function n(){}return n.GRID="ViewModeGrid",n.THUMBNAIL="ViewModeThumbnail",n}();t.AttachmentsControlUIViewMode=o;s=function(){function n(){}return n.publishEvent=function(t,i,r){u(n._featureName,$.extend({action:t},i?i:{}),r)},n.EVENTS_TREE_NODE_SELECTED="TreeNodeSelected",n.EVENTS_FAVORITES_POPULATED="FavoritesPopulated",n.ACTIONS_DRAG_AND_DROP_TREE_NODE="DragAndDropTreeNode",n.ACTIONS_CLICK_ADD_TO_MY_FAVORITES_MENU_ITEM="ClickAddToMyFavoritesMenuItem",n.ACTIONS_CLICK_ADD_TO_TEAM_FAVORITES_MENU_ITEM="ClickAddToTeamFavoritesMenuItem",n._featureName="QueryHierarchy",n}();t.QueryHierarchyCIEvents=s;h=function(){function n(){}return n.publishEvent=function(t,i,r){u(n._featureName,$.extend({action:t},i?i:{}),r)},n.EVENTS_QUERY_EXECUTED="QueryExecuted",n._featureName="Query",n}();t.QueryCIEvents=h;c="GitHubIntegration";l=function(){function n(){}return n.LINKS_FETCH="LINKS_FETCH",n}();t.GitHubIntegrationCIActions=l;t.publishGitHubTelemetry=a});

define("WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers",["require","exports","VSS/Controls","VSS/VSS","VSS/Identities/Picker/Services","VSS/Utils/String","Presentation/Scripts/TFS/TFS.Host.TfsContext","VSS/Identities/Picker/Controls","WorkItemTracking/Scripts/TFS.WorkItemTracking","Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer","Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","TfsCommon/Scripts/WITIdentityHelpers","VSS/Utils/Accessibility","VSS/Utils/UI","WorkItemTracking/Scripts/Dialogs/CommonErrorDialog","WorkItemTracking/Scripts/OM/WorkItemConstants","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.WorkItemTracking.WebApi","WorkItemTracking/Scripts/Utils/WitControlMode","WorkItemTracking/Scripts/Utils/WitIdentityImages","WorkItemTracking/Scripts/Utils/WorkItemTrackingCIEventHelper","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){var et,ot;Object.defineProperty(t,"__esModule",{value:!0});t.WITFileHelper=t.WITStateCircleColors=t.WITIdentityControlHelpers=void 0;var rt=e.TfsContext,ut=5e6,ft=20,st=function(){function n(){}return n.setupCommonIdentityPickerOptions=function(t,i,r,e,s,h){var c={operationScope:{IMS:!0,Source:rt.getDefault().isHosted},identityType:{User:i,ServicePrincipal:i&&tt.FeatureAvailabilityService.isFeatureEnabled(it.FeatureAvailabilityFlags.ServicePrincipalsAllowed),Group:!0},multiIdentitySearch:t,showMruTriangle:!t,showTemporaryDisplayName:!0,showMru:!0,loadOnCreate:!0,highlightResolved:!0,size:o.IdentityPickerControlSize.Small,callbacks:{onItemSelect:function(n){e(n)},getCustomTooltip:function(){return n.getCustomTooltip(h())}},getFilterByScope:h,consumerId:n.IdentityPickerConsumerId};return c.callbacks.preDropdownRender=function(n){var l=[],t,a=n,e,c;return h&&(e=h()),e?(e.nonIdentities&&(t=e.nonIdentities),e.excludeGroups&&(a=n.filter(function(n){return!f.equals(n.entityType,u.ServiceHelpers.GroupEntity,!0)}))):typeof r=="function"&&(t=r()),i&&t&&t.length>0&&(c=s(),$.each(t,function(n,t){var i=o.EntityFactory.createStringEntity(t,rt.getDefault().configuration.getResourcesFile("notassigned-user.svg"));c!==undefined&&i.displayName&&i.displayName.trim().toLowerCase().indexOf(c)==0&&l.push(i)})),a.concat(l)},c},n.getCustomTooltip=function(n){return n&&f.format(n.displayNames.length<=10?b.ScopedIdentityTooltip:b.ScopedIdentityTooltipWithSuffix,n.displayNames.join(", "))},n.parseIdentityListString=function(n){if(n==="")return[];var t=n.match(/\"([^\"]*)\"/i);return t===null?n.split(","):this.parseIdentityListString(n.substr(0,t.index-1)).concat([t[1]]).concat(this.parseIdentityListString(n.substr(t.index+t[0].length+1)))},n.toIdentityListString=function(n){return n.map(function(n){return'"'.concat(n,'"')}).join(",")},n.getIdentityDisplayControl=function(t,r){var u=a.WITIdentityHelpers.parseUniquefiedIdentityName(t),f=!1;if(u?o.EntityFactory.isStringEntityId(u.entityId)&&(f=!0):(u=o.EntityFactory.createStringEntity(b.AssignedToEmptyText,g.WitIdentityImages.UnassignedImageUrl),f=!0),u){var e=a.WITIdentityHelpers.getEntityIdentifier(u,!0),s={identityType:{User:!0,ServicePrincipal:tt.FeatureAvailabilityService.isFeatureEnabled(it.FeatureAvailabilityFlags.ServicePrincipalsAllowed)},operationScope:{IMS:!0,Source:rt.getDefault().isHosted},item:f?u:e,friendlyDisplayName:u.displayName,size:o.IdentityPickerControlSize.Large,turnOffHover:!0,consumerId:n.IdentityDisplayControlConsumerId},h=i.BaseControl.create(o.IdentityDisplayControl,r,s);return h.getElement()}return null},n.IdentityPickerConsumerId="1D08AC59-C802-43AD-B040-DF2E624C194D",n.IdentityDisplayControlConsumerId="944005B7-E27F-465B-B112-619B98DD4A16",n}();t.WITIdentityControlHelpers=st;et=function(){function n(){}return n.getStateColors=function(n,t){var r,i;return t&&t.stateColors&&n&&(i=t.stateColors[n],i&&i!==f.empty&&f.ignoreCaseComparer(i,"#ffffff")!==0&&(r={borderColor:i,backgroundColor:i})),r||(r={borderColor:h.WorkItemStateCellRenderer.STATES_DEFAULT_COLOR,backgroundColor:c.WorkItemStateColorsProvider.DEFAULT_STATE_COLOR}),r},n.getSpanForState=function(t,i){var r=n.getStateColors(t,i);return f.format("<span class='state-circle' style='border-color: {0}; background-color: {1};'><\/span>",r.borderColor,r.backgroundColor)},n.setStateColorsOnElement=function(t,i,r){var u=n.getStateColors(i,r);t.css("border-color",u.borderColor);t.css("background-color",u.backgroundColor)},n}();t.WITStateCircleColors=et;ot=function(){function n(){}return n.getExtensionName=function(n){if(!n)return f.empty;var t=n.lastIndexOf(".");return t>=0?n.substring(t+1).toLowerCase():f.empty},n.getExtensionNames=function(t){var r=[],i,u,e,f;if(t&&t.length>0)for(i=0,u=t;i<u.length;i++)e=u[i],f=n.getExtensionName(e),r.indexOf(f)<0&&r.push(f);return r},n.getExtensionNamesFromFileList=function(t){var u=[],i,r;if(t&&t.length>0){for(i=[],r=0;r<t.length;r++)i.push(t[0].name);u=n.getExtensionNames(i)}return u},n.getMatchingIcon=function(t){var r=n.getExtensionName(t),i="bowtie-icon ";switch(r){case"jpg":case"jpeg":case"jif":case"jfif":case"jpx":case"fpx":case"pcd":case"bmp":case"img":case"eps":case"psd":case"wmf":case"png":i+="bowtie-image";break;case"gif":case"mp4":case"flv":case"mng":case"avi":case"qt":case"wmv":case"yuv":case"asf":case"rm":case"amv":case"m4p":case"m4v":case"mpg":case"mpeg":case"mpv":case"m4v":case"svi":case"f4v":case"mov":i+="bowtie-video";break;case"msg":i+="bowtie-mail-message";break;default:i+="bowtie-file-content"}return i},n.uploadFiles=function(t,i){return new Promise(function(r,u){var it=t.length,o=[],h=[],c=[],a=!1,rt=function(){nt.AttachmentsControlCIEvents.publishEvent(nt.AttachmentsControlCIEvents.ACTIONS_ADD,{isDragDrop:!0,numOfFilesDropped:t.length,numOfFilesAttached:c.length,numOfOversizedFiles:h.length,numOfRejectedFiles:o.length,oversizedFileExtNames:n.getExtensionNames(h),rejectedFileExtNames:n.getExtensionNames(o),inputFileExtNames:n.getExtensionNamesFromFileList(t),workItemSessionId:i.sessionId})},e;if(y.BrowserCheckUtils.isIE()&&t.length===0){p.CommonErrorDialog.showDialog(b.AttachmentUploadFailDialogTitle,f.format(b.AttachmentUploadFailMessage,o.join(", ")));u();return}if(t&&t.length>ft){for(e=0;e<t.length;e++)o.push(t[e].name);p.CommonErrorDialog.showDialog(b.FileThrottleDialogTitle,f.format(b.FileThrottleMessage,ft));rt();u();return}var et=new v.ProgressAnnouncer({announceStartMessage:b.AttachmentUploadingStart,announceEndMessage:b.AttachmentUploadingEnd,announceErrorMessage:b.AttachmentUploadingError,announceStartDelay:0}),ot=function(n,t,i){t.lastModified?i.resolvePlaceholder(n.id,null,new Date(t.lastModified)):i.resolvePlaceholder(n.id,null,t.lastModifiedDate);c.push(i);g()},st=function(n,t,i){o.push(t.name);i.remove();g(n&&n.status)},g=function(n){if(it--,it===0){if(o.length>0){et.announceError();u();var t="";t=Number(n)===403?b.AttachmentUploadFailPermissionsMessage:n===undefined&&a?b.AttachmentUploadCancelledMessage:f.format(b.AttachmentUploadFailMessage,o.join(", "));p.CommonErrorDialog.showDialog(b.AttachmentUploadFailDialogTitle,t)}else et.announceCompleted(),c.length>0?r():u();rt()}},tt=function(n,t){(t.change===w.WorkItemChangeType.Refresh||t.change===w.WorkItemChangeType.Reset)&&(a=!0)},ht=function(n){var r=t[n],c,u;if(r.size>d.WitFormModeUtility.maxAttachmentSize)h.push(r.name),c=(d.WitFormModeUtility.maxAttachmentSize/1048576).toFixed(2),p.CommonErrorDialog.showDialog(b.AttachmentsOversizedDialogTitle,f.format(b.FilesUploadedExceedMaxMb,c,h.join(", "))),g();else{u=s.Attachment.create(i,r.name,"","",r.size,null,null,!0);i.addLink(u);var v=i.store.tfsConnection.getHttpClient(k.WorkItemTrackingHttpClient),e=i.getComputedFieldValue(l.CoreField.AreaPath),o="";e&&e.value&&(o=e.value);r.size>ut&&r.slice instanceof Function?(i.attachWorkItemChanged(tt),v.beginAttachmentUpload(i.project.guid,r,o,ut,function(){return!a},r.name).then(function(n){i.detachWorkItemChanged(tt);ot(n,r,u)},function(n){i.detachWorkItemChanged(tt);st(n,r,u)})):v.beginAttachmentUploadSimple(i.project.guid,r,o,r.name).then(function(n){ot(n,r,u)},function(n){st(n,r,u)})}};for(e=0;e<t.length;e++)ht(e)})},n}();t.WITFileHelper=ot;r.tfsModuleLoaded("TFS.WorkItemTracking.Helpers",t)});

/*!
 * jQuery UI Keycode 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/keycode",["jquery","./version"],e):e(jQuery)}(function(e){"use strict";return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Agile/Scripts/Card/CardsControls",["require","exports","VSS/Controls/Combos","VSS/Controls","VSS/Diag","VSS/Identities/Picker/Controls","VSS/Identities/Picker/Services","VSS/Utils/Core","VSS/Utils/String","Agile/Scripts/Common/BoardParentDataProvider","Agile/Scripts/Common/Utils","Presentation/Scripts/TFS/Components/WorkItemTypeIcon","Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer","Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider","TfsCommon/Scripts/WITIdentityHelpers","VSS/Utils/UI","WorkItemTracking/Scripts/OM/WorkItemManager","VSS/Controls/Validation","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/TFS.UI.Controls.Identities","Presentation/Scripts/TFS/FeatureRef/FormatUtils","WorkItemTracking/Scripts/TFS.UI.Tags.Constants","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/Controls/WorkItemForm/Utils","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/TFS.UI.Tags","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Common/Agile","Agile/Scripts/Card/Cards","Agile/Scripts/Card/CardCustomizationStyle","WorkItemTracking/Scripts/TFS.WorkItemTracking.Helpers","Agile/Scripts/Card/CardUtils","jQueryUI/keycode"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at){var pt,ui,fi,kt,dt,bt,ei,gi,yt,oi,gt,si,hi,ci,li,ai,ni,vi,ti,wt,yi,pi,wi,ii,bi,ki,vt,di,ri;Object.defineProperty(t,"__esModule",{value:!0});t.WITCardRenderer=t.WITFieldRendererManager=t.FieldRendererHelper=t.TitleEditControlRenderer=t.DateTimeEditControlRenderer=t.IdentityFieldEditControl=t.IdentityEditControlRenderer=t.WITTreePathEditControlRenderer=t.BooleanEditControlRenderer=t.ComboEditControlRenderer=t.TreePathFieldRenderer=t.IdFieldRenderer=t.TagsFieldRenderer=t.EffortFieldRenderer=t.AssignedToFieldRenderer=t.ParentFieldRenderer=t.StateFieldRenderer=t.TitleFieldRenderer=t.IdentityFieldRenderer=t.DateTimeFieldRenderer=t.WITFieldRenderer=t.BoardCardEditController=t.CardEditController=t.EditableCardFieldView=t.CardFieldRenderedView=t.CardFieldView=t.CardFieldTitleControl=t.IdentityComboControl=t.CardFieldComboControl=t.CardRendererFactory=void 0;t.CardRendererFactory=new k.TypeFactory;pt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({noDropButton:!0,dropShow:o.delegate(this,this._dropShow),dropHide:o.delegate(this,this._dropHide),indexChanged:o.delegate(this,this._indexChanged),change:o.delegate(this,this._inputElementChanges),autoComplete:!1,setTitleOnlyOnOverflow:!0},t))},t.prototype.init=function(n,i,r){var u=this;this._$container=n;r=r||i;this._input.removeClass("invalid");s.ignoreCaseComparer(this._options.type,"list")&&s.ignoreCaseComparer(this._options.type,"tree")||(this._options.getDropdownValues?this.setSource(this._options.getDropdownValues(r)):this._options.getDropdownValuesAsync?this._getDropdownValuesAsyncPromise=this._options.getDropdownValuesAsync(r).then(function(n){u.setSource(n)}):(this.setMode("text"),this._options.blur=this._onBlur));this.setText(i);this._input.val(r);this._currentText=r;this._$container.removeClass(t.NON_COMBO_BEHAVIOR_CLASS).addClass(t.COMBO_BEHAVIOR_CLASS).removeClass("hover");this._suppressedEllipsis=this._$container.hasClass("ellipsis");this._$container.toggleClass("ellipsis",!1)},t.prototype.tearDown=function(){this.blockBlur();this._$container.removeClass(t.COMBO_BEHAVIOR_CLASS).addClass(t.NON_COMBO_BEHAVIOR_CLASS);this._$container.toggleClass("ellipsis",this._suppressedEllipsis)},t.prototype._createIn=function(t){n.prototype._createIn.call(this,t);isNaN(this._options.maxLength)||this._input.attr("maxlength",this._options.maxLength);this._input.addClass("validate custom");this._customValidator&&(this._customValidator.dispose(),this._customValidator=null);this._customValidator=r.Enhancement.enhance(b.CustomValidator,this._input,{validate:this._options.validator})},t.prototype.selectInput=function(){this._input.select()},t.prototype.startEdit=function(){var n=this;this._options.onEditStart();this.selectInput();this.getMode()!=="text"&&(this._getDropdownValuesAsyncPromise?this._getDropdownValuesAsyncPromise.then(function(){return n.showDropPopup()}):this.showDropPopup())},t.prototype.endEdit=function(){this.getMode()!=="text"?this.hideDropPopup():this._onBlur()},t.prototype.isEditInProgress=function(){return this.getElement().is(":visible")},t.prototype._onInputKeyDown=function(t){var r=this;if(t.keyCode===p.KeyCode.ENTER)return t.stopPropagation(),this._raiseOnEditEnd(t,this._isInputInvalid()),!1;if(t.keyCode===p.KeyCode.TAB)return t.preventDefault(),this._raiseOnEditEnd(t,this._isInputInvalid()),!1;if(t.keyCode===p.KeyCode.ESCAPE)return t.stopPropagation(),this._raiseOnEditEnd(t,!0),!1;if(t.keyCode===p.KeyCode.UP||t.keyCode===p.KeyCode.DOWN||t.keyCode===p.KeyCode.PAGE_UP||t.keyCode===p.KeyCode.PAGE_DOWN)return n.prototype._onInputKeyDown.call(this,t),!1;if(this._options.allowEdit||t.keyCode!==$.ui.keyCode.LEFT&&t.keyCode!==$.ui.keyCode.RIGHT){if(!this._options.allowEdit&&this._options.allowClear&&(t.keyCode===p.KeyCode.DELETE||t.keyCode===p.KeyCode.BACKSPACE))this.setValue(null),t.preventDefault();else if(this._options.allowEdit||s.ignoreCaseComparer(this._options.type,"list"))this._options.allowEdit&&o.delay(this,0,function(){r._input.data("dataValue",r._input.val())});else for(var e=String.fromCharCode(t.keyCode).toLowerCase(),f=this.getBehavior().getDataSource().getItems(),h=f.length,i=0;i<h;i+=1)if(f[i].slice(0,1).toLowerCase()===e){this.getBehavior().getDropPopup().virtualizingListView.setSelectedIndex(i);this.getBehavior().setSelectedIndex(i);break}}else t.preventDefault();return n.prototype._onInputKeyDown.call(this,t)},t.prototype._onBlur=function(n){this._blockBlur||this._raiseOnEditEnd(n,this._isInputInvalid())},t.prototype.getValue=function(){return this._input.data("dataValue")},t.prototype.setValue=function(n){this.setInputText(n,null)},t.prototype.setInputText=function(n,t,i){i=i!==undefined?i:n;this._input.val(i);this._input.data("dataValue",n);this._input.attr("aria-label",n);t?this.fireChangeIfNecessary(n):this._currentText=n},t.prototype._dropShow=function(){this.selectInput()},t.prototype._indexChanged=function(){this.selectInput()},t.prototype._isInputInvalid=function(){return this._input.hasClass("invalid")},t.prototype._dropHide=function(n){return n&&n.dispose(),this._raiseOnEditEnd(null,this._isInputInvalid()),!1},t.prototype._raiseOnEditEnd=function(n,t){if(!this._exiting&&typeof this._options.onEditEnd=="function"){this._exiting=!0;this._options.onEditEnd(n,t)}},t.prototype._inputElementChanges=function(){this._changeCalled||(this._changeCalled=!0,this._input.data("dataValue",this._currentText),this._input.trigger("change"));this._changeCalled=!1},t.prototype.onEditStart=function(n){this._options.onEditStart=n},t.prototype.onEditEnd=function(n){this._options.onEditEnd=n},t.prototype.dispose=function(){this._customValidator&&(this._customValidator.dispose(),this._customValidator=null);n.prototype.dispose.call(this)},t.NON_COMBO_BEHAVIOR_CLASS="non-combo-behavior",t.COMBO_BEHAVIOR_CLASS="combo-behavior",t}(i.ComboO);t.CardFieldComboControl=pt;ui=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.init=function(t,i){var r=o.convertValueToDisplayString(i),u=g.IdentityHelper.parseUniquefiedIdentityName(r),f=u&&u.displayName?u.displayName:r;n.prototype.init.call(this,t,r,f)},t.prototype.setInputText=function(t,i){var r=g.IdentityHelper.parseUniquefiedIdentityName(t),u=r&&r.displayName?r.displayName:t;n.prototype.setInputText.call(this,t,i,u)},t.prototype._dropShow=function(){var i=this.getElement().width(),t=this.getElement().find(".combo-drop-popup");t&&t.css("width",i);n.prototype._dropShow.call(this)},t}(pt);t.IdentityComboControl=ui;fi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,$.extend({coreCssClass:"editableTitle"},t))},t.prototype._createIn=function(i){n.prototype._createIn.call(this,i);this._$textArea=$(p.domElem("textarea"));var u=this._options.maxLength?this._options.maxLength:t.DEFAULT_MAX_LENGTH;this._$textArea.attr("maxlength",u);typeof this._options.value!="undefined"&&this._$textArea.val(this._options.value);this._decorate();this._$textArea.addClass("validate custom");r.Enhancement.enhance(b.CustomValidator,this._$textArea,{validate:this._options.validator})},t.prototype._decorate=function(){var n=this,t=this._$textArea;t.addClass("editableTitleContent").on("focusout blur click keydown keyup paste contextmenu",function(t){switch(t.type){case"blur":case"focusout":n._onBlur(t);break;case"click":n._onClick(t);break;case"keydown":n._onKeyDown(t);break;case"keyup":case"paste":n._onValueChanged();break;case"contextmenu":n._onContextMenu(t)}});this.getElement()[0].appendChild(this._$textArea[0])},t.prototype.dispose=function(){this._$textArea.off("blur click keydown keyup paste contextmenu");n.prototype.dispose.call(this)},t.prototype.init=function(n,t){this._$fieldContainer=n;this._$textArea.removeClass("invalid");this._$textArea.attr("aria-label",ot.EditTitle);this.setValue(t);$(this.getElement()).height(n.parent().height());n.siblings().hide();n.closest("."+vt.ID_TITLE_CONTAINER_CLASS).addClass(vt.EDIT_MODE_CLASS)},t.prototype.tearDown=function(){this.blockBlur();this._$fieldContainer.siblings().show();this._$fieldContainer.closest("."+vt.ID_TITLE_CONTAINER_CLASS).removeClass(vt.EDIT_MODE_CLASS)},t.prototype.startEdit=function(){var n=this;this._options.onEditStart&&this._options.onEditStart();this.delayExecute("selectText",30,!0,function(){n._$textArea.select()})},t.prototype.endEdit=function(){this._onBlur()},t.prototype.isEditInProgress=function(){return this._$textArea.is(":visible")},t.prototype._onValueChanged=function(){this._$textArea.trigger("change")},t.prototype._onKeyDown=function(n){if(n.keyCode===p.KeyCode.ENTER){if(n.stopPropagation(),typeof this._options.onEditEnd=="function")this._options.onEditEnd(n,this._isInputInvalid(),!0);return!1}if(n.keyCode===p.KeyCode.TAB){if(n.preventDefault(),typeof this._options.onEditEnd=="function")this._options.onEditEnd(n,this._isInputInvalid())}else if(n.keyCode===p.KeyCode.ESCAPE&&(n.stopPropagation(),typeof this._options.onEditEnd=="function"))this._options.onEditEnd(n,!0)},t.prototype._onContextMenu=function(n){n.stopPropagation()},t.prototype._isInputInvalid=function(){return!this._options.validator(this.getValue())},t.prototype._onClick=function(n){n.stopPropagation()},t.prototype._onBlur=function(n){if(!this._blockBlur&&this._options.onEditEnd)this._options.onEditEnd(n,this._isInputInvalid())},t.prototype.blockBlur=function(){this._blockBlur=!0;this.delayExecute("blockBlur",50,!0,function(){this.cancelBlockBlur()})},t.prototype.cancelBlockBlur=function(){this._blockBlur=!1;this.cancelDelayedFunction("blockBlur")},t.prototype.getValue=function(){return this._$textArea.val()},t.prototype.setValue=function(n){this._$textArea.val(n);this._onValueChanged()},t.prototype.onEditStart=function(n){this._options.onEditStart=n},t.prototype.onEditEnd=function(n){this._options.onEditEnd=n},t.DEFAULT_MAX_LENGTH=255,t}(r.BaseControl);t.CardFieldTitleControl=fi;kt=function(){function n(){}return n.prototype.field=function(){return this._field},n.prototype.getElement=function(){return this._$fieldContainer},n.prototype.value=function(){return null},n.prototype.isEditable=function(){return!1},n}();t.CardFieldView=kt;dt=function(n){function t(t,i,r){var f=this,e;f=__construct(this,n,[]);for(e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f._field=i,f._renderer=r,f._$fieldContainer=t,f}return __extends(t,n),t.prototype.value=function(n){return n!==undefined&&(this._fieldValue=n,this._renderer.render(n,this._field.fieldSetting(),this._field.definition(),this._$fieldContainer)),this._fieldValue},t.prototype.isEditable=function(){return!1},t}(kt);t.CardFieldRenderedView=dt;bt=function(n){function t(t,i,r){var f=this,e;f=__construct(this,n,[]);for(e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);return f._field=i,f._fieldControl=r,f._$fieldContainer=t,f}return __extends(t,n),t.prototype.updateField=function(){var n=this._fieldControl.getValue(),t=this._field.definition().convertToExternal(this._field.value()),i=s.localeComparer(t,n)?!0:!1,r=this._field.definition().convertToInternal(n);try{this._field.value(r)}catch(u){}return i},t.prototype.value=function(n){return n!==undefined?this._fieldControl.setValue(n):n=this._fieldControl.getValue(),n},t.prototype.isEditable=function(){return!0},t.prototype.isEditInProgress=function(){return this._fieldControl.isEditInProgress()},t.prototype.startEdit=function(){this._fieldControl.startEdit()},t.prototype.onEditStart=function(n){this._fieldControl.onEditStart(n)},t.prototype.endEdit=function(){this._fieldControl.endEdit()},t.prototype.onEditEnd=function(n){this._fieldControl.onEditEnd(n)},t.prototype.tearDown=function(){this._fieldControl.tearDown();this._$fieldContainer.children().detach();var n=this._fieldControl;typeof n.dispose=="function"&&n.dispose()},t}(kt);t.EditableCardFieldView=bt;ei=function(){function n(n){this._cardRenderer=n;this._activeFieldView=null}return n.prototype.beginFieldEdit=function(n,t,i,r,f){var e=this,o;if(n.isEditable())this._activeFieldView=n;else if(this._activeFieldView=this.cardRenderer().renderField(n.getElement(),n.field(),!0),this._activeFieldView){if(typeof t=="function")this._activeFieldView.onEditStart(t);if(typeof i=="function"){o=function(n,t){e._activeFieldView&&e._onEditComplete(e._activeFieldView,i,r,n,t,f)};this._activeFieldView.onEditEnd(o)}}return this._activeFieldView&&this._activeFieldView.startEdit(),u.logTracePoint("OnTileEditControl._attachAndShowCombo.complete"),this._activeFieldView},n.prototype.endActiveEdit=function(){this._activeFieldView&&this._activeFieldView.isEditInProgress()&&this._activeFieldView.endEdit()},n.prototype.activeFieldView=function(){return this._activeFieldView},n.prototype.cardRenderer=function(){return this._cardRenderer},n.prototype._onEditComplete=function(n,t,i,r,f,e){n&&(f||(f=!n.updateField()),n.tearDown(),this.cardRenderer().renderField(n.getElement(),n.field(),!1,e),typeof t=="function"&&t(n,r,f),f&&typeof i=="function"&&i(n),this._activeFieldView===n&&(this._activeFieldView=null))},n}();t.CardEditController=ei;gi=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.beginFieldEdit=function(t,i,r,f,e){return this.endActiveEdit(),this._activeFieldView=n.prototype.beginFieldEdit.call(this,t,i,r,f,e),this._activeFieldView},t}(ei);t.BoardCardEditController=gi;yt=function(){function n(){}return n.prototype.render=function(n,t,i,r,f,e){var r,c;var l=k.BoolUtils.parse(t.isEditable),s=!k.BoolUtils.parse(t.hideLabel),h=o.convertValueToDisplayString(n)||"";return f||(f=h),r=vt.buildFieldContainer(t[ht.CardSettings.FIELD_IDENTIFIER],"",l,s,r),s&&(c=i.displayName(),this._renderFieldName(r,c)),this._renderFieldValue(r,h,f,e),r},n.prototype._renderFieldName=function(n,t){var i=n.find("."+vt.FIELD_LABEL);i.text(t)},n.prototype._renderFieldValue=function(n,t){var i=n.find("."+vt.FIELD_INNER_ELEMENT);i.text(t)},n}();t.WITFieldRenderer=yt;oi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(t,i,r,f){var e,s;return t&&(e=new Date(t),s=o.convertValueToDisplayString(e),t=o.convertValueToDisplayString(e,"d")),n.prototype.render.call(this,t,i,r,f,s)},t}(yt);t.DateTimeFieldRenderer=oi;gt=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t._size=f.IdentityPickerControlSize.Small,t._showLabel=!0,t._format=ht.CardFieldDisplayFormats.AssignedToFieldFormats.AvatarAndFullName,t}return __extends(t,n),t.prototype.render=function(n,t,i,e){var v,h,l,y,o,s,a;return c.isUseNewIdentityControlsEnabled()?(v=k.BoolUtils.parse(t.isEditable),h=this._showLabel&&!k.BoolUtils.parse(t.hideLabel),e=vt.buildFieldContainer(t[ht.CardSettings.FIELD_IDENTIFIER],vt.IDENTITY_CLASS,v,h,e),h&&(l=e.find("."+vt.FIELD_LABEL),y=i.displayName(),l.text(y)),o=e.find("."+vt.FIELD_INNER_ELEMENT),s=g.IdentityHelper.parseUniquefiedIdentityName(n),a=at.setupCommonIdentityDisplayControlOptions(s,this._size,this._getEDisplayControlType(this._format)),a.consumerId=st.IdentityControlConsumerIds.CardFieldDisplayControl,s&&s.displayName||o.addClass("unassigned"),r.create(f.IdentityDisplayControl,o,a),e):this._render(n,t,i,e)},t.prototype._render=function(t,i,r,f){var e;return t&&(e=t,t=g.IdentityHelper.parseUniquefiedIdentityName(t).displayName),n.prototype.render.call(this,t,i,r,f,e)},t.prototype._getEDisplayControlType=function(n){switch(n){case ht.CardFieldDisplayFormats.AssignedToFieldFormats.AvatarAndFullName:return f.EDisplayControlType.AvatarText;case ht.CardFieldDisplayFormats.AssignedToFieldFormats.AvatarOnly:return f.EDisplayControlType.AvatarOnly;case ht.CardFieldDisplayFormats.AssignedToFieldFormats.FullName:return f.EDisplayControlType.TextOnly;default:return f.EDisplayControlType.AvatarText}},t}(yt);t.IdentityFieldRenderer=gt;si=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(n,t,i,r){var f;return r&&r.length!==0?r.empty():r=$(p.domElem("div",vt.TITLE_CLASS+" "+vt.ELLIPSIS_CLASS)),r.attr(vt.FIELD_DATA,t[ht.CardSettings.FIELD_IDENTIFIER]),f=$(p.domElem("span",vt.CLICKABLE_TITLE_CLASS)).text(n).attr("role","button"),r[0].appendChild(f[0]),r},t}(yt);t.TitleFieldRenderer=si;hi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._renderFieldValue=function(t,i,r,f){if(f){var e=t.find("."+vt.FIELD_INNER_ELEMENT);e.length||u.logError("The field container does not have an inner element to populate the state field value");e.append(a.WorkItemStateCellRenderer.getAutoUpdatingColorCell(f.projectName,f.workItemTypeName,i));e.find("*").addClass(vt.TILE_EDIT_TEXT_CLASS)}else n.prototype._renderFieldValue.call(this,t,i,r)},t}(yt);t.StateFieldRenderer=hi;ci=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype._renderFieldValue=function(t,i,r,f){var o=Number(i),e;if(!f||o<=0){n.prototype._renderFieldValue.call(this,t,"",r);return}e=t.find("."+vt.FIELD_INNER_ELEMENT);e.length||u.logError("The field container does not have an inner element to populate the parent field value");e.append(this._getAutoUpdatingParentCell(f.projectName,o))},t.prototype._getAutoUpdatingParentCell=function(n,t){var o=this,u=$(p.domElem("div")),i=$(p.domElem("div",vt.FIELD_DATA+" "+vt.ELLIPSIS_CLASS)),f=$(p.domElem("div",vt.PARENT_ICON_CONTAINER)),e=$(p.domElem("span",vt.PARENT_TITLE_CLASS)).attr("role","button").attr("targetId",String(t)),r;return i[0].appendChild(f[0]),i[0].appendChild(e[0]),u[0].appendChild(i[0]),r=h.BoardParentDataProvider.getInstance(),r&&r.get(t).then(function(n){o._renderData(f,e,n)}),u},t.prototype._renderData=function(n,t,i){i.error||(l.renderWorkItemTypeIcon(n[0],i.type,i.project,{suppressTooltip:!0}),t.text(i.title))},t}(yt);t.ParentFieldRenderer=ci;li=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.initializeCache=function(){t.cache={}},t.prototype.render=function(t,i,r,e){return c.isUseNewIdentityControlsEnabled()?(this._size=f.IdentityPickerControlSize.Medium,this._showLabel=!1,this._format=i.displayFormat?ht.CardFieldDisplayFormats.AssignedToFieldFormats[i.displayFormat]:this._format,n.prototype.render.call(this,t,i,r,e)):this._render(t,i,r,e)},t.prototype._render=function(n,i,r,f){var e,o,s,h;return f=vt.buildFieldContainer(i[ht.CardSettings.FIELD_IDENTIFIER],vt.ASSIGNED_TO_CLASS,k.BoolUtils.parse(i.isEditable),!1,f),e=f.find("."+vt.FIELD_INNER_ELEMENT),o=ht.CardFieldDisplayFormats.AssignedToFieldFormats.AvatarAndFullName,s=ht.CardFieldDisplayFormats.AssignedToFieldFormats,i.displayFormat&&(o=s[i.displayFormat]),h=t.getCachedIdentityViewHtml(n,o),e.html(h),f},t.getCachedIdentityViewHtml=function(n,i){i===void 0&&(i=ht.CardFieldDisplayFormats.AssignedToFieldFormats.AvatarAndFullName);t.cache||t.initializeCache();var u=n+"#"+i,r=t.cache[u];return r||(r=at.buildIdentityViewHtml(n,i,g.IdentityImageSize.Small),t.cache[u]=r),r},t}(gt);t.AssignedToFieldRenderer=li;ai=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(t,i,r,f){var e,o,f;return t=tt.FormatUtils.formatRemainingWorkForDisplay(t),r&&(e=t?s.format("{0}: {1}",r.displayName(),t):r.displayName()),o={},f=n.prototype.render.call(this,t,$.extend(o,i,{hideLabel:"true"}),r,f,e),f.addClass(vt.EFFORT_CLASS+" "+vt.REMAINING_WORK_CLASS),f},t}(yt);t.EffortFieldRenderer=ai;ni=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(n,i,u,f){var e=n?n.split(it.TAG_SPLITTING_SEPARATOR):[],o=parseInt(i[vt.MAX_TAGS_SETTING])||t.MAX_TAGS,s=parseInt(i[vt.TAG_CHARACTER_LIMIT_SETTING])||t.TAG_CHARACTER_LIMIT,f;return($.each(e,function(n,t){e[n]=t.trim()}),f=$(p.domElem("div",t.TAGS_CLASS+" "+vt.FIELD_CONTAINER)),f.attr(vt.FIELD_DATA,i[ht.CardSettings.FIELD_IDENTIFIER]),e&&e.length>0)?(r.BaseControl.createIn(et.TagControl,f,{tags:e,readOnly:!0,type:"card",maxTags:o,tagCharacterLimit:s}),f):null},t.TAGS_CLASS="tags",t.MAX_TAGS=10,t.TAG_CHARACTER_LIMIT=20,t}(yt);t.TagsFieldRenderer=ni;vi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.render=function(n,t){var r,i;return r=parseInt(n)||0,r>0?(i=$(p.domElem("div",vt.ID_CLASS)).text(n),i.attr(vt.FIELD_DATA,t[ht.CardSettings.FIELD_IDENTIFIER]),i):void 0},t}(yt);t.IdFieldRenderer=vi;ti=function(n){function t(t){var i,r;t===void 0&&(t=!0);i=__construct(this,n,[]);for(r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);return i._includeRoot=t,i}return __extends(t,n),t.prototype.render=function(t,i,r,f){var e=this.getDisplayValue(t),s=o.convertValueToDisplayString(t),f=n.prototype.render.call(this,e,i,r,f,s);return f.addClass(vt.TYPE_TREE_CLASS),f},t.prototype.getDisplayValue=function(n){var i="",t;return n&&(t=n.lastIndexOf("\\"),(this._includeRoot||t>0)&&(i=n.substring(t+1))),i},t}(yt);t.TreePathFieldRenderer=ti;wt=function(){function n(){}return n.prototype.render=function(n,t){var u=this.getControlOptions(t),r=this.getComboControl(u),i;return r.init(n,t.definition().convertToExternal(t.value())),n&&n.length===1?(i=n.find("."+vt.FIELD_INNER_ELEMENT),i&&i.length>0&&(i.empty(),i[0].appendChild(r.getElement()[0]))):n=r.getElement(),new bt(n,t,r)},n.prototype.getControlOptions=function(t){var i=function(){return t.getAllowedValues(t.value())};return{allowEdit:!t.isLimitedToAllowedValues(),getDropdownValues:t.hasAllowedValues()?i:null,validator:o.delegate(t.definition(),t.definition().isValid),allowClear:!t.isRequired(),maxLength:n.DEFAULT_COMBO_MAX_LENGTH,label:t.definition().displayName(),id:k.GUIDUtils.newGuid()}},n.prototype.getComboControl=function(n){return r.Control.create(pt,$("<div/>"),n)},n.DEFAULT_COMBO_MAX_LENGTH=255,n}();t.ComboEditControlRenderer=wt;yi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getControlOptions=function(n){return{allowEdit:!n.isLimitedToAllowedValues(),getDropdownValues:function(){return["True","False"]},validator:o.delegate(n.definition(),n.definition().isValid),allowClear:!n.isRequired(),maxLength:5,label:n.definition().displayName(),id:k.GUIDUtils.newGuid()}},t}(wt);t.BooleanEditControlRenderer=yi;pi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getControlOptions=function(n){return{allowEdit:!1,getDropdownValuesAsync:function(){var i,r,u=w.WorkItemManager.get(d.ProjectCollection.getDefaultConnection().getService(rt.WorkItemStore)),t=u.getWorkItem(n.itemId()).project;return t.nodesCacheManager.beginGetNodes().then(function(){return i=n.fieldSetting()[ht.CardSettings.FIELD_IDENTIFIER]===c.DatabaseCoreFieldRefName.AreaPath?t.nodesCacheManager.getAreaNode(!0):t.nodesCacheManager.getIterationNode(!0),r=ut.populateUINodes(i,null,1),r.text=t.name,[r]})},type:"tree",label:n.definition().displayName(),id:k.GUIDUtils.newGuid()}},t}(wt);t.WITTreePathEditControlRenderer=pi;wi=function(){function n(){}return n.prototype.render=function(n,t){var u=c.isUseNewIdentityControlsEnabled(),i,r,f;return n&&n.length===1?(r=n.find("."+vt.FIELD_INNER_ELEMENT),r&&r.length>0&&(f=n.hasClass(vt.ADDITIONAL_FIELD_CLASS_NAME),i=u?this._createIdentityFieldEditControl(t,f):this._createIdentityComboControl(t),r.empty(),r[0].appendChild(i.getElement()[0]),i.init(n,t.definition().convertToExternal(t.value())))):(i=u?this._createIdentityFieldEditControl(t):this._createIdentityComboControl(t),i.init(n,t.definition().convertToExternal(t.value())),n=i.getElement()),new bt(n,t,i)},n.prototype._createIdentityComboControl=function(t){var u=function(){return t.getAllowedValues(t.value())},f={allowEdit:!1,getDropdownValues:u,dropOptions:{getItemContents:function(n){return nt.IdentityViewControl.getIdentityViewElement(n)}}},i=r.Control.create(ui,$("<div/>"),f);return i.getElement().addClass(n.IDENTITY_COMBO_CLASS),i},n.prototype._createIdentityFieldEditControl=function(n,t){return r.Control.create(ii,$("<div/>"),{field:n,isAdditional:t,consumerId:st.IdentityControlConsumerIds.CardFieldSearchControl})},n.IDENTITY_COMBO_CLASS="identityCombo",n}();t.IdentityEditControlRenderer=wi;ii=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.initializeOptions=function(t){this._isAdditional=t.isAdditional;this._field=t.field;n.prototype.initializeOptions.call(this,t)},t.prototype.init=function(n,i){this._$fieldContainer=n;this._isFiltered=!1;this._$fieldContainer.removeClass(pt.NON_COMBO_BEHAVIOR_CLASS).addClass(pt.COMBO_BEHAVIOR_CLASS).removeClass("hover");this._createControl(i);this.getElement().addClass(t.IDENTITY_CONTROL_CLASS)},t.prototype._createControl=function(n){var t=this,c=function(){return t._identityPickerSearchControl?t._field.getFilterByScope()?[ft.AssignedToEmptyText].concat(t._field.getFilterByScope().nonIdentities):t._field.getAdditionalValues()?[ft.AssignedToEmptyText].concat(t._field.getAdditionalValues()):[ft.AssignedToEmptyText]:[]},u=function(){return t._identityPickerSearchControl.getDropdownPrefix()},i=lt.WITIdentityControlHelpers.setupCommonIdentityPickerOptions(!1,!0,null,function(){t._raiseOnEditEnd(!1)},u,function(){return t._field.getFilterByScope()}),h;i.highlightResolved=!0;i.size=this._isAdditional?f.IdentityPickerControlSize.Small:f.IdentityPickerControlSize.Medium;i.showContactCard=!0;i.consumerId=st.IdentityControlConsumerIds.CardFieldSearchControl;i.callbacks.onInputBlur=function(){t._raiseOnEditEnd(!0)};i.callbacks.onKeyPress=function(n){n===p.KeyCode.ESCAPE&&t._raiseOnEditEnd(!0)};i.callbacks.preDropdownRender=function(n){var h=t._field.getFilterByScope(),l=n,i,r,o;return h&&h.excludeGroups&&(l=n.filter(function(n){return!s.equals(n.entityType,e.ServiceHelpers.GroupEntity,!0)})),i=[],r=c(),r&&r.length>0&&(o=u(),$.each(r,function(n,r){var u=f.EntityFactory.createStringEntity(r);t._isFiltered||s.localeIgnoreCaseComparer(ft.AssignedToEmptyText,r)!==0?o!=null&&u.displayName&&u.displayName.trim().toLowerCase().indexOf(o)===0&&i.push(u):i.unshift(u)}),t._isFiltered=!0),i.concat(l)};this._identityPickerSearchControl=r.create(f.IdentityPickerSearchControl,this.getElement(),i);o.delay(this,0,function(){$("span.identity-picker-resolved-name",t.getElement()).click()});n&&(h=y.WITIdentityHelpers.parseUniquefiedIdentityName(n),this._identityPickerSearchControl.setEntities([h],[]))},t.prototype.onEditStart=function(n){this._options.onEditStart=n},t.prototype.onEditEnd=function(n){this._options.onEditEnd=n},t.prototype.isEditInProgress=function(){return this.getElement().is(":visible")},t.prototype.tearDown=function(){this._$fieldContainer.removeClass(pt.COMBO_BEHAVIOR_CLASS).addClass(pt.NON_COMBO_BEHAVIOR_CLASS);this._identityPickerSearchControl&&(this._identityPickerSearchControl.dispose(),this._identityPickerSearchControl=null)},t.prototype.startEdit=function(){typeof this._options.onEditStart=="function"&&this._options.onEditStart()},t.prototype.endEdit=function(){this._raiseOnEditEnd(!0)},t.prototype.getValue=function(){var n=this._identityPickerSearchControl.getIdentitySearchResult().resolvedEntities,t;return n&&n.length===1?y.WITIdentityHelpers.getUniquefiedIdentityName(n[0]):(t=this._identityPickerSearchControl.getIdentitySearchResult(),t.unresolvedQueryTokens[0])},t.prototype.setValue=function(n){n?this._identityPickerSearchControl.setEntities([y.WITIdentityHelpers.parseUniquefiedIdentityName(n)],[]):this._identityPickerSearchControl.clear()},t.prototype._raiseOnEditEnd=function(n){if(typeof this._options.onEditEnd=="function")this._options.onEditEnd({keyCode:p.KeyCode.ENTER},n)},t.IDENTITY_CONTROL_CLASS="identityControl",t}(r.Control);t.IdentityFieldEditControl=ii;bi=function(n){function t(){var t=__construct(this,n,arguments);for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);return t}return __extends(t,n),t.prototype.getControlOptions=function(n){return{allowEdit:!1,allowClear:!n.isRequired(),type:"date-time",validator:o.delegate(n.definition(),n.definition().isValid),label:n.definition().displayName(),id:k.GUIDUtils.newGuid()}},t}(wt);t.DateTimeEditControlRenderer=bi;ki=function(){function n(){}return n.prototype.render=function(n,t){var f={allowEdit:!0,validator:function(n){return Boolean(n)}},i=r.Control.create(fi,$("<div/>"),f);return i.init(n,t.definition().convertToExternal(t.value())),n.empty(),n[0].appendChild(i.getElement()[0]),new bt(n,t,i)},n}();t.TitleEditControlRenderer=ki;vt=function(){function n(){}return n.buildFieldContainer=function(t,i,r,f,e){var s,h,o;return r===void 0&&(r=!0),f===void 0&&(f=!1),e&&e.length!==0?e.empty():(h=n.FIELD_CONTAINER+" "+n.EDIT_DIV_CLASS+" non-combo-behavior "+n.ELLIPSIS_CLASS+" "+i,e=$(p.domElem("div",h))),e.attr(n.FIELD_DATA,t),o=n.FIELD_INNER_ELEMENT+" "+n.ELLIPSIS_CLASS,r&&(o=o+" "+n.TILE_EDIT_TEXT_CLASS),s=$(p.domElem("div",o)),f&&e[0].appendChild(p.domElem("div",n.FIELD_LABEL+" "+n.ELLIPSIS_CLASS)),e[0].appendChild(s[0]),e},n.TILE_EDIT_TEXT_CLASS="onTileEditTextDiv",n.EDIT_DIV_CLASS="onTileEditDiv",n.FIELD_INNER_ELEMENT="field-inner-element",n.FIELD_LABEL="field-label",n.FIELD_CONTAINER="field-container",n.FIELD_DATA="field",n.ASSIGNED_TO_CLASS="assignedTo",n.IDENTITY_CLASS="identity",n.EFFORT_CLASS="effort",n.ELLIPSIS_CLASS="ellipsis",n.TITLE_CLASS="title",n.CLICKABLE_TITLE_CLASS="clickable-title",n.ICON_EDIT_CLASS="editIcon",n.EDIT_MODE_CLASS="editMode",n.CONTAINER_CLASS="container",n.ID_TITLE_CONTAINER_CLASS="id-title-container",n.ID_CLASS="id",n.EFFORT_FIELD="Effort",n.ADDITIONAL_FIELD_CLASS_NAME="additional-field",n.MAX_TAGS_SETTING="maxTags",n.TAG_CHARACTER_LIMIT_SETTING="tagCharacterLimit",n.TYPE_TREE_CLASS="tree",n.PARENT_TITLE_CLASS="parent-title",n.CLICKABLE_PARENT_TITLE_CLASS="clickable-parent-title",n.PARENT_ICON_CONTAINER="parent-type-icon-container",n.STATE_CLASS="witState",n.REMAINING_WORK_CLASS="witRemainingWork",n.WITEXTRA_CLASS="witExtra",n}();t.FieldRendererHelper=vt;di=function(){function n(){this._fieldRenderers={};this._fieldControlRenderers={};this._registerRenderers()}return n.prototype._registerRenderers=function(){var t=new yt,i;this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.Title]=new si;this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.AssignedTo]=new li;this._fieldRenderers[n.FIELD_ID_PREFIX+vt.EFFORT_FIELD]=new ai;this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.Tags]=new ni;this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.Id]=new vi;this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.IterationPath]=new ti(!1);this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.State]=new hi;this._fieldRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.Parent]=new ci;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.TreePath]]=new ti;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Double]]=t;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Integer]]=t;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.PlainText]]=t;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.String]]=t;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Boolean]]=t;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Identity]]=new gt;this._fieldRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.DateTime]]=new oi;this._fieldControlRenderers[n.FIELD_ID_PREFIX+c.DatabaseCoreFieldRefName.Title]=new ki;i=new wt;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Boolean]]=new yi;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Double]]=i;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Integer]]=i;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.PlainText]]=i;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.String]]=i;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.Identity]]=new wi;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.DateTime]]=new bi;this._fieldControlRenderers[n.FIELD_TYPE_PREFIX+ht.CardFieldType[ht.CardFieldType.TreePath]]=new pi},n.prototype.getFieldRenderer=function(n,t,i){return i===void 0&&(i=!1),i?this._lookupRenderer(this._fieldControlRenderers,n,t):this._lookupRenderer(this._fieldRenderers,n,t)},n.prototype.renderField=function(n,t,i,r,u,f){var e,o;return(r&&r.length&&(u=r.hasClass(vt.ADDITIONAL_FIELD_CLASS_NAME)),r&&r.filter("."+vt.EFFORT_CLASS).length===1?e=this.getFieldRenderer(vt.EFFORT_FIELD):(o=u&&at.isCoreField(t[ht.CardSettings.FIELD_IDENTIFIER])?"":t[ht.CardSettings.FIELD_IDENTIFIER],e=i?this.getFieldRenderer(o,i.type()):this.getFieldRenderer(o)),e)?e.render(n,t,i,r,null,f):null},n.prototype._lookupRenderer=function(t,i,r){var u=t[n.FIELD_ID_PREFIX+i];return!u&&r&&(u=t[n.FIELD_TYPE_PREFIX+r],u||(u=t[n.FIELD_TYPE_PREFIX+ht.CardFieldType[r]])),u||(u=null),u},n.FIELD_ID_PREFIX="refName_",n.FIELD_TYPE_PREFIX="type_",n}();t.WITFieldRendererManager=di;ri=function(){function n(){n._cardFieldRendererManager||(n._cardFieldRendererManager=new di)}return n.prototype.renderCard=function(t,i,r,f,e,o,h,l,a,v){var b=this,w,p,y,d;return v===void 0&&(v=!1),this._emptySections=0,this.boardType=o,this._renderIdAndTitleSection(t,i,r,f,a),v||(w=i.getField(""),p=o===c.BoardType.Kanban?!1:!0,w&&(p=at.getBoolShowEmptyFieldsFromString(w[ht.CardSettings.SHOW_EMPTY_FIELDS],p)),this._renderAssignedToSection(t,i,r,f,l||p,e),y=null,d=at.getCoreFieldNames(e),i.fields.forEach(function(i){if(at.shouldRenderAsAdditionalField(i,d)){var o=p||l&&k.BoolUtils.parse(i.isEditable),u=f(i[ht.CardSettings.FIELD_IDENTIFIER]),e=b._isNullOrEmpty(u);e&&b._emptySections++;!o&&(e||s.localeComparer(i[ht.CardSettings.FIELD_IDENTIFIER],c.DatabaseCoreFieldRefName.IterationPath)===0&&u.lastIndexOf("\\")<=0)||(y=n._cardFieldRendererManager.renderField(u,i,r[i[ht.CardSettings.FIELD_IDENTIFIER].toUpperCase()],null,!0,a),y&&(y.addClass(vt.ADDITIONAL_FIELD_CLASS_NAME),t[0].appendChild(y[0])))}}),y&&y.addClass("lastAdditionalField"),this._renderTags(t,i,r,f),this._applyStyleCustomization(t,a.teamId,r,f,h)),{hasEmptyFields:this._emptySections>0}},n.prototype.disposeCard=function(n){var t,i;n&&(t=n.find(".".concat(vt.ID_TITLE_CONTAINER_CLASS)),t.each(function(n,t){l.unmountWorkItemTypeIcon(t)}),t=n.find(".".concat(vt.PARENT_ICON_CONTAINER)),t.each(function(n,t){l.unmountWorkItemTypeIcon(t)}),i=n.find(".".concat(vt.IDENTITY_CLASS)),i.each(function(n,t){$(t).remove()}))},n.prototype._isNullOrEmpty=function(n){return n===null||n===undefined||n===""},n.prototype.renderField=function(t,i,r,f){var e,t,o;return r?(o=n._cardFieldRendererManager.getFieldRenderer(i.referenceName(),i.definition().type(),!0),o&&(e=o.render(t,i))):(t=n._cardFieldRendererManager.renderField(i.value(),i.fieldSetting(),i.definition(),t,null,f),t&&(e=new dt(t,i,n._cardFieldRendererManager.getFieldRenderer(i.referenceName(),i.definition().type())))),e},n.prototype.getFieldView=function(t,i){var r,f;return r=null,t&&t.length===1&&(f=n._cardFieldRendererManager.getFieldRenderer(i.referenceName(),i.definition().type()),f&&(r=new dt(t,i,f))),r},n.prototype.getFieldName=function(n,t){var i=this.getFieldContainer(t,null,n);return i&&i.length===1?i.attr(vt.FIELD_DATA):null},n.prototype.getFieldContainer=function(n,t,i){return i?i.hasClass(vt.ICON_EDIT_CLASS)?n.find("."+vt.TITLE_CLASS).first():i.closest("."+vt.FIELD_CONTAINER,n[0]):s.ignoreCaseComparer(t,c.DatabaseCoreFieldRefName.Title)?n.find("."+vt.FIELD_CONTAINER+"["+vt.FIELD_DATA+"='"+t+"']"):n.find("."+vt.TITLE_CLASS).first()},n.prototype.hideExtraFields=function(n){$("."+vt.WITEXTRA_CLASS,n).css("visibility","hidden");$("."+vt.FIELD_CONTAINER+"."+vt.ADDITIONAL_FIELD_CLASS_NAME,n).css("visibility","hidden");$("."+vt.FIELD_CONTAINER+"."+ni.TAGS_CLASS,n).css("visibility","hidden");$("."+vt.ICON_EDIT_CLASS,n).css("visibility","hidden")},n.prototype.isTargetEditable=function(n){var t=!1,i=n.closest(".field-inner-element.ellipsis.onTileEditTextDiv");return n.parent().parent().hasClass(vt.ASSIGNED_TO_CLASS)||n.hasClass(vt.TILE_EDIT_TEXT_CLASS)&&!n.parent().hasClass(vt.ASSIGNED_TO_CLASS)?t=!0:!i.children().first().hasClass(ii.IDENTITY_CONTROL_CLASS)&&i.length===1&&i.parent().hasClass(vt.IDENTITY_CLASS)?t=!0:n.hasClass(vt.ICON_EDIT_CLASS)&&(t=!0),t},n.prototype._applyStyleCustomization=function(n,t,i,r,u){u&&u.length>0&&(new ct.StyleRuleHelper).applyCustomStyle(n,t,i,r,u)},n.prototype._renderIdAndTitleSection=function(t,i,r,u,f){var s=u(c.DatabaseCoreFieldRefName.Id),y=u(c.DatabaseCoreFieldRefName.Title),e=$(p.domElem("div",vt.ID_TITLE_CONTAINER_CLASS)),o,h,a,w,b;f&&typeof s=="number"&&(s>0?l.renderWorkItemTypeIcon(e[0],f.workItemTypeName,f.projectName):l.renderWorkItemTypeIcon(e[0],null,{color:v.WorkItemTypeColorAndIcons.DEFAULT_UNPARENTED_WORKITEM_COLOR,icon:v.WorkItemTypeColorAndIcons.DEFAULT_UNPARENTED_WORKITEM_BOWTIE_ICON},{tooltip:y}));o=i.getField(c.DatabaseCoreFieldRefName.Id);o&&at.shouldRenderAsCoreField(o,at.getCoreFieldNames())&&(h=n._cardFieldRendererManager.renderField(s,o,r[c.DatabaseCoreFieldRefName.Id.toUpperCase()]),h&&e[0].appendChild(h[0]));a=i.getField(c.DatabaseCoreFieldRefName.Title);w=n._cardFieldRendererManager.renderField(y,a,r[c.DatabaseCoreFieldRefName.Title.toUpperCase()]);e[0].appendChild(w[0]);t[0].appendChild(e[0]);b=k.BoolUtils.parse(a.isEditable);b&&(t[0].appendChild(p.domElem("div",vt.ICON_EDIT_CLASS)),t.find("."+vt.ICON_EDIT_CLASS).prop("title",ot.EditTitle))},n.prototype._renderAssignedToSection=function(t,i,r,u,f,e){var h=!1,v=at.getCoreFieldNames(e),y,w,k,l,a=i.getField(c.DatabaseCoreFieldRefName.AssignedTo),o,d,b;a&&at.shouldRenderAsCoreField(a,v)&&(k=u(c.DatabaseCoreFieldRefName.AssignedTo),k&&(h=!0));e&&(o=i.getField(e),o&&at.shouldRenderAsCoreField(o,v)&&(l=u(e),l&&(h=!0,l=tt.FormatUtils.formatRemainingWorkForDisplay(l)),s.equals(e,".WORK_ROLLUP",!0)&&(h=!0)));(h||f)&&(a&&at.shouldRenderAsCoreField(a,v)&&(y=n._cardFieldRendererManager.renderField(k,a,r[c.DatabaseCoreFieldRefName.AssignedTo.toUpperCase()])),e&&o&&at.shouldRenderAsCoreField(o,v)&&(d=n._cardFieldRendererManager.getFieldRenderer(vt.EFFORT_FIELD),w=d.render(l,o,r[e.toUpperCase()])));(y||w)&&(b=$(p.domElem("div",vt.CONTAINER_CLASS)).addClass(vt.WITEXTRA_CLASS),w&&b[0].appendChild(w[0]),y&&b[0].appendChild(y[0]),t[0].appendChild(b[0]));h||this._emptySections++},n.prototype._renderTags=function(t,i,r,u){var e=i.getField(c.DatabaseCoreFieldRefName.Tags),o,f;e&&(o=u(c.DatabaseCoreFieldRefName.Tags),f=n._cardFieldRendererManager.renderField(o,e,r[c.DatabaseCoreFieldRefName.Tags.toUpperCase()]),f&&t[0].appendChild(f[0]))},n.itemSourceType="wit",n}();t.WITCardRenderer=ri;t.CardRendererFactory.registerConstructor(ri.itemSourceType,ri)});

define("Agile/Scripts/Card/Annotations/ChecklistAnnotationViewModels",["require","exports","knockout","q","VSS/Controls","VSS/Diag","VSS/Events/Services","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","VSS/VSS","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service","WorkItemTracking/Scripts/Utils/PermissionHandler","Presentation/Scripts/TFS/TFS.Host.TfsContext","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Common/Utils","Agile/Scripts/TFS.Agile.Boards","Agile/Scripts/Card/CardsControls","Agile/Scripts/Card/Cards","Agile/Scripts/Card/CardUtils","WorkItemTracking/SharedScripts/WorkItemDialogShim","Presentation/Scripts/TFS/TFS.Knockout"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){var ot,ft,it;Object.defineProperty(t,"__esModule",{value:!0});t.WorkItemViewModel=t.ItemViewModel=t.WorkItemListCollectionViewModel=t.ItemListCollectionViewModel=void 0;nt.overrideDefaultBindings();var tt=p.DatabaseCoreFieldRefName,rt=o.delegate,ut=e.getService(),et=function(){function n(n,t,r){this.listItems=i.observableArray([]);this.sourceItem=n;this.defaultItemType=r}return n.prototype.addNewItem=function(n,t,i){this.sourceItem.beginAddNewChild(n,i).done(function(n){t(n)},function(){})},n.prototype.addItem=function(){},n.prototype.insertItem=function(){},n.prototype.updateListItems=function(){},n.prototype.removeItems=function(n){for(var t=0,i=n.length;t<i;t++)this.removeItemFromCollection(n[t])},n.prototype.removeItemFromCollection=function(n){for(var r,t=0,i=this.listItems().length;t<i;t++)if(this.listItems()[t].id()===n){r=this.listItems.splice(t,1);r[0].dispose();break}},n.prototype.dispose=function(){for(var t=this.listItems(),n=0,i=t.length;n<i;n++)t[n].id()<=0?this.removeItemFromCollection(t[n].id()):t[n].dispose();this.listItems.removeAll()},n}();t.ItemListCollectionViewModel=et;ot=function(n){function t(t){var r=n.call(this,t.parentWorkItem,t.workItems,t.defaultWorkItemType)||this;return r.scrolledItem=i.observable({}),r._options={teamId:t.teamId,onMarkComplete:function(){r._fireChecklistChanged()},onEditStart:rt(r,r._onEditStart),onEditEnd:rt(r,r._onEditEnd),onDiscard:rt(r,r._onDiscard),onSaveCompleted:function(){r._fireChecklistChanged()},onSaveFailed:function(){r._fireChecklistChanged()},onCreateContextMenu:t.onCreateContextMenu,eventScope:t.eventScope},$.each(t.workItems,function(n,t){r.listItems.push(new it(t,r._options))}),r._workItemType=t.workItemType?t.workItemType:t.defaultWorkItemType,r.addItemText=s.format(y.Checklist_Add_Item,r._workItemType),r.workItemCreationEnabled=t.workItemCreationEnabled,r}return __extends(t,n),t.prototype.disableAdd=function(){return this._isAddingNewItem},t.prototype.addNewWorkItem=function(n){var t=this;this._isAddingNewItem||(this._isAddingNewItem=!0,this.addNewItem(this._options.teamId,function(n){var r,f,i,u,e,o;n.setParentId(t.sourceItem.id());r=new it(n,t._options);r.isSaved(!1);t.listItems.push(r);f=s.format(".work-item-list-container #{0} .work-item-title-container .title",n.id());i=$(f);r.onStartEditWorkItem($(f));t.scrolledItem(r);u=$(window);i&&i.length&&(e={top:u.scrollTop(),bottom:u.scrollTop()+u.height()},o={top:i.offset().top,bottom:i.offset().top+i.outerHeight()},e.top<o.top&&e.bottom>o.bottom||i[0].scrollIntoView())},n))},t.prototype.addNewDefaultWorkItem=function(){this.addThisWorkItem()},t.prototype.addThisWorkItem=function(){this.addNewWorkItem(this._workItemType);w.KanbanTelemetry.recordChecklistTelemetry(this._workItemType,"Add","AddButton")},t.prototype.addItem=function(n){this.listItems.push(new it(n,this._options))},t.prototype.insertItem=function(n,t){this.listItems.splice(n,0,new it(t,this._options))},t.prototype.discardNewItems=function(){var t=this.listItems(),n=[];$.each(t,function(t,i){i.item.id()<0&&!i.isSaving()&&(i.discard(),n.push(i.item.id()))});this.removeItems(n)},t.prototype.updateListItems=function(n){this.listItems.removeAll();for(var t=0,i=n.length;t<i;t++)this.listItems.push(new it(n[t],this._options))},t.prototype._fireChecklistChanged=function(){this.sourceItem.fire(w.Item.EVENT_ITEM_CHANGED,this,{item:this.sourceItem,change:w.ItemSource.ChangeTypes.ChecklistChanged,workItemType:this._workItemType})},t.prototype._onEditEnd=function(n){this._isAddingNewItem=!1;ut.fire(k.Notifications.CardWorkItemListEndEdit,null,{id:this.sourceItem.id()},this._options.eventScope);this._fireChecklistChanged();n&&(this.addNewWorkItem(this._workItemType),w.KanbanTelemetry.recordChecklistTelemetry(this._workItemType,"Add","QuickAdd"))},t.prototype._onEditStart=function(){ut.fire(k.Notifications.CardWorkItemListBeginEdit,null,{id:this.sourceItem.id()},this._options.eventScope)},t.prototype._onDiscard=function(n){this.sourceItem.discardChildItem(n)},t}(et);t.WorkItemListCollectionViewModel=ot;ft=function(){function n(n){this.name=i.observable("");this.isValid=i.observable(!0);this.isComplete=i.observable(!1);this.isSaving=i.observable(!1);this.item=n;this.itemType=n.type()}return n.prototype.id=function(){return this.item.id()},n.prototype.message=function(){return this.item.message()},n.prototype.canReorder=function(){return!1},n.prototype.dispose=function(){},n}();t.ItemViewModel=ft;it=function(n){function t(t,r){var u=__construct(this,n,[t]);for(var f in u)u.hasOwnProperty(f)&&(this[f]=u[f]);return u.isEditing=i.observable(!1),u.isSaved=i.observable(!0),u.isContextMenuOpen=i.observable(!1),u.name(t.fieldValue(tt.Title)),u._editStartCallback=r.onEditStart,u._editEndCallback=r.onEditEnd,u._markCompleteCallback=r.onMarkComplete,u._saveCompletedCallback=r.onSaveCompleted,u._saveFailedCallback=r.onSaveFailed,u._discardCallback=r.onDiscard,u._onCreateContextMenu=r.onCreateContextMenu,t.message()&&u.isValid(!1),u.projectName=v.TfsContext.getDefault().navigation.project,u.workItemTypeName=u.itemType,u.isComplete(p.WorkItemUtils.isStateComplete(u.id(),t.fieldValue(tt.State),t.fieldValue(tt.WorkItemType))),u._isCompleteSubscription=u.isComplete.subscribe(function(n){u._markComplete(n,u.workItemTypeName)}),u}return __extends(t,n),t.prototype.canReorder=function(){return a.hasAgileToolsBacklogManagementPermission()},t.prototype.createContextMenu=function(n,t){typeof this._onCreateContextMenu=="function"&&(this.isContextMenuOpen(!0),this._onCreateContextMenu(t,this))},t.prototype.openWorkItem=function(n,t){var i=this;return t&&$(t.target).hasClass("work-item-state")?!0:(g.showWorkItemById(this.id(),{save:function(){i._onWorkItemSaveSuccess()},addQueryParam:!0}),w.KanbanTelemetry.recordChecklistTelemetry(this.itemType,"Open","WorkItemTitle"),!1)},t.prototype.onClickWorkItemListContainer=function(){return!1},t.prototype.onClickWorkItem=function(){return!1},t.prototype.onClickWorkItemStateCheckBox=function(){return!0},t.prototype.dispose=function(){this._isCompleteSubscription.dispose();n.prototype.dispose.call(this)},t.prototype.discard=function(){this.item.discard();this.item.dispose();typeof this._discardCallback=="function"&&this._discardCallback(this.item.id())},t.prototype.onKeyDownWorkItemHandler=function(n,t){var r=this,i;if(t.keyCode===h.KeyCode.ENTER)this.openItem(function(){r._onWorkItemSaveSuccess()});else if(t.keyCode===h.KeyCode.F2){i=$(t.currentTarget).find(".title");this.onStartEditWorkItem(i)}else if(this.isEditing()||t.keyCode!==h.KeyCode.SPACE)if(t.keyCode===h.KeyCode.F10&&t.shiftKey)this.createContextMenu(this,t);else return!0;else this.isComplete(!this.isComplete());t.preventDefault();t.stopPropagation()},t.prototype.onStartEditWorkItem=function(n){var t,i;this.isSaving()||(this.isEditing(!0),typeof this._editStartCallback=="function"&&this._editStartCallback(),t={allowEdit:!0,validator:function(n){return n.trim().length>0},onEditEnd:rt(this,this.onEditEnd),label:y.TestAnnotation_EditTitle},n&&n.length>0&&n.children(".editableTitle").length<=0&&(n.addClass("edit-mode-borders"),i=n.parents(".work-item"),i.addClass("editMode"),this._editableFieldContainer=n,this._control=u.Control.createIn(b.CardFieldTitleControl,$("<div/>"),t),this._control.init(n,this.name()),this._control.startEdit(),n.children().hide(),n[0].appendChild(this._control.getElement()[0])))},t.prototype.onEditEnd=function(n,t,r){var f=this,s=this.item.isNew(),v=this._control.getValue(),o,a,y;this.isEditing(!1);this.name("");t||(this.item.fieldValue(tt.Title,v),this.isSaving(!0),o=$(n.target).parents(".work-item"),this._saveItem().then(function(){f.isSaved(!0);o.attr("id",f.item.id());typeof f._saveCompletedCallback=="function"&&f._saveCompletedCallback()},function(){s?f.openItem(function(){o.attr("id",f.item.id());f._onWorkItemSaveSuccess()}):typeof f._saveFailedCallback=="function"&&f._saveFailedCallback()}));var e=null,u=null,l=null,c=$(n.target).parents(".title");c.removeClass("edit-mode-borders");o=$(n.target).parents(".work-item");o.removeClass("editMode");(n.keyCode===h.KeyCode.TAB||(n.keyCode===h.KeyCode.ENTER||n.keyCode===h.KeyCode.ESCAPE)&&s&&t)&&(u=$(document).find("[tabindex='0']"),e=u.index(o),l=$(n.target).parents(".work-item-list-container")[0].children.length);this._control.tearDown();this._control.dispose();this._control=null;t&&s?(i.removeNode(this._editableFieldContainer.children()[0]),this._discardNewItem(),this.dispose(),(n.keyCode===h.KeyCode.ENTER||n.keyCode===h.KeyCode.ESCAPE)&&(l>1?u[e-1].focus():u[e-2].focus(),u=null)):(a=this._editableFieldContainer.children()[1],a&&i.removeNode(a),this._editableFieldContainer.children().show(),n.keyCode!==h.KeyCode.ENTER&&n.keyCode!==h.KeyCode.ESCAPE||s||o.focus(),c&&(y=c.children(),d.applyEllipsis(c,y)));this.name(v);u!==null&&e>-1&&(n.shiftKey?s&&t&&l===1?u[e-2].focus():u[e-1].focus():e===u.length-1?u[0].focus():u[e+1].focus());n.stopPropagation();n.preventDefault();typeof this._editEndCallback=="function"&&this._editEndCallback(r&&!t&&s)},t.prototype.openItem=function(n){var t=this,i=this.id();g.showWorkItemById(i,{addQueryParam:!0,close:function(r){i<0&&(r.id<=0?(t._discardNewItem(),typeof t._saveFailedCallback=="function"&&t._saveFailedCallback()):typeof n=="function"&&n())}})},t.prototype._markComplete=function(n){var t=this,u=n===!0?l.WorkItemStateCategory.Completed:l.WorkItemStateCategory.Proposed;var i=function(){t.isSaving(!1);typeof t._saveFailedCallback=="function"&&t._saveFailedCallback()},f=this.item.fieldValue(tt.State),r=p.WorkItemUtils.getStateValueForMetaState(u,this.item.fieldValue(tt.WorkItemType));this.isSaving(!0);this.item.fieldValue(tt.State,r);this.item.beginRefresh().then(function(){if(!t.item.isValid()){if(n){t.item.message(s.format(y.Checklist_Invalid_Transition_To_Complete,f,r));c.using(["Agile/Scripts/Board/BoardsControls","Agile/Scripts/Resources/TFS.Resources.Agile"],function(n,t){var i=$("<span>"+s.format(y.Checklist_Invalid_Transition_To_Complete_With_Link,f,r)+"<\/>"),u=$("<a />",{href:y.Checklist_Invalid_Transition_Link,text:t.FWLink_LearnMore,target:"learnMore"});i.append(u);ut.fire(n.Tile.CHECKLIST_STATE_TRANSITION_FAILED,i)});i();return}u=l.WorkItemStateCategory.InProgress;var e=p.WorkItemUtils.getStateValueForMetaState(u,t.item.fieldValue(tt.WorkItemType));if(e&&t.item.fieldValue(tt.State,e),!t.item.isValid()){t.item.fieldValue(tt.State,r);t.item.message(s.format(y.Checklist_Invalid_Transition_From_Complete,f));i();return}}t._saveItem().then(function(){typeof t._saveCompletedCallback=="function"&&t._saveCompletedCallback()},i)},i);typeof this._markCompleteCallback=="function"&&this._markCompleteCallback()},t.prototype._saveItem=function(){var n=this,t=r.defer();return this.item.beginSave(function(){n.isSaving(!1);n.isValid(!0);t.resolve({})},function(i){n.isValid(!1);t.reject(i)}),t.promise},t.prototype._discardNewItem=function(){this.discard()},t.prototype._onWorkItemSaveSuccess=function(){this.isSaving(!1);this.isSaved(!0);this.isValid(!0);typeof this._saveCompletedCallback=="function"&&this._saveCompletedCallback()},t}(ft);t.WorkItemViewModel=it});

define("Agile/Scripts/Card/Annotations/ChecklistAnnotationView",["require","exports","knockout","Presentation/Scripts/TFS/TFS.Knockout","VSS/Utils/String","VSS/Controls","VSS/Utils/Core","VSS/Controls/Menus","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Card/Annotations/ChecklistAnnotationViewModels","VSS/Controls/PopupContent","Presentation/Scripts/TFS/Components/WorkItemTypeIcon","Agile/Scripts/Common/CustomerIntelligence","Agile/Scripts/Board/Templates"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var p,w,y;Object.defineProperty(t,"__esModule",{value:!0});t.ChecklistItemMenu=t.WorkItemChecklistControl=void 0;r.overrideDefaultBindings();p=e.delegate;w=function(n){function t(i){var r=__construct(this,n,[i]),u,f;for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._updateTooltipname=function(n,i){var u,f,e;i&&(u=r._managedTitleTooltipsMap[n],u?u.setTextContent(i):(f=r.getElement(),e=f.find(t.workItemContainer),u=c.RichContentTooltip.add(i,e[n]),r._managedTitleTooltipsMap[n]=u))},r._updateErrorMessageTooltip=function(n,i){var u,f,e;i&&(u=r._managedErrorTooltipsMap[n],u?u.setTextContent(i):(f=r.getElement(),e=f.find(t.workItemError),u=c.RichContentTooltip.addIfOverflow(i,e[n],{setAriaDescribedBy:!0}),r._managedErrorTooltipsMap[n]=u))},r._addTooltipToItems=function(n){var t,i,u;for(r._disposeManagedTooltips(),t=0;t<n.length;t++)i=n[t],u=i.name,r._updateTooltipname(t,u()),u.subscribe(e.curry(r._updateTooltipname,t)),r._updateErrorMessageTooltip(t,i.message())},f={teamId:i.team.id,parentWorkItem:i.parentWorkItem,workItems:i.items,workItemCreationEnabled:i.workItemCreationEnabled,workItemType:i.workItemType,defaultWorkItemType:"Task",onCreateContextMenu:p(r,r._onCreateContextMenu),eventScope:i.eventScope},r._managedTitleTooltipsMap={},r._managedErrorTooltipsMap={},r.viewModel=new h.WorkItemListCollectionViewModel(f),r}return __extends(t,n),t.prototype.initialize=function(){n.prototype.initialize.call(this);var r=v.loadHtmlTemplate(t.template,t.templateClass);r&&(this._bindIconControl(),i.applyBindings(this.viewModel,r[0]),this.getElement().append(r),this.enhanceTooltips(),this._initMenu())},t.prototype.enhanceTooltips=function(){this.viewModel.listItems.subscribe(this._addTooltipToItems);this._addTooltipToItems(this.viewModel.listItems())},t.prototype._bindIconControl=function(){i.bindingHandlers.icon={init:function(n,t,r){var u=r().icon,f=$(n).find(u.containerSelector);u.type&&u.project&&l.renderWorkItemTypeIcon(f[0],u.type,u.project);i.utils.domNodeDisposal.addDisposeCallback(n,function(){l.unmountWorkItemTypeIcon(f[0])})}}},t.prototype.dispose=function(){this._menu&&(this._menu.dispose(),this._menu=null);this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);this._disposeManagedTooltips();n.prototype.dispose.call(this)},t.prototype._disposeManagedTooltips=function(){for(var n in this._managedTitleTooltipsMap)this._managedTitleTooltipsMap[n]&&this._managedTitleTooltipsMap[n].dispose();for(n in this._managedErrorTooltipsMap)this._managedErrorTooltipsMap[n]&&this._managedErrorTooltipsMap[n].dispose();this._managedTitleTooltipsMap={};this._managedErrorTooltipsMap={}},t.prototype.focus=function(){var t=this.getElement(),n=t.find("[tabindex='0']");n&&n.length>0&&n[0].focus()},t.prototype._initMenu=function(){var n=this;this.getElement().click(function(t){$(t.currentTarget).hasClass("work-item-menu")||n._disposeChecklistItemMenu()})},t.prototype._onCreateContextMenu=function(n,i){var e,r,u;this._disposeChecklistItemMenu();e={align:"left-bottom",workItem:i,team:this._options.team,onHide:function(){i.isContextMenuOpen(!1)}};this._menu=f.Control.create(y,this.getElement(),e);this._menu&&(i.isContextMenuOpen(!0),r=$(n.currentTarget),u=r.find(t.workItemContextMenu),u&&u.length>0?this._menu.popup(r,u):this._menu.popup(r,r),n.stopPropagation())},t.prototype._disposeChecklistItemMenu=function(){if(this._menu){var n=this._menu._options;n.workItem.isContextMenuOpen(!1);this._menu.dispose();this._menu=null}},t.template="work_item_list_template",t.templateClass="work-item-list-template",t.workItemContextMenu=".work-item-context-menu",t.workItemContainer=".work-item-list-container .work-item",t.workItemError=t.workItemContainer+" .error-message-icon",t}(f.Control);t.WorkItemChecklistControl=w;y=function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.initializeOptions=function(t){var i=this._createPopupMenuItems(t);$.extend(t,{align:"left-bottom",items:[{childItems:i}],contributionIds:["ms.vss-work-web.work-item-context-menu","ms.vss-work-web.work-item-context-menu-owp"],getContributionContext:function(){return{team:t.team,id:t.workItem.id(),workItemType:t.workItem.itemType}},arguments:{telemetry:{area:a.AgileCustomerIntelligenceArea.AGILE,feature:a.AgileCustomerIntelligenceFeature.TELEMETRY_CARD_CHECKLIST_CONTEXT_MENU_CLICK}}});n.prototype.initializeOptions.call(this,t)},t.prototype._createPopupMenuItems=function(n){var t=[],i=n.workItem;return t.push({id:"open-item",text:s.BoardCard_ContextMenu_OpenItem,icon:"bowtie-icon bowtie-arrow-open",groupId:"open",setTitleOnlyOnOverflow:!0,action:function(){i.openItem()}}),t.push({id:"edit-title",text:s.EditTitle,icon:"bowtie-icon bowtie-edit",groupId:"modify",setTitleOnlyOnOverflow:!0,action:function(){var n=u.format(".work-item-list-container #{0} .work-item-title-container .title",i.id());i.onStartEditWorkItem($(n))}}),t},t}(o.PopupMenu);t.ChecklistItemMenu=y});

/*!
 * jQuery UI Sortable 1.13.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define("jQueryUI/sortable",["jquery","./mouse","./data","./ie","./scroll-parent","./version","./widget"],t):t(jQuery)}(function(t){"use strict";return t.widget("ui.sortable",t.ui.mouse,{version:"1.13.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return s=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var o,r,n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=t("parent"!==n.appendTo?n.appendTo:this.currentItem.parent()),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),t.extend(this.offset,{parent:this._getParentOffset()}),n.containment&&this._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),this.storedStylesheet=t("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(e),!0},_scroll:function(t){var e=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-this.document.scrollTop()<e.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-e.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<e.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+e.scrollSpeed)),t.pageX-this.document.scrollLeft()<e.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-e.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<e.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+e.scrollSpeed))),i},_mouseDrag:function(e){var i,s,o,r,n=this.options;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n.scroll&&!1!==this._scroll(e)&&(this._refreshItemPositions(!0),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},i=this.items.length-1;i>=0;i--)if(o=(s=this.items[i]).item[0],(r=this._intersectsWithPointer(s))&&s.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,o=this.placeholder.offset(),r=this.options.axis,n={};r&&"x"!==r||(n.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(n.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(n,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,p="x"===this.options.axis||s+l>h&&s+l<a,f="y"===this.options.axis||e+c>r&&e+c<n,u=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!s||!o)&&(e=this.dragDirection.vertical,i=this.dragDirection.horizontal,this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this.dragDirection.vertical,o=this.dragDirection.horizontal;return this.floating&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,o,r,n=[],h=[],a=this._connectWith();if(a&&e)for(i=a.length-1;i>=0;i--)for(s=(o=t(a[i],this.document[0])).length-1;s>=0;s--)(r=t.data(o[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&h.push(["function"==typeof r.options.items?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function l(){n.push(this)}for(h.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=h.length-1;i>=0;i--)h[i][0].each(l);return t(n)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,o,r,n,h,a,l,c=this.items,p=[["function"==typeof this.options.items?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(i=f.length-1;i>=0;i--)for(s=(o=t(f[i],this.document[0])).length-1;s>=0;s--)(r=t.data(o[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&(p.push(["function"==typeof r.options.items?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=p.length-1;i>=0;i--)for(n=p[i][1],s=0,l=(h=p[i][0]).length;s<l;s++)(a=t(h[s])).data(this.widgetName+"-item",n),c.push({item:a,instance:n,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(e){var i,s,o,r;for(i=this.items.length-1;i>=0;i--)s=this.items[i],this.currentContainer&&s.instance!==this.currentContainer&&s.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=o.outerWidth(),s.height=o.outerHeight()),r=o.offset(),s.left=r.left,s.top=r.top)},refreshPositions:function(t){var e,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(t),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--)i=this.containers[e].element.offset(),this.containers[e].containerCache.left=i.left,this.containers[e].containerCache.top=i.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(e){var i,s,o=(e=e||this).options;o.placeholder&&o.placeholder.constructor!==String||(i=o.placeholder,s=e.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var o=t("<"+s+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===s?e._createTrPlaceholder(e.currentItem,o):"img"===s&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,r){i&&!o.forcePlaceholderSize||(r.height()&&(!o.forcePlaceholderSize||"tbody"!==s&&"tr"!==s)||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(o.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),o.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,o,r,n,h,a,l,c,p,f=null,u=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(f&&t.contains(this.containers[i].element[0],f.element[0]))continue;f=this.containers[i],u=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(o=1e4,r=null,n=(c=f.floating||this._isFloating(this.currentItem))?"left":"top",h=c?"width":"height",p=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[u].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[n],l=!1,e[p]-a>this.items[s][h]/2&&(l=!0),Math.abs(e[p]-a)<o&&(o=Math.abs(e[p]-a),r=this.items[s],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return void(this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[u].element,!0),this._trigger("change",e,this._uiHash()),this.containers[u]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(e){var i=this.options,s="function"==typeof i.helper?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||this.appendTo[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*s}},_generatePosition:function(e){var i,s,o=this.options,r=e.pageX,n=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((n-this.originalPageY)/o.grid[1])*o.grid[1],n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,s=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})});

// Copyright (C) Microsoft Corporation. All rights reserved.
define("Agile/Scripts/Card/Annotations/ChecklistAnnotationAdapter",["require","exports","Agile/Scripts/Resources/TFS.Resources.AgileControls","Agile/Scripts/Common/Utils","Agile/Scripts/Card/CardsAnnotationsCommon","Agile/Scripts/Card/Annotations/ChecklistAnnotationBadge","Agile/Scripts/TFS.Agile.Boards","Agile/Scripts/Card/Cards","VSS/Controls","knockout","VSS/Diag","Agile/Scripts/Common/Agile","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/UI","Agile/Scripts/Card/CardUtils","Agile/Scripts/Card/Annotations/ChecklistAnnotationView","Presentation/Scripts/TFS/FeatureRef/BacklogConfiguration/Service","WorkItemTracking/Scripts/Utils/PermissionHandler","Presentation/Scripts/TFS/TFS.Knockout","VSS/FeatureAvailability/Services","Presentation/Scripts/TFS/Generated/TFS.Server.WebAccess.Constants","VSS/Utils/Draggable","jQueryUI/droppable","jQueryUI/sortable"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){Object.defineProperty(t,"__esModule",{value:!0});t.ChecklistAnnotationAdapter=void 0;d.overrideDefaultBindings();var tt=r.DatabaseCoreFieldRefName,it=y.domElem,rt=function(n){function t(t){var u=this,f,o;return f=g.FeatureAvailabilityService.isFeatureEnabled(nt.FeatureAvailabilityFlags.WebAccessAgileCardAnnotations),u=f?n.call(this,$.extend(t,{id:t.annotationId,priority:10,$annotationDetailPaneContainer:$(it("div","checklist-action-pane")),$badgeContainer:$(it("div","badge checklist-badge"))}))||this:n.call(this,$.extend(t,{id:e.BoardAnnotationsIdentifier.ChecklistAnnotation,priority:10,$annotationDetailPaneContainer:$(it("div","checklist-action-pane")),$badgeContainer:$(it("div","badge checklist-badge"))}))||this,u._isCheckListAnnotationApplicable=e.Board.BoardAnnotationSettings.isAnnotationApplicable(t.id),u._team=t.team,u._getCompletedItemsCount=u._getCompletedItemsCount.bind(u),u._isCheckListAnnotationApplicable&&(o=l.BacklogContext.getInstance().level.name,u._descendentBacklogConfiguration=r.BacklogLevelUtils.getDescendentBacklogLevelConfigurationForLevelName(o),u._workItemType=f?t.workItemType:u._descendentBacklogConfiguration.defaultWorkItemType,r.WorkItemCategoriesUtils.removeHiddenWorkItemTypeNames([u._workItemType]).then(function(n){n&&n.length>0&&(u._isThisWorkItemEnabled=u._workItemType==n[0]);u._isThisWorkItemEnabled&&u.menuItems.push({id:"add-child",text:v.format(i.BoardCard_ContextMenu_AddChild,n[0]),icon:"bowtie-icon bowtie-math-plus",setTitleOnlyOnOverflow:!0,groupId:"modify",action:function(){u.addNewChildItem()}})})),u}return __extends(t,n),t.prototype.acceptHandler=function(n){var i,r;return n.hasClass(t.WORK_ITEM_CLASS)?(i=h.dataFor(n[0]),i)?(r=i.item.getParentId(),this.options.source.id()===r)?!1:!0:!1:!1},t.prototype.dispose=function(){this.disposeElement()},t.prototype.disposeElement=function(){var t=this._removeWorkItemListContainer();n.prototype.dispose.call(this);this._$annotationIcon&&(r.ControlUtils.disposeColorElement(this._$annotationIcon[0]),this._$annotationIcon=null);this.options.$annotationDetailPaneContainer.children()&&this.options.$annotationDetailPaneContainer.children().detach();this.options.$badgeContainer.children()&&this.options.$badgeContainer.children().detach();t&&this.setFocusToTile()},t.prototype.dropHandler=function(n,i){this._onChecklistItemDrop(i);i.draggable.data(t.DataKeyItemDroppedOnTile,!0)},t.prototype.refreshAnnotation=function(){if(n.prototype.refreshAnnotation.call(this),this._isCheckListAnnotationApplicable){var t=this._getValidItems(this.options.source.children(),b.BacklogConfigurationService.getBacklogConfiguration().getStatesForWorkItems(this._descendentBacklogConfiguration.workItemTypes));if(t&&t.length>0)if(this.options.$badgeContainer.children().length===0){if(this._ensureAnnotation(t),this.options.$annotationDetailPaneContainer.children().length!==0)this.options.onAnnotationDetailPaneStateChange(this,u.AnnotationDetailPaneState.OPENED)}else this._updateChecklistAnnotation(t),this.options.$annotationDetailPaneContainer.children(".board-content-details").length!==0&&this._applyEllipsis(t);else this.disposeElement()}},t.prototype._ensureAnnotation=function(n){this.badgeControl||this._createAnnotation(n);this.badgeControl.update(n)},t.prototype._createAnnotation=function(n){var i=this,u=function(n){e.KanbanTelemetry.recordChecklistTelemetry(i._workItemType,i.options.$annotationDetailPaneContainer?"Collapse":"Expand","Annotation");i.$annotationDetailPaneControl?i._removeWorkItemListContainer():i.options.source.beginGetChildren().then(function(n){i.$annotationDetailPaneControl||(i._bindTemplateWithWorkItemListContainer(n),i._checklistControl.focus())});n.preventDefault()};this._$annotationIcon=r.ControlUtils.buildColorElement(this._workItemType);this.badgeControl=s.Control.create(f.ChecklistAnnotationBadge,this.options.$badgeContainer,{source:n,cssClass:t.CHILD_WORK_ITEMS_SUMMARY_CLASS,$annotationIcon:this._$annotationIcon,getCompletedItemsCount:this._getCompletedItemsCount,clickEventHandler:u,backlogConfiguration:this._descendentBacklogConfiguration,workItemType:this._workItemType});this.options.$badgeContainer.append(this.badgeControl.getElement()[0])},t.prototype.addNewChildItem=function(){var n=this;this.$annotationDetailPaneControl?this._checklistControl.viewModel.disableAdd()||this._addNewWorkItemToWorkItemListCollectionViewModel():this.options.source.beginGetChildren().then(function(t){t||(t=[]);n._bindTemplateWithWorkItemListContainer(t);n._addNewWorkItemToWorkItemListCollectionViewModel()})},t.prototype._addNewWorkItemToWorkItemListCollectionViewModel=function(){this._checklistControl.viewModel.addNewWorkItem(this._workItemType);e.KanbanTelemetry.recordChecklistTelemetry(this._workItemType,"Add","ContextMenu")},t.prototype._isStateComplete=function(n){return r.WorkItemUtils.isStateComplete(n.id(),n.fieldValue(tt.State),n.fieldValue(tt.WorkItemType))},t.prototype._getCompletedItemsCount=function(n){for(var i={},s=b.BacklogConfigurationService.getBacklogConfiguration(),h=0,u=0,c=n;u<c.length;u++){var l=c[u],f=l.fieldValue(tt.State),e=l.fieldValue(tt.WorkItemType),o=f.toLocaleLowerCase(),r=e.toLocaleLowerCase(),t=null;i[r]||(i[r]={},t=s.getWorkItemStateCategory(e,f),i[r][o]=t);t=i[r][o];t||(t=s.getWorkItemStateCategory(e,f),i[r][o]=t);t===b.WorkItemStateCategory.Completed&&h++}return h},t.prototype._getValidItems=function(n,t){for(var i,r,f=[],u=0;u<n.length;u++)if(i=n[u],v.equals(i.type(),this._workItemType,!0))for(r=0;r<t.length;r++)if(v.ignoreCaseComparer(t[r],i.fieldValue(tt.State))===0){f.push(i);break}return f},t.prototype._onChecklistItemDrop=function(n){var t=n.draggable,i=t.attr("id"),r=t.attr("itemType"),u=this.options.source.id();this._beginReparentWorkItem(i,r,u)},t.prototype._bindTemplateWithWorkItemListContainer=function(n){k.hasAgileToolsBacklogManagementPermission()&&this._bindSortable();n=this._getValidItems(n,b.BacklogConfigurationService.getBacklogConfiguration().getStatesForWorkItems(this._descendentBacklogConfiguration.workItemTypes));var t={parentWorkItem:this.options.source,items:n,team:this._team,workItemType:this._workItemType,workItemCreationEnabled:this._isThisWorkItemEnabled,eventScope:this.options.eventsHelper.getScope()};this.$annotationDetailPaneControl=$("<div/>").addClass(u.AnnotationAdapter.TILE_CONTENT_DETAILS);this._checklistControl=s.Control.create(w.WorkItemChecklistControl,this.$annotationDetailPaneControl,t);this._ensureBoardHeight();this.options.$annotationDetailPaneContainer.append(this.$annotationDetailPaneControl);this.options.onAnnotationDetailPaneStateChange(this,u.AnnotationDetailPaneState.OPENED);this._applyEllipsis(n);this._attachChecklistHandlers()},t.prototype._applyEllipsis=function(n){var f=this.$annotationDetailPaneControl.find(t.WORK_ITEM_SELECTOR),r,i;if(n.length!==0)for(r=n[n.length-1].id()>0?n.length:n.length-1,i=0;i<r;i++){var e=$(f.get(i)),u=e.find(".title"),o=u.children();p.applyEllipsis(u,o)}},t.prototype._ensureBoardHeight=function(){var n=this.getScrollableContentContainer(),t=n.children(".horizontal-table");t.outerHeight()<=n.outerHeight()&&n.css("overflow-y","hidden");this._eventsHelper.fire(e.Notifications.BoardHeightChanged)},t.prototype._attachChecklistHandlers=function(){var n=this;this._beginEditWorkItemListHandler=function(i,r){if(n.$annotationDetailPaneControl&&n.options.source&&n.options.source.id()===r.id){var u=n.$annotationDetailPaneControl.find(t.WORK_ITEM_LIST_CONTAINER_SORTABLE_SELECTOR);u&&u.length>0&&u.sortable("disable")}};this._eventsHelper.attachEvent(o.Notifications.CardWorkItemListBeginEdit,this._beginEditWorkItemListHandler);this._endEditWorkItemListHandler=function(i,r){if(n.$annotationDetailPaneControl&&n.options.source&&n.options.source.id()===r.id){var u=n.$annotationDetailPaneControl.find(t.WORK_ITEM_LIST_CONTAINER_SORTABLE_SELECTOR);u&&u.length>0&&u.sortable("enable")}};this._eventsHelper.attachEvent(o.Notifications.CardWorkItemListEndEdit,this._endEditWorkItemListHandler)},t.prototype._bindSortable=function(){var n=this,i=this,r=60,f=10,o=this.getScrollableContentContainer(),e=function(){n.refreshAnnotation()};h.bindingHandlers.sortableChecklistItem={init:function(n,i){var r=i();$(n).data(t.DataKeyItemVM,r.item);$(n).data(t.DataKeyParentItemList,r.parentItemList)}};h.bindingHandlers.sortableChecklistContainer={init:function(s,c){var l,v;$(s).data(t.DataKeyItemList,c());l=!1;$(s).sortable({items:t.WORK_ITEM_SELECTOR,tolerance:"pointer",helper:function(n,i){var r=i.clone();return r.find(".clickable-title").attr("title",""),r.data(t.DataKeyId,h.dataFor(i[0]).id()),r},zIndex:1e3,appendTo:document.body,containment:".agile-board",scope:u.AnnotationAdapter.DRAG_SCOPE_ANNOTATION_ITEM,start:function(i,r){r.helper.width(r.placeholder.width());n._eventsHelper.fire(t.TILE_START_DRAG,n)},stop:function(n,i){if(i.item.removeClass(t.ORIGINAL_CHECKLIST_ITEM_CLASS),i.item.data(t.DataKeyItemDroppedOnTile))h.removeNode(i.item[0]);else if(!l){
//!!!THIS IS A WORKAROUND
var r=h.dataFor(i.item[0]),u=i.item.index(),f=$(n.target).data(t.DataKeyItemList);f.remove(r);f.splice(u,0,r);h.removeNode(i.item[0]);var o=$(s).find(t.WORK_ITEM_SELECTOR),e=$(o.get(u)),c=e.find(".clickable-title"),a=e.find(".title");p.applyEllipsis(a,c)}l=!1},update:function(n,r){var u,c;if(!r.sender){if(r.placeholder.hasClass(t.HIDE_PLACEHOLDER_CLASS))return!1;if(u=r.item.data(t.DataKeyItemVM),u){var s=r.item.data(t.DataKeyParentItemList),f=r.item.parent().data(t.DataKeyItemList),o=h.utils.arrayIndexOf(r.item.parent().children(),r.item[0]);o>=0&&(l=!0,c=r.item.closest("."+t.boardTileClass).data(t.DataKeyId),h.removeNode(r.item[0]),s.remove(u),f.splice(o,0,u),s!==f?i._beginReparentWorkItem(u.item._id,u.itemType,c,function(){i._beginReorderChecklist(f(),u,o,e)},function(){f.remove(u)}):i._beginReorderChecklist(f(),u,o,e))}}},opacity:.8,cursor:"move",connectWith:t.WORK_ITEM_LIST_CONTAINER_SELECTOR,refreshPositions:!0,sort:function(n,t){for(var i,e,u=!1,h=[o[0],t.placeholder[0].parentElement],s=0,c=h.length;s<c;s++)i=h[s],typeof i!="undefined"&&(e=$(i).offset(),e.top+i.offsetHeight-n.pageY<r?(i.scrollTop=i.scrollTop+f,u=!0):n.pageY-e.top<r&&(i.scrollTop=i.scrollTop-f,u=!0),e.left+i.offsetWidth-n.pageX<r?(i.scrollLeft=i.scrollLeft+f,u=!0):n.pageX-e.left<r&&(i.scrollLeft=i.scrollLeft-f,u=!0),u&&s===0&&t.item.parent().sortable("refresh"))}}).keydown(function(n){var s,h,r,f,o,c,u;if((n.ctrlKey||n.metaKey)&&(n.keyCode===y.KeyCode.UP||n.keyCode===y.KeyCode.DOWN))try{return(s=$(n.target),h=s.parent(t.WORK_ITEM_LIST_CONTAINER_SORTABLE_SELECTOR),!h||h.length===0)?!1:(r=s.data(t.DataKeyItemVM),r.isSaving())?!1:(f=s.data(t.DataKeyParentItemList),o=f(),!o||o.length===0)?!1:(c=o.indexOf(r),c<0)?!1:(u=n.keyCode===y.KeyCode.DOWN?c+1:c-1,u<0||u>=o.length)?!1:(f.remove(r),f.splice(u,0,r),$(h[0].children[u]).focus(),i._beginReorderChecklist(f(),r,u,e),!1)}finally{n.preventDefault();n.stopPropagation()}return!0});v=t.WORK_ITEM_SELECTOR+".ui-sortable-placeholder";a.delay(n,0,function(){$(s).droppable({over:function(n,i){var r=$(v);r.removeClass(t.HIDE_PLACEHOLDER_CLASS);i.draggable.parent()[0]===r.parent()[0]&&i.draggable.removeClass(t.ORIGINAL_CHECKLIST_ITEM_CLASS)},out:function(n,i){$(v).addClass(t.HIDE_PLACEHOLDER_CLASS);i.draggable.addClass(t.ORIGINAL_CHECKLIST_ITEM_CLASS)},scope:u.AnnotationAdapter.DRAG_SCOPE_ANNOTATION_ITEM,accept:t.WORK_ITEM_SELECTOR,tolerance:"pointer"})})}}},t.prototype._beginReorderChecklist=function(n,t,i,r){var h=this,u,f,o,s;if(i===0)f=n[1].id();else if(u=n[i-1].id(),u<=0)return;o={ParentId:t.item.getParentId(),Ids:[t.id()],PreviousId:u,NextId:f};s=function(){var n=t.item,i=n.source(),r=n.getParentId();i.sortChildrenIds(r);h.refreshAnnotation();t.isSaving(!1);e.KanbanTelemetry.recordChecklistTelemetry(n.type(),"Reorder")};t.isSaving(!0);t.item.beginReorder(o,s,r)},t.prototype._beginReparentWorkItem=function(n,t,i,u,f){var o=this;r.WorkItemUtils.beginReparentWorkItems([n],i).then(function(n){typeof u=="function"&&u(n);e.KanbanTelemetry.recordChecklistTelemetry(t,"Reparent")},function(n){o._eventsHelper.fire("checklist-reparent-failed",v.htmlEncode(n.message));o.refreshAnnotation();typeof f=="function"&&f(n)})},t.prototype._removeWorkItemListContainer=function(){if(this.$annotationDetailPaneControl&&this.$annotationDetailPaneControl.length>0){this._detachChecklistHandlers();h.removeNode(this.$annotationDetailPaneControl[0]);this.$annotationDetailPaneControl=null;this.options.onAnnotationDetailPaneStateChange(this,u.AnnotationDetailPaneState.CLOSED);return this._checklistControl.dispose(),this._checklistControl=null,this._eventsHelper.fire(e.Notifications.BoardHeightChanged),!0}return!1},t.prototype._detachChecklistHandlers=function(){this._beginEditWorkItemListHandler&&(this._eventsHelper.detachEvent(o.Notifications.CardWorkItemListBeginEdit,this._beginEditWorkItemListHandler),this._beginEditWorkItemListHandler=null);this._endEditWorkItemListHandler&&(this._eventsHelper.detachEvent(o.Notifications.CardWorkItemListEndEdit,this._endEditWorkItemListHandler),this._endEditWorkItemListHandler=null)},t.prototype._updateChecklistAnnotation=function(n){var i,e,u,l,o,f,h,c,s,t,r,a;if(this._ensureAnnotation(n),this._checklistControl&&this._checklistControl.viewModel){for(i=this._checklistControl.viewModel.listItems(),e=[],t=0,r=i.length;t<r;t++){for(u=i[t],l=!1,o=0,s=n.length;o<s;o++)if(f=n[o],f.id()===u.id()){u.isComplete(this._isStateComplete(f));u.name(f.fieldValue(tt.Title));u.isValid(!f.message());l=!0;break}l||e.push(u)}for(t=0,r=e.length;t<r;t++)this._checklistControl.viewModel.removeItemFromCollection(e[t].id());if(n.length!==i.length){for(h=[],c=0,t=0,s=n.length;t<s;t++){if(i.length&&i[c].id()!==n[t].id()){h.push(t);continue}c<i.length-1&&c++}for(t=0,r=h.length;t<r;t++)a=h[t],this._checklistControl.viewModel.insertItem(a,n[a])}}},t.CHECKLIST_ANNOTATION_ID="Microsoft.VSTS.Agile.ChecklistAnnotation",t.boardTileClass="board-tile",t.DataKeyId="itemId",t.DataKeyItemDroppedOnTile="droppedOnTile",t.DataKeyItemList="itemList",t.DataKeyItemVM="itemVM",t.DataKeyParentItemList="parentItemList",t.HIDE_PLACEHOLDER_CLASS="hide-placeholder",t.ORIGINAL_CHECKLIST_ITEM_CLASS="original-item",t.CHILD_WORK_ITEMS_SUMMARY_CLASS="child-work-items-summary",t.WORK_ITEM_CLASS="work-item",t.WORK_ITEM_SELECTOR="."+t.WORK_ITEM_CLASS,t.WORK_ITEM_LIST_CONTAINER_SELECTOR=".work-item-list-container",t.WORK_ITEM_LIST_CONTAINER_SORTABLE_SELECTOR=t.WORK_ITEM_LIST_CONTAINER_SELECTOR+".ui-sortable",t.TILE_START_DRAG="tile-start-drag",t}(u.AnnotationAdapter);t.ChecklistAnnotationAdapter=rt});

define("Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/Icons",["require","exports"],function(n,t){function i(){return $('<span class="github-icon bowtie-icon bowtie-brand-github flex-noshrink"><\/span>')}Object.defineProperty(t,"__esModule",{value:!0});t.getGitHubIcon=void 0;t.getGitHubIcon=i});

define("Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/Badge",["require","exports","Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/Icons","Agile/Scripts/Card/CardsAnnotationsCommon","TFS/WorkItemTracking/DataProviderContracts","VSS/Controls/PopupContent","VSS/Diag"],function(n,t,i,r,u,f,e){Object.defineProperty(t,"__esModule",{value:!0});t.GitHubLinksAnnotationBadge=void 0;var o=function(n){function t(t){return n.call(this,__assign({cssClass:"github-links-badge"},t))||this}return __extends(t,n),t.prototype.initializeOptions=function(t){n.prototype.initializeOptions.call(this,__assign({$annotationIcon:i.getGitHubIcon()},t))},t.prototype.update=function(t){n.prototype.update.call(this,t);this._updateSummary(t)},t.prototype.createLayout=function(){n.prototype.createLayout.call(this);this._$summaryText=$("<span/>").addClass("summary-text");this.$container[0].appendChild(this._$summaryText[0])},t.prototype.dispose=function(){n.prototype.dispose.call(this);this._options.$annotationIcon&&(this._options.$annotationIcon=null);this._summaryTooltip&&(this._summaryTooltip.dispose(),this._summaryTooltip=null);this._$summaryText&&(this._$summaryText=null)},t.prototype._updateSummary=function(n){var r;e.Debug.assertIsNotNull(n,"items");r=n.length;this._$summaryText.text(r);var o=n.reduce(function(n,t){var i=t.externalLinkedArtifactContext.itemType;return n[i]||(n[i]=0),n[i]++,n},{}),s=n.reduce(function(n,t){var i=t.externalLinkedArtifactContext.itemType;return n[i]||(n[i]=t.linkTypeDisplayName),n},{}),t=$("<div/>"),i=function(n){o[n]&&$("<div/>").text("".concat(s[n],": ").concat(o[n])).appendTo(t)};i(u.ExternalArtifactType.PullRequest);i(u.ExternalArtifactType.Commit);i(u.ExternalArtifactType.Issue);this._summaryTooltip?this._summaryTooltip.setHtmlContent(t):this._summaryTooltip=f.RichContentTooltip.add(t,this.$container,{setAriaDescribedBy:!0})},t}(r.AnnotationBadge);t.GitHubLinksAnnotationBadge=o});

define("Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/DetailsList",["require","exports","react","react-dom","VSS/Utils/Date","VSS/Utils/String","VSSUI/Icon","VSSUI/Link","VSSUI/List","VSSUI/Spinner","VSSUI/Tooltip","VSSUI/Utilities/Provider","Agile/Scripts/TFS.Agile.Boards","TFS/WorkItemTracking/DataProviderContracts","WorkItemTracking/Scripts/Utils/GitHubArtifactLink","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){function d(n,t,u,f){r.render(i.createElement(k,{workItemId:t,items:u,itemsDataHelper:f}),n)}function g(n){r.unmountComponentAtNode(n)}Object.defineProperty(t,"__esModule",{value:!0});t.disposeGitHubLinksDetailsList=t.createOrUpdateGitHubLinksDetailsList=void 0;var b=7,w="{0}{1}{2}{3}",k=function(n){function t(t){var r=__construct(this,n,[t]);for(var h in r)r.hasOwnProperty(h)&&(this[h]=r[h]);return r._selection=new s.ListSelection,r._isMounted=!1,r._renderRow=function(n,t,h,l){var w=t.linkTypeDisplayName,a=t.externalLinkedArtifactContext,v=r._getGitHubLinkDisplayTitle(a),b=i.createElement("div",{className:"github-link-item"},i.createElement("div",{className:"first-row"},i.createElement(c.TooltipHost,{hostClassName:"icon-tooltip-host",content:w},i.createElement(e.Icon,{className:"github-item-type-icon",iconName:y.getArtifactTypeFabricIconName(a.itemType)})),i.createElement(o.Link,{className:"github-item-link",href:a.url,target:"_blank",onClick:function(){return r._onLinkTitleClick(t.linkTypeDisplayName)}},i.createElement(c.TooltipHost,{content:v,overflowMode:c.TooltipOverflowMode.Parent},v))),i.createElement("div",{className:"second-row"},i.createElement(c.TooltipHost,{content:u.localeFormat(a.date,"F")},i.createElement("span",{className:"github-item-last-updated"},f.format(p.WorkItemArtifactLastUpdatedLabel,u.friendly(a.date)))),a.state?i.createElement(i.Fragment,null,i.createElement("span",null,",\u00a0"),i.createElement(c.TooltipHost,{content:a.state,overflowMode:c.TooltipOverflowMode.Parent},i.createElement("span",{className:"github-item-state"},a.state))):null));return i.createElement(s.ListItem,{key:l||"list-item"+n,index:n,details:h},b)},r.state={},r}return __extends(t,n),t.prototype.componentDidMount=function(){this._isMounted=!0;this._resolveGitHubLinks()},t.prototype.componentDidUpdate=function(n){var f=this.props,e=f.workItemId,t=f.items,o=n.workItemId,r=n.items,s=o!==e,u=!1,i;if(t!==r&&t.length===r.length){for(i=0;i<t.length;i++)if(t[i].uri!==r[i].uri){u=!0;break}}else u=t.length!==r.length;(s||u)&&this._resolveGitHubLinks()},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){var n=this.state.resolvedGitHubLinks;return i.createElement("div",{className:"github-links-details-list"},i.createElement("div",{className:"separator"}),n?i.createElement("div",{className:"scrollable-list-container"},i.createElement(s.ScrollableList,{itemProvider:new l.ArrayItemProvider(n),renderRow:this._renderRow,selection:this._selection,width:"100%"})):i.createElement(h.Spinner,{className:"resolve-github-link-spinner",size:"large"}))},t.prototype._resolveGitHubLinks=function(){var n=this,t=this.props,r=t.workItemId,u=t.items,f=t.itemsDataHelper,i=f.resolveGitHubLinks(r,u);i instanceof Promise?i.then(function(t){n._isMounted&&n.setState({resolvedGitHubLinks:n._sortGitHubLinks(t)})}):this.setState({resolvedGitHubLinks:this._sortGitHubLinks(i)})},t.prototype._sortGitHubLinks=function(n){var t=this;return n.sort(function(n,i){var r,u,f;return n.externalLinkedArtifactContext.itemType>i.externalLinkedArtifactContext.itemType?1:n.externalLinkedArtifactContext.itemType<i.externalLinkedArtifactContext.itemType?-1:(r=i.externalLinkedArtifactContext.date.getTime()-n.externalLinkedArtifactContext.date.getTime(),r===0?(u=t._getGitHubLinkDisplayTitle(n.externalLinkedArtifactContext),f=t._getGitHubLinkDisplayTitle(i.externalLinkedArtifactContext),u.localeCompare(f)):r)})},t.prototype._getGitHubLinkDisplayTitle=function(n){if(n.title)return n.title;switch(n.itemType){case v.ExternalArtifactType.Commit:return f.format(w,"Commit","","@",n.numberOrSHA.substr(0,b));case v.ExternalArtifactType.PullRequest:return f.format(w,"Pull Request","","#",n.numberOrSHA);case v.ExternalArtifactType.Issue:return f.format(w,"Issue","","#",n.numberOrSHA);default:return""}},t.prototype._onLinkTitleClick=function(n){a.KanbanTelemetry.publish("GitHubLinksAnnotation.LinkClicked",{linkTypeName:n})},t}(i.PureComponent);t.createOrUpdateGitHubLinksDetailsList=d;t.disposeGitHubLinksDetailsList=g});

var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};define("WorkItemTracking/Scripts/OM/GitHubLinkDataSource",["require","exports","VSS/Context","VSS/Contributions/Services","VSS/Error","VSS/Service"],function(n,t,i,r,u,f){function e(n,t){return __awaiter(this,void 0,void 0,function(){var s,e,h;return __generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),s=__assign(__assign({},n),{workItemId:t}),[4,f.getService(r.WebPageDataService,i.getDefaultWebContext()).getDataAsync(o,null,s)];case 1:return e=c.sent(),[2,e&&e.resolvedLinkItems&&e.resolvedLinkItems.length>0?e.resolvedLinkItems:[]];case 2:return h=c.sent(),u.publishErrorToTelemetry(h),[2,[]];case 3:return[2]}})})}function s(n,t){var i={urls:n};return e(i,t)}function h(n,t){var i={identifiers:n};return e(i,t)}Object.defineProperty(t,"__esModule",{value:!0});t.resolveGitHubItems=t.resolveGitHubUrls=void 0;var o="ms.vss-work-web.github-link-data-provider";t.resolveGitHubUrls=s;t.resolveGitHubItems=h});

define("Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/GitHubLinkDataHelper",["require","exports","WorkItemTracking/Scripts/OM/GitHubLinkDataSource"],function(n,t,i){Object.defineProperty(t,"__esModule",{value:!0});t.GitHubLinkDataHelper=void 0;var r=function(){function n(){this._resolvedGitHubLinksCache={}}return n.prototype.resolveGitHubLinks=function(n,t){for(var f,e,i=[],r=[],u=0,o=t;u<o.length;u++)f=o[u],e=this._resolvedGitHubLinksCache[f.uri],e?i.push(e):r.push(f);return r.length>0?this._getGitHubLinksData(r,n).then(function(n){return n.concat(i)},function(){return[]}):i},n.prototype._getGitHubLinksData=function(n,t){return __awaiter(this,void 0,void 0,function(){var s,h,c,e,r,o,u,l,a,f,v=this;return __generator(this,function(y){switch(y.label){case 0:return s=n.map(function(n){return{itemType:n.externalLinkedArtifactContext.itemType,repoInternalId:n.externalLinkedArtifactContext.repoInternalId,numberOrSHA:n.externalLinkedArtifactContext.numberOrSHA}}),[4,i.resolveGitHubItems(s,t)];case 1:for(h=y.sent(),c=h.reduce(function(n,t){var i=v._getGitHubLinkDataLookupKey(t);return n[i]=t,n},{}),e=[],r=0,o=n;r<o.length;r++)u=o[r],l=this._getGitHubLinkDataLookupKey(u.externalLinkedArtifactContext),a=c[l],f=__assign(__assign({},u),{externalLinkedArtifactContext:a||u.externalLinkedArtifactContext}),e.push(f),this._resolvedGitHubLinksCache[f.uri]=f;return[2,e]}})})},n.prototype._getGitHubLinkDataLookupKey=function(n){return"".concat(n.itemType).concat(n.repoInternalId).concat(n.numberOrSHA).toLowerCase()},n}();t.GitHubLinkDataHelper=r});

define("Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/ItemSource",["require","exports","VSS/Contributions/Services","VSS/Service","VSS/Diag","Agile/Scripts/TFS.Agile.Boards","WorkItemTracking/Scripts/Utils/GitHubArtifactLink","WorkItemTracking/Scripts/TFS.WorkItemTracking","VSS/Artifacts/Constants"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.GitHubLinksAnnotationItemSource=void 0;var h="ms.vss-work-web.github-links-annotation-item-source-data-provider",c=function(n){function t(t,i){var r=__construct(this,n,[t,i]);for(var u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r.linkedArtifacts={},r}return __extends(t,n),t.prototype.type=function(){return t.sourceType},t.prototype.getItem=function(n){return this.linkedArtifacts[n]},t.prototype.getItems=function(){u.Debug.fail("GitHubLinksAnnotationItemSource.getItems not implemented, not expected to be called.")},t.prototype.updateItem=function(n){return __awaiter(this,void 0,void 0,function(){var i,r,t;return __generator(this,function(u){switch(u.label){case 0:return n?(i=n.id,r=n.allLinks,t=n.store,!!t.contributedLinkTypes)?[3,2]:[4,t.beginGetContributedLinkTypes()]:[2];case 1:u.sent();u.label=2;case 2:return this.linkedArtifacts[i]=r.reduce(function(n,t){if(t instanceof o.ExternalLink){var i=e.createGitHubArtifactFromExternalLink(t);i.tool===s.ToolNames.GitHub&&n.push(i)}return n},[]),[2]}})})},t.prototype.beginGetItem=function(n,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(i){switch(i.label){case 0:return[4,this.beginGetItems([n],t)];case 1:return i.sent(),[2,this.linkedArtifacts[n]]}})})},t.prototype.beginGetItems=function(n,t){return __awaiter(this,void 0,void 0,function(){var l,a,v,o,u,s,f,c;return __generator(this,function(y){switch(y.label){case 0:return t&&!t.externalLinkChanged?[2]:(l=r.getService(i.WebPageDataService),[4,l.getDataAsync(h,undefined,{workItemIds:n})]);case 1:for(a=y.sent(),v=a.links,o=[],u=0,s=n;u<s.length;u++)f=s[u],c=v[f],c&&(o.push(f),this.linkedArtifacts[f]=c.map(function(n){return e.createGitHubArtifactFromExternalLinkedArtifactIdentifier(n)}));return this.parentSource.raiseEventForAnnotationItemSource(o,this),[2]}})})},t.prototype.dispose=function(){this.linkedArtifacts=null},t.sourceType="githublinks",t}(f.AnnotationItemSource);t.GitHubLinksAnnotationItemSource=c});

define("Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/Adapter",["require","exports","Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/Badge","Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/DetailsList","Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/GitHubLinkDataHelper","Agile/Scripts/Card/Annotations/GitHubLinksAnnotation/ItemSource","Agile/Scripts/Card/CardsAnnotationsCommon","Agile/Scripts/TFS.Agile.Boards","VSS/Controls","VSS/LoaderPlugins/Css!Agile/Card/Annotations/GitHubLinksAnnotation/Styles"],function(n,t,i,r,u,f,e,o,s){Object.defineProperty(t,"__esModule",{value:!0});t.GitHubLinksAnnotationAdapter=void 0;var h=function(n){function t(t){var i=n.call(this,__assign(__assign({},t),{id:t.annotationId,priority:30,$annotationDetailPaneContainer:$("<div/>").addClass("github-links-details-pane"),$badgeContainer:$("<div/>").addClass("badge github-links-annotation")}))||this;return i._githubLinkDataHelper=new u.GitHubLinkDataHelper,i._isApplicable=o.Board.BoardAnnotationSettings.isAnnotationApplicable(i.options.id),i}return __extends(t,n),t.prototype.dispose=function(){this._removeGitHubLinksList(!0);n.prototype.dispose.call(this);this.options.$annotationDetailPaneContainer.children()&&this.options.$annotationDetailPaneContainer.children().detach();this.options.$badgeContainer.children()&&this.options.$badgeContainer.children().detach()},t.prototype.refreshAnnotation=function(){if(n.prototype.refreshAnnotation.call(this),this._isApplicable&&this.options.source&&!(this.options.source.id()<=0)){var t=this.options.source.getAnnotationItemSource(f.GitHubLinksAnnotationItemSource.sourceType);this._githubLinks=t.getItem(this.options.source.id());this._githubLinks&&this._githubLinks.length>0?this.options.$badgeContainer.children().length===0?this._ensureAnnotation():this._updateAnnotation():this.dispose()}},t.prototype._ensureAnnotation=function(){this.badgeControl||this._createAnnotation();this.badgeControl.update(this._githubLinks)},t.prototype._createAnnotation=function(){var n=this;this.badgeControl=s.Control.create(i.GitHubLinksAnnotationBadge,this.options.$badgeContainer,{clickEventHandler:function(t){n.$annotationDetailPaneControl?n._removeGitHubLinksList():(o.KanbanTelemetry.publish("GitHubLinksAnnotation.Open",{WorkItemType:n.options.source.type(),LinksCount:n._githubLinks.length}),n._createGitHubLinksList());t.preventDefault()}});this.options.$badgeContainer.append(this.badgeControl.getElement()[0])},t.prototype._createGitHubLinksList=function(){this.$annotationDetailPaneControl=$("<div/>").addClass(e.AnnotationAdapter.TILE_CONTENT_DETAILS).appendTo(this.options.$annotationDetailPaneContainer);r.createOrUpdateGitHubLinksDetailsList(this.$annotationDetailPaneControl[0],this.options.source.id(),this._githubLinks,this._githubLinkDataHelper);this._openDetailsPane()},t.prototype._removeGitHubLinksList=function(n){this.$annotationDetailPaneControl&&this.$annotationDetailPaneControl.length>0&&(r.disposeGitHubLinksDetailsList(this.$annotationDetailPaneControl[0]),this.$annotationDetailPaneControl=null,this.options.$annotationDetailPaneContainer.children()&&this.options.$annotationDetailPaneContainer.children().detach(),this._closeDetailsPane(),n&&this.setFocusToTile())},t.prototype._updateAnnotation=function(){this._ensureAnnotation();this.$annotationDetailPaneControl&&this.$annotationDetailPaneControl.length>0&&r.createOrUpdateGitHubLinksDetailsList(this.$annotationDetailPaneControl[0],this.options.source.id(),this._githubLinks,this._githubLinkDataHelper)},t.prototype._openDetailsPane=function(){this.options.onAnnotationDetailPaneStateChange(this,e.AnnotationDetailPaneState.OPENED)},t.prototype._closeDetailsPane=function(){this.options.onAnnotationDetailPaneStateChange(this,e.AnnotationDetailPaneState.CLOSED)},t}(e.AnnotationAdapter);t.GitHubLinksAnnotationAdapter=h});

define("WorkItemTracking/Scripts/Controls/Filters/WorkItemFilter",["require","exports","q","react","react-dom","OfficeFabric/Fabric","OfficeFabric/Selection","VSS/VSS","VSS/Utils/Number","VSS/Utils/Core","VSS/Utils/String","VSS/Utils/Array","VSSUI/FilterBar","VSSUI/TextFilterBarItem","VSSUI/Utilities/Filter","VSSUI/PickList","Presentation/Scripts/TFS/TFS.Core.Utils","Presentation/Scripts/TFS/Resources/TFS.Resources.Presentation","WorkItemTracking/Scripts/Utils/WorkItemIdentityHelper","VSS/LoaderPlugins/Css!Controls/Filters/WorkItemFilter"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){function et(n,t){var i,e=function(n){i=n};return u.render(r.createElement(f.Fabric,null,r.createElement(nt,__assign({ref:e},n))),t),i}function tt(n){var f={},r,i,t,u;for(r in n)i=n[r],t=i&&i.value,!t||(typeof t=="string"?t=[{value:t}]:t instanceof Array||(t=[t]),u={values:t.map(function(n){return n.value})},i.operator==="and"&&(u.options={useAndOperator:!0}),f[r]=u);return f}function ot(n){var u={},r,t,i;for(r in n)t=n[r],i={value:t.values.map(function(n){return{key:n,value:n}})},t.options&&t.options.useAndOperator&&(i.operator="and"),i.operator="and",u[r]=i;return u}function it(n){for(var i,r={},t=0,u=n;t<u.length;t++)i=u[t],i.showOrAndOperators&&(r[i.fieldName]={value:undefined,operator:"or"});return r}function rt(n,t,r){var u=[],f=function(i){var f=r[i],e=l.first(n,function(n){return n.fieldName===i}),o,s,h;e&&(e.displayType===g.Text?f.values&&f.values.length===1&&u.push(w.makePromise({field:e,values:String(l.first(f.values)),options:f.options})):(o=e.valueProvider,o?(s=o.getItemsForValues(f.values),u.push(w.makePromise(s).then(function(n){return{field:e,values:n,options:f.options}}))):(h=new d(i,t),u.push(w.makePromise(h.getItemsForValues(f.values)).then(function(n){return{field:e,values:n,options:f.options}})))))};for(var e in r)f(e);return i.all(u).then(function(t){for(var u=it(n),i=0,f=t;i<f.length;i++){var r=f[i],e=r.field,h=r.values,o=r.options,s=undefined;e.showOrAndOperators&&(s=o&&o.useAndOperator?"and":"or");u[e.fieldName]={value:h,operator:s}}return u})}var d,g,nt,ut,ft;Object.defineProperty(t,"__esModule",{value:!0});t.filterValueComparer=t.workItemFilterItemComparer=t.resolveFilterState=t.generateDefaultFilterState=t.mapFromFilterState=t.mapToFilterState=t.renderFilter=t.WorkItemFilter=t.WorkItemFilterFieldType=t.DataSourceFilterValueProvider=void 0;d=function(){function n(n,t){this.fieldName=n;this.dataSource=t}return n.prototype.getItems=function(n){var i=this,t=this.dataSource.getUniqueValues(this.fieldName);return w.isPromise(t)?t.then(function(t){return i.transformResults(t,n)}):this.transformResults(t,n)},n.prototype.getItemsForValues=function(n){return this.transformResults(n)},n.prototype.getListItem=function(n){return{item:{key:n.key,name:n.display,value:n.value}}},n.prototype.transformResults=function(n,i){var r=n.slice(0);return i&&(i=i.filter(function(n){return!!n}),r=l.union(r,i,t.filterValueComparer)),r.map(this.transformResult)},n.prototype.transformResult=function(n){if(!k.isWorkItemIdentityRef(n))return{key:n,value:n,display:n};var t=n;return{key:t.distinctDisplayName,value:t.distinctDisplayName,display:t.identityRef.displayName,imageUrl:k.getAvatarUrl(t)}},n}();t.DataSourceFilterValueProvider=d,function(n){n[n.Text=0]="Text";n[n.CheckboxList=1]="CheckboxList"}(g=t.WorkItemFilterFieldType||(t.WorkItemFilterFieldType={}));nt=function(n){function t(t,i){var r=__construct(this,n,[t,i]),u,f,e;for(u in r)r.hasOwnProperty(u)&&(this[u]=r[u]);return r._resolveFilterBar=function(n){r._filterBar=n},r._cachedUniqueValues={},r._handleFilterUpdated=function(){var n,t;r.props.filterUpdatedCallback&&!r._suppressFilterUpdatedEvent&&(n=r.state.filter,n&&(t=tt(n.getState()),r.props.filterUpdatedCallback(t)))},r._updateThrottleDelegate=h.throttledDelegate(r,250,function(){r._cachedUniqueValues={}}),f=r.props.filter,e=f===void 0?new y.Filter:f,r.state={filter:e},r}return __extends(t,n),t.prototype._subscribeToFilterChangeEvent=function(n){n.subscribe(this._handleFilterUpdated,y.FILTER_CHANGE_EVENT)},t.prototype._unsubscribeFromFilterChangeEvent=function(n){n.unsubscribe(this._handleFilterUpdated,y.FILTER_CHANGE_EVENT)},t.prototype.componentDidMount=function(){var i=this,n=this.state.filter,t=this.props,r=t.fields,f=t.dataSource,u=t.initialFilterState,e=t.setDefaultFilter;e&&(n.setDefaultState(it(r)),n.reset());u?rt(r,f,u).then(function(t){i._subscribeToFilterChangeEvent(n);i.state.filter.setState(t)},o.handleError):this._subscribeToFilterChangeEvent(n);this.props.onRenderComplete&&this.props.onRenderComplete()},t.prototype.componentWillUnmount=function(){var n=this.state.filter;n&&this._unsubscribeFromFilterChangeEvent(n)},t.prototype.clearFilters=function(){this._suppressFilterUpdatedEvent=!0;this.state.filter.reset();this._suppressFilterUpdatedEvent=!1},t.prototype.focus=function(){this._filterBar&&this._filterBar.focus()},t.prototype.forceUpdate=function(){n.prototype.forceUpdate.call(this);this._filterBar&&this._filterBar.forceUpdate()},t.prototype.update=function(){this._updateThrottleDelegate()},t.prototype.render=function(){var t=this,n=this.state.filter,i=this.props.fields,u=i.map(function(i){return i.displayType===g.Text?r.createElement(v.KeywordFilterBarItem,{key:i.fieldName,filter:n,filterItemKey:i.fieldName,placeholder:i.placeholder}):r.createElement(p.PickListFilterBarItem,{key:i.fieldName,filter:n,filterItemKey:i.fieldName,selectionMode:e.SelectionMode.multiple,getPickListItems:function(){return t._getItemsToRender(i.fieldName)},getListItem:function(n){return t._getPickListItem(i.fieldName,n)},placeholder:i.placeholder,noItemsText:i.noItemsText,showOrAndOperators:i.showOrAndOperators,showSelectAll:!1,isSearchable:!0,searchTextPlaceholder:i.searchTextPlaceholder||b.FilterSearchPlaceholderText})});return r.createElement(a.FilterBar,{filter:n,onRenderComplete:this.props.onRenderComplete,componentRef:this._resolveFilterBar,ref:this._resolveFilterBar,onDismissClicked:this.props.onDismissClicked},u)},t.prototype._getItemsToRender=function(n){if(!this._cachedUniqueValues[n]){var t=this._getFieldValueProvider(n),i=w.makePromise(t.getItems(this._getCurrentFilterValues(n)));this._cachedUniqueValues[n]=Promise.resolve(i)}return this._cachedUniqueValues[n]},t.prototype._getCurrentFilterValues=function(n){var t=tt(this.state.filter.getState());return t[n]?t[n].values:undefined},t.prototype._getPickListItem=function(n,t){var u=this,f=this._getFieldValueProvider(n),r=f.getListItem(t);return r.promise&&i(r.promise).done(function(){return u.forceUpdate()}),r.item},t.prototype._getFieldValueProvider=function(n){var t=this._getField(n),i;return t&&t.valueProvider?t.valueProvider:(i=this.props.dataSource,new d(n,i))},t.prototype._getField=function(n){var t=this.props.fields;return l.first(t,function(t){return c.equals(t.fieldName,n,!0)})},t.defaultProps={setDefaultFilter:!0},t}(r.Component);t.WorkItemFilter=nt;t.renderFilter=et;t.mapToFilterState=tt;t.mapFromFilterState=ot;t.generateDefaultFilterState=it;t.resolveFilterState=rt;ut=function(n,t){return!n&&t?-1:n&&!t?1:c.localeIgnoreCaseComparer(n.key,t.key)};t.workItemFilterItemComparer=ut;ft=function(n,t){return typeof n=="string"&&typeof t=="string"?c.localeIgnoreCaseComparer(n,t):s.defaultComparer(n,t)};t.filterValueComparer=ft});

define("WorkItemTracking/Scripts/Controls/Filters/WorkItemFilterConstants",["require","exports"],function(n,t){Object.defineProperty(t,"__esModule",{value:!0});t.FilterStatusFieldName=void 0;t.FilterStatusFieldName="FilterBar.WorkItemStatus"});

define("WorkItemTracking/Scripts/Controls/Filters/FilterValueProviders",["require","exports","q","VSS/Utils/String","VSS/Utils/Date","VSS/Utils/Array","Presentation/Scripts/TFS/FeatureRef/WorkItemStateColorsProvider","Presentation/Scripts/TFS/TFS.Host.TfsContext","Presentation/Scripts/TFS/TFS.OM.Common","Presentation/Scripts/TFS/TFS.OM.Identities","Presentation/Scripts/TFS/Generated/TFS.WorkItemTracking.Constants","Presentation/Scripts/TFS/FeatureRef/WorkItemStateCellRenderer","Presentation/Scripts/TFS/FeatureRef/WorkItemTypeColorAndIconsProvider","Presentation/Scripts/TFS/TFS.Core.Utils","WorkItemTracking/Scripts/Controls/Filters/WorkItemFilter","WorkItemTracking/Scripts/TFS.WorkItemTracking","WorkItemTracking/Scripts/OM/WiqlOperators","WorkItemTracking/Scripts/Resources/TFS.Resources.WorkItemTracking","WorkItemTracking/Scripts/Utils/AreaPathHelper","WorkItemTracking/Scripts/Controls/Filters/WorkItemFilterConstants"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d){function rt(n,t,i,u){for(var e,h,f,v=t.getIds(),o=0,s=v;o<s.length;o++)if(e=s[o],h=t.getValue(e,i),u===h){var l=t.getValue(e,c.CoreFieldRefNames.TeamProject)||n,y=t.getValue(e,c.CoreFieldRefNames.WorkItemType),a={projectName:l,workItemType:y};if(r.localeIgnoreCaseComparer(l,n)===0){f=a;break}f||(f=a)}return f||(f={projectName:n}),f}var nt,ut,ft,g,et,ot;Object.defineProperty(t,"__esModule",{value:!0});t.AreaPathLeafFilterValueProvider=t.IterationPathFilterValueProvider=t.WorkItemTypeFilterValueProvider=t.StateFilterValueProvider=t.WorkItemStatusFilterValueProvider=t.AssignedToFilterValueProvider=t.UnassignedFilterItem=t.MeFilterItem=void 0;t.MeFilterItem={key:w.WiqlOperators.MacroMe,display:"".concat(w.WiqlOperators.MacroStart).concat(b.Wiql_MacroMe),value:w.WiqlOperators.MacroMe};t.UnassignedFilterItem={key:"_Unassigned_",display:b.AssignedToEmptyText,value:""};nt=function(n){function r(t,i){i===void 0&&(i=!1);var r=n.call(this,c.CoreFieldRefNames.AssignedTo,t)||this;return r._excludeMeFilter=i,r}return __extends(r,n),r.prototype.getItems=function(t){var i=n.prototype.getItems.call(this,t);return v.isPromise(i)?i.then(this.addMacros):this.addMacros(i)},r.prototype.getItemsForValues=function(r){for(var f,u=[],e=0,o=r;e<o.length;e++)f=o[e],f===t.UnassignedFilterItem.value?u.push(i(t.UnassignedFilterItem)):f===w.WiqlOperators.MacroMe?u.push(i(t.MeFilterItem)):u.push(v.makePromise(n.prototype.getItemsForValues.call(this,[f])).then(function(n){return n[0]}));return i.all(u)},r.prototype.getListItem=function(i){var u,o;if(i.key===t.MeFilterItem.key||i.key===t.UnassignedFilterItem.key)return n.prototype.getListItem.call(this,i);var s=i.key,f=i.value,e=i.display,r=i.imageUrl;return r||(u=h.IdentityHelper.parseUniquefiedIdentityName(f),r=h.IdentityHelper.getIdentityImageUrl(u,h.IdentityImageMode.ShowGenericImage,h.IdentityImageSize.Small),e=u.displayName),o={width:"20px",height:"20px"},{item:{key:s,name:e,value:f,iconProps:{iconType:3,imageProps:{style:o,src:r,className:"avatar"}}}}},r.prototype.addMacros=function(n){var i=[t.MeFilterItem,t.UnassignedFilterItem];return n=f.subtract(n,i,y.workItemFilterItemComparer),this._excludeMeFilter&&i.shift(),i.concat(n)},r}(y.DataSourceFilterValueProvider);t.AssignedToFilterValueProvider=nt;var tt={key:"_Valid_",display:b.FilterValidWorkItems,value:!0},it={key:"_Invalid_",display:b.FilterInvalidWorkItems,value:!1},st=function(n){function t(t){return n.call(this,d.FilterStatusFieldName,t)||this}return __extends(t,n),t.prototype.getItems=function(){return[tt,it]},t.prototype.getItemsForValues=function(){return[tt,it]},t}(y.DataSourceFilterValueProvider);t.WorkItemStatusFilterValueProvider=st;ut=function(n){function t(t,i){var r=n.call(this,c.CoreFieldRefNames.State,i)||this;return r.defaultProjectNameOrId=t,r}return __extends(t,n),t.prototype.getListItem=function(n){var a=this,i=n.value,o="12px",s="#ffffff",t=rt(this.defaultProjectNameOrId,this.dataSource,c.CoreFieldRefNames.State,i),u=e.WorkItemStateColorsProvider.getInstance(),h=null,r,f;return t&&t.projectName?u.isPopulated(t.projectName)?r=u.getColor(t.projectName,t.workItemType,i):(r=s,h=u.getColorAsync(t.projectName,t.workItemType,i).then(function(){return a.getListItem(n).item})):r=s,f=l.WorkItemStateCellRenderer.getProcessedStateColor(r),{item:{key:i,name:i,value:i,iconProps:{style:{border:"1px solid ".concat(f.borderColor),backgroundColor:f.backgroundColor,borderRadius:"50%",height:o,width:o}}},promise:h}},t}(y.DataSourceFilterValueProvider);t.StateFilterValueProvider=ut;ft=function(n){function t(t,i){var r=n.call(this,c.CoreFieldRefNames.WorkItemType,i)||this;return r.projectName=t,r}return __extends(t,n),t.prototype.getListItem=function(n){var o=this,t=n.value,u=a.WorkItemTypeColorAndIconsProvider.getInstance(),r=rt(this.projectName,this.dataSource,c.CoreFieldRefNames.WorkItemType,t),f={color:a.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_COLOR,icon:a.WorkItemTypeColorAndIcons.DEFAULT_WORKITEMTYPE_ICON},e=null;return r&&r.projectName&&(u.isPopulated(r.projectName)?f=u.getColorAndIcon(r.projectName,t):e=i(u.getColorAndIconAsync(r.projectName,t)).then(function(){return o.getListItem(n).item})),{item:{key:t,name:t,value:t,iconProps:{iconType:1,iconName:f.icon,style:{color:f.color}}},promise:e}},t}(y.DataSourceFilterValueProvider);t.WorkItemTypeFilterValueProvider=ft;g={key:w.WiqlOperators.MacroCurrentIteration,value:w.WiqlOperators.MacroCurrentIteration,display:"".concat(w.WiqlOperators.MacroStart).concat(b.Wiql_MacroCurrentIteration)};et=function(){function n(n,t){this.projectNameOrId=n;this.dataSource=t}return n.prototype.getItems=function(n){var t=this,e=o.TfsContext.getDefault(),h=s.ProjectCollection.getConnection(e),c=h.getService(p.WorkItemStore);return i.all([this.getIterationPathValues(),i.Promise(function(n,i){return c.beginGetProject(t.projectNameOrId,n,i)})]).spread(function(t,i){n&&(n=f.subtract(n,[g.key],r.localeIgnoreCaseComparer),n=n.filter(function(n){i.nodesCacheManager.findIterationNodeByPath(n)!==null}),t=f.union(t,n,r.localeIgnoreCaseComparer));var u=[];return t.forEach(function(n){var t=i.nodesCacheManager.findIterationNodeByPath(n);t&&u.push({path:n,node:t})}),u}).then(function(n){return n.sort(function(n,t){var i=n.node,f=t.node,o=u.defaultComparer(i.startDate,f.startDate),e;return o!==0?o:(e=r.localeIgnoreCaseComparer(i.name,f.name),e!==0)?e:i.id-f.id}),[g].concat(n.map(function(n){return{key:n.path,value:n.path,display:n.node.name}}))})},n.prototype.getItemsForValues=function(n){var t=this;return this.getNodesCacheManager().then(function(i){var r=[];return n.forEach(function(n){if(n===w.WiqlOperators.MacroCurrentIteration)r.push(g);else{var u=i.findIterationNodeByPath(n);u&&r.push(t.transformNode(n,u))}}),r})},n.prototype.getListItem=function(n){return{item:{key:n.key,name:n.display,value:n.value}}},n.prototype.transformNode=function(n,t){return{key:n,value:n,display:t.name}},n.prototype.getNodesCacheManager=function(){var n=this,t=o.TfsContext.getDefault(),r=s.ProjectCollection.getConnection(t),u=r.getService(p.WorkItemStore);return i.Promise(function(t,i){return u.beginGetProject(n.projectNameOrId,t,i)}).then(function(n){return n.nodesCacheManager}).then(function(n){return n.beginGetNodes().then(function(){return n})})},n.prototype.getIterationPathValues=function(){return v.makePromise(this.dataSource.getUniqueValues(c.CoreFieldRefNames.IterationPath))},n}();t.IterationPathFilterValueProvider=et;ot=function(n){function t(t){return n.call(this,c.CoreFieldRefNames.AreaPath,t)||this}return __extends(t,n),t.prototype.getItems=function(t){var i=n.prototype.getItems.call(this,t);return v.isPromise(i)?i.then(this._getUniqueAreaPathLeafItems):this._getUniqueAreaPathLeafItems(i)},t.prototype._getUniqueAreaPathLeafItems=function(n){var t=n.map(function(n){return k.getAreaPathLeafNode(n.key)}),i=f.uniqueSort(t,r.localeIgnoreCaseComparer);return i.map(function(n){return{key:n,display:n,value:n}})},t}(y.DataSourceFilterValueProvider);t.AreaPathLeafFilterValueProvider=ot});

if (window.performance && window.performance.mark) { window.performance.mark('endLoadBundleInner-async'); }