"use strict";define("Work/Stats",["require","exports","react","VSSUI/Icon","VSSUI/Util","VSS/Platform/Layout"],(function(e,t,s,r,o,i){var c,n;c=t[n="Resources"]={},t[n].WorkItemsCreated="Work items created",t[n].WorkItemsCompleted="Work items completed",t[n].MoreThan1K="1K+",function(e){t.WorkMetricsSection={};class n extends i.VssComponent{constructor(e,t){super(e,t);const s=t.pageContext.getService("IVssContributionService").getContribution("ms.vss-work-web.work-service-navigation-info");s&&(this._serviceName=s.name),this.state={workMetrics:void 0}}componentDidMount(){super.componentDidMount(),this._fetchWITMetrics(this.props.numOfDays)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.numOfDays!==this.props.numOfDays&&this._fetchWITMetrics(this.props.numOfDays)}render(){const{workMetrics:e}=this.state;return s.createElement("div",{className:(0,o.css)(this.props.className,"wit-metric-tile")},e&&this._serviceName?s.createElement(a,{metricData:e,title:this._serviceName}):null)}_fetchWITMetrics(e){const t=this.context.pageContext.getService("IVssPerformanceService"),s={numOfDays:e};t.startScenario("FetchWorkMetrics",!1),this.trackPromise(this.context.pageContext.getService("IVssContributionService").getDataAsync("ms.vss-work-web.work-item-metrics-data-provider-verticals",s)).promise.then((e=>{e?(this.setState(e),t.endScenario("WorkMetricsSection","FetchWorkMetrics",!1)):this._endPerfScenario(t)}),(()=>{this._endPerfScenario(t)}))}_endPerfScenario(e){e.endScenario("WorkMetricsSection","FetchWorkMetrics",!1,void 0,{status:"failed"})}}const a=e=>{const{metricData:t,title:r}=e;return s.createElement(s.Fragment,null,s.createElement("div",{className:"body-l"},r),s.createElement("div",{className:"work-stats flex"},m("work-items-created work-stats-component","Assign",t.workItemsCreated,c.WorkItemsCreated),m("work-items-completed work-stats-component","WorkItem",t.workItemsCompleted,c.WorkItemsCompleted)))},m=(e,t,i,n)=>s.createElement("div",{className:(0,o.css)(e,"flex flex-grow")},s.createElement(r.Icon,{iconName:t,className:"wit-icon fontSizeML"}),s.createElement("div",{className:"count-and-text"},s.createElement("div",{className:"title-xs"}," ",i>1e3?c.MoreThan1K:i," "),s.createElement("div",{className:"text fontSize word-break"},n)));i.Components.add("WIT.WorkStats",n)}()}),["Resources","WorkMetricsSection"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.stats-content"}}));