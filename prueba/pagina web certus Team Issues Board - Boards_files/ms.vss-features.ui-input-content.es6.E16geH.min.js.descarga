"use strict";define("VSSUI",["require","exports","react","VSS/Core/Observable"],(function(e,t,s,i){var r,l,n,a,o,c,u,d;r=t[d="ResourcesInput"]={},t[d].KeywordFilterBarItemPlaceholderText="Filter by keywords",t[d].ClearFilter="Clear filter",function(e){l=t[e]={};let i=1;class r extends s.Component{constructor(e){super(e),this.select=()=>{this.inputElement.current&&this.inputElement.current.select()},this.getTextLength=e=>{var t;return e?"string"==typeof e?e.length:(null===(t=e.value)||void 0===t?void 0:t.length)||0:0},this.inputId="textfield-input-"+i++,this.inputElement=e.inputElement||s.createRef(),this.state={textLength:e.showCharacterCounter?this.getTextLength(e.value):0}}focus(){this.inputElement.current&&this.inputElement.current.focus()}get selectionEnd(){return this.inputElement.current?this.inputElement.current.selectionEnd:null}get selectionStart(){return this.inputElement.current?this.inputElement.current.selectionStart:null}setSelectionRange(e,t,s){this.inputElement.current&&this.inputElement.current.setSelectionRange(e,t,s)}render(){const{autoAdjustHeight:e,className:i,containerClassName:r,disabled:l,focusTreatment:a=0,inputId:o,label:c,onBlur:u,onFocus:d,onChange:h,required:p,style:m,value:f,width:x}=this.props,b=(e,t)=>{h&&h(e,t),this.props.maxLength&&this.props.showCharacterCounter&&this.setState({textLength:t.length})},g=s.createElement(t.FocusWithin.FocusWithin,{onFocus:d,onBlur:u},(e=>s.createElement(t.FormItem.FormItemContext.Consumer,null,(o=>s.createElement("div",{className:(0,t.Util.css)("flex-column",r,"auto"!==x&&x)},s.createElement("div",{className:(0,t.Util.css)(!c&&i,"bolt-textfield flex-row flex-center",l&&"disabled",0===a&&"focus-treatment",1===a&&"focus-keyboard-only",e.hasFocus&&"focused",1===m&&"bolt-textfield-inline",o.error&&(!o.severity||1===o.severity)&&"bolt-textfield-error",o.error&&2===o.severity&&"bolt-textfield-warning")},s.createElement(t.FocusZone.FocusZoneContext.Consumer,null,(i=>s.createElement(t.Observer.Observer,{value:f},(t=>s.createElement(n,Object.assign({},this.props,{onKeyDown:e=>{var t,s;!this.props.multiline||13!==e.keyCode||e.ctrlKey?null===(s=(t=this.props).onKeyDown)||void 0===s||s.call(t,e):e.stopPropagation()},onChange:b,focus:()=>this.focus(),required:p,focusStatus:e,formItemContext:o,inputElement:this.inputElement,inputId:this.props.inputId||this.inputId,value:t.value,zoneContext:i}))))))),this.props.maxLength&&this.props.showCharacterCounter&&s.createElement("div",{className:"bolt-textfield-counter"},s.createElement("span",null,this.state.textLength,"/",this.props.maxLength)))))));return c?s.createElement("div",{className:(0,t.Util.css)(i,"flex-column")},s.createElement("label",{htmlFor:(0,t.Util.getSafeId)(o||this.inputId),className:p?"bolt-textfield-label bolt-textfield-label--required":"bolt-textfield-label"},c),g):g}}t[e].TextField=r;class n extends s.Component{constructor(){super(...arguments),this.adjustedHeight=-1,this.adjustedHeightValue="",this.hiddenElement=s.createRef()}render(){const{activatable:e,ariaActiveDescendant:i,ariaAutoComplete:r,ariaControls:l,ariaExpanded:n,ariaHasPopup:a,ariaInvalid:o,ariaLabel:c,ariaLabelledBy:u,ariaRoleDescription:d,autoAdjustHeight:h,autoComplete:p,autoFocus:m,autoSelect:f,disabled:x,excludeFocusZone:b,focus:g,focusStatus:F,formItemContext:v,inputClassName:y,inputElement:C,inputId:I,inputType:T,maxLength:E,maxWidth:w,multiline:N,onClick:B,onKeyDown:U,onKeyPress:j,onKeyUp:O,onPaste:k,placeholder:S,prefixIconProps:P,readOnly:K,required:D,resizable:L,role:R,rows:A,spellCheck:V,tooltipProps:W,value:H,zoneContext:z}=this.props;let{ariaDescribedBy:M,suffixIconProps:q}=this.props;const Z=N?"textarea":"input",_=N?{rows:A}:{type:T,autoComplete:p?"on":"off"};void 0===q&&v.error&&(q=2===v.severity?{className:"bolt-textfield-message-warning",iconName:"Warning"}:{className:"bolt-textfield-message-error",iconName:"Error"}),void 0===M&&(M=v.ariaDescribedById);const G=(0,t.Util.css)(y,"bolt-textfield-input flex-grow",h&&"bolt-textfield-auto-adjust",L&&"bolt-textfield-auto-unresizable",P&&"bolt-textfield-input-with-prefix",q&&"bolt-textfield-input-with-suffix",e&&"activatable"),J=void 0!==w?{maxWidth:w}:{};let Q=s.createElement(Z,Object.assign({},_,{"aria-activedescendant":(0,t.Util.getSafeId)(i),"aria-autocomplete":r,"aria-controls":(0,t.Util.getSafeId)(l),"aria-describedby":(0,t.Util.getSafeId)(M),"aria-disabled":x,"aria-expanded":n,"aria-haspopup":a,"aria-invalid":o,"aria-label":void 0===c&&S?S:c,"aria-labelledby":(0,t.Util.getSafeId)(u)||(0,t.Util.getSafeId)(v.ariaLabelledById),"aria-readonly":T&&"text"!==T?K:void 0,"aria-roledescription":d,autoFocus:m,"data-focuszone":x||b?void 0:z.focuszoneId,disabled:x,className:G,id:(0,t.Util.getSafeId)(I),maxLength:E,onBlur:F.onBlur,onClick:B,onChange:e=>{this.props.onChange&&this.props.onChange(e,e.target.value),this.adjustHeight()},onFocus:e=>{f&&C.current&&C.current.select(),F.onFocus&&F.onFocus(e)},onKeyDown:U,onKeyPress:j,onKeyUp:O,onPaste:k,placeholder:S,readOnly:K,required:D,ref:C,role:R,style:J,spellCheck:V,tabIndex:(0,t.UtilitiesFocus.getTabIndex)(this.props),value:H||""}));return N&&h&&(Q=s.createElement("div",{className:"flex-row flex-grow relative"},s.createElement(Z,{"aria-hidden":!0,className:(0,t.Util.css)("bolt-textfield-auto-adjust-hidden",G),ref:this.hiddenElement,role:"presentation"}),Q)),s.createElement(s.Fragment,null,P&&(0,t.Icon.Icon)(Object.assign(Object.assign({size:"medium"},P),{className:(0,t.Util.css)(P.className,"prefix",!P.render&&"bolt-textfield-icon",(S&&!H||P.render)&&"bolt-textfield-no-text"),onClick:e=>{P&&P.onClick&&P.onClick(e),g()}})),W?s.createElement(t.TooltipEx.Tooltip,Object.assign({},W),Q):Q,q&&(0,t.Icon.Icon)(Object.assign(Object.assign({size:"medium"},q),{className:(0,t.Util.css)(q.className,"suffix",!q.render&&"bolt-textfield-icon",(S&&!H||q.render)&&"bolt-textfield-no-text",q.onClick&&"cursor-pointer"),onClick:e=>{q&&q.onClick&&q.onClick(e),g()}})))}componentDidMount(){this.adjustHeight()}componentDidUpdate(){this.adjustHeight()}adjustHeight(){const{hiddenElement:e}=this,{autoAdjustHeight:t,inputElement:s,multiline:i,value:r}=this.props;i&&t&&s.current&&e.current&&r!==this.adjustedHeightValue&&(e.current.value=s.current.value,this.adjustedHeight!==e.current.scrollHeight&&(this.adjustedHeight=e.current.scrollHeight,this.adjustedHeightValue=s.current.value,s.current.style.height=this.adjustedHeight+"px"))}}}("ComponentsTextFieldTextField"),function(e){n=t[e]={};let i=1;class r extends s.Component{constructor(e){super(e),this.innerTextField=s.createRef(),this.select=()=>{this.innerTextField.current&&this.innerTextField.current.select()},this.setSelectionRange=(e,t)=>{this.innerTextField.current&&this.innerTextField.current.setSelectionRange(e,t)},this.descriptionId="textfield-message-"+i++}focus(){this.innerTextField.current&&this.innerTextField.current.focus()}get selectionEnd(){return this.innerTextField.current?this.innerTextField.current.selectionEnd:null}get selectionStart(){return this.innerTextField.current?this.innerTextField.current.selectionStart:null}render(){const{message:e,error:i}=this.props;return s.createElement(t.Observer.Observer,{error:i,message:e},(e=>{const r=Object.assign({},this.props.textFieldProps);let n=this.props.messageClassName;return e.error&&(r.className=(0,t.Util.css)(r.className,"bolt-textfield-error"),n=(0,t.Util.css)(n,"bolt-textfield-message-error"),r.suffixIconProps=r.suffixIconProps||{className:"bolt-textfield-message-error",iconName:"Error"}),s.createElement("div",{className:(0,t.Util.css)(this.props.className,"flex-column")},s.createElement(l.TextField,Object.assign({ariaDescribedBy:e.message&&this.descriptionId,ref:this.innerTextField},r)),e.message&&s.createElement("span",{role:i?"alert":void 0,id:(0,t.Util.getSafeId)(this.descriptionId),className:(0,t.Util.css)(n,"bolt-textfield-message")},e.message))}))}}t[e].TextFieldWithMessage=r}("ComponentsTextFieldTextFieldWithMessage"),function(e){a=t[e]={},Object.defineProperty(t[e],"TextField",{enumerable:!0,get:function(){return l.TextField}}),Object.defineProperty(t[e],"TextFieldWithMessage",{enumerable:!0,get:function(){return n.TextFieldWithMessage}})}("TextField"),function(e){o=t[e]={};class i extends t.FilterBarItem.FilterBarItem{constructor(){super(...arguments),this.textField=s.createRef(),this.onClickClearButton=e=>{this.setFilterValue({value:""}),this.textField.current&&this.textField.current.focus()},this.onTextChanged=(e,t)=>{this.setFilterValue({value:t})},this.onKeyDown=e=>{if(this.props.filter){switch(e.which){case 13:this.props.filter.setFilterItemState(this.props.filterItemKey,{value:this.state.value}),this.props.filter.applyChanges();break;case 27:this.setFilterValue({value:""}),this.setState({value:""}),this.props.filter.applyChanges();break;default:return}e.preventDefault(),e.stopPropagation()}}}focus(){if(this.textField.current)return this.textField.current.focus()}render(){const{value:e}=this.state,{className:i,clearable:l,placeholder:n,maxTextLength:o,inputClassName:c,style:u,width:d}=this.props,h={text:e||n,overflowOnly:!0,overflowDetected:this.overflowDetected};let p;return l&&e&&(p={render:e=>s.createElement(t.Button.Button,{ariaLabel:r.ClearFilter,className:(0,t.Util.css)(e,"bolt-text-filterbaritem-clear"),iconProps:{iconName:"Cancel"},onClick:this.onClickClearButton})}),s.createElement(a.TextField,Object.assign({ariaLabel:n,className:(0,t.Util.css)(i,"bolt-text-filterbaritem flex-grow"),containerClassName:"flex-grow",inputClassName:(0,t.Util.css)(c,"bolt-text-filterbaritem-input"),inputType:"text",focusTreatment:1,maxLength:o||200,onChange:this.onTextChanged,onKeyDown:this.onKeyDown,placeholder:n,ref:this.textField,style:u,suffixIconProps:p,value:e||"",width:d,tooltipProps:h},this.getExtraTextFieldProps()))}overflowDetected(e){let t=!0;if(e.value&&e.value.length>0)t=e.scrollWidth>e.clientWidth;else{const s=e.getAttribute("placeholder");e.value=s||"",t=e.scrollWidth>e.clientWidth,e.value=""}return t}getExtraTextFieldProps(){return null}getThrottleWait(){const{throttleWait:e}=this.props;return void 0===e?200:e}}t[e].TextFilterBarItem=i,i.defaultProps={isTextItem:!0}}("ComponentsTextFilterBarItemTextFilterBarItem"),function(e){c=t[e]={};class i extends o.TextFilterBarItem{getExtraTextFieldProps(){const e=this.props.placeholder||r.KeywordFilterBarItemPlaceholderText;return{prefixIconProps:{className:"keyword-filter-icon",iconName:"Filter"},placeholder:e,ariaLabel:e,role:"searchbox"}}}t[e].KeywordFilterBarItem=i;t[e].InlineKeywordFilterBarItem=e=>s.createElement("div",{className:"flex-noshrink flex-row bolt-inline-keyword-filter-bar"},s.createElement(i,Object.assign({clearable:!0},e,{style:1,width:"bolt-textfield-inline-tabbar-width"})))}("ComponentsTextFilterBarItemKeywordFilterBarItem"),function(e){u=t[e]={};class r extends s.Component{constructor(){super(...arguments),this.textFieldRef=s.createRef(),this.autofillEnabled=!0,this.select=()=>{this.textFieldRef.current.select()},this.onKeyDown=e=>{if(this.props.onKeyDown&&this.props.onKeyDown(e),e.isDefaultPrevented())return;const t=this.props.suggestedValue&&i.ObservableLike.getValue(this.props.suggestedValue),s=this.props.value&&i.ObservableLike.getValue(this.props.value);switch(e.which){case 9:t&&s!==t&&this.autofillEnabled&&this.props.onAutoComplete&&(this.props.onAutoComplete(t),e.preventDefault());break;case 8:case 46:this.autofillEnabled=!1;break;default:this.autofillEnabled=!0}}}subscribeAll(e){i.ObservableLike.subscribe(e.value,(()=>this.forceUpdate())),i.ObservableLike.subscribe(e.suggestedValue,(()=>this.forceUpdate()))}unsubscribeAll(e){i.ObservableLike.unsubscribe(e.value,(()=>this.forceUpdate())),i.ObservableLike.unsubscribe(e.suggestedValue,(()=>this.forceUpdate()))}componentDidMount(){this.subscribeAll(this.props)}componentWillUnmount(){this.unsubscribeAll(this.props)}UNSAFE_componentWillReceiveProps(e){this.unsubscribeAll(this.props),this.subscribeAll(e)}focus(){this.textFieldRef.current.focus()}get selectionEnd(){return this.textFieldRef.current.selectionEnd}get selectionStart(){return this.textFieldRef.current.selectionStart}setSelectionRange(e,t,s){this.textFieldRef.current.setSelectionRange(e,t,s)}render(){const{value:e,suggestedValue:i,className:r}=this.props,n=this.autofillEnabled?i:e;return s.createElement(l.TextField,Object.assign({},this.props,{className:(0,t.Util.css)(r,"bolt-typeahead"),onKeyDown:this.onKeyDown,ref:this.textFieldRef,value:n}))}componentDidUpdate(){const e=this.props.suggestedValue&&i.ObservableLike.getValue(this.props.suggestedValue),t=this.props.value&&i.ObservableLike.getValue(this.props.value);e&&this.autofillEnabled&&(t&&e.startsWith(t)?this.textFieldRef.current.setSelectionRange(t.length,e.length,"backward"):t||this.textFieldRef.current.setSelectionRange(0,e.length))}}t[e].TypeAhead=r}("ComponentsTypeAheadTypeAhead"),function(e){t[e]={},Object.defineProperty(t[e],"TextFilterBarItem",{enumerable:!0,get:function(){return o.TextFilterBarItem}}),Object.defineProperty(t[e],"KeywordFilterBarItem",{enumerable:!0,get:function(){return c.KeywordFilterBarItem}}),Object.defineProperty(t[e],"InlineKeywordFilterBarItem",{enumerable:!0,get:function(){return c.InlineKeywordFilterBarItem}})}("TextFilterBarItem"),function(e){t[e]={},Object.defineProperty(t[e],"TypeAhead",{enumerable:!0,get:function(){return u.TypeAhead}})}("TypeAhead")}),["Resources.Input","Components/TextField/TextField","Components/TextField/TextFieldWithMessage","TextField","Components/TextFilterBarItem/TextFilterBarItem","Components/TextFilterBarItem/KeywordFilterBarItem","Components/TypeAhead/TypeAhead","TextFilterBarItem","TypeAhead"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-input-content"}}));