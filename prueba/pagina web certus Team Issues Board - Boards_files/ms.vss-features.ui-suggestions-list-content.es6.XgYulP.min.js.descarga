"use strict";define("VSSUI",["require","exports","react","VSS/Core/Observable"],(function(e,t,s,n){var o,i;!function(e){o=t[e]={};class i extends s.Component{constructor(){super(...arguments),this.onSuggestionClicked=e=>{e.isDefaultPrevented()||(this.props.onClick(this.props),e.preventDefault())}}render(){const{renderSuggestion:e,className:n,isSelected:o}=this.props;return s.createElement("div",{className:(0,t.Util.css)(n,"bolt-suggestions-item flex-row flex-grow cursor-pointer scroll-hidden",o&&"bolt-suggestions-isSuggested"),onPointerDown:t.Util.preventDefault},s.createElement("div",{onMouseDown:t.Util.preventDefault,onClick:this.onSuggestionClicked,className:"bolt-suggestions-item-button flex-row flex-grow scroll-hidden"},e(this.props)))}}t[e].SuggestionsItem=i;class l extends s.Component{constructor(){super(...arguments),this.scrollableRegion=s.createRef(),this.selectedElement=s.createRef(),this.onBlur=()=>{this.props.onBlur&&this.props.onBlur()},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e)}}render(){const{className:e,loadingText:o,renderNoResultFound:i}=this.props,l=n.ObservableLike.getValue(this.props.suggestions),r=n.ObservableLike.getValue(this.props.isLoading),u=!(l&&l.length||r);return s.createElement("div",{className:(0,t.Util.css)(e,"bolt-suggestions flex-row flex-grow"),id:(0,t.Util.getSafeId)("suggestions-list"),style:this.props.width?{width:this.props.width}:void 0,onMouseDown:t.Util.preventDefault},r?s.createElement(t.Spinner.Spinner,{className:"bolt-suggestions-spinner flex-grow flex-center justify-center",id:"suggestions-spinner",label:o}):!u&&this.renderSuggestions(),s.createElement("div",{className:(0,t.Util.css)("bolt-suggestions-none-region",u?"flex-row flex-grow":"has-suggestions"),id:(0,t.Util.getSafeId)("sug-list-no-results"),role:"alert"},u&&(i?i():this.noResults())),s.createElement("div",{"aria-label":o||"Loading",id:(0,t.Util.getSafeId)("sug-list-transition"),role:"text"}))}componentDidMount(){this.scrollSelected()}componentDidUpdate(){this.selectedElement.current&&this.currentSelectedElement!==this.selectedElement.current&&this.scrollSelected()}noResults(){const{noResultsFoundText:e}=this.props;return e?s.createElement("div",{className:"bolt-suggestions-none flex-row flex-grow flex-center"},e):null}renderSuggestions(){const{createDefaultItem:e,renderSuggestion:n,onSuggestionClicked:o,suggestionsItemClassName:l,resultsMaximumNumber:r,selectedIndex:u,suggestions:c,suggestionsContainerAriaLabel:g,width:a}=this.props;return s.createElement(t.FocusWithin.FocusWithin,{onBlur:this.onBlur,onFocus:this.onFocus},(d=>s.createElement(t.Observer.Observer,{suggestions:c,selectedIndex:u},(u=>{r&&(u.suggestions=u.suggestions.slice(0,r));const c=u.suggestions;return e&&c.unshift(e(c)),s.createElement("div",{"aria-label":g,className:"bolt-suggestions-container flex-column flex-grow v-scroll-auto h-scroll-hidden",id:(0,t.Util.getSafeId)("suggestion-list"),ref:this.scrollableRegion,role:"listbox",style:a?{width:a}:void 0},s.createElement("div",{className:"bolt-suggestion-spacer",onMouseDown:t.Util.preventDefault}),u.suggestions.map(((e,r)=>{const c=r===u.selectedIndex;return s.createElement("div",{className:"flex-noshrink",key:(0,t.Util.getSafeId)("sug-"+r),id:(0,t.Util.getSafeId)("sug-row-"+r),ref:c?this.selectedElement:"",role:"option"},s.createElement(i,{className:l,id:(0,t.Util.getSafeId)("sug-item"+r),index:r,isSelected:c,item:e,onBlur:d.onBlur,onFocus:d.onFocus,onClick:o,renderSuggestion:n}))})),s.createElement("div",{className:"bolt-suggestion-spacer",onMouseDown:t.Util.preventDefault}))}))))}scrollSelected(){var e,t;this.currentSelectedElement=null===(e=this.selectedElement)||void 0===e?void 0:e.current,this.scrollableRegion.current&&(null===(t=this.selectedElement)||void 0===t?void 0:t.current)&&(this.scrollableRegion.current.scrollTop=this.selectedElement.current.offsetTop)}}t[e].SuggestionsList=l}("ComponentsSuggestionsListSuggestionsList"),t[i="SuggestionsList"]={},Object.defineProperty(t[i],"SuggestionsItem",{enumerable:!0,get:function(){return o.SuggestionsItem}}),Object.defineProperty(t[i],"SuggestionsList",{enumerable:!0,get:function(){return o.SuggestionsList}})}),["Components/SuggestionsList/SuggestionsList","SuggestionsList"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-features.ui-suggestions-list-content"}}));