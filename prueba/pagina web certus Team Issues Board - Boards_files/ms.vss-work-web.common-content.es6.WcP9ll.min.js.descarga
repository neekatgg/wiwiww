"use strict";define("Wit/Common",["require","exports","VSS/Platform/Context","VSS/Platform/FPS","VSS/Platform/Location","VSS/Core/Util/String","Wit/Identity/Utilities/WorkItemIdentityHelper","VSS/Platform/Feature","Wit/Clients/TemporaryData/RestClient/TemporaryData","VSS/Features/Identities/IdentityPickerProvider"],(function(e,t,r,o,a,n,i,s,l,c){var u,p,d,m,T,f,g,y,h;u=t[h="Resources"]={},t[h].NewWorkItem="New work item",t[h].NewQuery="New query",t[h].PinWorkItemType="Pin work item type",t[h].UnpinWorkItemType="Unpin work item type",t[h].WiqlOperators_And="And",t[h].WiqlOperators_Any="[Any]",t[h].WiqlOperators_Contains="Contains",t[h].WiqlOperators_ContainsWords="Contains Words",t[h].WiqlOperators_EqualTo="=",t[h].WiqlOperators_Ever="Was Ever",t[h].WiqlOperators_FieldComparisonQualifier=" [Field]",t[h].WiqlOperators_GreaterThan=">",t[h].WiqlOperators_GreaterThanOrEqualTo=">=",t[h].WiqlOperators_In="In",t[h].WiqlOperators_NotIn="Not In",t[h].WiqlOperators_InGroup="In Group",t[h].WiqlOperators_LessThan="<",t[h].WiqlOperators_LessThanOrEqualTo="<=",t[h].WiqlOperators_MacroMe="Me",t[h].WiqlOperators_MacroProject="Project",t[h].WiqlOperators_MacroToday="Today",t[h].WiqlOperators_MacroTodayMinusDaysFormat="{0} - {1}",t[h].WiqlOperators_NotContains="Does Not Contain",t[h].WiqlOperators_NotContainsWords="Does Not Contain Words",t[h].WiqlOperators_NotEqualTo="<>",t[h].WiqlOperators_IsEmpty="Is Empty",t[h].WiqlOperators_IsNotEmpty="Is Not Empty",t[h].WiqlOperators_NotEver="Was Never",t[h].WiqlOperators_NotInGroup="Not In Group",t[h].WiqlOperators_NotUnder="Not Under",t[h].WiqlOperators_Or="Or",t[h].WiqlOperators_Under="Under",t[h].WiqlOperators_FieldComparisonReferenceName="Field",t[h].WiqlOperators_MacroCurrentIteration="CurrentIteration",t[h].WiqlOperators_MacroFollows="Follows",t[h].WiqlOperators_MacroRecentMentions="RecentMentions",t[h].WiqlOperators_MacroMyRecentActivity="MyRecentActivity",t[h].WiqlOperators_MacroRecentProjectActivity="RecentProjectActivity",t[h].WiqlOperators_MacroTeamAreas="TeamAreas",t[h].WiqlOperators_MacroStartOfYear="StartOfYear",t[h].WiqlOperators_MacroStartOfMonth="StartOfMonth",t[h].WiqlOperators_MacroStartOfWeek="StartOfWeek",t[h].WiqlOperators_MacroStartOfDay="StartOfDay",function(e){t[e]={},t[e].WITCustomerIntelligenceArea="WIT",function(e){e.RESULT_FILTER="ResultFilter",e.NEW_BOARDS_PLATFORM="NewBoardsHub",e.HIERARCHY_FILTER="KeepHierarchyWithFilters"}(t[e].WITCustomerIntelligenceFeature||(t[e].WITCustomerIntelligenceFeature={}))}("ConstantsCustomerInteligence"),function(e){p=t[e]={},function(e){e.DisableSuggestions="WebAccess.WorkItemTracking.DisableRelatedWorkItemSuggestions",e.ServerSideFilteringByKeywordDisabled="WebAccess.WorkItemTracking.ServerSideFilteringByKeywordDisabled",e.IgnoreActiveWorkItemTypesInBacklogsHubContentService="WorkItemTracking.Server.IgnoreActiveWorkItemTypesInBacklogsHubContentService",e.DisableAssigneesOnChildItems="WorkItemTracking.Server.DisableAssigneesOnChildItems",e.TimeInputDisabled="WebAccess.WorkItemTracking.TimeInputDisabled",e.DisableRelatedWitLoadingIndicator="WebAccess.WorkItemTracking.DisableRelatedWitLoadingIndicator",e.KeepHierarchyOptionBubbleDisabled="WebAccess.Agile.Backlog.KeepHierarchyOptionBubbleDisabled",e.IsMarkdownDiscussionEnabled="WebAccess.WorkItemTracking.Form.MarkdownDiscussionEnabled",e.ConvertPastedHtmlInMarkdownDiscussionDisabled="WebAccess.WorkItemTracking.Form.ConvertPastedHtmlInMarkdownDiscussionDisabled",e.BacklogReorderingDragnDropPlaceholderRestrictionsDisabled="WebAccess.WorkItemTracking.BacklogReorderingDragnDropPlaceholderRestrictionsDisabled",e.ServicePrincipalsAllowed="WebAccess.WorkItemTracking.ServicePrincipalsAllowed",e.StateDropdownBlockingWhenWITChangedEnabled="WebAccess.WorkItemTracking.StateDropdownBlockingWhenWITChangedEnabled",e.DecimalFieldsCommaFixIsDisabled="WebAccess.WorkItemTracking.DecimalFieldsCommaFixIsDisabled",e.DecimalFieldsCultureFixIsDisabled="WebAccess.WorkItemTracking.DecimalFieldsCultureFixIsDisabled",e.PlanningPaneViewServiceRefactoringDisabled="WebAccess.WorkItemTracking.PlanningPaneViewServiceRefactoringDisabled",e.TeamAutomationRulesEnabled="WebAccess.WorkItemTracking.Backlog.TeamAutomationRulesEnabled",e.ResponsiveLayoutFlickeringFixEnabled="WebAccess.WorkItemTracking.ResponsiveLayoutFlickeringFixEnabled",e.AdditionalWiqlConditionsDisabled="WebAccess.WorkItemTracking.AdditionalWiqlConditionsDisabled",e.WIFormFieldLabelsXMLCustomisationDisabled="WebAccess.WorkItemTracking.WIFormFieldLabelsXMLCustomisationDisabled",e.SprintsHubPullOneIterationAtATimeEnabled="WebAccess.SprintsHub.PullOneIterationAtATimeEnabled",e.UseStrictDoubleParsing="WebAccess.WorkItemTracking.UseStrictDoubleParsing",e.FixForCustomNodePathsDisabled="WebAccess.WorkItemTracking.FixForCustomNodePathsDisabled",e.SeparateIntegerFieldFixIsDisabled="WebAccess.WorkItemTracking.SeparateIntegerFieldFixIsDisabled",e.NonIdentityValuesDisabled="WebAccess.WorkItemTracking.NonIdentityValuesDisabled"}(t[e].FeatureFlags||(t[e].FeatureFlags={}))}("ConstantsFeatureFlags"),function(e){t.CreateMenuProvider={};class n extends r.VssService{constructor(){super(...arguments),this.menuItems=[]}_serviceStart(e){super._serviceStart(e);const t=this.pageContext.getService("ITfsPageService").getData();t&&t.project&&this.menuItems.push({groupKey:"app-actions",href:(0,a.routeUrl)(this.pageContext,"ms.vss-work-web.query-route",{project:t.project.name,view:"query-edit",action:"new",newQuery:"true"}),iconProps:{iconName:"QueryList"},id:"new-query",onActivate:(e,t)=>(0,o.onClickFPS)(this.pageContext,e.href,!0,t,{telemetrySource:"NavCreateMenu"}),rank:100,text:u.NewQuery})}getMenuItems(e){return"ms.vss-tfs-web.vertical-header-create-menu"===e?this.menuItems:null}}r.Services.add("work-create-menu-provider",{serviceFactory:n})}(),function(e){let r,o;function a(){return o||(o={name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"â€°",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},numberShortForm:{QuantitySymbols:["K","M","B"],NumberGroupSize:1e3,ThousandSymbol:"K"},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],eras:[1,"A.D.",null,0]}}),o}function n(){return r||(r=a()),r}d=t[e]={},t[e].getInvariantCulture=a,t[e].getCurrentCulture=n,t[e].getCurrentCultureName=function(){return n().name},t[e].getNumberFormat=function(){return n().numberFormat},t[e].getNumberShortForm=function(){return n().numberShortForm}}("Culture"),function(e){m=t[e]={};const o=864e5,a=7*o;t[e].MacroToday="@today",t[e].tooltipTimeFormat={hour:"numeric",minute:"numeric"},t[e].buildDate=function(r){let o=new Date;if(r instanceof Date)o=r;else if("string"==typeof r){var a=r;if(a=a.trim(),(0,n.startsWith)(a,t[e].MacroToday,!0)){if(""!==(a=a.replace(/\s/g,"").substr(t[e].MacroToday.length))){let e=a.match(/([+-])(\d+)/);if(e){var i=parseInt(e[2]);"-"===e[1]&&(i*=-1),o.setDate(o.getDate()+i)}}}else{const e=l(a);e&&(o=e)}}return o},t[e].daysBetweenDates=function(e,t,r){return(e=new Date(e.getTime())).setHours(0,0,0,0),(t=new Date(t.getTime())).setHours(0,0,0,0),Math.round(Math.abs(t.getTime()-e.getTime())/o)+(!0===r?0:1)},t[e].shiftToLocal=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset())},t[e].shiftToUTC=function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())};const i=/^(\d{4}|\+{1}\d{6})-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{1,7})?(Z|[+-]\d{2}:\d{2})?$/;function s(e){return i.test(e)}function l(e,t){let r,o;return r=t?c.parseTimeString(e):c.parseDateString(e,(0,d.getCurrentCulture)()),s(e)&&(r=new Date(e)),r instanceof Date&&!Number.isNaN(r)?(o=r.getFullYear(),o>=1900&&o<2e3&&e.indexOf(o.toString())<0&&r.setFullYear(o%100+100*Math.floor((new Date).getFullYear()/100))):r=void 0,r}var c,u;function p(e){return T(null!=e?e:new Date,!0,!0)}function T(e,t,r){const o=e.getTime(),a=6e4*e.getTimezoneOffset();let n,i=g();t&&(i=f(e)),n=r?o+a+i:o-a-i;let s=new Date(n);return t&&f(s)===f(e)&&(s=h(e,s)),s}function f(e){const t=function(){var e;const t=(0,r.getPageContext)("ms.vss-web.legacy-platform-data-provider");if(null===(e=null==t?void 0:t.timeZonesConfiguration)||void 0===e?void 0:e.daylightSavingsAdjustments){const e=t.timeZonesConfiguration.daylightSavingsAdjustments;for(const t of e)"string"==typeof t.start&&(t.start=new Date(t.start));return e}}();if(!t)return g();let o=O(e);for(let e=0;e<t.length;e++){if(e===t.length-1&&o===t[e].start)return t[e].offset;if(e===t.length-1)break;if(o>=t[e].start&&o<t[e+1].start)return t[e].offset}return g()}function g(){const e=(0,r.getPageContext)("ms.vss-web.legacy-platform-data-provider");return(null==e?void 0:e.globalization)&&e.globalization.timezoneOffset||0}function y(){const e=(0,r.getPageContext)("ms.vss-web.legacy-platform-data-provider");let t,o=null==e?void 0:e.microsoftAjaxConfig;return o&&o.cultureInfo?(t=o.cultureInfo,o.cultureInfo.eras&&(t.dateTimeFormat.eras=o.cultureInfo.eras)):t=(0,d.getInvariantCulture)(),t}function h(e,t){let r=t;const o=e.getTimezoneOffset(),a=t.getTimezoneOffset();return o!==a&&(r=I(r,(a-o)/1440)),r}function I(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function O(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}t[e].isIsoDate=s,t[e].parseDateString=l,t[e].dateToString=function(e,t,r){return c.dateToString(e,t,r)},t[e].tryConvertStringToDate=function(e,t){return c.tryConvertStringToDate(e,t)},function(e){function t(e,t){if(!t)return 0;let r;const o=e.getTime();for(let e=0,a=t.length;e<a;e+=4)if(r=t[e+2],null===r||o>=r)return e;return 0}function r(e,t,r,o){let a=e.getFullYear();const n=t.Calendar.convert;return n&&(a=n.fromGregorian(e)[0]),!o&&t.eras&&(a-=t.eras[r+3]),a}function o(e,t){t||(t="F");const r=t.length;if(1===r)switch(t){case"d":return e.ShortDatePattern;case"D":return e.LongDatePattern;case"g":return e.ShortDatePattern+" "+e.ShortTimePattern;case"G":return e.ShortDatePattern+" "+e.LongTimePattern;case"t":return e.ShortTimePattern;case"T":return e.LongTimePattern;case"f":return e.LongDatePattern+" "+e.ShortTimePattern;case"F":return e.FullDateTimePattern;case"M":case"m":return e.MonthDayPattern;case"s":return e.SortableDateTimePattern;case"Y":case"y":return e.YearMonthPattern;case"R":case"r":return e.RFC1123Pattern;case"u":return e.UniversalSortableDateTimePattern;default:throw new Error("Input string was not in a correct format.")}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function a(e,t){const r=[(o=t.dateTimeFormat).MonthDayPattern,o.YearMonthPattern,o.ShortDatePattern,o.ShortTimePattern,o.LongDatePattern,o.LongTimePattern,o.FullDateTimePattern,o.RFC1123Pattern,o.SortableDateTimePattern,o.UniversalSortableDateTimePattern,`${o.ShortDatePattern} ${o.LongTimePattern}`,`${o.LongDatePattern} ${o.ShortTimePattern}`,`${o.ShortDatePattern} ${o.ShortTimePattern}`];var o;for(let o=0,a=r.length;o<a;o++){const a=n(e,r[o],t);if(a)return a}}function n(e,t,r){e=e.trim();const a=r.dateTimeFormat,n=function(e,t){if(e._parseRegExp){if(e._parseRegExp[t])return e._parseRegExp[t]}else e._parseRegExp={};let r=o(e,t);r=r.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");const a=[],n=[];let s=0,l=0;const c=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;let u;for(;null!==(u=c.exec(r));){const t=r.slice(s,u.index);if(s=c.lastIndex,l+=i(t,a),l%2!=1){switch(u[0]){case"MMMM":case"MMM":a.push("([\\d\\D]+)");break;case"dddd":case"ddd":case"gg":case"g":a.push("(\\D+)");break;case"tt":case"t":a.push("(\\D*)");break;case"yyyy":a.push("(\\d{4})");break;case"fff":a.push("(\\d{3})");break;case"ff":a.push("(\\d{2})");break;case"f":a.push("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":a.push("(\\d\\d?)");break;case"zzz":a.push("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":a.push("([+-]?\\d\\d?)");break;case"/":a.push("(\\"+e.DateSeparator+")");break;default:throw new Error("Invalid date format pattern.")}n.push(u[0])}else a.push(u[0])}i(r.slice(s),a),a.push("$");const p={regExp:a.join("").replace(/\s+/g,"\\s+"),groups:n};return e._parseRegExp[t]=p,p}(a,t),l=new RegExp(n.regExp).exec(e);if(null===l)return null;const c=n.groups;let d,f=null,g=null,y=null,h=null,I=null,O=0,C=0,M=0,b=0,S=null,D=!1;for(let e=0,t=c.length;e<t;e++){const t=l[e+1];if(t)switch(c[e]){case"dd":case"d":if(h=parseInt(t,10),h<1||h>31)return null;break;case"MMMM":if(y=u(r,t),y<0||y>11)return null;break;case"MMM":if(y=p(r,t),y<0||y>11)return null;break;case"M":case"MM":if(y=parseInt(t,10)-1,y<0||y>11)return null;break;case"y":case"yy":if(g=s(a,parseInt(t,10)),g<0||g>9999)return null;break;case"yyyy":if(g=parseInt(t,10),g<0||g>9999)return null;break;case"h":case"hh":if(O=parseInt(t,10),12===O&&(O=0),O<0||O>11)return null;break;case"H":case"HH":if(O=parseInt(t,10),O<0||O>23)return null;break;case"m":case"mm":if(C=parseInt(t,10),C<0||C>59)return null;break;case"s":case"ss":if(M=parseInt(t,10),M<0||M>59)return null;break;case"tt":case"t":const e=t.toUpperCase();if(D=e===a.PMDesignator.toUpperCase(),!D&&e!==a.AMDesignator.toUpperCase())return null;break;case"f":if(b=100*parseInt(t,10),b<0||b>999)return null;break;case"ff":if(b=10*parseInt(t,10),b<0||b>999)return null;break;case"fff":if(b=parseInt(t,10),b<0||b>999)return null;break;case"dddd":if(I=m(r,t),I<0||I>6)return null;break;case"ddd":if(I=T(r,t),I<0||I>6)return null;break;case"zzz":const o=t.split(/:/);if(2!==o.length)return null;if(d=parseInt(o[0],10),d<-12||d>13)return null;const n=parseInt(o[1],10);if(n<0||n>59)return null;S=60*d+(t.startsWith("-")?-n:n);break;case"z":case"zz":if(d=parseInt(t,10),d<-12||d>13)return null;S=60*d;break;case"g":case"gg":let i=t;if(!i||!a.eras)return null;i=i.toLowerCase().trim();for(let e=0,t=a.eras.length;e<t;e+=4)if(i===a.eras[e+1].toLowerCase()){f=e;break}if(null===f)return null}}let _,k=new Date;const W=a.Calendar.convert;if(_=W?W.fromGregorian(k)[0]:k.getFullYear(),null===g?g=_:a.eras&&(g+=a.eras[(f||0)+3]),null===y&&(y=0),null===h&&(h=1),W){if(k=W.toGregorian(g,y,h),null===k)return null}else{if(k.setFullYear(g,y,h),k.getDate()!==h)return null;if(null!==I&&k.getDay()!==I)return null}if(D&&O<12&&(O+=12),k.setHours(O,C,M,b),null!==S){const e=k.getMinutes()-(S+k.getTimezoneOffset());k.setHours(k.getHours()+parseInt(e/60,10),e%60)}return k}function i(e,t){let r=0,o=!1;for(let a=0,n=e.length;a<n;a++){const n=e.charAt(a);switch(n){case"'":o?t.push("'"):r++,o=!1;break;case"\\":o&&t.push("\\"),o=!o;break;default:t.push(n),o=!1}}return r}function s(e,o){const a=new Date,n=t(a,e.eras);if(o<100){const t=r(a,e,n);(o+=t-t%100)>e.Calendar.TwoDigitYearMax&&(o-=100)}return o}function l(e,t){if(void 0===t)return-1;for(let r=0,o=e.length;r<o;r++)if(void 0!==e[r]&&e[r]===t)return r;return-1}function c(e,t,r){const o=g(e);let a=l(t,o);return-1===a&&(a=l(r,o)),a}function u(e,t){return e._upperMonths||(e._upperMonths=f(e.dateTimeFormat.MonthNames),e._upperMonthsGenitive=f(e.dateTimeFormat.MonthGenitiveNames)),c(t,e._upperMonths,e._upperMonthsGenitive)}function p(e,t){return e._upperAbbrMonths||(e._upperAbbrMonths=f(e.dateTimeFormat.AbbreviatedMonthNames),e._upperAbbrMonthsGenitive=f(e.dateTimeFormat.AbbreviatedMonthGenitiveNames)),c(t,e._upperAbbrMonths,e._upperAbbrMonthsGenitive)}function m(e,t){return e._upperDays||(e._upperDays=f(e.dateTimeFormat.DayNames)),l(e._upperDays,g(t))}function T(e,t){return e._upperAbbrDays||(e._upperAbbrDays=f(e.dateTimeFormat.AbbreviatedDayNames)),l(e._upperAbbrDays,g(t))}function f(e){const t=[];for(let r=0,o=e.length;r<o;r++)t[r]=g(e[r]);return t}function g(e){return e.split("Â ").join(" ").toUpperCase()}e.dateToString=function(e,a,n){const i=a?(0,d.getCurrentCulture)().dateTimeFormat:(0,d.getInvariantCulture)().dateTimeFormat,s=i.Calendar.convert;if(!n||!n.length||"i"===n){if(!a)return e.toString();if(!s){const o=new Date(e.getTime()),a=t(e,i.eras);return o.setFullYear(r(e,i,a)),o.toLocaleString()}n=i.FullDateTimePattern}const l=i.eras,c="s"===n;n=o(i,n);const u=[];let p,m,T;function f(e){return e<10?"0"+e:e.toString()}function g(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}function y(e,t){let r=0,o=!1;for(let a=0,n=e.length;a<n;a++){const n=e.charAt(a);switch(n){case"'":o?t.push("'"):r++,o=!1;break;case"\\":o&&t.push("\\"),o=!o;break;default:t.push(n),o=!1}}return r}const h=/([^d]|^)(d|dd)([^d]|$)/g;function I(){return m||T||(m=!!n&&h.test(n),T=!0),m}let O=0,C=[];const M=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;function b(e,t){if(0!==C.length)return C[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(!c&&s&&(C=s.fromGregorian(e));;){const o=M.lastIndex,a=M.exec(n);if(O+=y(n.slice(o,a?a.index:n.length),u),!a)break;if(O%2!=1)switch(a[0]){case"dddd":u.push(i.DayNames[e.getDay()]);break;case"ddd":u.push(i.AbbreviatedDayNames[e.getDay()]);break;case"dd":m=!0,u.push(f(b(e,2)));break;case"d":m=!0,u.push(b(e,2));break;case"MMMM":u.push(i.MonthGenitiveNames&&0!==i.MonthGenitiveNames.length&&I()?i.MonthGenitiveNames[b(e,1)]:i.MonthNames[b(e,1)]);break;case"MMM":u.push(i.AbbreviatedMonthGenitiveNames&&0!==i.AbbreviatedMonthGenitiveNames.length&&I()?i.AbbreviatedMonthGenitiveNames[b(e,1)]:i.AbbreviatedMonthNames[b(e,1)]);break;case"MM":u.push(f(b(e,1)+1));break;case"M":u.push(b(e,1)+1);break;case"yyyy":u.push((S=0!==C.length?C[0]:r(e,i,t(e,l),c))<10?"000"+S:S<100?"00"+S:S<1e3?"0"+S:S.toString());break;case"yy":u.push(f((0!==C.length?C[0]:r(e,i,t(e,l),c))%100));break;case"y":u.push(((0!==C.length?C[0]:r(e,i,t(e,l),c))%100).toString());break;case"hh":p=e.getHours()%12,0===p&&(p=12),u.push(f(p));break;case"h":p=e.getHours()%12,0===p&&(p=12),u.push(p.toString());break;case"HH":u.push(f(e.getHours()));break;case"H":u.push(e.getHours().toString());break;case"mm":u.push(f(e.getMinutes()));break;case"m":u.push(e.getMinutes().toString());break;case"ss":u.push(f(e.getSeconds()));break;case"s":u.push(e.getSeconds().toString());break;case"tt":u.push(e.getHours()<12?i.AMDesignator:i.PMDesignator);break;case"t":u.push((e.getHours()<12?i.AMDesignator:i.PMDesignator).charAt(0));break;case"f":u.push(g(e.getMilliseconds()).charAt(0));break;case"ff":u.push(g(e.getMilliseconds()).substr(0,2));break;case"fff":u.push(g(e.getMilliseconds()));break;case"z":p=e.getTimezoneOffset()/60,u.push((p<=0?"+":"-")+Math.floor(Math.abs(p)));break;case"zz":p=e.getTimezoneOffset()/60,u.push((p<=0?"+":"-")+f(Math.floor(Math.abs(p))));break;case"zzz":p=e.getTimezoneOffset()/60,u.push((p<=0?"+":"-")+f(Math.floor(Math.abs(p)))+":"+f(Math.abs(e.getTimezoneOffset()%60)));break;case"g":case"gg":i.eras&&u.push(i.eras[t(e,l)+1]);break;case"/":u.push(i.DateSeparator);break;default:new Error("Invalid date format pattern")}else u.push(a[0])}var S;return u.join("")},e.tryConvertStringToDate=function(e,t){if(!t||!t.currentCulture)return a(e,(0,d.getInvariantCulture)());const r=!t.format||!t.format.length||"i"===t.format,i=t.currentCulture.dateTimeFormat,s=i.Calendar.convert;if(r&&!s||!t.format)return a(e,t.currentCulture);const l=n(e,r?i.FullDateTimePattern:o(i,t.format),t.currentCulture);return null!=l?l:void 0},e.parseDateString=a,e.parseTimeString=function(e){if(!(null==e?void 0:e.trim()))return;const t=new RegExp(/^(\b[0-9]\b|\b[0-1][0-9]\b|\b2[0-3]\b):(\b[0-9]\b|\b[0-5][0-9]\b)/),r=e.match(t);if(r){let t=parseInt(r[1]);const o=parseInt(r[2]),a=e.substring(r[0].length,e.length).trim().toLocaleLowerCase();if(a){if(!(t<=12))return;if("am"===a)12===t&&(t=0);else{if("pm"!==a)return;t<12&&(t+=12)}}const n=new Date;return n.setHours(t),n.setMinutes(o),n}}}(c||(c={})),t[e].stripTimeFromDate=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},t[e].getDateInUTC=function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},t[e].getDateInLocal=function(e){return new Date(e.getTime()-60*e.getTimezoneOffset()*1e3)},t[e].defaultComparer=function(e,t){return e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():e instanceof Date?1:t instanceof Date?-1:0},t[e].getDateInUserTimeZone=p,t[e].getDateInClientTimeZone=function(e){return T(e,!0,!1)},t[e].getOffsetForDate=f,function(e){e[e.Today=0]="Today",e[e.Yesterday=1]="Yesterday",e[e.LastSevenDays=2]="LastSevenDays",e[e.LastThirtyDays=3]="LastThirtyDays",e[e.Older=4]="Older"}(u||(u={})),t[e].getTimeStringFormat=function(e){const t=function(e){const t=p();if(t.toDateString()===e.toDateString())return u.Today;const r=t.getTime()-e.getTime();if(r<a){const r=new Date;return r.setDate(t.getDate()-1),e.getDate()===r.getDate()?u.Yesterday:u.LastSevenDays}return u.Older}(e);return function(){const e=y(),t=new Map;return t.set(u.Today,e.dateTimeFormat.ShortTimePattern),t.set(u.Yesterday,"ddd "+e.dateTimeFormat.ShortTimePattern),t.set(u.LastSevenDays,"en-US"===e.name&&(0,n.startsWith)(e.dateTimeFormat.ShortDatePattern,"d",!0)?"ddd M/d":"ddd "+e.dateTimeFormat.ShortDatePattern),t.set(u.LastThirtyDays,"d"),t.set(u.Older,"d"),t}().get(t)},t[e].getExtendedTimeFormat=function(){const e=y();return"ddd "+e.dateTimeFormat.ShortDatePattern+" "+e.dateTimeFormat.ShortTimePattern},t[e].adjustOffsetForTimes=h,t[e].addDays=I,t[e].getUtcDate=O}("DateUtils"),t.Dictionary={},function(e){t[e]={},t[e].EXTENSION_HOST_RESIZED="external-content-host-resized",function(e){e[e.Default=0]="Default",e[e.FixedHeight=2]="FixedHeight",e[e.FixedWidth=4]="FixedWidth"}(t[e].ResizeOptions||(t[e].ResizeOptions={}))}("Extensions"),function(e){T=t[e]={},function(e){e[e.UpToDate=0]="UpToDate",e[e.NewData=1]="NewData",e[e.StaleData=2]="StaleData"}(t[e].CacheStatus||(t[e].CacheStatus={})),function(e){e[e.Id=-3]="Id",e[e.Rev=8]="Rev",e[e.Title=1]="Title",e[e.Description=52]="Description",e[e.WorkItemType=25]="WorkItemType",e[e.TeamProject=-42]="TeamProject",e[e.State=2]="State",e[e.Reason=22]="Reason",e[e.CreatedBy=33]="CreatedBy",e[e.AssignedTo=24]="AssignedTo",e[e.ChangedBy=9]="ChangedBy",e[e.ChangedDate=-4]="ChangedDate",e[e.CreatedDate=32]="CreatedDate",e[e.RevisedDate=-5]="RevisedDate",e[e.AuthorizedDate=3]="AuthorizedDate",e[e.AuthorizedAs=-1]="AuthorizedAs",e[e.History=54]="History",e[e.AreaPath=-7]="AreaPath",e[e.AreaId=-2]="AreaId",e[e.IterationPath=-105]="IterationPath",e[e.IterationId=-104]="IterationId",e[e.NodeName=-12]="NodeName",e[e.RelatedLinkCount=75]="RelatedLinkCount",e[e.HyperLinkCount=-32]="HyperLinkCount",e[e.AttachedFileCount=-31]="AttachedFileCount",e[e.ExternalLinkCount=-57]="ExternalLinkCount",e[e.CommentCount=-33]="CommentCount",e[e.LinkType=100]="LinkType",e[e.Parent=-35]="Parent",e[e.Tags=80]="Tags",e[e.Watermark=7]="Watermark",e[e.BoardColumn=90]="BoardColumn",e[e.BoardColumnDone=91]="BoardColumnDone",e[e.BoardLane=92]="BoardLane",e[e.IsDeleted=-404]="IsDeleted"}(t[e].CoreField||(t[e].CoreField={})),function(e){e.AreaId="System.AreaId",e.AreaPath="System.AreaPath",e.AssignedTo="System.AssignedTo",e.AttachedFileCount="System.AttachedFileCount",e.AuthorizedAs="System.AuthorizedAs",e.BoardColumn="System.BoardColumn",e.BoardColumnDone="System.BoardColumnDone",e.BoardLane="System.BoardLane",e.ChangedBy="System.ChangedBy",e.ChangedDate="System.ChangedDate",e.CreatedBy="System.CreatedBy",e.CreatedDate="System.CreatedDate",e.Description="System.Description",e.CommentCount="System.CommentCount",e.ExternalLinkCount="System.ExternalLinkCount",e.History="System.History",e.HyperLinkCount="System.HyperLinkCount",e.RemoteLinkCount="System.RemoteLinkCount",e.Id="System.Id",e.IterationId="System.IterationId",e.IterationPath="System.IterationPath",e.LinkType="System.Links.LinkType",e.NodeName="System.NodeName",e.Parent="System.Parent",e.Reason="System.Reason",e.RelatedLinkCount="System.RelatedLinkCount",e.Rev="System.Rev",e.RevisedDate="System.RevisedDate",e.State="System.State",e.AuthorizedDate="System.AuthorizedDate",e.TeamProject="System.TeamProject",e.Tags="System.Tags",e.Title="System.Title",e.WorkItemType="System.WorkItemType",e.Watermark="System.Watermark",e.IsDeleted="System.IsDeleted"}(t[e].CoreFieldRefNames||(t[e].CoreFieldRefNames={})),function(e){e.Related="System.LinkTypes.Related",e.Hierarchy="System.LinkTypes.Hierarchy",e.Dependency="System.LinkTypes.Dependency",e.Duplicate="System.LinkTypes.Duplicate"}(t[e].CoreLinkTypeReferenceNames||(t[e].CoreLinkTypeReferenceNames={})),function(e){e.IDId=-3,e.RevId=8,e.TitleId=1,e.DescriptionId=52,e.WorkItemTypeId=25,e.PortfolioProjectId=-42,e.WorkItemFormIDId=-14,e.WorkItemFormId=-15,e.StateId=2,e.ReasonId=22,e.CreatedById=33,e.WatermarkId=7,e.AssignedToId=24,e.LastChangedById=9,e.LastChangedDateId=-4,e.AuthorizedDateId=3,e.CreatedDateId=32,e.RevisedDateId=-5,e.PersonNameId=-1,e.AuthorizedAsId=-1,e.HistoryId=54,e.AreaPathId=-7,e.AreaIDId=-2,e.IterationPathId=-105,e.IterationIDId=-104,e.NodeNameId=-12,e.RelatedLinkCountId=75,e.RemoteLinkCountId=-34,e.LinkedFileCountId=-32,e.AttachedFileCountId=-31,e.CommentCountId=-33,e.ParentId=-35,e.BISURICountId=-57,e.Tags=80,e.BoardColumnId=90,e.BoardColumnDoneId=91,e.BoardLaneId=92,e.RelatedLinks=37,e.PersonID=-6,e.LinkedFiles=51,e.BISURI=58,e.AttachedFiles=50,e.HiddenAttachedFiles=49,e.AreaLevel1=-43,e.AreaLevel2=-44,e.AreaLevel3=-45,e.AreaLevel4=-46,e.AreaLevel5=-47,e.AreaLevel6=-48,e.AreaLevel7=-49,e.IterationLevel1=-50,e.IterationLevel2=-51,e.IterationLevel3=-52,e.IterationLevel4=-53,e.IterationLevel5=-54,e.IterationLevel6=-55,e.IterationLevel7=-56,e.IsDeleted=-404,e.ZZZDummyField=-58}(t[e].DalFields||(t[e].DalFields={})),function(e){e.WORK_PLANS="Work.Plans",e.WIT_QUERYITEMS="WorkItemTracking.Queries",e.VC_PATHS="VersionControl.Paths",e.BUILD_DEFINITIONS="Build.Definitions",e.PROJECTS="Classification.TeamProjects",e.TEAMS="Team.Teams",e.REPOSITORIES="VersionControl.Repositories",e.TEST_PLANS="TestManagement.Plans"}(t[e].FavoriteScopes||(t[e].FavoriteScopes={})),function(e){e.WORK_PLAN="Microsoft.TeamFoundation.Work.Plans",e.WORK_ITERATION="Microsoft.TeamFoundation.Work.TeamIterations",e.WORK_TEAMBACKLOG="Microsoft.TeamFoundation.Work.TeamBacklogs",e.WORK_TEAMBOARD="Microsoft.TeamFoundation.Work.TeamBoardSets",e.WIT_QUERYITEM="Microsoft.TeamFoundation.WorkItemTracking.QueryItem",e.VC_PATH="Microsoft.TeamFoundation.VersionControl.Path",e.BUILD_DEFINITION="Microsoft.TeamFoundation.Build.Definition",e.BUILD_DEFINITION_INITIALIZED="Microsoft.TeamFoundation.Build.BuildDefinitionInitialized",e.PROJECT="Microsoft.TeamFoundation.Classification.TeamProject",e.TEAM="Microsoft.TeamFoundation.Teams.Team",e.TFVC_REPOSITORY="Microsoft.TeamFoundation.Tfvc.Repository",e.GIT_REPOSITORY="Microsoft.TeamFoundation.Git.Repository",e.TEST_PLAN="Microsoft.TeamFoundation.TestManagement.Plan",e.DASHBOARD="Microsoft.TeamFoundation.Dashboards.Dashboard"}(t[e].FavoriteTypes||(t[e].FavoriteTypes={})),function(e){e[e.Internal=0]="Internal",e[e.String=1]="String",e[e.Integer=2]="Integer",e[e.DateTime=3]="DateTime",e[e.PlainText=5]="PlainText",e[e.Html=7]="Html",e[e.TreePath=8]="TreePath",e[e.History=9]="History",e[e.Double=10]="Double",e[e.Guid=11]="Guid",e[e.Boolean=12]="Boolean",e[e.PicklistInteger=14]="PicklistInteger",e[e.PicklistString=15]="PicklistString"}(t[e].FieldType||(t[e].FieldType={})),function(e){e.ArtifactType="WorkItem",e.UnfollowResult="UnfollowResult"}(t[e].FollowsConstants||(t[e].FollowsConstants={})),function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile"}(t[e].FormLayoutType||(t[e].FormLayoutType={})),function(e){e[e.None=0]="None",e[e.Sortable=1]="Sortable",e[e.Computed=2]="Computed",e[e.Editable=4]="Editable",e[e.Ignored=8]="Ignored",e[e.Queryable=16]="Queryable",e[e.Reportable=32]="Reportable",e[e.PersonField=64]="PersonField",e[e.Cloneable=128]="Cloneable",e[e.LongText=256]="LongText",e[e.SupportsTextQuery=512]="SupportsTextQuery"}(t[e].FieldFlags||(t[e].FieldFlags={})),function(e){e[e.None=0]="None",e[e.WorkItem=1]="WorkItem",e[e.WorkItemLink=2]="WorkItemLink",e[e.Tree=4]="Tree",e[e.WorkItemTypeExtension=8]="WorkItemTypeExtension"}(t[e].FieldUsages||(t[e].FieldUsages={})),function(e){e.BacklogPriority="Microsoft.VSTS.Common.BacklogPriority",e.StackRank="Microsoft.VSTS.Common.StackRank",e.ActivatedBy="Microsoft.VSTS.Common.ActivatedBy",e.ActivatedDate="Microsoft.VSTS.Common.ActivatedDate",e.ClosedBy="Microsoft.VSTS.Common.ClosedBy",e.ClosedDate="Microsoft.VSTS.Common.ClosedDate",e.ResolvedBy="Microsoft.VSTS.Common.ResolvedBy",e.ResolvedDate="Microsoft.VSTS.Common.ResolvedDate",e.StateChangeDate="Microsoft.VSTS.Common.StateChangeDate",e.RemainingWork="Microsoft.VSTS.Scheduling.RemainingWork",e.StartDate="Microsoft.VSTS.Scheduling.StartDate",e.TargetDate="Microsoft.VSTS.Scheduling.TargetDate"}(t[e].OobFieldRefNames||(t[e].OobFieldRefNames={})),function(e){e.LastVisitedQueryGroupKey="LAST_VISITED_QUERY_GROUP",e.MyFavoritesGroupKey="MY_FAVORITES_GROUP",e.LastVisitedQueryMruKey="Queries/LastVisited",e.TeamFavoriteGroupsExpandStatesMruKey="Queries/FavoriteGroupExpandStates"}(t[e].QueriesConstants||(t[e].QueriesConstants={})),function(e){e[e.Json=0]="Json",e[e.Html=1]="Html"}(t[e].QueryResultFormat||(t[e].QueryResultFormat={})),function(e){e[e.unfollowFailed=0]="unfollowFailed",e[e.unfollowSuccess=1]="unfollowSuccess"}(t[e].UnfollowResultStatus||(t[e].UnfollowResultStatus={})),function(e){e.HtmlControl="HtmlFieldControl",e.PlainTextControl="PlainTextControl",e.FreshnessIndicatorControl="FreshnessIndicatorControl",e.FieldControl="FieldControl",e.DateControl="DateTimeControl",e.ClassificationControl="WorkItemClassificationControl",e.WorkItemLogControl="WorkItemLogControl",e.WorkItemHistoryControl="WorkItemHistoryControl",e.WorkItemStateGraphControl="WorkItemStateGraphControl",e.LinksControl="LinksControl",e.AttachmentsControl="AttachmentsControl",e.WebpageControl="WebpageControl",e.LabelControl="LabelControl",e.TagFieldControl="TagFieldControl",e.TestStepsControl="TestStepsControl",e.AssociatedAutomationControl="AssociatedAutomationControl",e.StageControl="StageControl",e.StageBuildControl="StageBuildControl",e.ReleaseBuildControl="ReleaseBuildControl",e.AcceptanceCriteriaControl="AcceptanceCriteriaControl",e.DevelopmentControl="DevelopmentControl",e.WorkItemDiscussionControl="WorkItemDiscussionControl",e.ParameterSetControl="ParameterSetControl",e.DeploymentsControl="DeploymentsControl"}(t[e].WellKnownControlNames||(t[e].WellKnownControlNames={})),function(e){e.LinkTypes="LinkTypes",e.WorkItemTypes="WorkItemTypes",e.Nodes="Nodes",e.Fields="Fields",e.AllowedValues="AllowedValues",e.ConstantSets="ConstantSets",e.WorkItemTypeCategories="WorkItemTypeCategories",e.TeamProjects="TeamProjects",e.AdhocQueries="AdhocQueries",e.WorkItemTrackingArea="WIT",e.WitCacheProviderInit="WorkItemTracking.CacheProvider.Initialize"}(t[e].WITCommonConstants||(t[e].WITCommonConstants={})),function(e){e.DataProviderName="ms.vss-work-web.work-item-feature-state-data-provider"}(t[e].WorkItemFeatureStateConstants||(t[e].WorkItemFeatureStateConstants={})),function(e){e.ShowOnDeletedWorkItem="showOnDeletedWorkItem",e.Height="height",e.Name="name",e.Inputs="inputs",e.InputId="id",e.InputRequired="isRequired",e.InputMode="inputMode",e.InputValidation="validation",e.InputDataType="dataType",e.InputDescription="description",e.InputType="type",e.InputProperties="properties",e.InputType_WorkItemField="WorkItemField",e.FieldType="Field",e.InputProperties_WorkItemFieldTypes="workItemFieldTypes"}(t[e].WorkItemFormContributionProperties||(t[e].WorkItemFormContributionProperties={})),function(e){e.ContributionDefaultHeight_Group=150,e.ContributionDefaultHeight_Control=75,e.ContributionTarget_Form="ms.vss-work-web.work-item-form",e.ContributionType_Page="ms.vss-work-web.work-item-form-page",e.ContributionType_Group="ms.vss-work-web.work-item-form-group",e.ContributionType_Control="ms.vss-work-web.work-item-form-control",e.ContributionType_Notifications="ms.vss-work-web.work-item-notifications"}(t[e].WorkItemFormExtensionsConstants||(t[e].WorkItemFormExtensionsConstants={})),function(e){e.RESOURCELINKTYPES=["Hyperlink","ArtifactLink"],e.WORKITEMLINKUSAGE="workItemLink",e.RESOURCELINKUSAGE="resourceLink",e.ATTACHEDLINKTYPE="AttachedFile",e.HYPERLINKLINKTYPE="Hyperlink",e.ARTIFACTLINKTYPE="ArtifactLink",e.EXTERNALLINKTYPE="ExternalLink",e.ATTRIBUTES_USAGE="usage",e.ATTRIBUTES_EDITABLE="editable",e.ATTRIBUTES_ENABLED="enabled",e.ATTRIBUTES_ACYCLIC="acyclic",e.ATTRIBUTES_DIRECTIONAL="directional",e.ATTRIBUTES_SINGLETARGET="singleTarget",e.ATTRIBUTES_TOPOLOGY="topology",e.ATTRIBUTES_ID="id",e.ATTRIBUTES_AUTHORIZEDDATE="authorizedDate",e.ATTRIBUTES_RESOURCECREATEDDATE="resourceCreatedDate",e.ATTRIBUTES_RESOURCEMODIFIEDDATE="resourceModifiedDate",e.ATTRIBUTES_REVISEDDATE="revisedDate",e.ATTRIBUTES_RESOURCESIZE="resourceSize",e.ATTRIBUTES_COMMENT="comment",e.ATTRIBUTES_NAME="name",e.ATTRIBUTES_ISLOCKED="isLocked"}(t[e].WorkItemLinkConstants||(t[e].WorkItemLinkConstants={})),function(e){e.DataProviderName="ms.vss-work-web.work-item-settings-data-provider",e.Path="WorkItemTracking/Settings"}(t[e].WorkItemSettingsConstants||(t[e].WorkItemSettingsConstants={})),function(e){e.CookieFormat="WIT",e.DataProviderExperimentId="ms.vss-work-web.work-item-form-data-providers-experiment"}(t[e].WorkItemTrackingMetadataCacheConstants||(t[e].WorkItemTrackingMetadataCacheConstants={})),function(e){e.WorkItemTypeIconNames=["icon_clipboard","icon_crown","icon_trophy","icon_list","icon_book","icon_sticky_note","icon_insect","icon_traffic_cone","icon_chat_bubble","icon_flame","icon_megaphone","icon_code_review","icon_code_response","icon_review","icon_response","icon_test_plan","icon_test_suite","icon_test_case","icon_test_step","icon_test_parameter","icon_star","icon_ribbon","icon_chart","icon_headphone","icon_key","icon_airplane","icon_car","icon_diamond","icon_asterisk","icon_database_storage","icon_government","icon_gavel","icon_parachute","icon_paint_brush","icon_palette","icon_gear","icon_check_box","icon_gift","icon_test_beaker","icon_broken_lightbulb","icon_clipboard_issue","icon_github","icon_pull_request","icon_github_issue"],e.DefaultWorkItemTypeIconName="icon_clipboard"}(t[e].WorkItemTypeIcons||(t[e].WorkItemTypeIcons={})),function(e){e.Task="Task",e.Bug="Bug"}(t[e].WorkItemTypes||(t[e].WorkItemTypes={})),function(e){e.Completed="Completed",e.InProgress="InProgress",e.Proposed="Proposed",e.Removed="Removed",e.Resolved="Resolved"}(t[e].WorkItemStateCategories||(t[e].WorkItemStateCategories={}))}("GeneratedConstants"),function(e){function r(e,t){const r=[];for(;e;)r.unshift(e.name),e=e.parent;return"number"==typeof t&&r.splice(t,1),r}function o(e,t,r){let o=t===e;const a=t+"\\";return!o&&r&&e&&(o=e.startsWith(a)),o}var a;t[e]={},t[e].link=function e(t){if(t.children)for(const r of t.children)r.parent=t,e(r);return t},t[e].findChildByStructure=function(e,t){const r=e.children;if(r)for(const e of r)if(e.structure===t)return e;return null},t[e].findById=function e(t,r){if(t){if(t.id===r)return t;if(t.children)for(const o of t.children){const t=e(o,r);if(t)return t}}return null},t[e].findByGuid=function e(t,r){if(t){if(t.guid===r)return t;if(t.children)for(const o of t.children){const t=e(o,r);if(t)return t}}return null},t[e].findByPath=function(e,t,r,o){let a,n,i,s,l,c=0,u=0,p=null;if(null!=r&&null==o)throw new Error("ArgumentNullError: stuctureType must be provided if structureLevel is provided");if(!e||!t)return null;for(l=(t=t.replace(/^(\s|\u00A0|\\)+|(\s|\u00A0|\\)+$/g,"")).toUpperCase().split("\\"),i=[e];i&&i.length>0&&c<l.length;)if(p=null,null==r||u++!==r){for(s=null,a=0,n=i.length;a<n;a++)if(i[a].name.toUpperCase()===l[c]){p=i[a],s=p.children,c++;break}i=s}else{for(s=[],a=0,n=i.length;a<n;a++)if(i[a].structure===o){s=i[a].children||[];break}i=s}return c===l.length?p:null},t[e].getNodeSegments=r,t[e].getReferencedNodeSegmenets=function(e){const t=e.split("\\");return t.unshift(t[0]),t},t[e].getPath=function(e,t){return r(e,t).join("\\")},t[e].getRelativePath=function(e){return e.split("\\").slice(1).join("\\")},t[e].mapClassificationNodesToLegacyNode=function e(t){let r=t.attributes?t.attributes.startDate:null,o=t.attributes?t.attributes.finishDate:null;r="string"==typeof r?new Date(r):r,o="string"==typeof o?new Date(o):o;const n={id:t.id,startDate:r,children:[],finishDate:o,guid:t.identifier,name:t.name};if(0===t.structureType?(n.structure=1,n.type=a.AreaType):1===t.structureType&&(n.structure=2,n.type=a.IterationType),t.children)for(const r of t.children)n.children.push(e(r));return n},t[e].isClassificationPathEqualOrUnderRelative=function(e,t,r,a){return o(e,t,r)||!!(null==a?void 0:a.some((a=>{return o(e,(n=a,t.replace(/^[^\\]+\s*/,n)),r);var n})))},function(e){e[e.ProjectType=-42]="ProjectType",e[e.AreaType=-43]="AreaType",e[e.IterationType=-44]="IterationType"}(a=t[e].ClassificationNodeTypeConstants||(t[e].ClassificationNodeTypeConstants={}))}("NodeHelpers"),function(e){var r;f=t[e]={},function(e){e.NotSpace="NOT",e.OperatorAnd="AND",e.OperatorOr="OR",e.OperatorContains="CONTAINS",e.OperatorNotContains="NOT CONTAINS",e.OperatorContainsWords="CONTAINS WORDS",e.OperatorNotContainsWords="NOT CONTAINS WORDS",e.OperatorIn="IN",e.OperatorNotIn="NOT IN",e.OperatorEver="EVER",e.OperatorNotEver="NOT EVER",e.OperatorUnder="UNDER",e.OperatorNotUnder="NOT UNDER",e.OperatorInGroup="IN GROUP",e.OperatorNotInGroup="NOT IN GROUP",e.OperatorEqualTo="=",e.OperatorNotEqualTo="<>",e.OperatorIsEmpty="IS EMPTY",e.OperatorIsNotEmpty="IS NOT EMPTY",e.OperatorGreaterThan=">",e.OperatorLessThan="<",e.OperatorGreaterThanOrEqualTo=">=",e.OperatorLessThanOrEqualTo="<=",e.MacroStart="@",e.MacroToday="@today",e.MacroMe="@me",e.MacroProject="@project",e.MacroCurrentIteration="@currentIteration",e.MacroTeamAreas="@teamAreas",e.MacroFollows="@follows",e.MacroRecentMentions="@recentMentions",e.MacroMyRecentActivity="@myRecentActivity",e.MacroRecentProjectActivity="@recentProjectActivity",e.MacroStartOfYear="@startOfYear",e.MacroStartOfMonth="@startOfMonth",e.MacroStartOfWeek="@startOfWeek",e.MacroStartOfDay="@startOfDay"}(r=t[e].WiqlOperators||(t[e].WiqlOperators={}));const o={},a={},i={};t[e].ProjectOperators=[r.OperatorEqualTo,r.OperatorNotEqualTo,r.OperatorIn,r.OperatorNotIn],t[e].StringOperators=[r.OperatorEqualTo,r.OperatorNotEqualTo,r.OperatorGreaterThan,r.OperatorLessThan,r.OperatorGreaterThanOrEqualTo,r.OperatorLessThanOrEqualTo,r.OperatorContains,r.OperatorNotContains,r.OperatorIn,r.OperatorNotIn,r.OperatorInGroup,r.OperatorNotInGroup],t[e].InGroupOperators=[r.OperatorInGroup,r.OperatorNotInGroup],t[e].TextOperators=[r.OperatorContains,r.OperatorNotContains],t[e].HistoryOperators=[r.OperatorContains,r.OperatorNotContains],t[e].TextWithTextSupportOperators=[r.OperatorContainsWords,r.OperatorNotContainsWords],t[e].HistoryWithTextSupportOperators=[r.OperatorContainsWords,r.OperatorNotContainsWords];const s=[r.OperatorIsEmpty,r.OperatorIsNotEmpty];t[e].TextOperators.push(...s),t[e].TextWithTextSupportOperators.push(...s),t[e].StringWithTextSupportOperators=t[e].StringOperators.concat(t[e].TextWithTextSupportOperators),t[e].StringWithInGroupOperators=t[e].StringOperators,t[e].TreePathOperators=[r.OperatorUnder,r.OperatorNotUnder,r.OperatorEqualTo,r.OperatorNotEqualTo,r.OperatorIn,r.OperatorNotIn],t[e].AreaPathOperatorsSupportingMacros=[r.OperatorEqualTo,r.OperatorNotEqualTo],t[e].IterationPathOperatorsSupportingMacros=[r.OperatorUnder,r.OperatorNotUnder,r.OperatorEqualTo,r.OperatorNotEqualTo],t[e].ComparisonOperators=[r.OperatorEqualTo,r.OperatorNotEqualTo,r.OperatorGreaterThan,r.OperatorLessThan,r.OperatorGreaterThanOrEqualTo,r.OperatorLessThanOrEqualTo,r.OperatorIn,r.OperatorNotIn],t[e].EqualityOperators=[r.OperatorEqualTo,r.OperatorNotEqualTo];const l={};t[e].InGroupOperators.forEach((e=>{l[e.toUpperCase()]=!0}));const c={};[r.OperatorIn,r.OperatorNotIn].forEach((e=>{c[e.toUpperCase()]=!0})),t[e].OperatorsSupportingFieldComparison={},[r.OperatorEqualTo,r.OperatorNotEqualTo,r.OperatorGreaterThan,r.OperatorLessThan,r.OperatorGreaterThanOrEqualTo,r.OperatorLessThanOrEqualTo].forEach((r=>{t[e].OperatorsSupportingFieldComparison[r.toUpperCase()]=!0})),t[e].FieldTypesSupportingEver={},[T.FieldType.String,T.FieldType.Integer,T.FieldType.Double,T.FieldType.Boolean,T.FieldType.Guid].forEach((r=>{t[e].FieldTypesSupportingEver[r]=!0})),t[e].FieldTypesSupportingFieldComparison={},[T.FieldType.String,T.FieldType.DateTime,T.FieldType.Integer,T.FieldType.Double,T.FieldType.Boolean,T.FieldType.Guid].forEach((r=>{t[e].FieldTypesSupportingFieldComparison[r]=!0}));const p={};function d(e,t){o[e.toUpperCase()]=t,a[t.toLocaleUpperCase()]=e}function g(e){return o[e.trim().toUpperCase()]||e}function y(e){return g(e)+u.WiqlOperators_FieldComparisonQualifier}function h(e,t){return t?(0,n.startsWith)(e,g(r.MacroToday),!0):(0,n.startsWith)(e,r.MacroToday,!0)}function I(e,t){return t?(0,n.startsWith)(e,g(r.MacroStartOfDay),!0):(0,n.startsWith)(e,r.MacroStartOfDay,!0)}function O(e,t){return t?(0,n.startsWith)(e,g(r.MacroCurrentIteration),!0):(0,n.startsWith)(e,r.MacroCurrentIteration,!0)}function C(e){return r.MacroToday+e.substring(g(r.MacroToday).length)}function M(e){return r.MacroCurrentIteration+e.substring(g(r.MacroCurrentIteration).length)}function b(e){return r.MacroStartOfDay+e.substring(g(r.MacroStartOfDay).length)}function S(e){return(0,n.format)("{0} - {1}",g(r.MacroToday),e)}function D(e){return(0,n.format)("{0} + {1}",g(r.MacroToday),e)}function _(e){return(0,n.format)("{0}('{1}d')",g(r.MacroStartOfDay),e)}function k(e){const t=a[e.trim().toLocaleUpperCase()];return t||(h(e,!0)?C(e):O(e,!0)?M(e):I(e,!0)?b(e):e)}function W(e){return(0,n.format)("{0} {1}",g(r.MacroCurrentIteration),e)}[r.OperatorContains,r.OperatorContainsWords,r.OperatorGreaterThan,r.OperatorGreaterThanOrEqualTo,r.OperatorLessThan,r.OperatorLessThanOrEqualTo,r.OperatorNotContains,r.OperatorNotContainsWords,r.OperatorNotUnder,r.OperatorUnder].forEach((e=>{p[e.toUpperCase()]=!0})),t[e].getLocalizedOperator=g,t[e].getLocalizedOperatorList=function(e){return e.map((e=>g(e)))},t[e].isFieldComparisonOperator=function(e){return i.hasOwnProperty(e.trim().toLocaleUpperCase())},t[e].getFieldComparisonOperator=y,t[e].isTodayMacro=h,t[e].isStartOfDayMacro=I,t[e].isMeMacro=function(e,t){return t?0===(0,n.localeIgnoreCaseComparer)(e,g(r.MacroMe)):0===(0,n.localeIgnoreCaseComparer)(e,r.MacroMe)},t[e].isCurrentIterationMacro=O,t[e].isTeamAreasMacro=function(e,t){return t?(0,n.startsWith)(e,g(r.MacroTeamAreas),!0):(0,n.startsWith)(e,r.MacroTeamAreas,!0)},t[e].isProjectMacro=function(e,t){return t?0===(0,n.localeIgnoreCaseComparer)(e,g(r.MacroProject)):0===(0,n.localeIgnoreCaseComparer)(e,r.MacroProject)},t[e].isOrOperator=function(e,t){return t?0===(0,n.localeIgnoreCaseComparer)(e,g(r.OperatorOr)):0===(0,n.localeIgnoreCaseComparer)(e,r.OperatorOr)},t[e].getInvariantTodayMacro=C,t[e].getInvariantCurrentIterationMacro=M,t[e].getInvariantStartOfDayMacro=b,t[e].getLocalizedTodayMacro=function(e){const t=g(r.MacroToday),o=C(r.MacroToday);return t+e.substring(o.length)},t[e].getLocalizedTodayMinusMacro=S,t[e].getLocalizedTodayPlusMacro=D,t[e].getLocalizedStartOfDayMacro=_,t[e].isValidMacro=function(e,t){return!!(0,n.startsWith)(e.trim(),r.MacroStart,!0)},t[e].getInvariantOperator=k,t[e].isGroupOperator=function(e){return l.hasOwnProperty(k(e).toUpperCase())},t[e].isContainsNotContainsOperator=function(e){return k(e)===r.OperatorContains||k(e)===r.OperatorNotContains},t[e].isMultipleValueOperator=function(e){return c.hasOwnProperty(k(e).toUpperCase())},t[e].isIdentityFieldStringOperator=function(e){return p.hasOwnProperty(k(e).toUpperCase())},t[e].getLocalizedCurrentIterationMacroPlusMinus=W,t[e].getLocalizedCurrentIterationMacro=function(e){const t=g(r.MacroCurrentIteration),o=C(r.MacroCurrentIteration);return t+e.substring(o.length)},d(r.OperatorAnd,u.WiqlOperators_And),d(r.OperatorOr,u.WiqlOperators_Or),d(r.OperatorContains,u.WiqlOperators_Contains),d(r.OperatorNotContains,u.WiqlOperators_NotContains),d(r.OperatorContainsWords,u.WiqlOperators_ContainsWords),d(r.OperatorNotContainsWords,u.WiqlOperators_NotContainsWords),d(r.OperatorIn,u.WiqlOperators_In),d(r.OperatorNotIn,u.WiqlOperators_NotIn),d(r.OperatorEver,u.WiqlOperators_Ever),d(r.OperatorNotEver,u.WiqlOperators_NotEver),d(r.OperatorUnder,u.WiqlOperators_Under),d(r.OperatorNotUnder,u.WiqlOperators_NotUnder),d(r.OperatorEqualTo,u.WiqlOperators_EqualTo),d(r.OperatorNotEqualTo,u.WiqlOperators_NotEqualTo),d(r.OperatorIsEmpty,u.WiqlOperators_IsEmpty),d(r.OperatorIsNotEmpty,u.WiqlOperators_IsNotEmpty),d(r.OperatorGreaterThan,u.WiqlOperators_GreaterThan),d(r.OperatorLessThan,u.WiqlOperators_LessThan),d(r.OperatorGreaterThanOrEqualTo,u.WiqlOperators_GreaterThanOrEqualTo),d(r.OperatorLessThanOrEqualTo,u.WiqlOperators_LessThanOrEqualTo),d(r.OperatorInGroup,u.WiqlOperators_InGroup),d(r.OperatorNotInGroup,u.WiqlOperators_NotInGroup),d(r.MacroToday,r.MacroStart+u.WiqlOperators_MacroToday),d(r.MacroMe,r.MacroStart+u.WiqlOperators_MacroMe),d(r.MacroProject,r.MacroStart+u.WiqlOperators_MacroProject),d(r.MacroCurrentIteration,r.MacroStart+u.WiqlOperators_MacroCurrentIteration),d(r.MacroTeamAreas,r.MacroStart+u.WiqlOperators_MacroTeamAreas),d(r.MacroFollows,r.MacroStart+u.WiqlOperators_MacroFollows),d(r.MacroRecentMentions,r.MacroStart+u.WiqlOperators_MacroRecentMentions),d(r.MacroMyRecentActivity,r.MacroStart+u.WiqlOperators_MacroMyRecentActivity),d(r.MacroRecentProjectActivity,r.MacroStart+u.WiqlOperators_MacroRecentProjectActivity),d(r.MacroStartOfYear,r.MacroStart+u.WiqlOperators_MacroStartOfYear),d(r.MacroStartOfMonth,r.MacroStart+u.WiqlOperators_MacroStartOfMonth),d(r.MacroStartOfWeek,r.MacroStart+u.WiqlOperators_MacroStartOfWeek),d(r.MacroStartOfDay,r.MacroStart+u.WiqlOperators_MacroStartOfDay);for(const r in t[e].OperatorsSupportingFieldComparison){const e=y(r);a[e.toLocaleUpperCase()]=r,i[e.toLocaleUpperCase()]=r}t[e].DateMacros=[g(r.MacroStartOfDay),_(-1),_(-7),_(-30),g(r.MacroStartOfWeek),g(r.MacroStartOfMonth),g(r.MacroStartOfYear)],t[e].TodayMacros=[g(r.MacroToday),S(1),D(1)],t[e].IterationPathMacros=[g(r.MacroCurrentIteration),W("+ 1"),W("- 1")],t[e].PathMacros=[...t[e].IterationPathMacros,g(r.MacroTeamAreas)],t[e].IdInNotInMacros=[g(r.MacroFollows),g(r.MacroRecentMentions),g(r.MacroMyRecentActivity),g(r.MacroRecentProjectActivity)],t[e].isNonNullableField=function(e){return e===T.CoreFieldRefNames.State||e===T.CoreFieldRefNames.WorkItemType||e===T.CoreFieldRefNames.LinkType},t[e].quoteString=function(e){return"'"+(e||"").replace(/\'/g,"''")+"'"},t[e].toInvariantDateString=function(e){return(0,m.dateToString)(e,!1,"yyyy-MM-ddT00:00:00.0000000")}}("WiqlOperators"),function(e){t[e]={};class r{async evaluate(e){return!1}walk(e,t,r){return!(!t||!t(this,e))&&(!r||r(this,e))}}t[e].PredicateOperator=r;var o;t[e].PredicateUnaryOperator=class extends r{async evaluate(e){return this.operand.evaluate(e)}walk(e,t,r){return super.walk(e,t,(()=>!(this.operand&&!this.operand.walk(this,t,r))&&(!r||r(this,e))))}},function(e){e[e.Low=0]="Low",e[e.High=1]="High"}(o=t[e].OperatorPrecendence||(t[e].OperatorPrecendence={}));t[e].PredicateOpenParenthesesOperator=class extends r{constructor(){super()}};t[e].PredicateCloseParenthesesOperator=class extends r{constructor(){super()}};class a extends r{walk(e,t,r){return super.walk(e,t,(()=>{if(this.operands){var o,a=this.operands.length;for(o=0;o<a;o++)if(!this.operands[o].walk(this,t,r))return!1}return!r||r(this,e)}))}}t[e].PredicateBinaryOperator=a;class n extends a{constructor(){super(...arguments),this.precedence=o.High}async evaluate(e){if(this.operands){var t,r=this.operands.length;for(t=0;t<r;t++)if(!this.operands[t].evaluate(e))return!1}return!0}}t[e].PredicateAndOperator=n;class i extends a{constructor(){super(...arguments),this.precedence=o.Low}async evaluate(e){if(this.operands){var t,r=this.operands.length;for(t=0;t<r;t++)if(await this.operands[t].evaluate(e))return!0}return!1}}t[e].PredicateOrOperator=i;class s extends r{constructor(e,t){super(),this.field=e,this.value=t}}t[e].PredicateFieldOperator=s;class l extends s{async compare(e){return e.compare(this.field,this.value)}}t[e].PredicateFieldComparisonOperator=l;class c extends l{async evaluate(e){return 0===await this.compare(e)}}t[e].PredicateEqualsOperator=c;class u extends l{async evaluate(e){return 0!==await this.compare(e)}}t[e].PredicateNotEqualsOperator=u;class p extends l{async evaluate(e){const t=await this.compare(e);return t>0&&t!=Number.NEGATIVE_INFINITY}}t[e].PredicateGreaterThanOperator=p;class d extends l{async evaluate(e){const t=await this.compare(e);return t>=0&&t!=Number.NEGATIVE_INFINITY}}t[e].PredicateGreaterThanOrEqualToOperator=d;class m extends l{async evaluate(e){const t=await this.compare(e);return t<0&&t!=Number.NEGATIVE_INFINITY}}t[e].PredicateLessThanOperator=m;class T extends l{async evaluate(e){const t=await this.compare(e);return t<=0&&t!=Number.NEGATIVE_INFINITY}}t[e].PredicateLessThanOrEqualToOperator=T;class g extends s{contains(e){return e.contains(this.field,this.value)}}t[e].PredicateFieldContainmentOperator=g;class y extends g{async evaluate(e){return!0===this.contains(e)}}t[e].PredicateContainsOperator=y;class h extends g{async evaluate(e){return!1===this.contains(e)}}t[e].PredicateNotContainsOperator=h;class I extends s{under(e){return e.under(this.field,this.value)}}t[e].PredicateFieldTreePathOperator=I;class O extends I{async evaluate(e){return!0===this.under(e)}}t[e].PredicateUnderOperator=O;class C extends I{async evaluate(e){return!1===this.under(e)}}t[e].PredicateNotUnderOperator=C,t[e].getLogicalOperator=function(e){switch(e.toLocaleUpperCase()){case f.WiqlOperators.OperatorAnd:return new n;case f.WiqlOperators.OperatorOr:return new i}return new n},t[e].getFieldOperator=function(e,t,r){switch(e.toLocaleUpperCase()){case f.WiqlOperators.OperatorEqualTo:return new c(t,r);case f.WiqlOperators.OperatorNotEqualTo:return new u(t,r);case f.WiqlOperators.OperatorLessThan:return new m(t,r);case f.WiqlOperators.OperatorLessThanOrEqualTo:return new T(t,r);case f.WiqlOperators.OperatorGreaterThan:return new p(t,r);case f.WiqlOperators.OperatorGreaterThanOrEqualTo:return new d(t,r);case f.WiqlOperators.OperatorContains:return new y(t,r);case f.WiqlOperators.OperatorNotContains:return new h(t,r);case f.WiqlOperators.OperatorUnder:return new O(t,r);case f.WiqlOperators.OperatorNotUnder:return new C(t,r)}return new c(t,r)}}("Predicate"),function(e){function r(e,t,r){if(void 0===t)return!1;r=r||o;for(var a=0,n=e.length;a<n;a++)if(void 0!==e[a]&&0===r(e[a],t))return!0;return!1}function o(e,t){return e==t?0:e>t?1:-1}function a(e,t){t=t||o,e.sort(t);for(var r=1,a=e.length;r<a;r++)0===t(e[r],e[r-1])&&(e.splice(r--,1),a--);return e}g=t[e]={},t[e].subtract=function(e,t,o){var a,n;if(!t||0===t.length)return e;n=[];for(var i=0,s=e.length;i<s;i++)r(t,a=e[i],o)||(n[n.length]=a);return n},t[e].contains=r,t[e].defaultComparer=o,t[e].uniqueSort=a,t[e].unique=function(e,t){const r=e.slice(0);return a(r,t),r}}("UtilitiesArray"),function(e){y=t[e]={};const r="\\s*(?:\\(\\s*'(.*?)'\\s*\\))?\\s*(?:(\\+|-)\\s*((?:\\+|-)?\\d*)?)?",o=new RegExp(`^@${u.WiqlOperators_MacroCurrentIteration}${r}$`,"i"),a=new RegExp(`^${f.WiqlOperators.MacroCurrentIteration}${r}$`,"i");t[e].parseCurrentIteration=function(e,t=!1){const r=e&&e.trim().match(t?a:o);if(!r)return null;const[,n,i,s]=r;return{team:n,offset:s?"+"===i?+s:-s:0}};const i=new RegExp(`^@${u.WiqlOperators_MacroTeamAreas}\\s*(?:\\(\\s*'([^']*?)'\\s*\\))?$`,"i");t[e].parseTeamAreas=function(e){const t=e&&e.trim().match(i);if(!t)return null;const[,r]=t;return{team:r}};const s="^@{0}\\s*(?:\\(\\s*'([+-]{{0,1}}\\d{{1,7}}[yMwdhm]?)'\\s*\\))?\\s*((?:[+-]\\s*\\d{{1,7}}))?$",l={[f.WiqlOperators.MacroStartOfYear]:new RegExp((0,n.format)(s,u.WiqlOperators_MacroStartOfYear),"i"),[f.WiqlOperators.MacroStartOfMonth]:new RegExp((0,n.format)(s,u.WiqlOperators_MacroStartOfMonth),"i"),[f.WiqlOperators.MacroStartOfWeek]:new RegExp((0,n.format)(s,u.WiqlOperators_MacroStartOfWeek),"i"),[f.WiqlOperators.MacroStartOfDay]:new RegExp((0,n.format)(s,u.WiqlOperators_MacroStartOfDay),"i")};t[e].parseDateMacro=function(e){for(const t in l){const r=e&&e.trim().match(l[t]);if(r){const[,e,o]=r;return{invariantMacro:t,modifier:e,offset:o}}}return null};const c=new RegExp(`^${(0,f.getLocalizedOperator)(f.WiqlOperators.MacroToday)}\\s*([+-])*\\s*([0-9])*$`),p=new RegExp(`^${(0,f.getInvariantOperator)(f.WiqlOperators.MacroToday)}\\s*([+-])*\\s*([0-9])*$`);t[e].parseTodayMacro=function(e,t=!1){const r=t?p:c,o=e&&e.trim().match(r);if(o){const[,e,t]=o;return{modifier:e,offset:t}}}}("WiqlValues"),function(e){t[e]={};function r(e){const t=[];let r=!0;if(e&&e.clauses){const o=e.groups;for(let a=0;a<e.clauses.length;a++)o&&o.length&&o.forEach((e=>{e.start===a+1&&t.push("("),e.end===a+1&&(t.length<=0||"("!==t.pop())&&(r=!1)}));if(t.length>0||!r)return!1}return!0}t[e].WorkItemPredicateEvaluationHelper=class{constructor(e,t,r,o,a){this._fieldValue=t,this._fieldType=r,this._userIdentity=o,this._pageContext=e,this._teamId=a}async compare(e,t){var r,o,a;switch("string"==typeof t&&(t=t.trim()),this._fieldType){case T.FieldType.PlainText:case T.FieldType.String:return this._fieldValue=function(e){if((0,i.isIdentityRef)(e))return(0,i.getFriendlyDistinctDisplayName)(e);if((0,i.isWorkItemIdentityRef)(e))return e.distinctDisplayName?e.distinctDisplayName:(0,i.getFriendlyDistinctDisplayName)(e.identityRef);if("string"==typeof e)return e;return null==e?void 0:e.toString()}(this._fieldValue),t=this._userIdentity&&(0,n.equals)(t,(0,f.getLocalizedOperator)(f.WiqlOperators.MacroMe),!0)?(0,i.getFriendlyDistinctDisplayName)(this._userIdentity):t,(0,n.localeIgnoreCaseComparer)(this._getFieldValue(e),t);case T.FieldType.TreePath:const s=(0,y.parseCurrentIteration)(t,!0);return s&&(t=await this._getCurrentIteration(s.offset,this._teamId)),(0,n.localeIgnoreCaseComparer)(this._getFieldValue(e),t);case T.FieldType.Integer:case T.FieldType.Double:const l=null!==(o=null===(r=this._fieldValue)||void 0===r?void 0:r.toString())&&void 0!==o?o:"",c=null!==(a=null==t?void 0:t.toString())&&void 0!==a?a:"";if(""===l&&""===c)return 0;if(""===l)return-1;if(""===c)return 1;const u=Number(l),p=Number(c);return isNaN(u)||isNaN(p)?-1:u-p;case T.FieldType.DateTime:let d=this._getFieldValue(e);if(!d&&!t)return 0;if(!d)return Number.NEGATIVE_INFINITY;if(!t)return 1;if(t=new Date((0,m.buildDate)(t).toISOString()),(null==d?void 0:d.value)instanceof Date&&(d=d.value),d instanceof Date){const e=(0,m.stripTimeFromDate)(d),r=(0,m.stripTimeFromDate)(t);return(0,m.defaultComparer)(e,r)}return-1;case T.FieldType.Boolean:return(!0===this._getFieldValue(e)?"true":"false")===t.toLowerCase()?0:1}return-1}contains(e,t){var r;switch(this._fieldType){case T.FieldType.PlainText:case T.FieldType.String:if(e===T.CoreFieldRefNames.Tags){const o=this._getFieldValue(e),a=null!==(r=null==o?void 0:o.split(";"))&&void 0!==r?r:[];return""===(null==t?void 0:t.trim())&&0===a.length||(a.forEach(((e,t)=>{a[t]=e.trim().toUpperCase()})),(0,g.contains)(a,t.toUpperCase()))}case T.FieldType.TreePath:const o=this._getFieldValue(e);if(o)return(0,n.caseInsensitiveContains)(o,t)}return!1}under(e,t){if(this._fieldType===T.FieldType.TreePath){let r=this._getFieldValue(e);return r=this._trimTrailingSlashes(r),t=this._trimTrailingSlashes(t),(0,n.startsWith)(r,t,!0)}return!1}_trimTrailingSlashes(e){return e?e.replace(/(\\)+$/,""):""}_getFieldValue(e){return this._fieldValue?this._fieldValue:null}async _getCurrentIteration(e,t){var r;const o=this._pageContext.getService("ITeamSettingsService"),a=await o.getTeamSettings(t?{ignoreCache:!0}:void 0,t);if(e>0){const t=a.futureIterations[e-1];return t&&t.friendlyPath}if(e<0){const t=a.previousIterations.length+e,r=a.previousIterations[t];return r&&r.friendlyPath}return null===(r=a.currentIteration)||void 0===r?void 0:r.friendlyPath}},t[e].getWiql=function(e){let t="";if(!r)return t;if(e&&e.clauses){const r=e.groups;let o="";const a=e.clauses.length;for(let n=0;n<a;n++){if(t&&e.clauses[n].logicalOperator&&(t=t+" "+e.clauses[n].logicalOperator+" "),r&&r.length&&(o="",r.forEach((e=>{e.start===n+1&&(o+="(")})),o&&(t+=o)),e.clauses[n].fieldName&&e.clauses[n].operator){t=t+"["+e.clauses[n].fieldName+"]",t=t+" "+e.clauses[n].operator;let r=e.clauses[n].value;r=r.replace(/\'/g,"''"),r=r.trim(),r.startsWith(f.WiqlOperators.MacroStart)||(r=" '"+r+"'"),t+=r}r&&r.length&&(o="",r.forEach((e=>{e.end===n+1&&(o+=")")})),o&&(t+=o))}}return t},t[e].isQueryValid=r}("PredicateWIT"),function(e){t.QueryFavoriteProviderDataService={};class o extends r.VssService{getArtifactType(){return"Microsoft.TeamFoundation.WorkItemTracking.QueryItem"}getToolTipOnHover(e){return`${e.artifactScope.name}(${(e.artifactProperties||{}).QueryPath})`}}r.Services.add("query-favorite-provider-data-service",{serviceFactory:o})}(),function(e){t[e]={},t[e].convertValueToDisplayString=function(e,t){return null!=e?"string"==typeof e?e:e instanceof Date?t?e.toLocaleString(t):e.toLocaleString():"number"==typeof e?t?new Date(e).toLocaleString(t):e.toLocaleString():"boolean"==typeof e?e?"True":"False":e.toString():""}}("UtilitiesCore"),function(e){t[e]={},t[e].formatColor=function(e){return 6!==e.length&&8!==e.length?"Black":`#${6===e.length?e:e.substr(2,6)}`}}("UtilitiesFormatColor"),function(e){function o(r,o){if(!r&&0!==r)return"";let i;if(Math.abs(r)<1){var s=parseInt(r.toString().split("e-")[1]);s<=20&&(i=s)}const l=a(),c=(0,d.getInvariantCulture)(),u=c.numberFormat.NumberDecimalSeparator,p=l.numberFormat.NumberDecimalSeparator;let m=r.toString();if(o){const o=new RegExp("(\\"+u+"0*|0+)$"),a=new RegExp("\\"+c.numberFormat.NumberGroupSeparator,"g");m=(0,n.format)("{0:n"+t[e].MaximumFractionDigits+"}",r).replace(o,"").replace(a,"")}else i&&(m=r.toFixed(i));return m.replace(u,p)}function a(){const e=(0,r.getPageContext)("ms.vss-web.legacy-platform-data-provider");let t;const o=null==e?void 0:e.microsoftAjaxConfig;return o&&o.cultureInfo?(t=o.cultureInfo,o.cultureInfo.eras&&(t.dateTimeFormat.eras=o.cultureInfo.eras)):t=(0,d.getInvariantCulture)(),t}t[e]={},t[e].formatRemainingWorkForDisplay=function(r,a){if(!a){const o=new RegExp("(\\"+(0,d.getCurrentCulture)().numberFormat.NumberDecimalSeparator+"0*|0+)$");return(0,n.format)("{0:n"+t[e].MaximumFractionDigits+"}",r).replace(o,"")}return o(r,t[e].MaximumFractionDigits)},t[e].getNumberInUserFormat=o,t[e].getCurrentCultureFromLegacyContext=a,t[e].MaximumFractionDigits=3,t[e].DefaultNumberFormatOptions={maximumFractionDigits:t[e].MaximumFractionDigits,useGrouping:!1}}("UtilitiesFormatUtils"),function(e){t[e]={},t[e].getAllowedIdentityTypes=function(e,t){const{excludeUsers:r,excludeGroups:o,excludeServicePrincipals:a}=null!=t?t:{},n=[];return r||n.push("user"),o||n.push("group"),(0,s.isFeatureFlagEnabled)(e,p.FeatureFlags.ServicePrincipalsAllowed)&&!a&&n.push("servicePrincipal"),n}}("UtilitiesIdentity"),function(e){t[e]={},t[e].range=function*(e,t,r=1){let o;for(void 0===t&&(t=e,e=0),o=e;o<t;o+=r)yield o},t[e].mapToArray=function(e,t){const r=[];for(const o of e)r.push(t(o));return r},t[e].filterToArray=function(e,t){const r=[];for(const o of e)t(o)&&r.push(o);return r}}("UtilitiesIterator"),function(e){t[e]={},function(e){e.beginCreateTemporaryQueryId=function(e,t,r){const o=(0,l.getTemporaryDataClient)(e),a=(0,n.newGuid)(),i={queryText:t,queryType:r};return o.createTemporaryData({value:i},a).then((e=>e.id))},e.getTemporaryQuery=function(e,t){return(0,l.getTemporaryDataClient)(e).getTemporaryData(t).then((e=>e.value))}}(t[e].TempQueryUtils||(t[e].TempQueryUtils={}))}("UtilitiesTempQueryUtils"),function(e){t[e]={};class r extends c.PeoplePickerProvider{constructor(e,t){super(e,t),this._meMacro={displayName:(0,f.getLocalizedOperator)(f.WiqlOperators.MacroMe),entityId:f.WiqlOperators.MacroMe,entityType:"User",originDirectory:"",originId:"",image:(0,a.getAssetLocation)(e,"ms.vss-work-web/common-content/Content/memacro-user.svg")}}onEmptyInputFocus(){const e=super.onEmptyInputFocus();return Array.isArray(e)?(e.unshift(this._meMacro),e):e.then((e=>(e.unshift(this._meMacro),e)))}onFilterIdentities(e,t){const r=super.onFilterIdentities(e,t);return this.filterMatchesMeMacro(e)?r instanceof Promise?r.then((e=>(e.unshift(this._meMacro),e))):(r.unshift(this._meMacro),r):r}filterMatchesMeMacro(e){const t=e.toLocaleLowerCase();return f.WiqlOperators.MacroMe.toLocaleLowerCase().includes(t)||this._meMacro.displayName.includes(t)}}t[e].WITMeMacroPeoplePickerProvider=r}("WITMeMacroPeoplePickerProvider"),function(e){t[e]={};class r{static createColorAndIcon(e,t){return{color:this._transformColor(e),icon:this._transformIcon(t)}}static getDefault(){return{color:r.DEFAULT_WORKITEMTYPE_COLOR,icon:r.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}}static _transformColor(e){return e?`#${e.substr(e.length-6)}`:r.DEFAULT_WORKITEMTYPE_COLOR}static _transformIcon(e){return(e=(e||"").trim().toLowerCase())&&r.ICON_NAME_MAPPINGS[e]?r.ICON_NAME_MAPPINGS[e]:r.DEFAULT_WORKITEMTYPE_BOWTIE_ICON}}t[e].WorkItemTypeColorAndIcons=r,r.ICON_NAME_MAPPINGS={icon_crown:"bowtie-symbol-crown",icon_trophy:"bowtie-symbol-trophy",icon_list:"bowtie-symbol-list",icon_book:"bowtie-symbol-book",icon_sticky_note:"bowtie-symbol-stickynote",icon_clipboard:"bowtie-symbol-task",icon_insect:"bowtie-symbol-bug",icon_traffic_cone:"bowtie-symbol-impediment",icon_chat_bubble:"bowtie-symbol-review",icon_flame:"bowtie-symbol-flame",icon_megaphone:"bowtie-symbol-ask",icon_test_plan:"bowtie-test-plan",icon_test_suite:"bowtie-test-suite",icon_test_case:"bowtie-test-case",icon_test_step:"bowtie-test-step",icon_test_parameter:"bowtie-test-parameter",icon_code_review:"bowtie-symbol-review-request",icon_code_response:"bowtie-symbol-review-response",icon_review:"bowtie-symbol-feedback-request",icon_response:"bowtie-symbol-feedback-response",icon_ribbon:"bowtie-symbol-ribbon",icon_chart:"bowtie-symbol-finance",icon_headphone:"bowtie-symbol-headphone",icon_key:"bowtie-symbol-key",icon_airplane:"bowtie-symbol-airplane",icon_car:"bowtie-symbol-car",icon_diamond:"bowtie-symbol-diamond",icon_asterisk:"bowtie-symbol-asterisk",icon_database_storage:"bowtie-symbol-storage-database",icon_government:"bowtie-symbol-government",icon_gavel:"bowtie-symbol-decision",icon_parachute:"bowtie-symbol-parachute",icon_paint_brush:"bowtie-symbol-paint-brush",icon_palette:"bowtie-symbol-color-palette",icon_gear:"bowtie-settings-gear",icon_check_box:"bowtie-status-success-box",icon_gift:"bowtie-package-fill",icon_test_beaker:"bowtie-test-fill",icon_broken_lightbulb:"bowtie-symbol-defect",icon_clipboard_issue:"bowtie-symbol-issue",icon_github:"bowtie-brand-github",icon_pull_request:"bowtie-tfvc-pull-request",icon_github_issue:"bowtie-status-error-outline"},r.DEFAULT_UNPARENTED_WORKITEM_COLOR="#A6A6A6",r.DEFAULT_UNPARENTED_WORKITEM_BOWTIE_ICON="bowtie-square",r.DEFAULT_WORKITEMTYPE_COLOR_HEX="009CCC",r.DEFAULT_WORKITEMTYPE_COLOR=`#${r.DEFAULT_WORKITEMTYPE_COLOR_HEX}`,r.DEFAULT_WORKITEMTYPE_ICON="icon_clipboard",r.DEFAULT_WORKITEMTYPE_BOWTIE_ICON=r.ICON_NAME_MAPPINGS[r.DEFAULT_WORKITEMTYPE_ICON]}("WorkItemTypeColorAndIcons")}),["Resources","Constants/CustomerInteligence","Constants/FeatureFlags","CreateMenuProvider","Culture","DateUtils","Dictionary","Extensions","Generated/Constants","NodeHelpers","WiqlOperators","Predicate","Utilities/Array","WiqlValues","PredicateWIT","QueryFavoriteProviderDataService","Utilities/Core","Utilities/FormatColor","Utilities/FormatUtils","Utilities/Identity","Utilities/Iterator","Utilities/TempQueryUtils","WITMeMacroPeoplePickerProvider","WorkItemTypeColorAndIcons"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-work-web.common-content"}}));