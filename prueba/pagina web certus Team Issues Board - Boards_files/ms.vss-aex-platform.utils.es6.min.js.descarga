"use strict";define("Aex/Platform/Utils",["require","exports","react"],(function(e,t,n){var s,r,o,u;t[u="JsxString"]={},t[u].jsxStringFormat=function(e,...t){return function(e){const t=e.split(/{\d+}/m),n=e.match(/{\d+}/gm),s=[];for(let e=0;e<t.length-1;++e){const r=t[e];if(s.push({isPlaceholder:!1,stringPart:r}),n&&n[e]){const t=n[e].match(/\d+/);if(t){const e=parseInt(t[0],void 0);s.push({isPlaceholder:!0,placeholderId:e})}}}return s.push({isPlaceholder:!1,stringPart:t[t.length-1]}),s}(e).map((e=>e.isPlaceholder?t[e.placeholderId]:e.stringPart))},function(e){t[e]={};t[e].Lazy=class{constructor(e){this.getter=e,this.hasValue=!1}get value(){return this.hasValue||(this._value=this.getter(),this.hasValue=!0),this._value}reset(){this.hasValue=!1}}}("Lazy"),function(e){function r(e){const t=(0,n.useRef)(!1);(0,n.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]);return(0,n.useCallback)((n=>{t.current&&e(n)}),[e])}s=t[e]={},t[e].useAsyncDispatch=r,t[e].useAsyncState=function(e){const[t,s]=(0,n.useState)(e);return[t,r(s)]}}("useAsyncState"),function(e){r=t[e]={},t[e].useResolvedPromise=function(e,t=!1,r){const[o,u]=(0,s.useAsyncState)(void 0);return(0,n.useEffect)((()=>{o&&e===o.promise||(u({promise:e,resolvedValue:t?o&&o.resolvedValue:void 0,isCompleted:!1}),e&&(async()=>{try{const t=await e;u((n=>n&&n.promise!==e?n:{promise:e,resolvedValue:t,isCompleted:!0}))}catch(t){r&&r(t),u((n=>n&&n.promise!==e?n:{promise:e,resolvedValue:void 0,isCompleted:!0,error:t}))}})())}),[e]),[o&&o.resolvedValue,!(!o||!o.isCompleted),o&&o.error]}}("useResolvedPromise"),function(e){t[e]={},t[e].useAsyncAction=function(e,t){const[s,o]=(0,n.useState)([void 0,void 0,void 0]),[u,i,c]=s,[a,l]=(0,r.useResolvedPromise)(u,t),d=(0,n.useCallback)((async(...t)=>{const n=e(...t),s=async function(e,t){try{return{state:1,value:await e,error:void 0,args:t,promise:e}}catch(n){return{state:2,error:n,value:void 0,args:t,promise:e}}}(n,t);return o([s,t,n]),s.then((e=>e.value))}),[e]);return u?l?[a,d]:[{state:0,args:i,error:void 0,value:a&&a.value,promise:c},d]:[void 0,d]}}("useAsyncAction"),function(e){function r(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function u(e,t){const s=(0,n.useRef)(t);s.current=t;const o=(0,n.useMemo)((()=>function(e){return"function"==typeof e?e():e}(e)),t),[[u,i],c]=(0,n.useState)([o,t]);return[(0,n.useMemo)((()=>r(i,t)?u:o),[u,...t]),(0,n.useCallback)((e=>{c((n=>{const[u,i]=n;return r(i,t)?"function"==typeof e?[e(u),t]:[e,t]:r(s.current,t)?"function"==typeof e?[e(o),t]:[e,t]:n}))}),[c,...t])]}o=t[e]={},t[e].depsListEquals=r,t[e].useDependentState=u,t[e].useAsyncDependentState=function(e,t){const[n,r]=u(e,t);return[n,(0,s.useAsyncDispatch)(r)]}}("useDependentState"),function(e){t[e]={},t[e].useMemoizedResultCallback=function(e,t,s=1){const r=(0,n.useMemo)((()=>[]),[t]);return(0,n.useCallback)(((...t)=>{for(const e of r)if((0,o.depsListEquals)(e[0],t))return e[1];const n=e(...t);return r.unshift([t,n]),r.length>s&&(r.length=s),n}),[r,s])}}("useMemoizedResultCallback"),function(e){t[e]={},t[e].useVersionKey=function(...e){const t=(0,n.useRef)(0);return(0,n.useMemo)((()=>++t.current),e)}}("useVersionKey"),function(e){t[e]={},t[e].AsyncContainer=function(e){const[t]=(0,r.useResolvedPromise)(e.promise);return e.children(t)}}("AsyncContainer"),function(e){t[e]={},t[e].getTruthyContextConsumer=function(e,t){return s=>n.createElement(e.Consumer,null,(e=>{const n=t(e);return n?s.children(n):null}))}}("Context")}),["JsxString","Lazy","useAsyncState","useResolvedPromise","useAsyncAction","useDependentState","useMemoizedResultCallback","useVersionKey","AsyncContainer","Context"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-aex-platform.utils"}}));